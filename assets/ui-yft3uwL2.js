(function(_0x2fde12,_0x36a74b){const _0x175652=a47_0x33f3,_0x1bf533=_0x2fde12();while(!![]){try{const _0x25879b=parseInt(_0x175652(0x12c))/0x1+-parseInt(_0x175652(0x140))/0x2+parseInt(_0x175652(0x122))/0x3+-parseInt(_0x175652(0x127))/0x4*(-parseInt(_0x175652(0x157))/0x5)+-parseInt(_0x175652(0x11e))/0x6+-parseInt(_0x175652(0x14d))/0x7+parseInt(_0x175652(0x147))/0x8*(parseInt(_0x175652(0x142))/0x9);if(_0x25879b===_0x36a74b)break;else _0x1bf533['push'](_0x1bf533['shift']());}catch(_0x546358){_0x1bf533['push'](_0x1bf533['shift']());}}}(a47_0x2c85,0x5e315));const a47_0x4f2948=(function(){let _0x370d83=!![];return function(_0x215e6a,_0x4bc8d9){const _0x5282a3=_0x370d83?function(){const _0x12cdea=a47_0x33f3;if(_0x4bc8d9){const _0x412bd3=_0x4bc8d9[_0x12cdea(0x141)](_0x215e6a,arguments);return _0x4bc8d9=null,_0x412bd3;}}:function(){};return _0x370d83=![],_0x5282a3;};}()),a47_0x48e8c6=a47_0x4f2948(this,function(){const _0x38dc0c=a47_0x33f3,_0x41592f=function(){const _0x6ee015=a47_0x33f3;let _0x265cc4;try{_0x265cc4=Function(_0x6ee015(0x133)+_0x6ee015(0x126)+');')();}catch(_0x3f0c31){_0x265cc4=window;}return _0x265cc4;},_0x44d6be=_0x41592f(),_0x26041e=_0x44d6be[_0x38dc0c(0x154)]=_0x44d6be[_0x38dc0c(0x154)]||{},_0x3b4d41=['log',_0x38dc0c(0x132),'info',_0x38dc0c(0x14b),'exception',_0x38dc0c(0x13b),_0x38dc0c(0x14e)];for(let _0x36baac=0x0;_0x36baac<_0x3b4d41[_0x38dc0c(0x153)];_0x36baac++){const _0xa2f8ad=a47_0x4f2948[_0x38dc0c(0x12b)][_0x38dc0c(0x134)]['bind'](a47_0x4f2948),_0x3788c8=_0x3b4d41[_0x36baac],_0x3b4f1a=_0x26041e[_0x3788c8]||_0xa2f8ad;_0xa2f8ad['__proto__']=a47_0x4f2948[_0x38dc0c(0x11b)](a47_0x4f2948),_0xa2f8ad['toString']=_0x3b4f1a[_0x38dc0c(0x11d)]['bind'](_0x3b4f1a),_0x26041e[_0x3788c8]=_0xa2f8ad;}});function a47_0x2c85(){const _0x438cec=['userInputs','content\x20field\x20from\x20','constructor','50238seLazk','mappingFileds_edges','title\x20field\x20from\x20','img','missingHeaders','findIndex','warn','return\x20(function()\x20','prototype','jsxs','useState','edges','title','alert','Fragment','table','edges_raw','filter','split','load\x20nodes','13112ZRIJNL','apply','2655CGaaUI','chunkingMode','something\x20went\x20wrong\x20when\x20trying\x20to\x20import\x20data!','push','missingFields','33312VNYspb','relation\x20field\x20name\x20','id\x20field\x20from\x20','text','error','relation','4180596bTdNNb','trace','text2','start\x20importing','userDataHaveId','from','length','console','import','tags\x20field\x20from\x20','20EtAIyq','map','withUi','tags','bind','load\x20edges','toString','4412556GIzgzz','nodes_flat_','jsx','content','1155747RAokEv','mappingFileds','mappingFileds_withoutParentId','!ok','{}.constructor(\x22return\x20this\x22)(\x20)','61156AzsWLM','nodes_flat'];a47_0x2c85=function(){return _0x438cec;};return a47_0x2c85();}a47_0x48e8c6();import{K as a47_0x517e84,r as a47_0x351ad4,j as a47_0x8bfcaf,L as a47_0x49626e,H as a47_0x515783}from'./index-D7xZL99q.js';import{R as a47_0x276ea7,B as a47_0x49e391,l as a47_0xb0b7ae}from'./PaperMainTemplate-BVrYuIAm.js';import{T as a47_0xfbeb5f}from'./TextInput-01vIBom0.js';import{u as a47_0x303644,i as a47_0x190139}from'./importProduced_nodes_flat_toApp-B3r07vRc.js';import{s as a47_0x45de48}from'./showToast-C3DBMU0w.js';import{s as a47_0x2ce519}from'./addImgOrIconToVisNode_-Diz3rG1I.js';import{F}from'./FileSelector-CAmVlqOR.js';import'./index-CZDuPt_z.js';async function D(_0x2f8aa2){const _0x1c9cd5=a47_0x33f3,_0x48e690=_0x2f8aa2['text'][_0x1c9cd5(0x13e)]('\x0a'),_0x1f0051=_0x48e690['shift']()[_0x1c9cd5(0x13e)](','),_0x166e91={'id':_0x2f8aa2[_0x1c9cd5(0x123)]['id']||'id','title':_0x2f8aa2[_0x1c9cd5(0x123)][_0x1c9cd5(0x138)]||_0x1c9cd5(0x138),'content':_0x2f8aa2[_0x1c9cd5(0x123)][_0x1c9cd5(0x121)]||_0x1c9cd5(0x121),'tags':_0x2f8aa2['mappingFileds']['tags']||_0x1c9cd5(0x15a),'img':_0x2f8aa2[_0x1c9cd5(0x123)][_0x1c9cd5(0x12f)]||'img'},_0x5429e5=_0x1f0051[_0x1c9cd5(0x131)](_0x45bd68=>_0x45bd68==_0x166e91['id']),_0x2aacc2=_0x1f0051[_0x1c9cd5(0x131)](_0x31d54c=>_0x31d54c==_0x166e91[_0x1c9cd5(0x138)]),_0x16815a=_0x1f0051[_0x1c9cd5(0x131)](_0x2506eb=>_0x2506eb==_0x166e91['content']),_0x19f82e=_0x1f0051['findIndex'](_0x5e1436=>_0x5e1436==_0x166e91['tags']),_0x3180ce=_0x1f0051['findIndex'](_0x166e4b=>_0x166e4b==_0x166e91[_0x1c9cd5(0x12f)]);if(_0x2aacc2==-0x1||_0x16815a==-0x1||_0x19f82e==-0x1||_0x3180ce==-0x1||_0x2f8aa2[_0x1c9cd5(0x151)]&&_0x5429e5==-0x1)throw _0x1c9cd5(0x130);const _0xb243db=[];for(let _0x262213=0x0;_0x262213<_0x48e690[_0x1c9cd5(0x153)];_0x262213++){const _0x2dd7f3=_0x48e690[_0x262213];if(!_0x2dd7f3)continue;const _0x30bfad=_0x2dd7f3['split'](',');if(!_0x30bfad)continue;if(_0x2f8aa2[_0x1c9cd5(0x151)]&&!_0x30bfad[_0x5429e5]||!_0x2f8aa2[_0x1c9cd5(0x151)]&&!_0x30bfad[_0x2aacc2])throw _0x1c9cd5(0x146);const _0x1802b0=_0x2f8aa2[_0x1c9cd5(0x151)]?_0x30bfad[_0x5429e5]:_0x30bfad[_0x2aacc2],_0x31f001=_0x2f8aa2[_0x1c9cd5(0x137)][_0x1c9cd5(0x13d)](_0x4e4ee1=>_0x4e4ee1['to']==_0x1802b0);_0xb243db[_0x1c9cd5(0x145)]({'id':_0x30bfad[_0x5429e5],'title':_0x30bfad[_0x2aacc2],'content':_0x30bfad[_0x16815a],'tags':_0x30bfad[_0x19f82e],'img':_0x30bfad[_0x3180ce],'parents_id':_0x31f001[_0x1c9cd5(0x158)](_0x4f3f5f=>_0x4f3f5f['from']),'parents_rel':_0x31f001[_0x1c9cd5(0x158)](_0x175af7=>_0x175af7[_0x1c9cd5(0x14c)]??''),'category':'general','customFields_user':{}});}return{'nodes_flat':_0xb243db,'finalMap':_0x166e91};}async function S(_0x704445){const _0x27b782=a47_0x33f3,_0x21a869=_0x704445['text2'][_0x27b782(0x13e)]('\x0a'),_0x990b19=_0x21a869['shift']()['split'](','),_0x51b531={'from':_0x704445[_0x27b782(0x12d)][_0x27b782(0x152)]||_0x27b782(0x152),'to':_0x704445['mappingFileds_edges']['to']||'to','relation':_0x704445['mappingFileds_edges']['relation']||_0x27b782(0x14c)},_0x30796f=_0x990b19[_0x27b782(0x131)](_0x2e8ab5=>_0x2e8ab5==_0x51b531['from']),_0x229c27=_0x990b19[_0x27b782(0x131)](_0x44c8b9=>_0x44c8b9==_0x51b531['to']),_0x1c28a7=_0x990b19[_0x27b782(0x131)](_0x24b3f5=>_0x24b3f5==_0x51b531[_0x27b782(0x14c)]);if(_0x30796f==-0x1||_0x229c27==-0x1||_0x1c28a7==-0x1)throw _0x27b782(0x130);const _0x3cbfd0=[];for(let _0x915fd=0x0;_0x915fd<_0x21a869[_0x27b782(0x153)];_0x915fd++){const _0x561e6d=_0x21a869[_0x915fd];if(!_0x561e6d)continue;const _0x36c949=_0x561e6d['split'](',');if(_0x36c949){if(!_0x36c949[_0x30796f]||!_0x36c949[_0x229c27]||!_0x36c949[_0x1c28a7])throw _0x27b782(0x146);_0x3cbfd0[_0x27b782(0x145)]({'from':_0x36c949[_0x30796f],'to':_0x36c949[_0x229c27],'relation':_0x36c949[_0x1c28a7]});}}return{'edges_raw':_0x3cbfd0,'finalMap_edges':_0x51b531};}async function k(_0x54e7a0){const _0x831245=a47_0x33f3,_0x52629a=await S({'text2':_0x54e7a0['text2'],'mappingFileds_edges':_0x54e7a0[_0x831245(0x12d)]}),_0x53d10e=await D({'text':_0x54e7a0[_0x831245(0x14a)],'mappingFileds':_0x54e7a0['mappingFileds'],'userDataHaveId':_0x54e7a0[_0x831245(0x151)],'edges':_0x52629a[_0x831245(0x13c)]});if(!_0x53d10e[_0x831245(0x128)]||!_0x53d10e['nodes_flat'][_0x831245(0x153)])throw'xnaasdq31_failed';return{'nodes_flat_':_0x53d10e[_0x831245(0x128)],'finalMap':_0x53d10e['finalMap']};}function a47_0x33f3(_0x472baf,_0x42a4b9){const _0x449df3=a47_0x2c85();return a47_0x33f3=function(_0x48e8c6,_0x4f2948){_0x48e8c6=_0x48e8c6-0x11b;let _0x53aac9=_0x449df3[_0x48e8c6];return _0x53aac9;},a47_0x33f3(_0x472baf,_0x42a4b9);}async function E(_0x4bcbc5){const _0xe9171f=a47_0x33f3;await a47_0x303644();try{const _0x1631bf=await k({'text':_0x4bcbc5[_0xe9171f(0x14a)],'text2':_0x4bcbc5[_0xe9171f(0x14f)],'mappingFileds':_0x4bcbc5['userInputs'][_0xe9171f(0x124)],'mappingFileds_edges':_0x4bcbc5[_0xe9171f(0x129)][_0xe9171f(0x12d)],'userDataHaveId':_0x4bcbc5[_0xe9171f(0x129)]['userDataHaveId']});if(!await a47_0x190139({'nodes_flat':_0x1631bf[_0xe9171f(0x11f)],'withUi':_0x4bcbc5[_0xe9171f(0x129)][_0xe9171f(0x159)],'userDataHaveId':_0x4bcbc5['userInputs']['userDataHaveId'],'chunkingMode':_0x4bcbc5[_0xe9171f(0x129)][_0xe9171f(0x143)]}))throw _0xe9171f(0x125);}catch{a47_0x2ce519(!0x1),a47_0x45de48({'title':a47_0x517e84(_0xe9171f(0x14b)),'content':a47_0x517e84(_0xe9171f(0x144)),'type':_0xe9171f(0x139)});}}const z=({userDataHaveId:_0x8ffaa8,withUi:_0x17ae2f,chunkingMode:_0x452e15})=>{const _0x17c756=a47_0x33f3,[_0x4824a9,_0x27125e]=a47_0x351ad4['useState'](null),[_0xe61164,_0x1edd60]=a47_0x351ad4[_0x17c756(0x136)](null),[_0x3727cb,_0x5653ae]=a47_0x351ad4[_0x17c756(0x136)]({'title':_0x17c756(0x138),'content':_0x17c756(0x121),'tags':_0x17c756(0x15a),'img':_0x17c756(0x12f),'id':'id'}),[_0x243ffe,_0x2786d3]=a47_0x351ad4[_0x17c756(0x136)]({'from':_0x17c756(0x152),'to':'to','relation':'relation'});return a47_0x8bfcaf[_0x17c756(0x135)](a47_0x8bfcaf[_0x17c756(0x13a)],{'children':[a47_0x8bfcaf[_0x17c756(0x135)](a47_0x49626e,{'children':[a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0x515783,{'children':a47_0x517e84('fileds\x20will\x20be\x20mapped\x20like\x20this:')})}),_0x8ffaa8&&a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf['jsx'](a47_0xfbeb5f,{'label':a47_0x517e84(_0x17c756(0x149)),'value':_0x3727cb==null?void 0x0:_0x3727cb['id'],'onChangeText':_0x386cc0=>_0x5653ae({..._0x3727cb,'id':_0x386cc0})})}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf['jsx'](a47_0xfbeb5f,{'label':a47_0x517e84(_0x17c756(0x12e)),'value':_0x3727cb==null?void 0x0:_0x3727cb[_0x17c756(0x138)],'onChangeText':_0xdea74e=>_0x5653ae({..._0x3727cb,'title':_0xdea74e})})}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0xfbeb5f,{'label':a47_0x517e84(_0x17c756(0x12a)),'value':_0x3727cb==null?void 0x0:_0x3727cb[_0x17c756(0x121)],'onChangeText':_0x15e841=>_0x5653ae({..._0x3727cb,'content':_0x15e841})})}),a47_0x8bfcaf['jsx'](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0xfbeb5f,{'label':a47_0x517e84(_0x17c756(0x156)),'value':_0x3727cb==null?void 0x0:_0x3727cb[_0x17c756(0x15a)],'onChangeText':_0x23dad8=>_0x5653ae({..._0x3727cb,'tags':_0x23dad8})})}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf['jsx'](a47_0xfbeb5f,{'label':a47_0x517e84('img\x20field\x20from\x20'),'value':_0x3727cb==null?void 0x0:_0x3727cb[_0x17c756(0x12f)],'onChangeText':_0x4c5f24=>_0x5653ae({..._0x3727cb,'img':_0x4c5f24})})})]}),a47_0x8bfcaf[_0x17c756(0x135)](a47_0x49626e,{'children':[a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0x515783,{'children':a47_0x517e84('edges\x20fileds\x20will\x20be\x20mapped\x20like\x20this:')})}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0xfbeb5f,{'label':a47_0x517e84('source\x20field\x20name'),'value':_0x243ffe==null?void 0x0:_0x243ffe[_0x17c756(0x152)],'onChangeText':_0x38786b=>_0x2786d3({..._0x243ffe,'from':_0x38786b})})}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x276ea7,{'children':a47_0x8bfcaf['jsx'](a47_0xfbeb5f,{'label':a47_0x517e84('destination\x20field\x20name\x20'),'value':_0x243ffe==null?void 0x0:_0x243ffe['to'],'onChangeText':_0x1eef53=>_0x2786d3({..._0x243ffe,'to':_0x1eef53})})}),a47_0x8bfcaf['jsx'](a47_0x276ea7,{'children':a47_0x8bfcaf[_0x17c756(0x120)](a47_0xfbeb5f,{'label':_0x17c756(0x148),'value':_0x243ffe==null?void 0x0:_0x243ffe[_0x17c756(0x14c)],'onChangeText':_0x2e3321=>_0x2786d3({..._0x243ffe,'relation':_0x2e3321})})})]}),a47_0x8bfcaf[_0x17c756(0x135)](a47_0x276ea7,{'sortItems':!0x0,'children':[a47_0x8bfcaf['jsx'](F,{'icon':_0x17c756(0x155),'style':{'maxWidth':0xc8},'onFileSelect':_0x20a6d3=>{_0x27125e(_0x20a6d3);},'children':a47_0x517e84(_0x17c756(0x13f))}),a47_0x8bfcaf[_0x17c756(0x120)](F,{'icon':_0x17c756(0x155),'style':{'maxWidth':0xc8},'onFileSelect':_0x59143c=>{_0x1edd60(_0x59143c);},'children':a47_0x517e84(_0x17c756(0x11c))})]}),a47_0x8bfcaf[_0x17c756(0x120)](a47_0x49e391,{'onPress':async()=>{const _0x53811b=_0x17c756;E({'text':await new Blob([await a47_0xb0b7ae(_0x4824a9)])[_0x53811b(0x14a)](),'text2':await new Blob([await a47_0xb0b7ae(_0xe61164)])[_0x53811b(0x14a)](),'userInputs':{'mappingFileds_edges':_0x243ffe,'mappingFileds_withoutParentId':_0x3727cb,'userDataHaveId':_0x8ffaa8,'withUi':_0x17ae2f,'chunkingMode':_0x452e15}});},'children':a47_0x517e84(_0x17c756(0x150))})]});};export{z as Csv_nodesAndEdges};