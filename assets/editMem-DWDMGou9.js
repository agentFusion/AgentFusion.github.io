(function(_0x4413d5,_0x386ec4){const _0x3b5ee6=a30_0x3870,_0x5d73b3=_0x4413d5();while(!![]){try{const _0x753e19=-parseInt(_0x3b5ee6(0x1d1))/0x1+-parseInt(_0x3b5ee6(0x206))/0x2*(parseInt(_0x3b5ee6(0x20e))/0x3)+parseInt(_0x3b5ee6(0x1d6))/0x4*(-parseInt(_0x3b5ee6(0x1cb))/0x5)+parseInt(_0x3b5ee6(0x1dd))/0x6*(-parseInt(_0x3b5ee6(0x1ea))/0x7)+parseInt(_0x3b5ee6(0x1fe))/0x8+-parseInt(_0x3b5ee6(0x205))/0x9+parseInt(_0x3b5ee6(0x1e6))/0xa;if(_0x753e19===_0x386ec4)break;else _0x5d73b3['push'](_0x5d73b3['shift']());}catch(_0x6f9aa9){_0x5d73b3['push'](_0x5d73b3['shift']());}}}(a30_0x15c9,0xb6c6c));function a30_0x15c9(){const _0x47ebb7=['imgCaption_embedding','get','title','4164675DGwTJk','parents_id','prototype','error','image/png','star','646273pyZBGV','updateOnly','shared_fields','memBeforeEdit','toString','4AVDdsl','all_used_Fields','configs','trim','bind','mems_visNetworkGraph_edges2','memsChunks','2826DUUViN','apply','isAChunk','length','mems_visNetworkGraph_nodes2','content','visNetworkConfig','delete','info','32864530vzqImJ','customFields_user','mems','trace','14728gIuEVY','parents_rel','selectedImg','img','split','generate_customFields_model\x20failed','newMemForm','valueOf','constructor','keys','captionTheImg','return\x20(function()\x20','console','{}.constructor(\x22return\x20this\x22)(\x20)','exception','map','add','tags','remove','hidden','6277256UnndGk','score','__proto__','generate_customFields_model','set','customFields_model','new_fields','6276762ckrimJ','64vzatPA','favorite','chunks_ids','title_string','log','withImages','update','content_string','14517rwmTiW','level','category','toLowerCase','key','all_used_category','color','creationTime','chunkingMode','nodes','imgCaption_string'];a30_0x15c9=function(){return _0x47ebb7;};return a30_0x15c9();}const a30_0xd7cca4=(function(){let _0x4996f6=!![];return function(_0x304451,_0x15988a){const _0x7ad1d=_0x4996f6?function(){const _0x3acc69=a30_0x3870;if(_0x15988a){const _0x52a40f=_0x15988a[_0x3acc69(0x1de)](_0x304451,arguments);return _0x15988a=null,_0x52a40f;}}:function(){};return _0x4996f6=![],_0x7ad1d;};}()),a30_0x285bb5=a30_0xd7cca4(this,function(){const _0x3e2492=a30_0x3870;let _0x3f5c7e;try{const _0x358c51=Function(_0x3e2492(0x1f5)+_0x3e2492(0x1f7)+');');_0x3f5c7e=_0x358c51();}catch(_0x3e0c95){_0x3f5c7e=window;}const _0x594ac2=_0x3f5c7e[_0x3e2492(0x1f6)]=_0x3f5c7e[_0x3e2492(0x1f6)]||{},_0x1bfcc8=[_0x3e2492(0x20a),'warn',_0x3e2492(0x1e5),_0x3e2492(0x1ce),_0x3e2492(0x1f8),'table',_0x3e2492(0x1e9)];for(let _0x5ddac3=0x0;_0x5ddac3<_0x1bfcc8['length'];_0x5ddac3++){const _0x4db2ee=a30_0xd7cca4[_0x3e2492(0x1f2)][_0x3e2492(0x1cd)][_0x3e2492(0x1da)](a30_0xd7cca4),_0x1202a4=_0x1bfcc8[_0x5ddac3],_0x39c6c8=_0x594ac2[_0x1202a4]||_0x4db2ee;_0x4db2ee[_0x3e2492(0x200)]=a30_0xd7cca4[_0x3e2492(0x1da)](a30_0xd7cca4),_0x4db2ee[_0x3e2492(0x1d5)]=_0x39c6c8[_0x3e2492(0x1d5)][_0x3e2492(0x1da)](_0x39c6c8),_0x594ac2[_0x1202a4]=_0x4db2ee;}});a30_0x285bb5();import{y as a30_0x56ca67,l as a30_0x500ea7,u as a30_0x12975f,i as a30_0x542f5c}from'./PaperMainTemplate-BVrYuIAm.js';import{x as a30_0x314da8,S as a30_0xf91b20,T as a30_0x4b3e8f,U as a30_0x251723,V,J as a30_0x5d6092,W as a30_0x167cee,D,X as a30_0x10ca32,h as a30_0x15c6dd,K as a30_0x1d9414}from'./addImgOrIconToVisNode_-Diz3rG1I.js';import{J as a30_0x5601b1,Q as a30_0xfb6cdd,X as a30_0xe4fa,ah as a30_0x1afe8d,K as a30_0xa2629d}from'./index-D7xZL99q.js';function a30_0x3870(_0x1f9c84,_0x248ba8){const _0x5317b3=a30_0x15c9();return a30_0x3870=function(_0x285bb5,_0xd7cca4){_0x285bb5=_0x285bb5-0x1c9;let _0xe31194=_0x5317b3[_0x285bb5];return _0xe31194;},a30_0x3870(_0x1f9c84,_0x248ba8);}import{s as a30_0x871275}from'./showToast-C3DBMU0w.js';async function R(_0x38910c){const _0x420e8f=a30_0x3870;var _0x5d035b,_0x439896,_0x2d2c79;const _0x4e15e1=a30_0x5601b1[_0x420e8f(0x1e8)]['get'](_0x38910c[_0x420e8f(0x1d4)]['id']),_0xe6670e=!a30_0x56ca67(_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x1e7)],_0x38910c[_0x420e8f(0x1f0)]['customFields_user']),_0x38e355=!a30_0x56ca67(_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x1cc)],_0x38910c['newMemForm'][_0x420e8f(0x1cc)])||!a30_0x56ca67(_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x1eb)],_0x38910c[_0x420e8f(0x1f0)]['parents_rel']),_0x242103=_0x38910c['newMemForm'][_0x420e8f(0x1ca)]!==_0x38910c['memBeforeEdit'][_0x420e8f(0x209)],_0xce7399=_0x38910c['newMemForm'][_0x420e8f(0x1e2)]!==_0x38910c['memBeforeEdit']['content_string'],_0x2af93c=_0x38910c['newMemForm'][_0x420e8f(0x210)]!==_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x210)],_0xcf97f6={'title_string':_0x242103?_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1ca)]:_0x38910c[_0x420e8f(0x1d4)]['title_string'],'content_string':_0xce7399?_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1e2)]:_0x38910c['memBeforeEdit'][_0x420e8f(0x20d)],'title':_0x242103?await a30_0x314da8({'text':_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1ca)]}):_0x4e15e1[_0x420e8f(0x1ca)],'content':_0xce7399?await a30_0x314da8({'text':_0x38910c[_0x420e8f(0x1f0)]['content']}):_0x4e15e1[_0x420e8f(0x1e2)],'tags':(_0x439896=(_0x5d035b=_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1fb)])==null?void 0x0:_0x5d035b[_0x420e8f(0x1d9)]())==null?void 0x0:_0x439896[_0x420e8f(0x211)]()[_0x420e8f(0x1ee)]('\x20'),'score':_0x4e15e1[_0x420e8f(0x1ff)],'id':_0x4e15e1['id'],'parents_id':_0x38910c[_0x420e8f(0x1f0)]['parents_id'],'parents_rel':_0x38910c['newMemForm'][_0x420e8f(0x1eb)],'img':null,'favorite':_0x4e15e1[_0x420e8f(0x207)],'hidden':_0x4e15e1[_0x420e8f(0x1fd)],'level':_0x38e355?a30_0xf91b20(_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1cc)]):_0x4e15e1[_0x420e8f(0x20f)],'ranking':_0x4e15e1['ranking'],'shape':_0x4e15e1['shape'],'star':_0x4e15e1[_0x420e8f(0x1d0)],'summarization':_0x4e15e1['summarization'],'creationTime':_0x4e15e1[_0x420e8f(0x215)],'modificationTime':new Date()[_0x420e8f(0x1f1)](),'chunks_ids':_0x4e15e1[_0x420e8f(0x208)],'isAChunk':_0x4e15e1[_0x420e8f(0x1df)],'imgCaption_embedding':_0x4e15e1[_0x420e8f(0x219)],'imgCaption_string':_0x4e15e1[_0x420e8f(0x218)],'customFields_user':_0x38910c[_0x420e8f(0x1f0)]['customFields_user'],'customFields_model':_0x4e15e1[_0x420e8f(0x203)],'category':_0x2af93c?_0x38910c[_0x420e8f(0x1f0)]['category']:_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x210)]},_0x49f9cd=(_0x2d2c79=_0x38910c[_0x420e8f(0x1f0)][_0x420e8f(0x1ed)])==null?void 0x0:_0x2d2c79['trim'](),_0x4d6059=_0x38910c['memBeforeEdit'][_0x420e8f(0x1ed)]!==_0x49f9cd||!!_0x38910c[_0x420e8f(0x1ec)];let _0x5a5297=null,_0x483dff=null;if(_0x4d6059){if(_0x38910c[_0x420e8f(0x1ec)]){const _0x33e711=await a30_0x500ea7(_0x38910c['selectedImg']);if(_0x5a5297=await a30_0x4b3e8f(_0x33e711),_0x483dff=a30_0x12975f[_0x420e8f(0x1d8)]['imgInternalStoragePath']+'/'+_0x4e15e1['id'],_0xcf97f6['img']=_0x483dff,_0x38910c[_0x420e8f(0x1f4)]){const _0x1f34af=await a30_0x251723({'img':new Blob([_0x5a5297],{'type':_0x420e8f(0x1cf)})});_0xcf97f6[_0x420e8f(0x218)]=_0x1f34af,_0xcf97f6['imgCaption_embedding']=_0x1f34af?await a30_0x314da8({'text':_0x1f34af}):null;}}else _0xcf97f6[_0x420e8f(0x1ed)]=_0x49f9cd;}else _0xcf97f6['img']=_0x38910c[_0x420e8f(0x1d4)][_0x420e8f(0x1ed)];let _0x2aef9a=[];_0xce7399&&(_0x2aef9a=await V({'newMem':_0xcf97f6,'strategy':_0x38910c[_0x420e8f(0x216)]??null}),_0xcf97f6[_0x420e8f(0x208)]=_0x2aef9a[_0x420e8f(0x1f9)](_0x28900e=>_0x28900e['id']));let _0x1c710f=await a30_0xfb6cdd(_0x420e8f(0x1d7))??{};if(_0xe6670e?_0x1c710f=await a30_0x5d6092({'keys':Object[_0x420e8f(0x1f3)](_0x4e15e1[_0x420e8f(0x1e7)]),'sharedFileds':_0x1c710f}):_0x1c710f=await a30_0x5d6092({'keys':Object[_0x420e8f(0x1f3)](_0xcf97f6['customFields_user']),'sharedFileds':_0x1c710f}),_0xce7399&&_0x38910c[_0x420e8f(0x201)]){_0x1c710f=await a30_0x5d6092({'keys':Object[_0x420e8f(0x1f3)](_0x4e15e1[_0x420e8f(0x203)]),'sharedFileds':_0x1c710f});const {res:_0x56a6c4}=await a30_0x167cee({'content':_0xcf97f6[_0x420e8f(0x20d)],'all_used_Fields':new Set(Object[_0x420e8f(0x1f3)](_0x1c710f)),'reservedFieldsThatModelShouldNotUse':[...D]});if(!_0x56a6c4)throw _0x420e8f(0x1ef);if(!_0x56a6c4||!(_0x420e8f(0x1d3)in _0x56a6c4))throw'';const _0x38203e=[..._0x56a6c4['shared_fields'],..._0x56a6c4[_0x420e8f(0x204)]],_0x3aad4e={};for(let _0x547b3e=0x0;_0x547b3e<_0x38203e['length'];_0x547b3e++){const _0x1037a9=_0x38203e[_0x547b3e];_0x3aad4e[_0x1037a9[_0x420e8f(0x212)]]=_0x1037a9['value'];}_0x1c710f=await a30_0x10ca32({'keys':Object[_0x420e8f(0x1f3)](_0x3aad4e),'sharedFileds':_0x1c710f}),_0xcf97f6[_0x420e8f(0x203)]=_0x3aad4e;}_0x1c710f=await a30_0x10ca32({'keys':Object[_0x420e8f(0x1f3)](_0xcf97f6['customFields_user']),'sharedFileds':_0x1c710f});let _0x152072=await a30_0xfb6cdd(_0x420e8f(0x213))??{};_0x2af93c&&(_0x1c710f=await a30_0x5d6092({'keys':[_0xcf97f6[_0x420e8f(0x210)]],'sharedFileds':_0x152072}),_0x152072=await a30_0x10ca32({'keys':[_0xcf97f6[_0x420e8f(0x210)]],'sharedFileds':_0x152072}));const _0x32f14b=_0xcf97f6['id'];if(a30_0x5601b1[_0x420e8f(0x1e8)][_0x420e8f(0x202)](_0x32f14b,_0xcf97f6),await a30_0x12975f['db']['mems'][_0x420e8f(0x1e4)](_0xcf97f6['id']),await a30_0x12975f['db'][_0x420e8f(0x1e8)][_0x420e8f(0x1fa)](_0xcf97f6,_0xcf97f6['id']),_0xce7399){for(let _0x142682=0x0;_0x142682<_0x2aef9a[_0x420e8f(0x1e0)];_0x142682++){const _0x438807=_0x2aef9a[_0x142682];a30_0x5601b1[_0x420e8f(0x1dc)][_0x420e8f(0x202)](_0x438807['id'],_0x438807);}await a30_0x12975f['db'][_0x420e8f(0x1dc)]['bulkAdd'](_0x2aef9a),await a30_0xe4fa({'all_used_Fields':_0x1c710f});}await a30_0xe4fa({'all_used_Fields':_0x1c710f}),_0x2af93c&&await a30_0xe4fa({'all_used_category':_0x152072}),_0x4d6059&&_0x38910c[_0x420e8f(0x1ec)]&&await a30_0x1afe8d(_0x483dff,_0x5a5297)['catch'](_0x6f0d2c=>{a30_0x871275({'type':'alert','content':a30_0xa2629d('something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue')});});const _0x257931=a30_0x12975f['mems_visNetworkGraph_nodes2'][_0x420e8f(0x1c9)](_0x32f14b);let _0x1b86ab={...a30_0x542f5c(_0x420e8f(0x1e3))[_0x420e8f(0x217)],..._0x257931,'id':_0x32f14b,'label':_0xcf97f6[_0x420e8f(0x209)],'level':_0xcf97f6[_0x420e8f(0x20f)],'color':{..._0x257931[_0x420e8f(0x214)],'background':'green'}};if(a30_0x542f5c(_0x420e8f(0x1e3))[_0x420e8f(0x20b)]&&_0x4d6059&&(_0x1b86ab=await a30_0x15c6dd({'img':_0xcf97f6['img'],'node':_0x1b86ab})),a30_0x12975f[_0x420e8f(0x1e1)][_0x420e8f(0x1d2)]({'id':_0xcf97f6['id'],..._0x1b86ab}),_0x1b86ab[_0x420e8f(0x20f)],_0x38e355){const _0x51abb0=a30_0x1d9414(_0x38910c[_0x420e8f(0x1d4)]);try{a30_0x12975f[_0x420e8f(0x1db)][_0x420e8f(0x1fc)](_0x51abb0);}catch{}const _0x584b2b=a30_0x1d9414(_0xcf97f6);try{a30_0x12975f['mems_visNetworkGraph_edges2'][_0x420e8f(0x20c)](_0x584b2b);}catch{}return _0xcf97f6;}return _0xcf97f6;}export{R as e};