(function(_0x1cc002,_0x3dc781){const _0x15736e=a31_0x5ebc,_0x5a511e=_0x1cc002();while(!![]){try{const _0x57367c=parseInt(_0x15736e(0x14d))/0x1+-parseInt(_0x15736e(0x169))/0x2+-parseInt(_0x15736e(0x137))/0x3*(-parseInt(_0x15736e(0x172))/0x4)+parseInt(_0x15736e(0x168))/0x5+-parseInt(_0x15736e(0x15f))/0x6*(parseInt(_0x15736e(0x133))/0x7)+-parseInt(_0x15736e(0x16f))/0x8*(parseInt(_0x15736e(0x15c))/0x9)+-parseInt(_0x15736e(0x156))/0xa;if(_0x57367c===_0x3dc781)break;else _0x5a511e['push'](_0x5a511e['shift']());}catch(_0x1f1267){_0x5a511e['push'](_0x5a511e['shift']());}}}(a31_0x47a3,0xe4795));const a31_0x3d0a27=(function(){let _0x26ad5f=!![];return function(_0x394688,_0x4ca5d2){const _0x307cf6=_0x26ad5f?function(){const _0x53ab9a=a31_0x5ebc;if(_0x4ca5d2){const _0x2cb26c=_0x4ca5d2[_0x53ab9a(0x13b)](_0x394688,arguments);return _0x4ca5d2=null,_0x2cb26c;}}:function(){};return _0x26ad5f=![],_0x307cf6;};}()),a31_0x192ba9=a31_0x3d0a27(this,function(){const _0x139534=a31_0x5ebc;let _0x570888;try{const _0x40e3ad=Function(_0x139534(0x14b)+_0x139534(0x13a)+');');_0x570888=_0x40e3ad();}catch(_0x54cd60){_0x570888=window;}const _0x594767=_0x570888[_0x139534(0x131)]=_0x570888[_0x139534(0x131)]||{},_0xd6902b=[_0x139534(0x163),_0x139534(0x14f),_0x139534(0x16b),_0x139534(0x160),_0x139534(0x165),_0x139534(0x178),_0x139534(0x157)];for(let _0x2cab8e=0x0;_0x2cab8e<_0xd6902b['length'];_0x2cab8e++){const _0x535007=a31_0x3d0a27[_0x139534(0x144)][_0x139534(0x161)][_0x139534(0x145)](a31_0x3d0a27),_0xd033d=_0xd6902b[_0x2cab8e],_0x4ad5af=_0x594767[_0xd033d]||_0x535007;_0x535007['__proto__']=a31_0x3d0a27[_0x139534(0x145)](a31_0x3d0a27),_0x535007[_0x139534(0x146)]=_0x4ad5af['toString']['bind'](_0x4ad5af),_0x594767[_0xd033d]=_0x535007;}});a31_0x192ba9();function a31_0x5ebc(_0x15195,_0x5095be){const _0xabf17c=a31_0x47a3();return a31_0x5ebc=function(_0x192ba9,_0x3d0a27){_0x192ba9=_0x192ba9-0x131;let _0x9a203e=_0xabf17c[_0x192ba9];return _0x9a203e;},a31_0x5ebc(_0x15195,_0x5095be);}import{J as a31_0x1d77ea,as as a31_0xe8f8f7}from'./index-2kjPzj9P.js';import{r as a31_0x35fc01,x as a31_0x283e95,a as a31_0x5ed288,f as a31_0x930ae7,c as a31_0x4d0ce0,e as a31_0x518aa6,d as a31_0x439998,P as a31_0x37f85e,g as a31_0x5afd20}from'./addImgOrIconToVisNode_-tckGH3nE.js';import{s as a31_0x4adb6f,u as a31_0x4d6954,d as a31_0x47bfb3,i as a31_0x138448}from'./PaperMainTemplate-CFa8Y-BD.js';import{e as a31_0x30ec1e}from'./editMem-CycAd9NC.js';function O(_0x6af3b8){const _0x13bc0d=a31_0x5ebc;return _0x6af3b8[_0x13bc0d(0x151)]()[_0x13bc0d(0x16e)]('\x20\x20','\x20')['replaceAll']('\x20\x20','\x20')[_0x13bc0d(0x16e)]('\x0a\x0a','\x0a');}function B(_0x3b413b){const _0x3c2739=a31_0x5ebc;return _0x3b413b[_0x3c2739(0x151)]()['replaceAll']('\x20\x20','\x20')[_0x3c2739(0x16e)]('\x0a\x0a','\x20')[_0x3c2739(0x16e)]('\x0a','.');}function f(_0x1b1541,_0x4d7833){const _0x196364=a31_0x5ebc;return _0x1b1541['reduce']((_0x5217c4,_0x4bb260,_0x54a228)=>_0x5217c4+_0x4bb260*_0x4d7833[_0x54a228],0x0)/(Math[_0x196364(0x153)](_0x1b1541[_0x196364(0x171)]((_0x5d4066,_0x2cee12)=>_0x5d4066+_0x2cee12*_0x2cee12,0x0))*Math[_0x196364(0x153)](_0x4d7833[_0x196364(0x171)]((_0x423269,_0x290536)=>_0x423269+_0x290536*_0x290536,0x0)));}async function N(_0x4d9b6f){const _0xd371b5=a31_0x5ebc;var _0x5d16f2;for(const [_0xe6f11a,_0x431c23]of a31_0x1d77ea['mems']){let _0x1eebdb=0x0,_0x2c91e2=0x0,_0x418164=0x0;if(_0x431c23[_0xd371b5(0x177)]){if(_0x4d9b6f[_0xd371b5(0x15b)]){const _0x2e0810=f(_0x431c23['content'],_0x4d9b6f[_0xd371b5(0x175)]);if(_0x418164+=_0x2e0810,_0x4d9b6f[_0xd371b5(0x174)])for(let _0x43efe4=0x0;_0x43efe4<_0x431c23['chunks_ids']['length'];_0x43efe4++){const _0xc42dd6=_0x431c23[_0xd371b5(0x16a)][_0x43efe4],_0x54041a=a31_0x35fc01(_0xc42dd6);_0x54041a&&_0x54041a[_0xd371b5(0x150)]&&(_0x418164+=f(_0x54041a[_0xd371b5(0x150)],_0x4d9b6f['userInputVector']));}}_0x431c23[_0xd371b5(0x14c)];}let _0x1c7e28=0x0;if(_0x4d9b6f[_0xd371b5(0x13e)]&&_0x431c23['imgCaption_string']&&_0x431c23[_0xd371b5(0x154)][_0xd371b5(0x167)]){const _0x32875d=f(_0x431c23[_0xd371b5(0x154)],_0x4d9b6f['userInputVector']);_0x1c7e28+=_0x32875d,_0x431c23[_0xd371b5(0x14c)];}const _0x134312=_0x431c23[_0xd371b5(0x14c)][_0xd371b5(0x158)]()[_0xd371b5(0x151)]();let _0x30c379=0x0;const _0x324d3e=new Set(_0x134312[_0xd371b5(0x164)]('\x20')),_0x11d0eb=_0x4d9b6f[_0xd371b5(0x16c)][_0xd371b5(0x164)]('\x20');for(const _0x27284a of _0x11d0eb)_0x324d3e['has'](_0x27284a)&&(_0x30c379+=0.1,_0x324d3e[_0xd371b5(0x140)](_0x27284a));if(_0x134312&&(_0x4d9b6f['userInput_LowerCased']===_0x134312?_0x1eebdb+=0.9:_0x134312['includes'](_0x4d9b6f[_0xd371b5(0x16c)])?_0x1eebdb+=0.8:_0x4d9b6f[_0xd371b5(0x15b)]&&(_0x1eebdb+=f(_0x431c23[_0xd371b5(0x13f)],_0x4d9b6f[_0xd371b5(0x175)]))),_0x431c23[_0xd371b5(0x176)])for(let _0x131208=0x0;_0x131208<((_0x5d16f2=_0x431c23['tags'])==null?void 0x0:_0x5d16f2[_0xd371b5(0x167)]);_0x131208++){const _0x1a78f0=_0x431c23[_0xd371b5(0x176)][_0x131208][_0xd371b5(0x158)]();_0x1a78f0['trim']()&&_0x1a78f0['includes'](_0x4d9b6f[_0xd371b5(0x16c)])&&(_0x2c91e2+=0.1);}const _0x25be7c=_0x1eebdb+_0x418164+_0x2c91e2+_0x30c379+_0x1c7e28;_0x431c23[_0xd371b5(0x15d)]=_0x25be7c;}a31_0x1d77ea[_0xd371b5(0x142)],a31_0x1d77ea[_0xd371b5(0x142)]=new Map(Array['from'](a31_0x1d77ea[_0xd371b5(0x142)][_0xd371b5(0x134)]())[_0xd371b5(0x13c)]((_0x38fcc5,_0x36f3de)=>_0x36f3de[0x1][_0xd371b5(0x15d)]-_0x38fcc5[0x1][_0xd371b5(0x15d)]));}async function P(_0x783f5d){const _0x5bac14=a31_0x5ebc;var _0x3be2d0;let _0x16b5e3=_0x783f5d['input'][_0x5bac14(0x158)]();const _0x5e529e=0xa;if(_0x16b5e3=B(_0x16b5e3),!_0x16b5e3)return[];let _0x57f053=[];if(_0x16b5e3[0x0]!=='.'){if(_0x16b5e3[0x0]==='@'){if(_0x16b5e3=_0x16b5e3[_0x5bac14(0x164)]('@')[0x1],!_0x16b5e3)return[];let _0x58608f=0x0;for(const [_0x2c56d1,_0x3ebf91]of a31_0x1d77ea[_0x5bac14(0x142)])if(!_0x3ebf91[_0x5bac14(0x148)]&&_0x3ebf91[_0x5bac14(0x14c)]['toLowerCase']()[_0x5bac14(0x138)](_0x16b5e3)&&(_0x3ebf91[_0x5bac14(0x15d)]=0x1,_0x57f053['push'](_0x3ebf91),++_0x58608f>_0x5e529e))break;}else{if(_0x16b5e3[0x0]==='#'){if(_0x16b5e3=_0x16b5e3['split']('#')[0x1],!_0x16b5e3)return[];let _0x974afc=0x0;for(const [_0x5b67aa,_0x57f420]of a31_0x1d77ea[_0x5bac14(0x142)])if(!_0x57f420[_0x5bac14(0x148)]&&((_0x3be2d0=_0x57f420[_0x5bac14(0x176)])!=null&&_0x3be2d0[_0x5bac14(0x159)](_0x457cd4=>_0x457cd4[_0x5bac14(0x158)]()[_0x5bac14(0x138)](_0x16b5e3)))&&(_0x57f420['score']=0x1,_0x57f053['push'](_0x57f420),++_0x974afc>_0x5e529e))break;}else{const _0x5a304f=await a31_0x283e95({'text':_0x16b5e3});await N({'userInputVector':_0x5a304f,'userInput_LowerCased':_0x16b5e3,'similaritySearch':!0x0,'deepContentSearch':!0x0,'similaritySearch_imgCap':!0x0});let _0x596c0d=0x0;for(const [_0x1b366d,_0x4cac75]of a31_0x1d77ea['mems'])if(_0x57f053[_0x5bac14(0x132)](_0x4cac75),++_0x596c0d>_0x5e529e)break;}}}return _0x57f053[_0x5bac14(0x167)]?(_0x57f053[0x0][_0x5bac14(0x14c)],_0x57f053[0x0][_0x5bac14(0x15d)],_0x57f053['map'](_0xd9f92e=>a31_0x5ed288(_0xd9f92e['id']))):[];}function R(_0x21cbaf){const _0x22265e=a31_0x5ebc;let _0x2c4a93=0x0,_0xc3ca1e=[];for(const [_0x18b89f,_0x1e03dd]of a31_0x1d77ea[_0x22265e(0x142)])if(_0x1e03dd['content_string']&&(_0xc3ca1e['push'](_0x1e03dd),++_0x2c4a93>_0x21cbaf[_0x22265e(0x13d)]))break;return _0xc3ca1e;}async function U(_0x411f47){const _0x19ef15=a31_0x5ebc,_0x408972=await P({'input':_0x411f47[_0x19ef15(0x155)]});_0x411f47['dontSet_userInputSearchBox']?a31_0x4adb6f({'userInputSearchBox':''}):a31_0x4adb6f({'userInputSearchBox':_0x411f47[_0x19ef15(0x155)]}),v({'mems':_0x408972});}function v(_0x4be8fa){const _0x2534fc=a31_0x5ebc;var _0x4588bf;if(!((_0x4588bf=_0x4be8fa['mems'])!=null&&_0x4588bf[_0x2534fc(0x167)]))a31_0x4adb6f({'topMems':[]}),a31_0x4adb6f({'memsColorGotManipulated':!0x1}),a31_0x4adb6f({'userInputSearchBox':''}),a31_0x4d6954[_0x2534fc(0x143)]['update'](a31_0x4d6954['mems_visNetworkGraph_nodes2'][_0x2534fc(0x152)](_0x4f5975=>(_0x4f5975['opacity']=0x1,_0x4f5975[_0x2534fc(0x135)]=0x0,_0x4f5975[_0x2534fc(0x139)]={..._0x4f5975['color'],'border':_0x2534fc(0x15e)},_0x4f5975['shapeProperties']={..._0x4f5975['shapeProperties'],'borderDashes':!0x1},_0x4f5975)));else{const _0x29237d=new Map(),_0x4e69c7=0.05;_0x4be8fa['mems'][0x0][_0x2534fc(0x15d)]=0x64;const _0x5c7e94=Math[_0x2534fc(0x149)](..._0x4be8fa[_0x2534fc(0x142)][_0x2534fc(0x152)](_0x161bbe=>_0x161bbe[_0x2534fc(0x15d)]===0x64?0x0:_0x161bbe[_0x2534fc(0x15d)])),_0x4004ca=_0x4be8fa['mems'][_0x2534fc(0x152)](_0x14eb12=>{const _0x549aca=_0x2534fc;if(_0x14eb12[_0x549aca(0x15d)]===0x64)_0x29237d['set'](_0x14eb12['id'],{'id':_0x14eb12['id'],'borderWidth':0x3,'color':{'border':a31_0xe8f8f7},'shapeProperties':{'borderDashes':!0x0},'opacity':0x1});else{let _0x44f3d5=_0x5c7e94?_0x14eb12[_0x549aca(0x15d)]/_0x5c7e94+_0x4e69c7:_0x4e69c7;_0x44f3d5=_0x44f3d5>=0x1?0x1:_0x44f3d5,_0x44f3d5=_0x44f3d5<=_0x4e69c7?_0x4e69c7:_0x44f3d5,_0x29237d[_0x549aca(0x173)](_0x14eb12['id'],{'id':_0x14eb12['id'],'borderWidth':0x1,'color':{'border':_0x549aca(0x15e)},'opacity':_0x44f3d5});}return a31_0x5ed288(_0x14eb12['id']);});_0x4004ca[0x0][_0x2534fc(0x15d)]=0x64,a31_0x4adb6f({'memsColorGotManipulated':!0x0}),a31_0x4adb6f({'topMems':_0x4004ca}),a31_0x4adb6f({'topMem':_0x4004ca[0x0]}),a31_0x4d6954['mems_visNetworkGraph_nodes2'][_0x2534fc(0x16d)](a31_0x4d6954[_0x2534fc(0x143)][_0x2534fc(0x152)](_0x4dccb1=>{const _0x169b18=_0x2534fc;_0x4dccb1['opacity']=_0x4e69c7,_0x4dccb1['borderWidth']=0x0,_0x4dccb1[_0x169b18(0x139)]={..._0x4dccb1['color'],'border':_0x169b18(0x15e)},_0x4dccb1['shapeProperties']={..._0x4dccb1[_0x169b18(0x14e)],'borderDashes':!0x1};const _0x3faaa8=_0x29237d[_0x169b18(0x14a)](_0x4dccb1['id']);return _0x3faaa8?{..._0x4dccb1,..._0x3faaa8}:_0x4dccb1;}));}}async function H(_0x16463a){const _0x179099=a31_0x5ebc;a31_0x930ae7({'content':'editing\x20the\x20mem'}),await a31_0x47bfb3(0x12c),await a31_0x4d0ce0(),_0x16463a[_0x179099(0x147)][_0x179099(0x150)];const _0x2cf29a=await a31_0x30ec1e({'newMemForm':_0x16463a[_0x179099(0x147)],'memBeforeEdit':_0x16463a['prevMem'],'selectedImg':_0x16463a['selectedImg'],'captionTheImg':_0x16463a[_0x179099(0x166)],'generate_customFields_model':_0x16463a[_0x179099(0x147)][_0x179099(0x150)]&&_0x16463a[_0x179099(0x162)]});await a31_0x518aa6(),_0x16463a[_0x179099(0x170)]||await a31_0x439998({'name':_0x179099(0x179),'content':_0x2cf29a[_0x179099(0x14c)]});const _0x203d26=a31_0x37f85e(_0x2cf29a);if(a31_0x4adb6f({'topMem':_0x203d26}),a31_0x138448(_0x179099(0x141))['length']){const _0x2f7455=a31_0x138448(_0x179099(0x141))[_0x179099(0x136)](_0x3e0bb1=>_0x3e0bb1['id']===_0x2cf29a['id']);_0x2f7455!==-0x1&&a31_0x4adb6f({'topMems':[...a31_0x138448(_0x179099(0x141))['toSpliced'](_0x2f7455,0x1),_0x203d26]});}a31_0x930ae7(!0x1),a31_0x5afd20(_0x179099(0x15a));}function a31_0x47a3(){const _0x515218=['push','58079CEbSFr','entries','borderWidth','findIndex','6RrXFUP','includes','color','{}.constructor(\x22return\x20this\x22)(\x20)','apply','sort','searchLimit','similaritySearch_imgCap','title','delete','topMems','mems','mems_visNetworkGraph_nodes2','constructor','bind','toString','newMemForm','isAChunk','max','get','return\x20(function()\x20','title_string','631846BWyDVT','shapeProperties','warn','content','trim','map','sqrt','imgCaption_embedding','text','17534220udiNTk','trace','toLowerCase','find','Dashboard','similaritySearch','18cgglmy','score','cyan','42HdXgGg','error','prototype','generate_customFields_model','log','split','exception','captionTheImg','length','7528675HagcmD','2225262hrUcqd','chunks_ids','info','userInput_LowerCased','update','replaceAll','92320RQEFbt','dontContextAwareModel','reduce','3490920BsyFBu','set','deepContentSearch','userInputVector','tags','content_string','table','user\x20edited\x20a\x20Memory\x20Node','console'];a31_0x47a3=function(){return _0x515218;};return a31_0x47a3();}export{U as a,f as b,N as c,R as d,H as e,P as f,O as g,v as s};