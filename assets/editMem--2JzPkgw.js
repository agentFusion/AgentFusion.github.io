function a30_0x13b9(){const _0x195075=['title','constructor','trim','img','bulkAdd','new_fields','key','{}.constructor(\x22return\x20this\x22)(\x20)','visNetworkConfig','valueOf','imgInternalStoragePath','generate_customFields_model\x20failed','apply','content','keys','error','customFields_user','info','chunkingMode','set','1088294GwPFgU','mems_visNetworkGraph_nodes2','warn','33JGBcDd','prototype','get','16yJhSTx','title_string','value','all_used_category','6WvbdQw','category','mems','captionTheImg','326013eunMml','imgCaption_embedding','2176425ruPWgH','selectedImg','content_string','bind','updateOnly','color','tags','remove','shape','add','isAChunk','length','shared_fields','catch','configs','toLowerCase','chunks_ids','newMemForm','hidden','withImages','parents_id','creationTime','summarization','parents_rel','ranking','customFields_model','1224490VDNDXP','__proto__','memBeforeEdit','toString','generate_customFields_model','773185gxTraY','star','mems_visNetworkGraph_edges2','level','trace','792876EqKLnE','93992vwYeZL','nodes'];a30_0x13b9=function(){return _0x195075;};return a30_0x13b9();}function a30_0x28a7(_0x1022b0,_0x1750cf){const _0x4c2441=a30_0x13b9();return a30_0x28a7=function(_0x174d69,_0x2378ce){_0x174d69=_0x174d69-0x137;let _0x2da2de=_0x4c2441[_0x174d69];return _0x2da2de;},a30_0x28a7(_0x1022b0,_0x1750cf);}(function(_0x40532f,_0x3e6533){const _0x4f26fe=a30_0x28a7,_0x2a5017=_0x40532f();while(!![]){try{const _0x26e1b7=parseInt(_0x4f26fe(0x17f))/0x1+parseInt(_0x4f26fe(0x171))/0x2+-parseInt(_0x4f26fe(0x174))/0x3*(parseInt(_0x4f26fe(0x15b))/0x4)+parseInt(_0x4f26fe(0x155))/0x5*(-parseInt(_0x4f26fe(0x17b))/0x6)+-parseInt(_0x4f26fe(0x15a))/0x7*(parseInt(_0x4f26fe(0x177))/0x8)+parseInt(_0x4f26fe(0x181))/0x9+-parseInt(_0x4f26fe(0x150))/0xa;if(_0x26e1b7===_0x3e6533)break;else _0x2a5017['push'](_0x2a5017['shift']());}catch(_0xf19e14){_0x2a5017['push'](_0x2a5017['shift']());}}}(a30_0x13b9,0x556bd));const a30_0x2378ce=(function(){let _0x30d83c=!![];return function(_0x4dccdb,_0x40f44a){const _0x2991e5=_0x30d83c?function(){const _0x15bbe2=a30_0x28a7;if(_0x40f44a){const _0x1c4fe0=_0x40f44a[_0x15bbe2(0x169)](_0x4dccdb,arguments);return _0x40f44a=null,_0x1c4fe0;}}:function(){};return _0x30d83c=![],_0x2991e5;};}()),a30_0x174d69=a30_0x2378ce(this,function(){const _0x2f582d=a30_0x28a7;let _0x348ac6;try{const _0x4408d3=Function('return\x20(function()\x20'+_0x2f582d(0x164)+');');_0x348ac6=_0x4408d3();}catch(_0x4e3957){_0x348ac6=window;}const _0x2c9f2c=_0x348ac6['console']=_0x348ac6['console']||{},_0x105ef4=['log',_0x2f582d(0x173),_0x2f582d(0x16e),_0x2f582d(0x16c),'exception','table',_0x2f582d(0x159)];for(let _0x3dceae=0x0;_0x3dceae<_0x105ef4[_0x2f582d(0x141)];_0x3dceae++){const _0x41428c=a30_0x2378ce[_0x2f582d(0x15e)][_0x2f582d(0x175)][_0x2f582d(0x139)](a30_0x2378ce),_0x38b6cb=_0x105ef4[_0x3dceae],_0x181914=_0x2c9f2c[_0x38b6cb]||_0x41428c;_0x41428c[_0x2f582d(0x151)]=a30_0x2378ce[_0x2f582d(0x139)](a30_0x2378ce),_0x41428c[_0x2f582d(0x153)]=_0x181914[_0x2f582d(0x153)][_0x2f582d(0x139)](_0x181914),_0x2c9f2c[_0x38b6cb]=_0x41428c;}});a30_0x174d69();import{s as a30_0x265da9,ai as a30_0x578c85,a0 as a30_0x107ea1,u as a30_0x12d2a5,a2 as a30_0xab8735,E as a30_0x1f0e2e}from'./PaperMainTemplate-B8ZNATy_.js';import{A as a30_0x337e94,V as a30_0x1da605,W as a30_0x1d7060,X as a30_0x765c83,Y as a30_0x4a4610,L as a30_0x5ec74e,Z as a30_0x24e6a9,D as a30_0x9bc050,$ as a30_0x38422a,h as a30_0x3429e2,M as a30_0x1f7d75}from'./addImgOrIconToVisNode_-ILRK9xTc.js';import{e as a30_0xc6bffe,s as a30_0x30acf9,t as a30_0x54ff02}from'./index-3Xe6cgck.js';import{s as a30_0x332adf}from'./showToast-CrXMvlug.js';async function K(_0x345c1e){const _0x4f67f7=a30_0x28a7;var _0x30c531,_0x38b866,_0x323e33;const _0x52e8c5=a30_0x265da9[_0x4f67f7(0x17d)][_0x4f67f7(0x176)](_0x345c1e[_0x4f67f7(0x152)]['id']),_0x3e2b63=!a30_0x578c85(_0x345c1e['memBeforeEdit'][_0x4f67f7(0x16d)],_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x16d)]),_0x4e7b75=!a30_0x578c85(_0x345c1e['memBeforeEdit'][_0x4f67f7(0x14a)],_0x345c1e[_0x4f67f7(0x147)]['parents_id'])||!a30_0x578c85(_0x345c1e['memBeforeEdit'][_0x4f67f7(0x14d)],_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x14d)]),_0x570dde=_0x345c1e[_0x4f67f7(0x147)]['title']!==_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x178)],_0x3825b7=_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x16a)]!==_0x345c1e[_0x4f67f7(0x152)]['content_string'],_0x359892=_0x345c1e[_0x4f67f7(0x147)]['category']!==_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x17c)],_0x4a8d64={'title_string':_0x570dde?_0x345c1e['newMemForm']['title']:_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x178)],'content_string':_0x3825b7?_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x16a)]:_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x138)],'title':_0x570dde?await a30_0x337e94({'text':_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x15d)]}):_0x52e8c5[_0x4f67f7(0x15d)],'content':_0x3825b7?await a30_0x337e94({'text':_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x16a)]}):_0x52e8c5[_0x4f67f7(0x16a)],'tags':(_0x38b866=(_0x30c531=_0x345c1e['newMemForm'][_0x4f67f7(0x13c)])==null?void 0x0:_0x30c531[_0x4f67f7(0x15f)]())==null?void 0x0:_0x38b866[_0x4f67f7(0x145)]()['split']('\x20'),'score':_0x52e8c5['score'],'id':_0x52e8c5['id'],'parents_id':_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x14a)],'parents_rel':_0x345c1e['newMemForm']['parents_rel'],'img':null,'favorite':_0x52e8c5['favorite'],'hidden':_0x52e8c5[_0x4f67f7(0x148)],'level':_0x4e7b75?a30_0x1da605(_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x14a)]):_0x52e8c5[_0x4f67f7(0x158)],'ranking':_0x52e8c5[_0x4f67f7(0x14e)],'shape':_0x52e8c5[_0x4f67f7(0x13e)],'star':_0x52e8c5[_0x4f67f7(0x156)],'summarization':_0x52e8c5[_0x4f67f7(0x14c)],'creationTime':_0x52e8c5[_0x4f67f7(0x14b)],'modificationTime':new Date()[_0x4f67f7(0x166)](),'chunks_ids':_0x52e8c5[_0x4f67f7(0x146)],'isAChunk':_0x52e8c5[_0x4f67f7(0x140)],'imgCaption_embedding':_0x52e8c5[_0x4f67f7(0x180)],'imgCaption_string':_0x52e8c5['imgCaption_string'],'customFields_user':_0x345c1e[_0x4f67f7(0x147)][_0x4f67f7(0x16d)],'customFields_model':_0x52e8c5[_0x4f67f7(0x14f)],'category':_0x359892?_0x345c1e[_0x4f67f7(0x147)]['category']:_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x17c)]},_0x442984=(_0x323e33=_0x345c1e['newMemForm']['img'])==null?void 0x0:_0x323e33[_0x4f67f7(0x15f)](),_0x4da8d2=_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x160)]!==_0x442984||!!_0x345c1e[_0x4f67f7(0x137)];let _0x3989c8=null,_0x13395c=null;if(_0x4da8d2){if(_0x345c1e['selectedImg']){const _0x1b4f52=await a30_0x107ea1(_0x345c1e['selectedImg']);if(_0x3989c8=await a30_0x1d7060(_0x1b4f52),_0x13395c=a30_0x12d2a5[_0x4f67f7(0x144)][_0x4f67f7(0x167)]+'/'+_0x52e8c5['id'],_0x4a8d64[_0x4f67f7(0x160)]=_0x13395c,_0x345c1e[_0x4f67f7(0x17e)]){const _0x11e5e1=await a30_0x765c83({'img':new Blob([_0x3989c8],{'type':'image/png'})});_0x4a8d64['imgCaption_string']=_0x11e5e1,_0x4a8d64[_0x4f67f7(0x180)]=_0x11e5e1?await a30_0x337e94({'text':_0x11e5e1}):null;}}else _0x4a8d64[_0x4f67f7(0x160)]=_0x442984;}else _0x4a8d64[_0x4f67f7(0x160)]=_0x345c1e[_0x4f67f7(0x152)][_0x4f67f7(0x160)];let _0x10f19d=[];_0x3825b7&&(_0x10f19d=await a30_0x4a4610({'newMem':_0x4a8d64,'strategy':_0x345c1e[_0x4f67f7(0x16f)]??null}),_0x4a8d64['chunks_ids']=_0x10f19d['map'](_0x156c06=>_0x156c06['id']));let _0x330885=await a30_0xc6bffe('all_used_Fields')??{};if(_0x3e2b63?_0x330885=await a30_0x5ec74e({'keys':Object[_0x4f67f7(0x16b)](_0x52e8c5[_0x4f67f7(0x16d)]),'sharedFileds':_0x330885}):_0x330885=await a30_0x5ec74e({'keys':Object[_0x4f67f7(0x16b)](_0x4a8d64[_0x4f67f7(0x16d)]),'sharedFileds':_0x330885}),_0x3825b7&&_0x345c1e[_0x4f67f7(0x154)]){_0x330885=await a30_0x5ec74e({'keys':Object['keys'](_0x52e8c5[_0x4f67f7(0x14f)]),'sharedFileds':_0x330885});const {res:_0x13d24a}=await a30_0x24e6a9({'content':_0x4a8d64[_0x4f67f7(0x138)],'all_used_Fields':new Set(Object[_0x4f67f7(0x16b)](_0x330885)),'reservedFieldsThatModelShouldNotUse':[...a30_0x9bc050]});if(!_0x13d24a)throw _0x4f67f7(0x168);if(!_0x13d24a||!('shared_fields'in _0x13d24a))throw'';const _0x573268=[..._0x13d24a[_0x4f67f7(0x142)],..._0x13d24a[_0x4f67f7(0x162)]],_0x3e570f={};for(let _0x3917a6=0x0;_0x3917a6<_0x573268[_0x4f67f7(0x141)];_0x3917a6++){const _0x4506ca=_0x573268[_0x3917a6];_0x3e570f[_0x4506ca[_0x4f67f7(0x163)]]=_0x4506ca[_0x4f67f7(0x179)];}_0x330885=await a30_0x38422a({'keys':Object[_0x4f67f7(0x16b)](_0x3e570f),'sharedFileds':_0x330885}),_0x4a8d64[_0x4f67f7(0x14f)]=_0x3e570f;}_0x330885=await a30_0x38422a({'keys':Object['keys'](_0x4a8d64[_0x4f67f7(0x16d)]),'sharedFileds':_0x330885});let _0xcd5973=await a30_0xc6bffe(_0x4f67f7(0x17a))??{};_0x359892&&(_0x330885=await a30_0x5ec74e({'keys':[_0x4a8d64[_0x4f67f7(0x17c)]],'sharedFileds':_0xcd5973}),_0xcd5973=await a30_0x38422a({'keys':[_0x4a8d64[_0x4f67f7(0x17c)]],'sharedFileds':_0xcd5973}));const _0x7ddbce=_0x4a8d64['id'];if(a30_0x265da9['mems'][_0x4f67f7(0x170)](_0x7ddbce,_0x4a8d64),await a30_0x12d2a5['db'][_0x4f67f7(0x17d)]['delete'](_0x4a8d64['id']),await a30_0x12d2a5['db'][_0x4f67f7(0x17d)][_0x4f67f7(0x13f)](_0x4a8d64,_0x4a8d64['id']),_0x3825b7){for(let _0x4e467c=0x0;_0x4e467c<_0x10f19d[_0x4f67f7(0x141)];_0x4e467c++){const _0x3bb32b=_0x10f19d[_0x4e467c];a30_0x265da9['memsChunks'][_0x4f67f7(0x170)](_0x3bb32b['id'],_0x3bb32b);}await a30_0x12d2a5['db']['memsChunks'][_0x4f67f7(0x161)](_0x10f19d),await a30_0x30acf9({'all_used_Fields':_0x330885});}await a30_0x30acf9({'all_used_Fields':_0x330885}),_0x359892&&await a30_0x30acf9({'all_used_category':_0xcd5973}),_0x4da8d2&&_0x345c1e[_0x4f67f7(0x137)]&&await a30_0xab8735(_0x13395c,_0x3989c8)[_0x4f67f7(0x143)](_0x3cd8d8=>{a30_0x332adf({'type':'alert','content':a30_0x54ff02('something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue')});});const _0x43496a=a30_0x12d2a5[_0x4f67f7(0x172)][_0x4f67f7(0x176)](_0x7ddbce);let _0x28c416={...a30_0x1f0e2e(_0x4f67f7(0x165))[_0x4f67f7(0x15c)],..._0x43496a,'id':_0x7ddbce,'label':_0x4a8d64[_0x4f67f7(0x178)],'level':_0x4a8d64['level'],'color':{..._0x43496a[_0x4f67f7(0x13b)],'background':'green'}};if(a30_0x1f0e2e(_0x4f67f7(0x165))[_0x4f67f7(0x149)]&&_0x4da8d2&&(_0x28c416=await a30_0x3429e2({'img':_0x4a8d64[_0x4f67f7(0x160)],'node':_0x28c416})),a30_0x12d2a5[_0x4f67f7(0x172)][_0x4f67f7(0x13a)]({'id':_0x4a8d64['id'],..._0x28c416}),_0x28c416[_0x4f67f7(0x158)],_0x4e7b75){const _0x18921e=a30_0x1f7d75(_0x345c1e[_0x4f67f7(0x152)]);try{a30_0x12d2a5[_0x4f67f7(0x157)][_0x4f67f7(0x13d)](_0x18921e);}catch{}const _0x2358bd=a30_0x1f7d75(_0x4a8d64);try{a30_0x12d2a5[_0x4f67f7(0x157)]['update'](_0x2358bd);}catch{}return _0x4a8d64;}return _0x4a8d64;}export{K as e};