(function(_0x510052,_0x4a3690){const _0x129375=a31_0x40ad,_0x33210e=_0x510052();while(!![]){try{const _0x103f9f=parseInt(_0x129375(0xd4))/0x1*(-parseInt(_0x129375(0xc8))/0x2)+-parseInt(_0x129375(0xc4))/0x3+-parseInt(_0x129375(0xeb))/0x4+-parseInt(_0x129375(0xee))/0x5*(-parseInt(_0x129375(0xe8))/0x6)+-parseInt(_0x129375(0xa8))/0x7+-parseInt(_0x129375(0xc1))/0x8+parseInt(_0x129375(0xef))/0x9;if(_0x103f9f===_0x4a3690)break;else _0x33210e['push'](_0x33210e['shift']());}catch(_0x22b974){_0x33210e['push'](_0x33210e['shift']());}}}(a31_0x845c,0xa7b94));const a31_0x5c9f33=(function(){let _0x134376=!![];return function(_0x3bffe7,_0x1aaf94){const _0x66dffb=_0x134376?function(){const _0x394dd1=a31_0x40ad;if(_0x1aaf94){const _0x2c0625=_0x1aaf94[_0x394dd1(0xb5)](_0x3bffe7,arguments);return _0x1aaf94=null,_0x2c0625;}}:function(){};return _0x134376=![],_0x66dffb;};}()),a31_0x303e5c=a31_0x5c9f33(this,function(){const _0xdd9459=a31_0x40ad,_0x100fa0=function(){const _0x2dcd27=a31_0x40ad;let _0x2dbb5d;try{_0x2dbb5d=Function(_0x2dcd27(0xd2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x355965){_0x2dbb5d=window;}return _0x2dbb5d;},_0x102b6b=_0x100fa0(),_0x136468=_0x102b6b[_0xdd9459(0xed)]=_0x102b6b[_0xdd9459(0xed)]||{},_0x1c8dbc=[_0xdd9459(0xc7),_0xdd9459(0xd8),'info',_0xdd9459(0xd9),'exception',_0xdd9459(0xbc),_0xdd9459(0xd3)];for(let _0x675980=0x0;_0x675980<_0x1c8dbc[_0xdd9459(0xc2)];_0x675980++){const _0x3925e3=a31_0x5c9f33['constructor'][_0xdd9459(0xaa)][_0xdd9459(0xf1)](a31_0x5c9f33),_0x24b746=_0x1c8dbc[_0x675980],_0x24b52e=_0x136468[_0x24b746]||_0x3925e3;_0x3925e3[_0xdd9459(0xbf)]=a31_0x5c9f33[_0xdd9459(0xf1)](a31_0x5c9f33),_0x3925e3['toString']=_0x24b52e[_0xdd9459(0xce)]['bind'](_0x24b52e),_0x136468[_0x24b746]=_0x3925e3;}});a31_0x303e5c();function a31_0x40ad(_0x1cf665,_0x4cf5c0){const _0x161eb6=a31_0x845c();return a31_0x40ad=function(_0x303e5c,_0x5c9f33){_0x303e5c=_0x303e5c-0xa8;let _0x450349=_0x161eb6[_0x303e5c];return _0x450349;},a31_0x40ad(_0x1cf665,_0x4cf5c0);}import{J as a31_0x4e52be,ar as a31_0x35ad4f}from'./index-3u-0PFJs.js';function a31_0x845c(){const _0x36b1e3=['findIndex','split','find','selectedImg','score','dontContextAwareModel','12ITEgkt','shapeProperties','mems','4574908IbMvhN','editing\x20the\x20mem','console','1838515JeNSUJ','44654688jzSVLu','Dashboard','bind','chunks_ids','4717713zhnqjU','topMems','prototype','captionTheImg','set','imgCaption_string','reduce','generate_customFields_model','isAChunk','trim','color','mems_visNetworkGraph_nodes2','toSpliced','apply','from','content','replaceAll','newMemForm','cyan','borderWidth','table','sqrt','tags','__proto__','toLowerCase','10769640xPTsvT','length','imgCaption_embedding','3603360sUQdKY','map','max','log','38uoHOXi','content_string','prevMem','deepContentSearch','title_string','push','toString','update','includes','title','return\x20(function()\x20','trace','33949pFRYnx','searchLimit','sort','entries','warn','error','text','similaritySearch','input','opacity','delete','user\x20edited\x20a\x20Memory\x20Node','userInput_LowerCased','userInputVector'];a31_0x845c=function(){return _0x36b1e3;};return a31_0x845c();}import{r as a31_0x30f8ff,x as a31_0x2244f1,a as a31_0x4e8fb4,f as a31_0x67ba8b,c as a31_0x1b8ca1,e as a31_0x5d1ba6,d as a31_0x1702c7,P as a31_0x4c9b45,g as a31_0x4e5aa0}from'./addImgOrIconToVisNode_-CTmU_rfz.js';import{s as a31_0x24e1bf,u as a31_0x16b8f4,d as a31_0x18b677,i as a31_0x41542f}from'./PaperMainTemplate-BHbNrcdI.js';import{e as a31_0x1c54c9}from'./editMem-BES0U50n.js';function O(_0x27257d){const _0x376365=a31_0x40ad;return _0x27257d[_0x376365(0xb1)]()[_0x376365(0xb8)]('\x20\x20','\x20')[_0x376365(0xb8)]('\x20\x20','\x20')['replaceAll']('\x0a\x0a','\x0a');}function B(_0x89c76d){const _0x1798db=a31_0x40ad;return _0x89c76d[_0x1798db(0xb1)]()['replaceAll']('\x20\x20','\x20')['replaceAll']('\x0a\x0a','\x20')[_0x1798db(0xb8)]('\x0a','.');}function f(_0xe86cab,_0x5d602c){const _0x1efa40=a31_0x40ad;return _0xe86cab[_0x1efa40(0xae)]((_0x47854c,_0x3a9652,_0x20c2e9)=>_0x47854c+_0x3a9652*_0x5d602c[_0x20c2e9],0x0)/(Math[_0x1efa40(0xbd)](_0xe86cab[_0x1efa40(0xae)]((_0x322082,_0x40a934)=>_0x322082+_0x40a934*_0x40a934,0x0))*Math[_0x1efa40(0xbd)](_0x5d602c[_0x1efa40(0xae)]((_0x1e46a9,_0x4e4af3)=>_0x1e46a9+_0x4e4af3*_0x4e4af3,0x0)));}async function N(_0x4e2d25){const _0x24d7bd=a31_0x40ad;var _0x4cb70c;for(const [_0x3b70ef,_0x55ee47]of a31_0x4e52be['mems']){let _0x30a3fd=0x0,_0x472519=0x0,_0x29e1f0=0x0;if(_0x55ee47[_0x24d7bd(0xc9)]){if(_0x4e2d25[_0x24d7bd(0xdb)]){const _0x383aa2=f(_0x55ee47['content'],_0x4e2d25[_0x24d7bd(0xe1)]);if(_0x29e1f0+=_0x383aa2,_0x4e2d25[_0x24d7bd(0xcb)])for(let _0x85bb5e=0x0;_0x85bb5e<_0x55ee47[_0x24d7bd(0xf2)]['length'];_0x85bb5e++){const _0x3e5e72=_0x55ee47[_0x24d7bd(0xf2)][_0x85bb5e],_0x1062c1=a31_0x30f8ff(_0x3e5e72);_0x1062c1&&_0x1062c1['content']&&(_0x29e1f0+=f(_0x1062c1[_0x24d7bd(0xb7)],_0x4e2d25['userInputVector']));}}_0x55ee47['title_string'];}let _0x2a6ba8=0x0;if(_0x4e2d25['similaritySearch_imgCap']&&_0x55ee47[_0x24d7bd(0xad)]&&_0x55ee47[_0x24d7bd(0xc3)]['length']){const _0x153523=f(_0x55ee47[_0x24d7bd(0xc3)],_0x4e2d25[_0x24d7bd(0xe1)]);_0x2a6ba8+=_0x153523,_0x55ee47['title_string'];}const _0x550193=_0x55ee47[_0x24d7bd(0xcc)][_0x24d7bd(0xc0)]()[_0x24d7bd(0xb1)]();let _0x5f2a6a=0x0;const _0x23e554=new Set(_0x550193[_0x24d7bd(0xe3)]('\x20')),_0x387072=_0x4e2d25[_0x24d7bd(0xe0)][_0x24d7bd(0xe3)]('\x20');for(const _0x167434 of _0x387072)_0x23e554['has'](_0x167434)&&(_0x5f2a6a+=0.1,_0x23e554[_0x24d7bd(0xde)](_0x167434));if(_0x550193&&(_0x4e2d25['userInput_LowerCased']===_0x550193?_0x30a3fd+=0.9:_0x550193[_0x24d7bd(0xd0)](_0x4e2d25[_0x24d7bd(0xe0)])?_0x30a3fd+=0.8:_0x4e2d25[_0x24d7bd(0xdb)]&&(_0x30a3fd+=f(_0x55ee47[_0x24d7bd(0xd1)],_0x4e2d25[_0x24d7bd(0xe1)]))),_0x55ee47['tags'])for(let _0x18a5df=0x0;_0x18a5df<((_0x4cb70c=_0x55ee47['tags'])==null?void 0x0:_0x4cb70c[_0x24d7bd(0xc2)]);_0x18a5df++){const _0x159644=_0x55ee47[_0x24d7bd(0xbe)][_0x18a5df][_0x24d7bd(0xc0)]();_0x159644[_0x24d7bd(0xb1)]()&&_0x159644['includes'](_0x4e2d25[_0x24d7bd(0xe0)])&&(_0x472519+=0.1);}const _0x571486=_0x30a3fd+_0x29e1f0+_0x472519+_0x5f2a6a+_0x2a6ba8;_0x55ee47[_0x24d7bd(0xe6)]=_0x571486;}a31_0x4e52be['mems'],a31_0x4e52be[_0x24d7bd(0xea)]=new Map(Array[_0x24d7bd(0xb6)](a31_0x4e52be[_0x24d7bd(0xea)][_0x24d7bd(0xd7)]())[_0x24d7bd(0xd6)]((_0x436c51,_0x3bf3b5)=>_0x3bf3b5[0x1][_0x24d7bd(0xe6)]-_0x436c51[0x1][_0x24d7bd(0xe6)]));}async function P(_0x52d90a){const _0x52093d=a31_0x40ad;var _0x465b4e;let _0x3f8a23=_0x52d90a[_0x52093d(0xdc)][_0x52093d(0xc0)]();const _0x2ac0ef=0xa;if(_0x3f8a23=B(_0x3f8a23),!_0x3f8a23)return[];let _0x589985=[];if(_0x3f8a23[0x0]!=='.'){if(_0x3f8a23[0x0]==='@'){if(_0x3f8a23=_0x3f8a23[_0x52093d(0xe3)]('@')[0x1],!_0x3f8a23)return[];let _0x15e56b=0x0;for(const [_0x16f363,_0x3d6505]of a31_0x4e52be[_0x52093d(0xea)])if(!_0x3d6505[_0x52093d(0xb0)]&&_0x3d6505[_0x52093d(0xcc)]['toLowerCase']()['includes'](_0x3f8a23)&&(_0x3d6505[_0x52093d(0xe6)]=0x1,_0x589985[_0x52093d(0xcd)](_0x3d6505),++_0x15e56b>_0x2ac0ef))break;}else{if(_0x3f8a23[0x0]==='#'){if(_0x3f8a23=_0x3f8a23[_0x52093d(0xe3)]('#')[0x1],!_0x3f8a23)return[];let _0xd542d7=0x0;for(const [_0x11eeed,_0x56a0b8]of a31_0x4e52be[_0x52093d(0xea)])if(!_0x56a0b8[_0x52093d(0xb0)]&&((_0x465b4e=_0x56a0b8[_0x52093d(0xbe)])!=null&&_0x465b4e[_0x52093d(0xe4)](_0x1b69d3=>_0x1b69d3['toLowerCase']()[_0x52093d(0xd0)](_0x3f8a23)))&&(_0x56a0b8['score']=0x1,_0x589985[_0x52093d(0xcd)](_0x56a0b8),++_0xd542d7>_0x2ac0ef))break;}else{const _0x3fa88e=await a31_0x2244f1({'text':_0x3f8a23});await N({'userInputVector':_0x3fa88e,'userInput_LowerCased':_0x3f8a23,'similaritySearch':!0x0,'deepContentSearch':!0x0,'similaritySearch_imgCap':!0x0});let _0x22ef14=0x0;for(const [_0x460450,_0x20d7cf]of a31_0x4e52be['mems'])if(_0x589985[_0x52093d(0xcd)](_0x20d7cf),++_0x22ef14>_0x2ac0ef)break;}}}return _0x589985['length']?(_0x589985[0x0]['title_string'],_0x589985[0x0][_0x52093d(0xe6)],_0x589985[_0x52093d(0xc5)](_0x354e8a=>a31_0x4e8fb4(_0x354e8a['id']))):[];}function R(_0x50f5b3){const _0x36fcc8=a31_0x40ad;let _0x3c57ee=0x0,_0x4d8a0a=[];for(const [_0x29831a,_0x5b4b05]of a31_0x4e52be[_0x36fcc8(0xea)])if(_0x5b4b05[_0x36fcc8(0xc9)]&&(_0x4d8a0a['push'](_0x5b4b05),++_0x3c57ee>_0x50f5b3[_0x36fcc8(0xd5)]))break;return _0x4d8a0a;}async function U(_0x481615){const _0x46356d=a31_0x40ad,_0x51b9b2=await P({'input':_0x481615[_0x46356d(0xda)]});_0x481615['dontSet_userInputSearchBox']?a31_0x24e1bf({'userInputSearchBox':''}):a31_0x24e1bf({'userInputSearchBox':_0x481615[_0x46356d(0xda)]}),v({'mems':_0x51b9b2});}function v(_0x3e7ef2){const _0x418daa=a31_0x40ad;var _0x2d391f;if(!((_0x2d391f=_0x3e7ef2[_0x418daa(0xea)])!=null&&_0x2d391f[_0x418daa(0xc2)]))a31_0x24e1bf({'topMems':[]}),a31_0x24e1bf({'memsColorGotManipulated':!0x1}),a31_0x24e1bf({'userInputSearchBox':''}),a31_0x16b8f4[_0x418daa(0xb3)][_0x418daa(0xcf)](a31_0x16b8f4[_0x418daa(0xb3)][_0x418daa(0xc5)](_0x12f0a8=>(_0x12f0a8[_0x418daa(0xdd)]=0x1,_0x12f0a8['borderWidth']=0x0,_0x12f0a8[_0x418daa(0xb2)]={..._0x12f0a8['color'],'border':_0x418daa(0xba)},_0x12f0a8[_0x418daa(0xe9)]={..._0x12f0a8[_0x418daa(0xe9)],'borderDashes':!0x1},_0x12f0a8)));else{const _0x11e336=new Map(),_0x5a1f3b=0.05;_0x3e7ef2[_0x418daa(0xea)][0x0]['score']=0x64;const _0x2ddb62=Math[_0x418daa(0xc6)](..._0x3e7ef2['mems'][_0x418daa(0xc5)](_0x189c2e=>_0x189c2e['score']===0x64?0x0:_0x189c2e[_0x418daa(0xe6)])),_0x367d6b=_0x3e7ef2[_0x418daa(0xea)][_0x418daa(0xc5)](_0x453141=>{const _0x2b6ef7=_0x418daa;if(_0x453141['score']===0x64)_0x11e336[_0x2b6ef7(0xac)](_0x453141['id'],{'id':_0x453141['id'],'borderWidth':0x3,'color':{'border':a31_0x35ad4f},'shapeProperties':{'borderDashes':!0x0},'opacity':0x1});else{let _0x5418a8=_0x2ddb62?_0x453141[_0x2b6ef7(0xe6)]/_0x2ddb62+_0x5a1f3b:_0x5a1f3b;_0x5418a8=_0x5418a8>=0x1?0x1:_0x5418a8,_0x5418a8=_0x5418a8<=_0x5a1f3b?_0x5a1f3b:_0x5418a8,_0x11e336[_0x2b6ef7(0xac)](_0x453141['id'],{'id':_0x453141['id'],'borderWidth':0x1,'color':{'border':_0x2b6ef7(0xba)},'opacity':_0x5418a8});}return a31_0x4e8fb4(_0x453141['id']);});_0x367d6b[0x0]['score']=0x64,a31_0x24e1bf({'memsColorGotManipulated':!0x0}),a31_0x24e1bf({'topMems':_0x367d6b}),a31_0x24e1bf({'topMem':_0x367d6b[0x0]}),a31_0x16b8f4[_0x418daa(0xb3)][_0x418daa(0xcf)](a31_0x16b8f4[_0x418daa(0xb3)]['map'](_0x4594aa=>{const _0x34670c=_0x418daa;_0x4594aa[_0x34670c(0xdd)]=_0x5a1f3b,_0x4594aa[_0x34670c(0xbb)]=0x0,_0x4594aa[_0x34670c(0xb2)]={..._0x4594aa['color'],'border':'cyan'},_0x4594aa[_0x34670c(0xe9)]={..._0x4594aa[_0x34670c(0xe9)],'borderDashes':!0x1};const _0x201883=_0x11e336['get'](_0x4594aa['id']);return _0x201883?{..._0x4594aa,..._0x201883}:_0x4594aa;}));}}async function H(_0x423d2c){const _0x4a9f46=a31_0x40ad;a31_0x67ba8b({'content':_0x4a9f46(0xec)}),await a31_0x18b677(0x12c),await a31_0x1b8ca1(),_0x423d2c[_0x4a9f46(0xb9)][_0x4a9f46(0xb7)];const _0x5841a4=await a31_0x1c54c9({'newMemForm':_0x423d2c['newMemForm'],'memBeforeEdit':_0x423d2c[_0x4a9f46(0xca)],'selectedImg':_0x423d2c[_0x4a9f46(0xe5)],'captionTheImg':_0x423d2c[_0x4a9f46(0xab)],'generate_customFields_model':_0x423d2c[_0x4a9f46(0xb9)][_0x4a9f46(0xb7)]&&_0x423d2c[_0x4a9f46(0xaf)]});await a31_0x5d1ba6(),_0x423d2c[_0x4a9f46(0xe7)]||await a31_0x1702c7({'name':_0x4a9f46(0xdf),'content':_0x5841a4[_0x4a9f46(0xcc)]});const _0x1413a1=a31_0x4c9b45(_0x5841a4);if(a31_0x24e1bf({'topMem':_0x1413a1}),a31_0x41542f(_0x4a9f46(0xa9))[_0x4a9f46(0xc2)]){const _0x37f343=a31_0x41542f(_0x4a9f46(0xa9))[_0x4a9f46(0xe2)](_0x26b180=>_0x26b180['id']===_0x5841a4['id']);_0x37f343!==-0x1&&a31_0x24e1bf({'topMems':[...a31_0x41542f(_0x4a9f46(0xa9))[_0x4a9f46(0xb4)](_0x37f343,0x1),_0x1413a1]});}a31_0x67ba8b(!0x1),a31_0x4e5aa0(_0x4a9f46(0xf0));}export{U as a,f as b,N as c,R as d,H as e,P as f,O as g,v as s};