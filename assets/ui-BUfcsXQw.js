(function(_0xe6f32f,_0x2039e5){const _0x3296d3=a43_0x4dd8,_0x29008a=_0xe6f32f();while(!![]){try{const _0x4b335c=-parseInt(_0x3296d3(0x165))/0x1+-parseInt(_0x3296d3(0x17c))/0x2+-parseInt(_0x3296d3(0x16d))/0x3+-parseInt(_0x3296d3(0x152))/0x4*(parseInt(_0x3296d3(0x14f))/0x5)+-parseInt(_0x3296d3(0x173))/0x6*(-parseInt(_0x3296d3(0x159))/0x7)+-parseInt(_0x3296d3(0x181))/0x8*(-parseInt(_0x3296d3(0x15b))/0x9)+parseInt(_0x3296d3(0x189))/0xa;if(_0x4b335c===_0x2039e5)break;else _0x29008a['push'](_0x29008a['shift']());}catch(_0x3fcaaa){_0x29008a['push'](_0x29008a['shift']());}}}(a43_0x2507,0x3072d));const a43_0x3900a2=(function(){let _0x1245a9=!![];return function(_0x8d29d2,_0x3cf47b){const _0x57b5ae=_0x1245a9?function(){const _0x81cfe3=a43_0x4dd8;if(_0x3cf47b){const _0x29169a=_0x3cf47b[_0x81cfe3(0x168)](_0x8d29d2,arguments);return _0x3cf47b=null,_0x29169a;}}:function(){};return _0x1245a9=![],_0x57b5ae;};}()),a43_0xf6d2e7=a43_0x3900a2(this,function(){const _0x5ae4c6=a43_0x4dd8;let _0x17fd77;try{const _0x5691e9=Function(_0x5ae4c6(0x15f)+_0x5ae4c6(0x184)+');');_0x17fd77=_0x5691e9();}catch(_0x37cb1c){_0x17fd77=window;}const _0x527448=_0x17fd77[_0x5ae4c6(0x167)]=_0x17fd77['console']||{},_0x16412b=[_0x5ae4c6(0x161),_0x5ae4c6(0x15e),_0x5ae4c6(0x169),_0x5ae4c6(0x16b),_0x5ae4c6(0x177),_0x5ae4c6(0x17f),_0x5ae4c6(0x185)];for(let _0x25e181=0x0;_0x25e181<_0x16412b['length'];_0x25e181++){const _0x26a585=a43_0x3900a2[_0x5ae4c6(0x151)]['prototype'][_0x5ae4c6(0x157)](a43_0x3900a2),_0xd1f031=_0x16412b[_0x25e181],_0x566e92=_0x527448[_0xd1f031]||_0x26a585;_0x26a585['__proto__']=a43_0x3900a2[_0x5ae4c6(0x157)](a43_0x3900a2),_0x26a585[_0x5ae4c6(0x15c)]=_0x566e92[_0x5ae4c6(0x15c)][_0x5ae4c6(0x157)](_0x566e92),_0x527448[_0xd1f031]=_0x26a585;}});a43_0xf6d2e7();import{K as a43_0x2850f7,r as a43_0x527279,j as a43_0x1effa5,L as a43_0x54eaf8,H as a43_0x41ddcd}from'./index-9vUw0lHj.js';import{R as a43_0x376705,B as a43_0x221f20,l as a43_0x449861}from'./PaperMainTemplate-hT3Z62lC.js';import{T as a43_0x23d88d}from'./TextInput-DBqzp0Hw.js';import{u as a43_0x12f200,i as a43_0x357522}from'./importProduced_nodes_flat_toApp-BRINuJ09.js';import{s as a43_0x63f19}from'./showToast-rfn9H4O-.js';function a43_0x4dd8(_0x3e2fd0,_0x3de7ef){const _0x5886f1=a43_0x2507();return a43_0x4dd8=function(_0xf6d2e7,_0x3900a2){_0xf6d2e7=_0xf6d2e7-0x144;let _0xf6b499=_0x5886f1[_0xf6d2e7];return _0xf6b499;},a43_0x4dd8(_0x3e2fd0,_0x3de7ef);}import{s as a43_0x3f6218}from'./addImgOrIconToVisNode_-BeOWRAB0.js';import{F}from'./FileSelector-BYffTL3J.js';import'./index-DS5TvzQV.js';async function D(_0x5a3ee3){const _0x577fe0=a43_0x4dd8,_0x2f9955=_0x5a3ee3[_0x577fe0(0x176)][_0x577fe0(0x183)]('\x0a'),_0x1cbb30=_0x2f9955[_0x577fe0(0x160)]()[_0x577fe0(0x183)](','),_0x33d1df={'id':_0x5a3ee3[_0x577fe0(0x171)]['id']||'id','title':_0x5a3ee3[_0x577fe0(0x171)]['title']||'title','content':_0x5a3ee3['mappingFileds'][_0x577fe0(0x155)]||_0x577fe0(0x155),'tags':_0x5a3ee3[_0x577fe0(0x171)][_0x577fe0(0x188)]||_0x577fe0(0x188),'img':_0x5a3ee3[_0x577fe0(0x171)][_0x577fe0(0x186)]||_0x577fe0(0x186)},_0x5ce254=_0x1cbb30[_0x577fe0(0x172)](_0x3251ec=>_0x3251ec==_0x33d1df['id']),_0xb2bb03=_0x1cbb30['findIndex'](_0xaf3d6=>_0xaf3d6==_0x33d1df[_0x577fe0(0x150)]),_0x40a652=_0x1cbb30[_0x577fe0(0x172)](_0x1185c9=>_0x1185c9==_0x33d1df[_0x577fe0(0x155)]),_0x17c41c=_0x1cbb30[_0x577fe0(0x172)](_0xf0f7c0=>_0xf0f7c0==_0x33d1df[_0x577fe0(0x188)]),_0x5f05d2=_0x1cbb30['findIndex'](_0x26d332=>_0x26d332==_0x33d1df[_0x577fe0(0x186)]);if(_0xb2bb03==-0x1||_0x40a652==-0x1||_0x17c41c==-0x1||_0x5f05d2==-0x1||_0x5a3ee3['userDataHaveId']&&_0x5ce254==-0x1)throw'missingHeaders';const _0x1e875=[];for(let _0x60d49d=0x0;_0x60d49d<_0x2f9955[_0x577fe0(0x16a)];_0x60d49d++){const _0x2bd012=_0x2f9955[_0x60d49d];if(!_0x2bd012)continue;const _0xd218e8=_0x2bd012[_0x577fe0(0x183)](',');if(!_0xd218e8)continue;if(_0x5a3ee3[_0x577fe0(0x16c)]&&!_0xd218e8[_0x5ce254]||!_0x5a3ee3[_0x577fe0(0x16c)]&&!_0xd218e8[_0xb2bb03])throw _0x577fe0(0x170);const _0x22f591=_0x5a3ee3['userDataHaveId']?_0xd218e8[_0x5ce254]:_0xd218e8[_0xb2bb03],_0x3fa18a=_0x5a3ee3[_0x577fe0(0x15a)][_0x577fe0(0x145)](_0x57e7da=>_0x57e7da['to']==_0x22f591);_0x1e875[_0x577fe0(0x179)]({'id':_0xd218e8[_0x5ce254],'title':_0xd218e8[_0xb2bb03],'content':_0xd218e8[_0x40a652],'tags':_0xd218e8[_0x17c41c],'img':_0xd218e8[_0x5f05d2],'parents_id':_0x3fa18a[_0x577fe0(0x144)](_0x43a246=>_0x43a246[_0x577fe0(0x14a)]),'parents_rel':_0x3fa18a[_0x577fe0(0x144)](_0x52011d=>_0x52011d[_0x577fe0(0x147)]??''),'category':'general','customFields_user':{}});}return{'nodes_flat':_0x1e875,'finalMap':_0x33d1df};}function a43_0x2507(){const _0x143426=['211006loyzOT','finalMap','jsxs','table','load\x20edges','407064DFZyqz','something\x20went\x20wrong\x20when\x20trying\x20to\x20import\x20data!','split','{}.constructor(\x22return\x20this\x22)(\x20)','trace','img','import','tags','7992180bHuLnT','xnaasdq31_failed','map','filter','text2','relation','relation\x20field\x20name\x20','edges_raw','from','id\x20field\x20from\x20','withUi','useState','destination\x20field\x20name\x20','5DDzlEp','title','constructor','1249076CeEBSg','fileds\x20will\x20be\x20mapped\x20like\x20this:','img\x20field\x20from\x20','content','mappingFileds_edges','bind','source\x20field\x20name','28DZAPxV','edges','9aJZHBN','toString','userInputs','warn','return\x20(function()\x20','shift','log','load\x20nodes','nodes_flat','missingHeaders','225385JpIlDB','alert','console','apply','info','length','error','userDataHaveId','147141LaHZMm','tags\x20field\x20from\x20','jsx','missingFields','mappingFileds','findIndex','60822MkbSLB','mappingFileds_withoutParentId','title\x20field\x20from\x20','text','exception','chunkingMode','push','Fragment','start\x20importing'];a43_0x2507=function(){return _0x143426;};return a43_0x2507();}async function S(_0x48e7a6){const _0x31bf48=a43_0x4dd8,_0x2281df=_0x48e7a6[_0x31bf48(0x146)][_0x31bf48(0x183)]('\x0a'),_0x9c16e3=_0x2281df[_0x31bf48(0x160)]()[_0x31bf48(0x183)](','),_0x4f71c1={'from':_0x48e7a6[_0x31bf48(0x156)][_0x31bf48(0x14a)]||_0x31bf48(0x14a),'to':_0x48e7a6[_0x31bf48(0x156)]['to']||'to','relation':_0x48e7a6[_0x31bf48(0x156)][_0x31bf48(0x147)]||_0x31bf48(0x147)},_0x5b87c3=_0x9c16e3[_0x31bf48(0x172)](_0x561dce=>_0x561dce==_0x4f71c1[_0x31bf48(0x14a)]),_0x369829=_0x9c16e3['findIndex'](_0xc6eb4f=>_0xc6eb4f==_0x4f71c1['to']),_0x1bf1d1=_0x9c16e3['findIndex'](_0x5979ff=>_0x5979ff==_0x4f71c1[_0x31bf48(0x147)]);if(_0x5b87c3==-0x1||_0x369829==-0x1||_0x1bf1d1==-0x1)throw _0x31bf48(0x164);const _0x4af4a9=[];for(let _0x2dd038=0x0;_0x2dd038<_0x2281df[_0x31bf48(0x16a)];_0x2dd038++){const _0x1fa0f8=_0x2281df[_0x2dd038];if(!_0x1fa0f8)continue;const _0x456425=_0x1fa0f8['split'](',');if(_0x456425){if(!_0x456425[_0x5b87c3]||!_0x456425[_0x369829]||!_0x456425[_0x1bf1d1])throw'missingFields';_0x4af4a9['push']({'from':_0x456425[_0x5b87c3],'to':_0x456425[_0x369829],'relation':_0x456425[_0x1bf1d1]});}}return{'edges_raw':_0x4af4a9,'finalMap_edges':_0x4f71c1};}async function k(_0x13d887){const _0x1d2f3a=a43_0x4dd8,_0x179fb4=await S({'text2':_0x13d887['text2'],'mappingFileds_edges':_0x13d887['mappingFileds_edges']}),_0x9b1597=await D({'text':_0x13d887[_0x1d2f3a(0x176)],'mappingFileds':_0x13d887['mappingFileds'],'userDataHaveId':_0x13d887[_0x1d2f3a(0x16c)],'edges':_0x179fb4[_0x1d2f3a(0x149)]});if(!_0x9b1597[_0x1d2f3a(0x163)]||!_0x9b1597[_0x1d2f3a(0x163)][_0x1d2f3a(0x16a)])throw _0x1d2f3a(0x18a);return{'nodes_flat_':_0x9b1597[_0x1d2f3a(0x163)],'finalMap':_0x9b1597[_0x1d2f3a(0x17d)]};}async function E(_0x51e927){const _0x4f45f9=a43_0x4dd8;await a43_0x12f200();try{const _0x5dcb43=await k({'text':_0x51e927['text'],'text2':_0x51e927[_0x4f45f9(0x146)],'mappingFileds':_0x51e927[_0x4f45f9(0x15d)][_0x4f45f9(0x174)],'mappingFileds_edges':_0x51e927[_0x4f45f9(0x15d)][_0x4f45f9(0x156)],'userDataHaveId':_0x51e927['userInputs'][_0x4f45f9(0x16c)]});if(!await a43_0x357522({'nodes_flat':_0x5dcb43['nodes_flat_'],'withUi':_0x51e927['userInputs'][_0x4f45f9(0x14c)],'userDataHaveId':_0x51e927[_0x4f45f9(0x15d)]['userDataHaveId'],'chunkingMode':_0x51e927[_0x4f45f9(0x15d)][_0x4f45f9(0x178)]}))throw'!ok';}catch{a43_0x3f6218(!0x1),a43_0x63f19({'title':a43_0x2850f7('error'),'content':a43_0x2850f7(_0x4f45f9(0x182)),'type':_0x4f45f9(0x166)});}}const z=({userDataHaveId:_0x5d0e05,withUi:_0x5d326e,chunkingMode:_0x1cf124})=>{const _0x4b0a48=a43_0x4dd8,[_0x527937,_0x625dd9]=a43_0x527279['useState'](null),[_0x456614,_0x40c9cd]=a43_0x527279[_0x4b0a48(0x14d)](null),[_0xdc2312,_0x1f6002]=a43_0x527279[_0x4b0a48(0x14d)]({'title':'title','content':'content','tags':_0x4b0a48(0x188),'img':'img','id':'id'}),[_0x4408ca,_0x5c7b07]=a43_0x527279['useState']({'from':_0x4b0a48(0x14a),'to':'to','relation':_0x4b0a48(0x147)});return a43_0x1effa5[_0x4b0a48(0x17e)](a43_0x1effa5[_0x4b0a48(0x17a)],{'children':[a43_0x1effa5[_0x4b0a48(0x17e)](a43_0x54eaf8,{'children':[a43_0x1effa5['jsx'](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x41ddcd,{'children':a43_0x2850f7(_0x4b0a48(0x153))})}),_0x5d0e05&&a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x376705,{'children':a43_0x1effa5['jsx'](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x14b)),'value':_0xdc2312==null?void 0x0:_0xdc2312['id'],'onChangeText':_0x466adc=>_0x1f6002({..._0xdc2312,'id':_0x466adc})})}),a43_0x1effa5['jsx'](a43_0x376705,{'children':a43_0x1effa5['jsx'](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x175)),'value':_0xdc2312==null?void 0x0:_0xdc2312['title'],'onChangeText':_0x4d1db5=>_0x1f6002({..._0xdc2312,'title':_0x4d1db5})})}),a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':a43_0x2850f7('content\x20field\x20from\x20'),'value':_0xdc2312==null?void 0x0:_0xdc2312[_0x4b0a48(0x155)],'onChangeText':_0x567f9e=>_0x1f6002({..._0xdc2312,'content':_0x567f9e})})}),a43_0x1effa5['jsx'](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x16e)),'value':_0xdc2312==null?void 0x0:_0xdc2312[_0x4b0a48(0x188)],'onChangeText':_0x44204b=>_0x1f6002({..._0xdc2312,'tags':_0x44204b})})}),a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x154)),'value':_0xdc2312==null?void 0x0:_0xdc2312[_0x4b0a48(0x186)],'onChangeText':_0x52a54d=>_0x1f6002({..._0xdc2312,'img':_0x52a54d})})})]}),a43_0x1effa5[_0x4b0a48(0x17e)](a43_0x54eaf8,{'children':[a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x41ddcd,{'children':a43_0x2850f7('edges\x20fileds\x20will\x20be\x20mapped\x20like\x20this:')})}),a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x158)),'value':_0x4408ca==null?void 0x0:_0x4408ca['from'],'onChangeText':_0x6b3634=>_0x5c7b07({..._0x4408ca,'from':_0x6b3634})})}),a43_0x1effa5['jsx'](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':a43_0x2850f7(_0x4b0a48(0x14e)),'value':_0x4408ca==null?void 0x0:_0x4408ca['to'],'onChangeText':_0x267d91=>_0x5c7b07({..._0x4408ca,'to':_0x267d91})})}),a43_0x1effa5['jsx'](a43_0x376705,{'children':a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x23d88d,{'label':_0x4b0a48(0x148),'value':_0x4408ca==null?void 0x0:_0x4408ca['relation'],'onChangeText':_0x26135d=>_0x5c7b07({..._0x4408ca,'relation':_0x26135d})})})]}),a43_0x1effa5['jsxs'](a43_0x376705,{'sortItems':!0x0,'children':[a43_0x1effa5[_0x4b0a48(0x16f)](F,{'icon':_0x4b0a48(0x187),'style':{'maxWidth':0xc8},'onFileSelect':_0x1a34a0=>{_0x625dd9(_0x1a34a0);},'children':a43_0x2850f7(_0x4b0a48(0x162))}),a43_0x1effa5['jsx'](F,{'icon':_0x4b0a48(0x187),'style':{'maxWidth':0xc8},'onFileSelect':_0x49cd33=>{_0x40c9cd(_0x49cd33);},'children':a43_0x2850f7(_0x4b0a48(0x180))})]}),a43_0x1effa5[_0x4b0a48(0x16f)](a43_0x221f20,{'onPress':async()=>{const _0x5ee0a6=_0x4b0a48;E({'text':await new Blob([await a43_0x449861(_0x527937)])[_0x5ee0a6(0x176)](),'text2':await new Blob([await a43_0x449861(_0x456614)])[_0x5ee0a6(0x176)](),'userInputs':{'mappingFileds_edges':_0x4408ca,'mappingFileds_withoutParentId':_0xdc2312,'userDataHaveId':_0x5d0e05,'withUi':_0x5d326e,'chunkingMode':_0x1cf124}});},'children':a43_0x2850f7(_0x4b0a48(0x17b))})]});};export{z as Csv_nodesAndEdges};