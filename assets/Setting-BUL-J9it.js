import{j as e,B as c,C as p,t as a,u as t,a7 as r,A as l,g as v,Q as h,U as d,D as i,a8 as f,a9 as g,d as x,aa as y,a as u,ab as k,ac as b,m as j}from"./osRouter-CBnextF-.js";import{S as s,H as _}from"./Hint-M1EdfaYq.js";import{F as S}from"./FileSelector-CzA7dMQV.js";import{R as C}from"./ResponsiblePage-DOZj9gEB.js";import{L as q,a as M,P as I,O as L,b as R,G as F}from"./ProviderList-Btiss0C7.js";import{S as m}from"./SaveBox-DCscb94N.js";import"./index-hcwDfSVt.js";import"./AnimatedBox-Brna7_dX.js";import"./TextInput-_MPn9zwz.js";const P=n=>e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx(p,{caption:a("improve liteRag search result"),defaultValue:n.localAppSetting.reranker_enabled,onChange:o=>{t({newSetting:{reranker_enabled:o}})}})}),e.jsx(c,{children:e.jsx(s,{text:a("reranker provider:"),items:[{name:"offline",title:a("in-browser"),callback:async()=>{await t({newSetting:{reranker_provider:"offline"}}),await r()}},{name:"helperApp",title:"helperApp",callback:async()=>{await t({newSetting:{reranker_provider:"helperApp"}}),await r()}},{name:"rn_reranker",title:"rn_reranker(specific fro reranking)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"llamaRn_llm_standard",title:"native(standard model)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:"native_model_1(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:"native_model_2(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:"native_model_3(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}}],default:n.localAppSetting.reranker_provider})})]}),z=v(({localAppSetting:n})=>Object.keys(n).length?e.jsx(e.Fragment,{children:e.jsx(C,{children:e.jsxs(h,{style:{width:j.window_width-50,marginLeft:20,overflow:"hidden"},children:[e.jsx(c,{children:e.jsx(q,{localAppSetting:n})}),e.jsxs(c,{style:{height:650,overflow:"hidden"},children:[e.jsx(M,{children:"you can choose a provider from this list or customize each models."}),e.jsx(I,{onChange:async o=>{await r()}})]}),e.jsx(s,{text:a("rag mode:"),items:[{name:"simpleChat",hint:a("just a casual chat with model with no pre-prompt"),callback:async()=>{await t({newSetting:{ragMode:"simpleChat"}})}},{name:"lite",hint:a("good for normal retrievals"),callback:async()=>{await t({newSetting:{ragMode:"lite"}})}},{name:"agentic",hint:a("high performance, also can do tasks"),callback:async()=>{await t({newSetting:{ragMode:"agentic"}})}}],default:n.ragMode}),e.jsx(i,{}),n.ragMode==="simpleChat"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"simple Chat Additional Prompt",defaultValue:String(n?.simpleChatAdditionalPrompt),label:"simple Chat Additional Prompt",onSave:async o=>{let w=o;o||(w=d.configs.simpleChatAdditionalPrompt_default),await t({newSetting:{simpleChatAdditionalPrompt:w}})}}),e.jsx(i,{})]}),e.jsx(s,{text:a("casual works(rag/chunking...) llm provider:"),items:[{name:"groq_llama",callback:async()=>{await t({newSetting:{standard_llm_provider:"groq_llama"}}),await r()}},{name:"local_phi3",callback:async()=>{await t({newSetting:{standard_llm_provider:"local_phi3"}}),await r()}},{name:"local_deepseek_r1_qwen_as_standard",title:a("deepseek_r1(experimental)"),callback:async()=>{await t({newSetting:{standard_llm_provider:"local_deepseek_r1_qwen_as_standard"}}),await r()}},{name:"arch_as_standard",title:a("arch(experimental)"),callback:async()=>{await t({newSetting:{standard_llm_provider:"arch_as_standard"}}),await r()}},{name:"llamaRn_llm_standard",title:a("native(standard model)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:a("native_model_1(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:a("native_model_2(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:a("native_model_3(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}}],default:n.standard_llm_provider}),e.jsx(i,{}),e.jsx(s,{text:a("agents llm provider:"),items:[{name:"api_fnCall_groq",title:a("online_groq"),callback:async()=>{await t({newSetting:{fnCall_llm_provider:"api_fnCall_groq"}}),await r()}},{name:"archFnCall",title:a("local_arch"),callback:async()=>{await t({newSetting:{fnCall_llm_provider:"archFnCall"}}),await r()}},{name:"local_deepseek_r1_qwen_as_fnCall",title:a("local_deepseek_r1_qwen as agent(experimental)"),callback:async()=>{await t({newSetting:{fnCall_llm_provider:"local_deepseek_r1_qwen_as_fnCall"}}),await r()}},{name:"llamaRn_llm_standard",title:a("native(standard model)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:a("native_model_1(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:a("native_model_2(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:a("native_model_3(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}}],default:n.fnCall_llm_provider}),e.jsx(i,{}),e.jsx(s,{text:a("thinking llm provider:"),items:[{name:"groq_deepseek_r1_llama",callback:async()=>{await t({newSetting:{thinking_llm_provider:"groq_deepseek_r1_llama"}}),await r()}},{name:"local_deepseek_r1_qwen",callback:async()=>{await t({newSetting:{thinking_llm_provider:"local_deepseek_r1_qwen"}}),await r()}},{name:"local_arch",title:a("arch(experimental)"),callback:async()=>{await t({newSetting:{thinking_llm_provider:"local_arch"}}),await r()}},{name:"llamaRn_llm_standard",title:a("native(standard model)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:a("native_model_1(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:a("native_model_2(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:a("native_model_3(custom)"),callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}}],default:n.thinking_llm_provider}),e.jsx(i,{}),f.OS!=="web",e.jsx(i,{}),e.jsx(s,{text:a("local provider:"),items:[{name:"llamacpp",callback:async()=>{await t({newSetting:{local_provider:"llamacpp"}})}},{name:"ollama",callback:async()=>{await t({newSetting:{local_provider:"ollama"}})}},,],default:n.local_provider}),e.jsx(i,{}),n.local_provider==="ollama"&&e.jsx(c,{children:e.jsx(L,{localAppSetting:n})}),e.jsx(i,{}),n.local_provider==="llamacpp"&&e.jsx(c,{children:e.jsx(R,{localAppSetting:n})}),e.jsx(i,{}),e.jsx(s,{text:a("chunking mode:"),items:[{name:"static",hint:a("fast/low quality"),disabled:!0,callback:async()=>{await t({newSetting:{chunkingMode:"static"}})}},{name:"semantic",hint:a("medium speed and good quality"),callback:async()=>{await t({newSetting:{chunkingMode:"semantic"}})}},{name:"contexual",hint:a("slower but highest quality"),disabled:!0,callback:async()=>{await t({newSetting:{chunkingMode:"contexual"}})}}],default:n.chunkingMode}),e.jsx(i,{}),(n.fnCall_llm_provider==="api_fnCall_groq"||n.thinking_llm_provider==="groq_deepseek_r1_llama"||n.standard_llm_provider==="groq_llama"||n.stt_provider==="groq"||n.imgCap_provider==="groq")&&e.jsx(F,{localAppSetting:n}),e.jsx(i,{}),e.jsx(i,{}),n.ragMode=="lite"&&e.jsx(c,{children:e.jsx(P,{localAppSetting:n})}),e.jsx(i,{}),e.jsxs(c,{children:[e.jsx(s,{text:a("transcriber provider:"),items:[{name:"groq",callback:async()=>{await t({newSetting:{stt_provider:"groq"}}),await r()}},{name:"helperApp",callback:async()=>{await t({newSetting:{stt_provider:"helperApp"}}),await r()}},{name:"offline",title:a("in-browser"),callback:async()=>{await t({newSetting:{stt_provider:"offline"}}),await r()}},{name:"whisperRn",title:"native 2 (faster)",callback:async()=>{await t({newSetting:{stt_provider:"whisperRn"}}),await r()}}],default:n.stt_provider}),e.jsx(i,{}),e.jsx(s,{text:a("text-to-speech provider:"),items:[{name:"groq",callback:async()=>{g({withVoiceOutput:!1}),await t({newSetting:{tts_provider:"groq"}}),await r()}},{name:"offline",title:a("in-browser"),callback:async()=>{g({withVoiceOutput:!1}),await t({newSetting:{tts_provider:"offline"}}),await r()}}],default:n.tts_provider}),e.jsx(i,{}),e.jsx(p,{caption:"dont Download And Init And Warmup Models On Startup",defaultValue:n.dontDownloadAndInitAndWarmupModelsOnStartup,onChange:o=>{t({newSetting:{dontDownloadAndInitAndWarmupModelsOnStartup:o}})}}),e.jsx(p,{caption:a("context-awareness..."),defaultValue:n.contextAwareness,onChange:o=>{t({newSetting:{contextAwareness:o}})}}),e.jsx(s,{text:a("image captioning provider:"),items:[{name:"groq",callback:async()=>{await t({newSetting:{imgCap_provider:"groq"}}),await r()}},{name:"helperApp",callback:async()=>{await t({newSetting:{imgCap_provider:"helperApp"}}),await r()}},{name:"llamaRn_llm_standard",title:"native(standard)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"rn_imgCap",title:"native(specific model for image captioning)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:"native_model_1(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:"native_model_2(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:"native_model_3(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"offline",title:a("in-browser"),disabled:!d.configs.devMode,callback:async()=>{await t({newSetting:{imgCap_provider:"offline"}}),await r()}}],default:n.imgCap_provider}),e.jsx(i,{}),e.jsx(s,{text:a("embedder provider:"),items:[{name:"helperApp",callback:async()=>{await t({newSetting:{embedder_provider:"helperApp"}}),await r()}},{name:"rn_embedder",title:"native(specific for embedding)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_1",title:"native_model_1(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_2",title:"native_model_2(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"native_model_3",title:"native_model_3(custom)",callback:async()=>{{l({content:"wrong platform!",type:"alert"});return}}},{name:"offline",title:a("in-browser"),callback:async()=>{await t({newSetting:{embedder_provider:"offline"}}),await r()}}],default:n.embedder_provider}),e.jsx(i,{})]}),e.jsx(i,{}),e.jsx(m,{title:"vc",defaultValue:String(n.voiceInput),label:"vc",onSave:async o=>{await t({newSetting:{voiceInput:Number(o)}})}}),d.configs.devMode&&e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"contextLength",defaultValue:String(n.contextLength),label:"contextLength",onSave:async o=>{await t({newSetting:{contextLength:Number(o)}})}}),e.jsx(m,{title:"inputIsHeadset",defaultValue:String(Number(n.inputIsHeadset)),label:"inputIsHeadset",onSave:async o=>{await t({newSetting:{inputIsHeadset:!!Number(o)}})}})]}),e.jsx(i,{}),e.jsx(x,{children:a("memory-nodes management:")}),e.jsx(i,{}),e.jsx(S,{testID:"setting_loadMems",icon:"import",tmpFileName:"loadMems",onFileSelect_:o=>y(o),children:a("Load Mems")}),e.jsx(i,{}),e.jsx(u,{testID:"setting_saveMems",icon:"content-save-all",onPress:k,children:a("Save mems")}),e.jsx(i,{}),e.jsxs(e.Fragment,{children:[e.jsxs(c,{children:[e.jsx(u,{icon:"recycle",onPress:b,children:a("reset the app (uninstall)")}),e.jsx(_,{children:a("note: your mems will stay untouched in browser cache")}),e.jsx(_,{children:a("this only remove models temporary caches setting ")}),e.jsxs(_,{children:[a("but we still recommend saving your memories before uninstalling")," "]})]}),e.jsx(i,{})]})]})})}):null,["localAppSetting"]);export{z as Setting};
