(function(_0x4e1b1f,_0x4532b9){const _0x149121=a44_0x5eaa,_0x3dcbc6=_0x4e1b1f();while(!![]){try{const _0x2a639c=parseInt(_0x149121(0x1b7))/0x1*(parseInt(_0x149121(0x1c4))/0x2)+-parseInt(_0x149121(0x1bb))/0x3+parseInt(_0x149121(0x1ac))/0x4+-parseInt(_0x149121(0x1ca))/0x5+parseInt(_0x149121(0x19a))/0x6*(parseInt(_0x149121(0x1bc))/0x7)+-parseInt(_0x149121(0x1b3))/0x8+-parseInt(_0x149121(0x194))/0x9*(-parseInt(_0x149121(0x1a6))/0xa);if(_0x2a639c===_0x4532b9)break;else _0x3dcbc6['push'](_0x3dcbc6['shift']());}catch(_0x4410e7){_0x3dcbc6['push'](_0x3dcbc6['shift']());}}}(a44_0x89cd,0xa6fa2));const a44_0x5be5d3=(function(){let _0x184a03=!![];return function(_0x13faaf,_0x3c4f9a){const _0x59e0b2=_0x184a03?function(){if(_0x3c4f9a){const _0x4ddf5c=_0x3c4f9a['apply'](_0x13faaf,arguments);return _0x3c4f9a=null,_0x4ddf5c;}}:function(){};return _0x184a03=![],_0x59e0b2;};}()),a44_0x11b9f4=a44_0x5be5d3(this,function(){const _0x2a29d4=a44_0x5eaa;let _0xbe750f;try{const _0x2a3596=Function(_0x2a29d4(0x198)+_0x2a29d4(0x19f)+');');_0xbe750f=_0x2a3596();}catch(_0x39e6bc){_0xbe750f=window;}const _0x33796d=_0xbe750f[_0x2a29d4(0x1ad)]=_0xbe750f[_0x2a29d4(0x1ad)]||{},_0x28cd06=['log',_0x2a29d4(0x196),_0x2a29d4(0x1ba),_0x2a29d4(0x1c1),_0x2a29d4(0x1d2),_0x2a29d4(0x1a7),_0x2a29d4(0x1b2)];for(let _0x15d143=0x0;_0x15d143<_0x28cd06[_0x2a29d4(0x197)];_0x15d143++){const _0xc0cb26=a44_0x5be5d3[_0x2a29d4(0x1ab)][_0x2a29d4(0x195)][_0x2a29d4(0x19e)](a44_0x5be5d3),_0x71248e=_0x28cd06[_0x15d143],_0x37fd1e=_0x33796d[_0x71248e]||_0xc0cb26;_0xc0cb26[_0x2a29d4(0x19b)]=a44_0x5be5d3[_0x2a29d4(0x19e)](a44_0x5be5d3),_0xc0cb26[_0x2a29d4(0x1c2)]=_0x37fd1e['toString'][_0x2a29d4(0x19e)](_0x37fd1e),_0x33796d[_0x71248e]=_0xc0cb26;}});a44_0x11b9f4();import{K as a44_0x5a4943,r as a44_0x41fe9,j as a44_0x3ffaae,L as a44_0x281674,H as a44_0x20ec2b}from'./index-2kjPzj9P.js';import{R as a44_0x233344,B as a44_0x203a0a,l as a44_0x132f14}from'./PaperMainTemplate-CFa8Y-BD.js';import{T as a44_0xabb921}from'./TextInput-BuR4q2wk.js';import{u as a44_0x22aad7,i as a44_0x3f4622}from'./importProduced_nodes_flat_toApp-DUNhhOeU.js';import{s as a44_0x4e8710}from'./showToast-DLFV4bYg.js';import{s as a44_0x594e2c}from'./addImgOrIconToVisNode_-tckGH3nE.js';function a44_0x89cd(){const _0x21b220=['120bvqeHh','__proto__','fileds\x20will\x20be\x20mapped\x20like\x20this:','tags','bind','{}.constructor(\x22return\x20this\x22)(\x20)','split','map','start\x20importing','text','nodes_flat_','filter','20DKKZWx','table','relation\x20field\x20name\x20','img','destination\x20field\x20name\x20','constructor','2224580CbpCgf','console','Fragment','xnaasdq31_failed','useState','findIndex','trace','575840HAVYhb','tags\x20field\x20from\x20','source\x20field\x20name','load\x20nodes','4uaVCxY','alert','text2','info','3378693LbZQxu','168707PmBEFk','import','mappingFileds_edges','img\x20field\x20from\x20','userInputs','error','toString','shift','241426hWhMXo','jsxs','title','push','!ok','edges_raw','672560SoQHMz','mappingFileds','content\x20field\x20from\x20','relation','from','missingFields','missingHeaders','load\x20edges','exception','content','userDataHaveId','edges\x20fileds\x20will\x20be\x20mapped\x20like\x20this:','id\x20field\x20from\x20','nodes_flat','2230398qAxJvt','prototype','warn','length','return\x20(function()\x20','jsx'];a44_0x89cd=function(){return _0x21b220;};return a44_0x89cd();}import{F}from'./FileSelector-CvefSe6w.js';import'./index-DuY7kS_z.js';async function D(_0x41a158){const _0x38252d=a44_0x5eaa,_0x52f314=_0x41a158[_0x38252d(0x1a3)][_0x38252d(0x1a0)]('\x0a'),_0x3ff0f4=_0x52f314[_0x38252d(0x1c3)]()[_0x38252d(0x1a0)](','),_0x27aceb={'id':_0x41a158[_0x38252d(0x1cb)]['id']||'id','title':_0x41a158[_0x38252d(0x1cb)][_0x38252d(0x1c6)]||_0x38252d(0x1c6),'content':_0x41a158['mappingFileds']['content']||_0x38252d(0x18f),'tags':_0x41a158[_0x38252d(0x1cb)][_0x38252d(0x19d)]||_0x38252d(0x19d),'img':_0x41a158[_0x38252d(0x1cb)][_0x38252d(0x1a9)]||'img'},_0x26b752=_0x3ff0f4['findIndex'](_0x21f869=>_0x21f869==_0x27aceb['id']),_0x34c581=_0x3ff0f4[_0x38252d(0x1b1)](_0x18c82a=>_0x18c82a==_0x27aceb[_0x38252d(0x1c6)]),_0xfd8087=_0x3ff0f4[_0x38252d(0x1b1)](_0x27b224=>_0x27b224==_0x27aceb[_0x38252d(0x18f)]),_0x431f7b=_0x3ff0f4[_0x38252d(0x1b1)](_0x478fb5=>_0x478fb5==_0x27aceb[_0x38252d(0x19d)]),_0x28d44d=_0x3ff0f4[_0x38252d(0x1b1)](_0x37ad9e=>_0x37ad9e==_0x27aceb[_0x38252d(0x1a9)]);if(_0x34c581==-0x1||_0xfd8087==-0x1||_0x431f7b==-0x1||_0x28d44d==-0x1||_0x41a158[_0x38252d(0x190)]&&_0x26b752==-0x1)throw'missingHeaders';const _0x5e83bf=[];for(let _0x2fa557=0x0;_0x2fa557<_0x52f314[_0x38252d(0x197)];_0x2fa557++){const _0x37e50e=_0x52f314[_0x2fa557];if(!_0x37e50e)continue;const _0x1ff04d=_0x37e50e['split'](',');if(!_0x1ff04d)continue;if(_0x41a158[_0x38252d(0x190)]&&!_0x1ff04d[_0x26b752]||!_0x41a158[_0x38252d(0x190)]&&!_0x1ff04d[_0x34c581])throw _0x38252d(0x1cf);const _0x3c4f4d=_0x41a158[_0x38252d(0x190)]?_0x1ff04d[_0x26b752]:_0x1ff04d[_0x34c581],_0x19f725=_0x41a158['edges'][_0x38252d(0x1a5)](_0x1d10bc=>_0x1d10bc['to']==_0x3c4f4d);_0x5e83bf[_0x38252d(0x1c7)]({'id':_0x1ff04d[_0x26b752],'title':_0x1ff04d[_0x34c581],'content':_0x1ff04d[_0xfd8087],'tags':_0x1ff04d[_0x431f7b],'img':_0x1ff04d[_0x28d44d],'parents_id':_0x19f725[_0x38252d(0x1a1)](_0x41acdb=>_0x41acdb[_0x38252d(0x1ce)]),'parents_rel':_0x19f725[_0x38252d(0x1a1)](_0xb7f75=>_0xb7f75[_0x38252d(0x1cd)]??''),'category':'general','customFields_user':{}});}return{'nodes_flat':_0x5e83bf,'finalMap':_0x27aceb};}async function S(_0x559db9){const _0x3f8598=a44_0x5eaa,_0x1514b0=_0x559db9[_0x3f8598(0x1b9)][_0x3f8598(0x1a0)]('\x0a'),_0x5ca852=_0x1514b0[_0x3f8598(0x1c3)]()['split'](','),_0x255770={'from':_0x559db9[_0x3f8598(0x1be)][_0x3f8598(0x1ce)]||_0x3f8598(0x1ce),'to':_0x559db9['mappingFileds_edges']['to']||'to','relation':_0x559db9[_0x3f8598(0x1be)][_0x3f8598(0x1cd)]||'relation'},_0x50f740=_0x5ca852['findIndex'](_0xd8fadf=>_0xd8fadf==_0x255770[_0x3f8598(0x1ce)]),_0x27d5f6=_0x5ca852[_0x3f8598(0x1b1)](_0x14a5f8=>_0x14a5f8==_0x255770['to']),_0x2ab8e5=_0x5ca852[_0x3f8598(0x1b1)](_0x2570b4=>_0x2570b4==_0x255770[_0x3f8598(0x1cd)]);if(_0x50f740==-0x1||_0x27d5f6==-0x1||_0x2ab8e5==-0x1)throw _0x3f8598(0x1d0);const _0x367c5c=[];for(let _0x3cedcc=0x0;_0x3cedcc<_0x1514b0['length'];_0x3cedcc++){const _0x1c3eff=_0x1514b0[_0x3cedcc];if(!_0x1c3eff)continue;const _0x28dc2d=_0x1c3eff[_0x3f8598(0x1a0)](',');if(_0x28dc2d){if(!_0x28dc2d[_0x50f740]||!_0x28dc2d[_0x27d5f6]||!_0x28dc2d[_0x2ab8e5])throw'missingFields';_0x367c5c[_0x3f8598(0x1c7)]({'from':_0x28dc2d[_0x50f740],'to':_0x28dc2d[_0x27d5f6],'relation':_0x28dc2d[_0x2ab8e5]});}}return{'edges_raw':_0x367c5c,'finalMap_edges':_0x255770};}function a44_0x5eaa(_0xa4bfbd,_0x4ce691){const _0x11b903=a44_0x89cd();return a44_0x5eaa=function(_0x11b9f4,_0x5be5d3){_0x11b9f4=_0x11b9f4-0x18f;let _0x1bfb2d=_0x11b903[_0x11b9f4];return _0x1bfb2d;},a44_0x5eaa(_0xa4bfbd,_0x4ce691);}async function k(_0x5a3e01){const _0x4b69f4=a44_0x5eaa,_0x36b061=await S({'text2':_0x5a3e01['text2'],'mappingFileds_edges':_0x5a3e01[_0x4b69f4(0x1be)]}),_0x3c46f6=await D({'text':_0x5a3e01[_0x4b69f4(0x1a3)],'mappingFileds':_0x5a3e01[_0x4b69f4(0x1cb)],'userDataHaveId':_0x5a3e01[_0x4b69f4(0x190)],'edges':_0x36b061[_0x4b69f4(0x1c9)]});if(!_0x3c46f6[_0x4b69f4(0x193)]||!_0x3c46f6[_0x4b69f4(0x193)][_0x4b69f4(0x197)])throw _0x4b69f4(0x1af);return{'nodes_flat_':_0x3c46f6['nodes_flat'],'finalMap':_0x3c46f6['finalMap']};}async function E(_0x4e9be5){const _0x2592aa=a44_0x5eaa;await a44_0x22aad7();try{const _0x379a23=await k({'text':_0x4e9be5[_0x2592aa(0x1a3)],'text2':_0x4e9be5['text2'],'mappingFileds':_0x4e9be5[_0x2592aa(0x1c0)]['mappingFileds_withoutParentId'],'mappingFileds_edges':_0x4e9be5['userInputs'][_0x2592aa(0x1be)],'userDataHaveId':_0x4e9be5[_0x2592aa(0x1c0)]['userDataHaveId']});if(!await a44_0x3f4622({'nodes_flat':_0x379a23[_0x2592aa(0x1a4)],'withUi':_0x4e9be5[_0x2592aa(0x1c0)]['withUi'],'userDataHaveId':_0x4e9be5['userInputs']['userDataHaveId'],'chunkingMode':_0x4e9be5[_0x2592aa(0x1c0)]['chunkingMode']}))throw _0x2592aa(0x1c8);}catch{a44_0x594e2c(!0x1),a44_0x4e8710({'title':a44_0x5a4943(_0x2592aa(0x1c1)),'content':a44_0x5a4943('something\x20went\x20wrong\x20when\x20trying\x20to\x20import\x20data!'),'type':_0x2592aa(0x1b8)});}}const z=({userDataHaveId:_0x1ff846,withUi:_0x24a7a1,chunkingMode:_0x47ca3d})=>{const _0x4e821d=a44_0x5eaa,[_0x295973,_0x3a3ccb]=a44_0x41fe9[_0x4e821d(0x1b0)](null),[_0x7f8830,_0x30fb65]=a44_0x41fe9[_0x4e821d(0x1b0)](null),[_0x468138,_0x2448be]=a44_0x41fe9['useState']({'title':_0x4e821d(0x1c6),'content':_0x4e821d(0x18f),'tags':'tags','img':_0x4e821d(0x1a9),'id':'id'}),[_0x2a5f2b,_0x28613c]=a44_0x41fe9[_0x4e821d(0x1b0)]({'from':_0x4e821d(0x1ce),'to':'to','relation':_0x4e821d(0x1cd)});return a44_0x3ffaae[_0x4e821d(0x1c5)](a44_0x3ffaae[_0x4e821d(0x1ae)],{'children':[a44_0x3ffaae['jsxs'](a44_0x281674,{'children':[a44_0x3ffaae[_0x4e821d(0x199)](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0x20ec2b,{'children':a44_0x5a4943(_0x4e821d(0x19c))})}),_0x1ff846&&a44_0x3ffaae['jsx'](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x192)),'value':_0x468138==null?void 0x0:_0x468138['id'],'onChangeText':_0x1b2e04=>_0x2448be({..._0x468138,'id':_0x1b2e04})})}),a44_0x3ffaae['jsx'](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943('title\x20field\x20from\x20'),'value':_0x468138==null?void 0x0:_0x468138['title'],'onChangeText':_0x52f52b=>_0x2448be({..._0x468138,'title':_0x52f52b})})}),a44_0x3ffaae['jsx'](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x1cc)),'value':_0x468138==null?void 0x0:_0x468138[_0x4e821d(0x18f)],'onChangeText':_0x49325b=>_0x2448be({..._0x468138,'content':_0x49325b})})}),a44_0x3ffaae['jsx'](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x1b4)),'value':_0x468138==null?void 0x0:_0x468138[_0x4e821d(0x19d)],'onChangeText':_0x4416ee=>_0x2448be({..._0x468138,'tags':_0x4416ee})})}),a44_0x3ffaae['jsx'](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x1bf)),'value':_0x468138==null?void 0x0:_0x468138[_0x4e821d(0x1a9)],'onChangeText':_0x612f87=>_0x2448be({..._0x468138,'img':_0x612f87})})})]}),a44_0x3ffaae[_0x4e821d(0x1c5)](a44_0x281674,{'children':[a44_0x3ffaae[_0x4e821d(0x199)](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0x20ec2b,{'children':a44_0x5a4943(_0x4e821d(0x191))})}),a44_0x3ffaae[_0x4e821d(0x199)](a44_0x233344,{'children':a44_0x3ffaae[_0x4e821d(0x199)](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x1b5)),'value':_0x2a5f2b==null?void 0x0:_0x2a5f2b[_0x4e821d(0x1ce)],'onChangeText':_0x5c068f=>_0x28613c({..._0x2a5f2b,'from':_0x5c068f})})}),a44_0x3ffaae[_0x4e821d(0x199)](a44_0x233344,{'children':a44_0x3ffaae['jsx'](a44_0xabb921,{'label':a44_0x5a4943(_0x4e821d(0x1aa)),'value':_0x2a5f2b==null?void 0x0:_0x2a5f2b['to'],'onChangeText':_0x4b7ed5=>_0x28613c({..._0x2a5f2b,'to':_0x4b7ed5})})}),a44_0x3ffaae[_0x4e821d(0x199)](a44_0x233344,{'children':a44_0x3ffaae['jsx'](a44_0xabb921,{'label':_0x4e821d(0x1a8),'value':_0x2a5f2b==null?void 0x0:_0x2a5f2b[_0x4e821d(0x1cd)],'onChangeText':_0x240e5c=>_0x28613c({..._0x2a5f2b,'relation':_0x240e5c})})})]}),a44_0x3ffaae[_0x4e821d(0x1c5)](a44_0x233344,{'sortItems':!0x0,'children':[a44_0x3ffaae[_0x4e821d(0x199)](F,{'icon':_0x4e821d(0x1bd),'style':{'maxWidth':0xc8},'onFileSelect':_0x221100=>{_0x3a3ccb(_0x221100);},'children':a44_0x5a4943(_0x4e821d(0x1b6))}),a44_0x3ffaae['jsx'](F,{'icon':_0x4e821d(0x1bd),'style':{'maxWidth':0xc8},'onFileSelect':_0x1ea48c=>{_0x30fb65(_0x1ea48c);},'children':a44_0x5a4943(_0x4e821d(0x1d1))})]}),a44_0x3ffaae[_0x4e821d(0x199)](a44_0x203a0a,{'onPress':async()=>{const _0x31359e=_0x4e821d;E({'text':await new Blob([await a44_0x132f14(_0x295973)])[_0x31359e(0x1a3)](),'text2':await new Blob([await a44_0x132f14(_0x7f8830)])[_0x31359e(0x1a3)](),'userInputs':{'mappingFileds_edges':_0x2a5f2b,'mappingFileds_withoutParentId':_0x468138,'userDataHaveId':_0x1ff846,'withUi':_0x24a7a1,'chunkingMode':_0x47ca3d}});},'children':a44_0x5a4943(_0x4e821d(0x1a2))})]});};export{z as Csv_nodesAndEdges};