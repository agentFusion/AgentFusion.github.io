(function(_0x48fa28,_0x3be6a1){const _0x424d9f=a30_0x10b6,_0x20f0b7=_0x48fa28();while(!![]){try{const _0x16078c=parseInt(_0x424d9f(0x1e4))/0x1+parseInt(_0x424d9f(0x210))/0x2*(-parseInt(_0x424d9f(0x20d))/0x3)+-parseInt(_0x424d9f(0x1fa))/0x4+parseInt(_0x424d9f(0x205))/0x5+parseInt(_0x424d9f(0x21b))/0x6+parseInt(_0x424d9f(0x1ff))/0x7*(-parseInt(_0x424d9f(0x1f8))/0x8)+-parseInt(_0x424d9f(0x226))/0x9*(parseInt(_0x424d9f(0x207))/0xa);if(_0x16078c===_0x3be6a1)break;else _0x20f0b7['push'](_0x20f0b7['shift']());}catch(_0x401656){_0x20f0b7['push'](_0x20f0b7['shift']());}}}(a30_0x1c5a,0x4be06));function a30_0x10b6(_0x49e9de,_0x4db8a2){const _0x48e099=a30_0x1c5a();return a30_0x10b6=function(_0x3eb7b8,_0x1385d8){_0x3eb7b8=_0x3eb7b8-0x1e3;let _0x100b5a=_0x48e099[_0x3eb7b8];return _0x100b5a;},a30_0x10b6(_0x49e9de,_0x4db8a2);}const a30_0x1385d8=(function(){let _0x18dda2=!![];return function(_0x562cbb,_0x2d3268){const _0x53a415=_0x18dda2?function(){const _0x2d9ba7=a30_0x10b6;if(_0x2d3268){const _0x1fb560=_0x2d3268[_0x2d9ba7(0x1e8)](_0x562cbb,arguments);return _0x2d3268=null,_0x1fb560;}}:function(){};return _0x18dda2=![],_0x53a415;};}()),a30_0x3eb7b8=a30_0x1385d8(this,function(){const _0x2e1f5=a30_0x10b6;let _0x54d238;try{const _0x1ea0dc=Function(_0x2e1f5(0x221)+_0x2e1f5(0x224)+');');_0x54d238=_0x1ea0dc();}catch(_0x5d377c){_0x54d238=window;}const _0x58d277=_0x54d238[_0x2e1f5(0x1f2)]=_0x54d238[_0x2e1f5(0x1f2)]||{},_0x395fa7=[_0x2e1f5(0x215),_0x2e1f5(0x1f9),'info',_0x2e1f5(0x220),'exception',_0x2e1f5(0x213),_0x2e1f5(0x1f6)];for(let _0xbc77fe=0x0;_0xbc77fe<_0x395fa7[_0x2e1f5(0x1f3)];_0xbc77fe++){const _0x44580d=a30_0x1385d8['constructor'][_0x2e1f5(0x1f5)][_0x2e1f5(0x1fc)](a30_0x1385d8),_0x37306b=_0x395fa7[_0xbc77fe],_0x3df859=_0x58d277[_0x37306b]||_0x44580d;_0x44580d[_0x2e1f5(0x1fe)]=a30_0x1385d8['bind'](a30_0x1385d8),_0x44580d[_0x2e1f5(0x21d)]=_0x3df859[_0x2e1f5(0x21d)]['bind'](_0x3df859),_0x58d277[_0x37306b]=_0x44580d;}});a30_0x3eb7b8();import{s as a30_0x6b414d,aj as a30_0x4fba05,a0 as a30_0x416700,u as a30_0x32394b,a2 as a30_0x52ca14,E as a30_0xab1877}from'./PaperMainTemplate-BYXxAdBA.js';import{A as a30_0x31f090,V as a30_0x4a3f9a,W as a30_0x564bdc,X as a30_0x4fdedc,Y as a30_0x5686a2,L as a30_0xb59bf2,Z as a30_0x16f3a0,D as a30_0x2200ce,$ as a30_0x280eeb,h as a30_0x223287,M as a30_0x38762b}from'./addImgOrIconToVisNode_-CCfKk5aU.js';import{e as a30_0x57db79,s as a30_0x5a5286,t as a30_0x479ca8}from'./index-DFpG8aig.js';import{s as a30_0x3aee34}from'./showToast-DgRwzf3-.js';async function K(_0x3c11a1){const _0x23d1d1=a30_0x10b6;var _0x55560e,_0x2671a7,_0x50fe2c;const _0x5b6ecf=a30_0x6b414d[_0x23d1d1(0x21a)][_0x23d1d1(0x1e9)](_0x3c11a1[_0x23d1d1(0x208)]['id']),_0x41ec69=!a30_0x4fba05(_0x3c11a1[_0x23d1d1(0x208)][_0x23d1d1(0x1ef)],_0x3c11a1[_0x23d1d1(0x223)]['customFields_user']),_0x1b13d5=!a30_0x4fba05(_0x3c11a1['memBeforeEdit'][_0x23d1d1(0x227)],_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x227)])||!a30_0x4fba05(_0x3c11a1[_0x23d1d1(0x208)][_0x23d1d1(0x1e6)],_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1e6)]),_0x180554=_0x3c11a1[_0x23d1d1(0x223)]['title']!==_0x3c11a1['memBeforeEdit'][_0x23d1d1(0x1fb)],_0x5f4efb=_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x216)]!==_0x3c11a1[_0x23d1d1(0x208)]['content_string'],_0x234a81=_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1ed)]!==_0x3c11a1['memBeforeEdit'][_0x23d1d1(0x1ed)],_0x2e075f={'title_string':_0x180554?_0x3c11a1['newMemForm']['title']:_0x3c11a1[_0x23d1d1(0x208)]['title_string'],'content_string':_0x5f4efb?_0x3c11a1[_0x23d1d1(0x223)]['content']:_0x3c11a1[_0x23d1d1(0x208)][_0x23d1d1(0x20c)],'title':_0x180554?await a30_0x31f090({'text':_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x229)]}):_0x5b6ecf[_0x23d1d1(0x229)],'content':_0x5f4efb?await a30_0x31f090({'text':_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x216)]}):_0x5b6ecf[_0x23d1d1(0x216)],'tags':(_0x2671a7=(_0x55560e=_0x3c11a1[_0x23d1d1(0x223)]['tags'])==null?void 0x0:_0x55560e[_0x23d1d1(0x1f0)]())==null?void 0x0:_0x2671a7[_0x23d1d1(0x1ec)]()[_0x23d1d1(0x21c)]('\x20'),'score':_0x5b6ecf[_0x23d1d1(0x1e5)],'id':_0x5b6ecf['id'],'parents_id':_0x3c11a1[_0x23d1d1(0x223)]['parents_id'],'parents_rel':_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1e6)],'img':null,'favorite':_0x5b6ecf[_0x23d1d1(0x203)],'hidden':_0x5b6ecf['hidden'],'level':_0x1b13d5?a30_0x4a3f9a(_0x3c11a1['newMemForm'][_0x23d1d1(0x227)]):_0x5b6ecf[_0x23d1d1(0x201)],'ranking':_0x5b6ecf[_0x23d1d1(0x1ea)],'shape':_0x5b6ecf[_0x23d1d1(0x22a)],'star':_0x5b6ecf[_0x23d1d1(0x219)],'summarization':_0x5b6ecf[_0x23d1d1(0x22c)],'creationTime':_0x5b6ecf['creationTime'],'modificationTime':new Date()['valueOf'](),'chunks_ids':_0x5b6ecf[_0x23d1d1(0x225)],'isAChunk':_0x5b6ecf[_0x23d1d1(0x222)],'imgCaption_embedding':_0x5b6ecf[_0x23d1d1(0x21f)],'imgCaption_string':_0x5b6ecf[_0x23d1d1(0x211)],'customFields_user':_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1ef)],'customFields_model':_0x5b6ecf[_0x23d1d1(0x1f7)],'category':_0x234a81?_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1ed)]:_0x3c11a1[_0x23d1d1(0x208)]['category']},_0x453e30=(_0x50fe2c=_0x3c11a1[_0x23d1d1(0x223)][_0x23d1d1(0x1ee)])==null?void 0x0:_0x50fe2c['trim'](),_0x762873=_0x3c11a1[_0x23d1d1(0x208)]['img']!==_0x453e30||!!_0x3c11a1[_0x23d1d1(0x200)];let _0x186aa9=null,_0x87338f=null;if(_0x762873){if(_0x3c11a1[_0x23d1d1(0x200)]){const _0x4e15bf=await a30_0x416700(_0x3c11a1[_0x23d1d1(0x200)]);if(_0x186aa9=await a30_0x564bdc(_0x4e15bf),_0x87338f=a30_0x32394b['configs'][_0x23d1d1(0x21e)]+'/'+_0x5b6ecf['id'],_0x2e075f['img']=_0x87338f,_0x3c11a1[_0x23d1d1(0x20b)]){const _0x494d32=await a30_0x4fdedc({'img':new Blob([_0x186aa9],{'type':'image/png'})});_0x2e075f[_0x23d1d1(0x211)]=_0x494d32,_0x2e075f[_0x23d1d1(0x21f)]=_0x494d32?await a30_0x31f090({'text':_0x494d32}):null;}}else _0x2e075f[_0x23d1d1(0x1ee)]=_0x453e30;}else _0x2e075f['img']=_0x3c11a1[_0x23d1d1(0x208)][_0x23d1d1(0x1ee)];let _0x2bfcf8=[];_0x5f4efb&&(_0x2bfcf8=await a30_0x5686a2({'newMem':_0x2e075f,'strategy':_0x3c11a1['chunkingMode']??null}),_0x2e075f[_0x23d1d1(0x225)]=_0x2bfcf8[_0x23d1d1(0x1fd)](_0x17ceec=>_0x17ceec['id']));let _0x43f8d9=await a30_0x57db79('all_used_Fields')??{};if(_0x41ec69?_0x43f8d9=await a30_0xb59bf2({'keys':Object[_0x23d1d1(0x206)](_0x5b6ecf[_0x23d1d1(0x1ef)]),'sharedFileds':_0x43f8d9}):_0x43f8d9=await a30_0xb59bf2({'keys':Object[_0x23d1d1(0x206)](_0x2e075f['customFields_user']),'sharedFileds':_0x43f8d9}),_0x5f4efb&&_0x3c11a1['generate_customFields_model']){_0x43f8d9=await a30_0xb59bf2({'keys':Object[_0x23d1d1(0x206)](_0x5b6ecf['customFields_model']),'sharedFileds':_0x43f8d9});const {res:_0x24802a}=await a30_0x16f3a0({'content':_0x2e075f[_0x23d1d1(0x20c)],'all_used_Fields':new Set(Object[_0x23d1d1(0x206)](_0x43f8d9)),'reservedFieldsThatModelShouldNotUse':[...a30_0x2200ce]});if(!_0x24802a)throw _0x23d1d1(0x212);if(!_0x24802a||!(_0x23d1d1(0x209)in _0x24802a))throw'';const _0x47da01=[..._0x24802a[_0x23d1d1(0x209)],..._0x24802a['new_fields']],_0x2c1197={};for(let _0x2b9c10=0x0;_0x2b9c10<_0x47da01[_0x23d1d1(0x1f3)];_0x2b9c10++){const _0x4a9a91=_0x47da01[_0x2b9c10];_0x2c1197[_0x4a9a91[_0x23d1d1(0x214)]]=_0x4a9a91[_0x23d1d1(0x1f4)];}_0x43f8d9=await a30_0x280eeb({'keys':Object['keys'](_0x2c1197),'sharedFileds':_0x43f8d9}),_0x2e075f['customFields_model']=_0x2c1197;}_0x43f8d9=await a30_0x280eeb({'keys':Object[_0x23d1d1(0x206)](_0x2e075f[_0x23d1d1(0x1ef)]),'sharedFileds':_0x43f8d9});let _0x4be087=await a30_0x57db79(_0x23d1d1(0x1f1))??{};_0x234a81&&(_0x43f8d9=await a30_0xb59bf2({'keys':[_0x2e075f['category']],'sharedFileds':_0x4be087}),_0x4be087=await a30_0x280eeb({'keys':[_0x2e075f[_0x23d1d1(0x1ed)]],'sharedFileds':_0x4be087}));const _0x4cca0b=_0x2e075f['id'];if(a30_0x6b414d[_0x23d1d1(0x21a)]['set'](_0x4cca0b,_0x2e075f),await a30_0x32394b['db'][_0x23d1d1(0x21a)]['delete'](_0x2e075f['id']),await a30_0x32394b['db'][_0x23d1d1(0x21a)][_0x23d1d1(0x1e3)](_0x2e075f,_0x2e075f['id']),_0x5f4efb){for(let _0x24fe91=0x0;_0x24fe91<_0x2bfcf8[_0x23d1d1(0x1f3)];_0x24fe91++){const _0x13e023=_0x2bfcf8[_0x24fe91];a30_0x6b414d['memsChunks'][_0x23d1d1(0x20e)](_0x13e023['id'],_0x13e023);}await a30_0x32394b['db']['memsChunks'][_0x23d1d1(0x217)](_0x2bfcf8),await a30_0x5a5286({'all_used_Fields':_0x43f8d9});}await a30_0x5a5286({'all_used_Fields':_0x43f8d9}),_0x234a81&&await a30_0x5a5286({'all_used_category':_0x4be087}),_0x762873&&_0x3c11a1[_0x23d1d1(0x200)]&&await a30_0x52ca14(_0x87338f,_0x186aa9)[_0x23d1d1(0x20f)](_0x53ca57=>{const _0x534a50=_0x23d1d1;a30_0x3aee34({'type':'alert','content':a30_0x479ca8(_0x534a50(0x22b))});});const _0x4c9545=a30_0x32394b[_0x23d1d1(0x20a)][_0x23d1d1(0x1e9)](_0x4cca0b);let _0x5eee9a={...a30_0xab1877(_0x23d1d1(0x1e7))['nodes'],..._0x4c9545,'id':_0x4cca0b,'label':_0x2e075f[_0x23d1d1(0x1fb)],'level':_0x2e075f[_0x23d1d1(0x201)],'color':{..._0x4c9545[_0x23d1d1(0x1eb)],'background':_0x23d1d1(0x204)}};if(a30_0xab1877(_0x23d1d1(0x1e7))['withImages']&&_0x762873&&(_0x5eee9a=await a30_0x223287({'img':_0x2e075f[_0x23d1d1(0x1ee)],'node':_0x5eee9a})),a30_0x32394b[_0x23d1d1(0x20a)][_0x23d1d1(0x22d)]({'id':_0x2e075f['id'],..._0x5eee9a}),_0x5eee9a[_0x23d1d1(0x201)],_0x1b13d5){const _0x40f42e=a30_0x38762b(_0x3c11a1[_0x23d1d1(0x208)]);try{a30_0x32394b[_0x23d1d1(0x218)][_0x23d1d1(0x228)](_0x40f42e);}catch{}const _0x345940=a30_0x38762b(_0x2e075f);try{a30_0x32394b[_0x23d1d1(0x218)][_0x23d1d1(0x202)](_0x345940);}catch{}return _0x2e075f;}return _0x2e075f;}function a30_0x1c5a(){const _0x1736da=['map','__proto__','242410DweBpF','selectedImg','level','update','favorite','green','2723370YqFreO','keys','10080PslxJy','memBeforeEdit','shared_fields','mems_visNetworkGraph_nodes2','captionTheImg','content_string','2319XJVmNS','set','catch','130qoYsxC','imgCaption_string','generate_customFields_model\x20failed','table','key','log','content','bulkAdd','mems_visNetworkGraph_edges2','star','mems','3434202KdYptv','split','toString','imgInternalStoragePath','imgCaption_embedding','error','return\x20(function()\x20','isAChunk','newMemForm','{}.constructor(\x22return\x20this\x22)(\x20)','chunks_ids','630lDpGfG','parents_id','remove','title','shape','something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue','summarization','updateOnly','add','65807EFzeKz','score','parents_rel','visNetworkConfig','apply','get','ranking','color','toLowerCase','category','img','customFields_user','trim','all_used_category','console','length','value','prototype','trace','customFields_model','64kmDrGw','warn','1896852GLwPpf','title_string','bind'];a30_0x1c5a=function(){return _0x1736da;};return a30_0x1c5a();}export{K as e};