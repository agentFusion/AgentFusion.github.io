(function(_0xbc4745,_0x196bb3){const _0x1ba6ed=a47_0x1679,_0x312ed6=_0xbc4745();while(!![]){try{const _0x5ab388=-parseInt(_0x1ba6ed(0xcf))/0x1*(-parseInt(_0x1ba6ed(0xe9))/0x2)+parseInt(_0x1ba6ed(0xb5))/0x3+parseInt(_0x1ba6ed(0xd8))/0x4+parseInt(_0x1ba6ed(0xcc))/0x5*(parseInt(_0x1ba6ed(0xd7))/0x6)+-parseInt(_0x1ba6ed(0xdb))/0x7+-parseInt(_0x1ba6ed(0xc8))/0x8+parseInt(_0x1ba6ed(0xc6))/0x9;if(_0x5ab388===_0x196bb3)break;else _0x312ed6['push'](_0x312ed6['shift']());}catch(_0x166914){_0x312ed6['push'](_0x312ed6['shift']());}}}(a47_0x5080,0x5e0b1));const a47_0x5a1e83=(function(){let _0x4b6ea6=!![];return function(_0x5c2d2b,_0x12c04d){const _0x37b36e=_0x4b6ea6?function(){const _0x5ad72f=a47_0x1679;if(_0x12c04d){const _0x5dfae3=_0x12c04d[_0x5ad72f(0xe5)](_0x5c2d2b,arguments);return _0x12c04d=null,_0x5dfae3;}}:function(){};return _0x4b6ea6=![],_0x37b36e;};}()),a47_0x3911f0=a47_0x5a1e83(this,function(){const _0x380cbe=a47_0x1679;let _0x111cc2;try{const _0x4ffeed=Function(_0x380cbe(0xe8)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x111cc2=_0x4ffeed();}catch(_0x500b9f){_0x111cc2=window;}const _0x3b1422=_0x111cc2[_0x380cbe(0xdd)]=_0x111cc2['console']||{},_0x3297ca=[_0x380cbe(0xc0),'warn',_0x380cbe(0xd6),'error',_0x380cbe(0xaf),_0x380cbe(0xdc),_0x380cbe(0xe2)];for(let _0x45b689=0x0;_0x45b689<_0x3297ca[_0x380cbe(0xda)];_0x45b689++){const _0x18caf0=a47_0x5a1e83[_0x380cbe(0xd0)]['prototype']['bind'](a47_0x5a1e83),_0x4b6290=_0x3297ca[_0x45b689],_0x14213b=_0x3b1422[_0x4b6290]||_0x18caf0;_0x18caf0[_0x380cbe(0xc1)]=a47_0x5a1e83['bind'](a47_0x5a1e83),_0x18caf0[_0x380cbe(0xac)]=_0x14213b['toString'][_0x380cbe(0xb6)](_0x14213b),_0x3b1422[_0x4b6290]=_0x18caf0;}});a47_0x3911f0();import{K as a47_0x221ddf,r as a47_0x1b511c,j as a47_0x4bf7f5,L as a47_0x2a4e5d,H as a47_0x4ebba8}from'./index-C-EC2TMV.js';import{R as a47_0x55d584,B as a47_0x302c85,l as a47_0x3b6d70}from'./PaperMainTemplate-B8gRh8CK.js';import{T as a47_0xf59a15}from'./TextInput-CAVpXMVT.js';import{u as a47_0x375405,i as a47_0x284e7f}from'./importProduced_nodes_flat_toApp-B82xJhLZ.js';import{s as a47_0x123688}from'./showToast-D1T75Y8q.js';function a47_0x1679(_0x48672c,_0x4051c3){const _0x7c99a9=a47_0x5080();return a47_0x1679=function(_0x3911f0,_0x5a1e83){_0x3911f0=_0x3911f0-0xac;let _0x2a0e0f=_0x7c99a9[_0x3911f0];return _0x2a0e0f;},a47_0x1679(_0x48672c,_0x4051c3);}import{s as a47_0x10cc67}from'./addImgOrIconToVisNode_-DeapGsiN.js';function a47_0x5080(){const _0x31ebfd=['1698132gvOgae','1089984CDNRPh','findIndex','length','2963366ZkrYgL','table','console','userInputs','text2','useState','mappingFileds_edges','trace','Fragment','text','apply','content','something\x20went\x20wrong\x20when\x20trying\x20to\x20import\x20data!','return\x20(function()\x20','32jryRQr','import','id\x20field\x20from\x20','destination\x20field\x20name\x20','alert','filter','toString','from','general','exception','map','tags\x20field\x20from\x20','edges\x20fileds\x20will\x20be\x20mapped\x20like\x20this:','chunkingMode','!ok','1504842wSrgZR','bind','shift','nodes_flat','jsxs','edges_raw','load\x20nodes','split','mappingFileds','tags','push','log','__proto__','title','content\x20field\x20from\x20','missingHeaders','finalMap','1189350nltTzw','withUi','4724792ajMxMf','nodes_flat_','img','relation','5qkLuSG','jsx','start\x20importing','13116nFVqDF','constructor','mappingFileds_withoutParentId','relation\x20field\x20name\x20','fileds\x20will\x20be\x20mapped\x20like\x20this:','userDataHaveId','edges','info'];a47_0x5080=function(){return _0x31ebfd;};return a47_0x5080();}import{F}from'./FileSelector-CLoNDrRL.js';import'./index-B39aFtw2.js';async function D(_0x4ea755){const _0x54ce3b=a47_0x1679,_0x2b4859=_0x4ea755[_0x54ce3b(0xe4)][_0x54ce3b(0xbc)]('\x0a'),_0x1a2d76=_0x2b4859[_0x54ce3b(0xb7)]()[_0x54ce3b(0xbc)](','),_0x1b4c7e={'id':_0x4ea755[_0x54ce3b(0xbd)]['id']||'id','title':_0x4ea755['mappingFileds'][_0x54ce3b(0xc2)]||_0x54ce3b(0xc2),'content':_0x4ea755[_0x54ce3b(0xbd)][_0x54ce3b(0xe6)]||_0x54ce3b(0xe6),'tags':_0x4ea755[_0x54ce3b(0xbd)][_0x54ce3b(0xbe)]||_0x54ce3b(0xbe),'img':_0x4ea755[_0x54ce3b(0xbd)][_0x54ce3b(0xca)]||_0x54ce3b(0xca)},_0x1a4de=_0x1a2d76[_0x54ce3b(0xd9)](_0x420b13=>_0x420b13==_0x1b4c7e['id']),_0x647635=_0x1a2d76[_0x54ce3b(0xd9)](_0x90c28d=>_0x90c28d==_0x1b4c7e[_0x54ce3b(0xc2)]),_0x119cd0=_0x1a2d76[_0x54ce3b(0xd9)](_0x4c5635=>_0x4c5635==_0x1b4c7e['content']),_0x308068=_0x1a2d76[_0x54ce3b(0xd9)](_0x595f4d=>_0x595f4d==_0x1b4c7e['tags']),_0x35b3e6=_0x1a2d76[_0x54ce3b(0xd9)](_0x56841f=>_0x56841f==_0x1b4c7e['img']);if(_0x647635==-0x1||_0x119cd0==-0x1||_0x308068==-0x1||_0x35b3e6==-0x1||_0x4ea755[_0x54ce3b(0xd4)]&&_0x1a4de==-0x1)throw _0x54ce3b(0xc4);const _0xe25425=[];for(let _0x12b17f=0x0;_0x12b17f<_0x2b4859['length'];_0x12b17f++){const _0x34e2cb=_0x2b4859[_0x12b17f];if(!_0x34e2cb)continue;const _0x12cd00=_0x34e2cb[_0x54ce3b(0xbc)](',');if(!_0x12cd00)continue;if(_0x4ea755['userDataHaveId']&&!_0x12cd00[_0x1a4de]||!_0x4ea755['userDataHaveId']&&!_0x12cd00[_0x647635])throw'missingFields';const _0x5e6abd=_0x4ea755['userDataHaveId']?_0x12cd00[_0x1a4de]:_0x12cd00[_0x647635],_0x2934ad=_0x4ea755[_0x54ce3b(0xd5)][_0x54ce3b(0xee)](_0x21f5c2=>_0x21f5c2['to']==_0x5e6abd);_0xe25425[_0x54ce3b(0xbf)]({'id':_0x12cd00[_0x1a4de],'title':_0x12cd00[_0x647635],'content':_0x12cd00[_0x119cd0],'tags':_0x12cd00[_0x308068],'img':_0x12cd00[_0x35b3e6],'parents_id':_0x2934ad['map'](_0x1ccfff=>_0x1ccfff['from']),'parents_rel':_0x2934ad[_0x54ce3b(0xb0)](_0x5229ea=>_0x5229ea[_0x54ce3b(0xcb)]??''),'category':_0x54ce3b(0xae),'customFields_user':{}});}return{'nodes_flat':_0xe25425,'finalMap':_0x1b4c7e};}async function S(_0x137aa0){const _0x363742=a47_0x1679,_0x1120d6=_0x137aa0[_0x363742(0xdf)][_0x363742(0xbc)]('\x0a'),_0x22b3f1=_0x1120d6[_0x363742(0xb7)]()[_0x363742(0xbc)](','),_0x58659a={'from':_0x137aa0[_0x363742(0xe1)]['from']||'from','to':_0x137aa0[_0x363742(0xe1)]['to']||'to','relation':_0x137aa0[_0x363742(0xe1)]['relation']||'relation'},_0x379635=_0x22b3f1[_0x363742(0xd9)](_0x1d6979=>_0x1d6979==_0x58659a[_0x363742(0xad)]),_0x230df7=_0x22b3f1['findIndex'](_0x2f2aa4=>_0x2f2aa4==_0x58659a['to']),_0x3db2aa=_0x22b3f1[_0x363742(0xd9)](_0x2bfe41=>_0x2bfe41==_0x58659a[_0x363742(0xcb)]);if(_0x379635==-0x1||_0x230df7==-0x1||_0x3db2aa==-0x1)throw _0x363742(0xc4);const _0x137268=[];for(let _0x40c5fb=0x0;_0x40c5fb<_0x1120d6[_0x363742(0xda)];_0x40c5fb++){const _0x14d565=_0x1120d6[_0x40c5fb];if(!_0x14d565)continue;const _0x47e3db=_0x14d565[_0x363742(0xbc)](',');if(_0x47e3db){if(!_0x47e3db[_0x379635]||!_0x47e3db[_0x230df7]||!_0x47e3db[_0x3db2aa])throw'missingFields';_0x137268[_0x363742(0xbf)]({'from':_0x47e3db[_0x379635],'to':_0x47e3db[_0x230df7],'relation':_0x47e3db[_0x3db2aa]});}}return{'edges_raw':_0x137268,'finalMap_edges':_0x58659a};}async function k(_0x21367b){const _0x4b863f=a47_0x1679,_0x4e32a7=await S({'text2':_0x21367b[_0x4b863f(0xdf)],'mappingFileds_edges':_0x21367b[_0x4b863f(0xe1)]}),_0x38bc96=await D({'text':_0x21367b[_0x4b863f(0xe4)],'mappingFileds':_0x21367b[_0x4b863f(0xbd)],'userDataHaveId':_0x21367b[_0x4b863f(0xd4)],'edges':_0x4e32a7[_0x4b863f(0xba)]});if(!_0x38bc96[_0x4b863f(0xb8)]||!_0x38bc96[_0x4b863f(0xb8)][_0x4b863f(0xda)])throw'xnaasdq31_failed';return{'nodes_flat_':_0x38bc96[_0x4b863f(0xb8)],'finalMap':_0x38bc96[_0x4b863f(0xc5)]};}async function E(_0x56b98e){const _0x33ea1b=a47_0x1679;await a47_0x375405();try{const _0xfa046e=await k({'text':_0x56b98e[_0x33ea1b(0xe4)],'text2':_0x56b98e[_0x33ea1b(0xdf)],'mappingFileds':_0x56b98e['userInputs'][_0x33ea1b(0xd1)],'mappingFileds_edges':_0x56b98e[_0x33ea1b(0xde)][_0x33ea1b(0xe1)],'userDataHaveId':_0x56b98e[_0x33ea1b(0xde)][_0x33ea1b(0xd4)]});if(!await a47_0x284e7f({'nodes_flat':_0xfa046e[_0x33ea1b(0xc9)],'withUi':_0x56b98e[_0x33ea1b(0xde)][_0x33ea1b(0xc7)],'userDataHaveId':_0x56b98e[_0x33ea1b(0xde)][_0x33ea1b(0xd4)],'chunkingMode':_0x56b98e[_0x33ea1b(0xde)][_0x33ea1b(0xb3)]}))throw _0x33ea1b(0xb4);}catch{a47_0x10cc67(!0x1),a47_0x123688({'title':a47_0x221ddf('error'),'content':a47_0x221ddf(_0x33ea1b(0xe7)),'type':_0x33ea1b(0xed)});}}const z=({userDataHaveId:_0x1a25de,withUi:_0x35f8e4,chunkingMode:_0x49d234})=>{const _0x22fa6f=a47_0x1679,[_0x2baa0e,_0x127c59]=a47_0x1b511c[_0x22fa6f(0xe0)](null),[_0x5bd0cc,_0x39d5cb]=a47_0x1b511c[_0x22fa6f(0xe0)](null),[_0x1b01db,_0x4785b3]=a47_0x1b511c[_0x22fa6f(0xe0)]({'title':_0x22fa6f(0xc2),'content':_0x22fa6f(0xe6),'tags':_0x22fa6f(0xbe),'img':_0x22fa6f(0xca),'id':'id'}),[_0x598f8f,_0x2e049c]=a47_0x1b511c['useState']({'from':_0x22fa6f(0xad),'to':'to','relation':_0x22fa6f(0xcb)});return a47_0x4bf7f5[_0x22fa6f(0xb9)](a47_0x4bf7f5[_0x22fa6f(0xe3)],{'children':[a47_0x4bf7f5[_0x22fa6f(0xb9)](a47_0x2a4e5d,{'children':[a47_0x4bf7f5['jsx'](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0x4ebba8,{'children':a47_0x221ddf(_0x22fa6f(0xd3))})}),_0x1a25de&&a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0xf59a15,{'label':a47_0x221ddf(_0x22fa6f(0xeb)),'value':_0x1b01db==null?void 0x0:_0x1b01db['id'],'onChangeText':_0x21b329=>_0x4785b3({..._0x1b01db,'id':_0x21b329})})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0xf59a15,{'label':a47_0x221ddf('title\x20field\x20from\x20'),'value':_0x1b01db==null?void 0x0:_0x1b01db[_0x22fa6f(0xc2)],'onChangeText':_0x5701e0=>_0x4785b3({..._0x1b01db,'title':_0x5701e0})})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0xf59a15,{'label':a47_0x221ddf(_0x22fa6f(0xc3)),'value':_0x1b01db==null?void 0x0:_0x1b01db[_0x22fa6f(0xe6)],'onChangeText':_0x4f6486=>_0x4785b3({..._0x1b01db,'content':_0x4f6486})})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0xf59a15,{'label':a47_0x221ddf(_0x22fa6f(0xb1)),'value':_0x1b01db==null?void 0x0:_0x1b01db[_0x22fa6f(0xbe)],'onChangeText':_0x3ba7de=>_0x4785b3({..._0x1b01db,'tags':_0x3ba7de})})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0xf59a15,{'label':a47_0x221ddf('img\x20field\x20from\x20'),'value':_0x1b01db==null?void 0x0:_0x1b01db[_0x22fa6f(0xca)],'onChangeText':_0x558765=>_0x4785b3({..._0x1b01db,'img':_0x558765})})})]}),a47_0x4bf7f5['jsxs'](a47_0x2a4e5d,{'children':[a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0x4ebba8,{'children':a47_0x221ddf(_0x22fa6f(0xb2))})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5['jsx'](a47_0xf59a15,{'label':a47_0x221ddf('source\x20field\x20name'),'value':_0x598f8f==null?void 0x0:_0x598f8f['from'],'onChangeText':_0x3091fe=>_0x2e049c({..._0x598f8f,'from':_0x3091fe})})}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x55d584,{'children':a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0xf59a15,{'label':a47_0x221ddf(_0x22fa6f(0xec)),'value':_0x598f8f==null?void 0x0:_0x598f8f['to'],'onChangeText':_0x38758d=>_0x2e049c({..._0x598f8f,'to':_0x38758d})})}),a47_0x4bf7f5['jsx'](a47_0x55d584,{'children':a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0xf59a15,{'label':_0x22fa6f(0xd2),'value':_0x598f8f==null?void 0x0:_0x598f8f[_0x22fa6f(0xcb)],'onChangeText':_0x5df304=>_0x2e049c({..._0x598f8f,'relation':_0x5df304})})})]}),a47_0x4bf7f5[_0x22fa6f(0xb9)](a47_0x55d584,{'sortItems':!0x0,'children':[a47_0x4bf7f5['jsx'](F,{'icon':_0x22fa6f(0xea),'style':{'maxWidth':0xc8},'onFileSelect':_0x6af942=>{_0x127c59(_0x6af942);},'children':a47_0x221ddf(_0x22fa6f(0xbb))}),a47_0x4bf7f5[_0x22fa6f(0xcd)](F,{'icon':'import','style':{'maxWidth':0xc8},'onFileSelect':_0x2aac0c=>{_0x39d5cb(_0x2aac0c);},'children':a47_0x221ddf('load\x20edges')})]}),a47_0x4bf7f5[_0x22fa6f(0xcd)](a47_0x302c85,{'onPress':async()=>{const _0x443fbf=_0x22fa6f;E({'text':await new Blob([await a47_0x3b6d70(_0x2baa0e)])[_0x443fbf(0xe4)](),'text2':await new Blob([await a47_0x3b6d70(_0x5bd0cc)])[_0x443fbf(0xe4)](),'userInputs':{'mappingFileds_edges':_0x598f8f,'mappingFileds_withoutParentId':_0x1b01db,'userDataHaveId':_0x1a25de,'withUi':_0x35f8e4,'chunkingMode':_0x49d234}});},'children':a47_0x221ddf(_0x22fa6f(0xce))})]});};export{z as Csv_nodesAndEdges};