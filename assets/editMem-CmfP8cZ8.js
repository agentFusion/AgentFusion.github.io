(function(_0xd93f8f,_0x287ad4){const _0x5bc345=a30_0x452e,_0x10a5da=_0xd93f8f();while(!![]){try{const _0x3c6fb1=parseInt(_0x5bc345(0x84))/0x1+parseInt(_0x5bc345(0x89))/0x2*(-parseInt(_0x5bc345(0x81))/0x3)+-parseInt(_0x5bc345(0x83))/0x4*(-parseInt(_0x5bc345(0x79))/0x5)+-parseInt(_0x5bc345(0x7a))/0x6+parseInt(_0x5bc345(0x88))/0x7*(parseInt(_0x5bc345(0xac))/0x8)+-parseInt(_0x5bc345(0x6b))/0x9+-parseInt(_0x5bc345(0xa0))/0xa;if(_0x3c6fb1===_0x287ad4)break;else _0x10a5da['push'](_0x10a5da['shift']());}catch(_0x347a9a){_0x10a5da['push'](_0x10a5da['shift']());}}}(a30_0x2aaa,0xbe74d));const a30_0x5bae0d=(function(){let _0x37e869=!![];return function(_0x249b4b,_0x376eae){const _0x79b26a=_0x37e869?function(){const _0x30e53c=a30_0x452e;if(_0x376eae){const _0x1c91e6=_0x376eae[_0x30e53c(0x9b)](_0x249b4b,arguments);return _0x376eae=null,_0x1c91e6;}}:function(){};return _0x37e869=![],_0x79b26a;};}()),a30_0x28efdd=a30_0x5bae0d(this,function(){const _0x51b8b5=a30_0x452e,_0x44235d=function(){const _0x8bcd7=a30_0x452e;let _0xb4c55;try{_0xb4c55=Function(_0x8bcd7(0x70)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x15169b){_0xb4c55=window;}return _0xb4c55;},_0x5a5097=_0x44235d(),_0x3e83cf=_0x5a5097['console']=_0x5a5097[_0x51b8b5(0x82)]||{},_0x36afc7=[_0x51b8b5(0xa3),_0x51b8b5(0xaa),_0x51b8b5(0x99),_0x51b8b5(0x80),'exception',_0x51b8b5(0x7b),_0x51b8b5(0x8c)];for(let _0x450478=0x0;_0x450478<_0x36afc7[_0x51b8b5(0x6c)];_0x450478++){const _0x341d94=a30_0x5bae0d[_0x51b8b5(0xb5)][_0x51b8b5(0x74)][_0x51b8b5(0x67)](a30_0x5bae0d),_0x24083b=_0x36afc7[_0x450478],_0x535bdb=_0x3e83cf[_0x24083b]||_0x341d94;_0x341d94[_0x51b8b5(0xb1)]=a30_0x5bae0d['bind'](a30_0x5bae0d),_0x341d94[_0x51b8b5(0x7f)]=_0x535bdb[_0x51b8b5(0x7f)][_0x51b8b5(0x67)](_0x535bdb),_0x3e83cf[_0x24083b]=_0x341d94;}});a30_0x28efdd();function a30_0x2aaa(){const _0x4ead59=['mems','green','6693336zqwQIO','length','nodes','remove','mems_visNetworkGraph_edges2','return\x20(function()\x20','selectedImg','generate_customFields_model','catch','prototype','delete','updateOnly','newMemForm','valueOf','15YjhrvX','3153030MzQwCV','table','something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue','category','customFields_model','toString','error','348477rwvVkz','console','834916LNhZDP','1366575EhuFZX','trim','customFields_user','color','7CDRVnd','2CyrpJw','title','memBeforeEdit','trace','star','split','img','favorite','memsChunks','imgCaption_string','configs','map','content_string','value','alert','all_used_Fields','info','mems_visNetworkGraph_nodes2','apply','level','keys','isAChunk','bulkAdd','1486080EiQnRW','hidden','captionTheImg','log','shape','set','generate_customFields_model\x20failed','score','parents_id','content','warn','get','2570584FTumWQ','key','title_string','add','toLowerCase','__proto__','chunks_ids','parents_rel','update','constructor','visNetworkConfig','imgInternalStoragePath','new_fields','bind','imgCaption_embedding'];a30_0x2aaa=function(){return _0x4ead59;};return a30_0x2aaa();}import{y as a30_0x2dff29,l as a30_0x1c85cd,u as a30_0x414323,i as a30_0x272787}from'./PaperMainTemplate-hT3Z62lC.js';function a30_0x452e(_0x1897f7,_0xddf0c2){const _0x47d2dc=a30_0x2aaa();return a30_0x452e=function(_0x28efdd,_0x5bae0d){_0x28efdd=_0x28efdd-0x65;let _0x331b2e=_0x47d2dc[_0x28efdd];return _0x331b2e;},a30_0x452e(_0x1897f7,_0xddf0c2);}import{x as a30_0x16bbb4,S as a30_0x3544e8,T as a30_0x13f38f,U as a30_0x1fc32f,V,J as a30_0x489cd6,W as a30_0x3de3e0,D,X as a30_0x4c71ce,h as a30_0x3298e9,K as a30_0x23eeef}from'./addImgOrIconToVisNode_-BeOWRAB0.js';import{J as a30_0x3f3992,Q as a30_0x222ea9,X as a30_0x29f3a5,ah as a30_0x2a94f5,K as a30_0x37b383}from'./index-9vUw0lHj.js';import{s as a30_0x1b6860}from'./showToast-rfn9H4O-.js';async function R(_0x237ba0){const _0x4f08e5=a30_0x452e;var _0x5c0343,_0x1ffe09,_0x99a3fe;const _0x4cf438=a30_0x3f3992['mems'][_0x4f08e5(0xab)](_0x237ba0[_0x4f08e5(0x8b)]['id']),_0x9b23ab=!a30_0x2dff29(_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0x86)],_0x237ba0[_0x4f08e5(0x77)]['customFields_user']),_0x44fc59=!a30_0x2dff29(_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0xa8)],_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0xa8)])||!a30_0x2dff29(_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0xb3)],_0x237ba0['newMemForm']['parents_rel']),_0x266813=_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0x8a)]!==_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0xae)],_0x522cc7=_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0xa9)]!==_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0x95)],_0x458902=_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0x7d)]!==_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0x7d)],_0x267af1={'title_string':_0x266813?_0x237ba0['newMemForm'][_0x4f08e5(0x8a)]:_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0xae)],'content_string':_0x522cc7?_0x237ba0['newMemForm'][_0x4f08e5(0xa9)]:_0x237ba0[_0x4f08e5(0x8b)]['content_string'],'title':_0x266813?await a30_0x16bbb4({'text':_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0x8a)]}):_0x4cf438['title'],'content':_0x522cc7?await a30_0x16bbb4({'text':_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0xa9)]}):_0x4cf438[_0x4f08e5(0xa9)],'tags':(_0x1ffe09=(_0x5c0343=_0x237ba0[_0x4f08e5(0x77)]['tags'])==null?void 0x0:_0x5c0343['trim']())==null?void 0x0:_0x1ffe09[_0x4f08e5(0xb0)]()[_0x4f08e5(0x8e)]('\x20'),'score':_0x4cf438[_0x4f08e5(0xa7)],'id':_0x4cf438['id'],'parents_id':_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0xa8)],'parents_rel':_0x237ba0['newMemForm'][_0x4f08e5(0xb3)],'img':null,'favorite':_0x4cf438[_0x4f08e5(0x90)],'hidden':_0x4cf438[_0x4f08e5(0xa1)],'level':_0x44fc59?a30_0x3544e8(_0x237ba0[_0x4f08e5(0x77)]['parents_id']):_0x4cf438[_0x4f08e5(0x9c)],'ranking':_0x4cf438['ranking'],'shape':_0x4cf438[_0x4f08e5(0xa4)],'star':_0x4cf438[_0x4f08e5(0x8d)],'summarization':_0x4cf438['summarization'],'creationTime':_0x4cf438['creationTime'],'modificationTime':new Date()[_0x4f08e5(0x78)](),'chunks_ids':_0x4cf438[_0x4f08e5(0xb2)],'isAChunk':_0x4cf438[_0x4f08e5(0x9e)],'imgCaption_embedding':_0x4cf438[_0x4f08e5(0x68)],'imgCaption_string':_0x4cf438[_0x4f08e5(0x92)],'customFields_user':_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0x86)],'customFields_model':_0x4cf438[_0x4f08e5(0x7e)],'category':_0x458902?_0x237ba0[_0x4f08e5(0x77)]['category']:_0x237ba0['memBeforeEdit'][_0x4f08e5(0x7d)]},_0x2ac2a2=(_0x99a3fe=_0x237ba0[_0x4f08e5(0x77)][_0x4f08e5(0x8f)])==null?void 0x0:_0x99a3fe[_0x4f08e5(0x85)](),_0x1b65d2=_0x237ba0[_0x4f08e5(0x8b)][_0x4f08e5(0x8f)]!==_0x2ac2a2||!!_0x237ba0[_0x4f08e5(0x71)];let _0x4802fd=null,_0x304752=null;if(_0x1b65d2){if(_0x237ba0[_0x4f08e5(0x71)]){const _0x1e53f2=await a30_0x1c85cd(_0x237ba0[_0x4f08e5(0x71)]);if(_0x4802fd=await a30_0x13f38f(_0x1e53f2),_0x304752=a30_0x414323[_0x4f08e5(0x93)][_0x4f08e5(0x65)]+'/'+_0x4cf438['id'],_0x267af1[_0x4f08e5(0x8f)]=_0x304752,_0x237ba0[_0x4f08e5(0xa2)]){const _0x236277=await a30_0x1fc32f({'img':new Blob([_0x4802fd],{'type':'image/png'})});_0x267af1['imgCaption_string']=_0x236277,_0x267af1[_0x4f08e5(0x68)]=_0x236277?await a30_0x16bbb4({'text':_0x236277}):null;}}else _0x267af1[_0x4f08e5(0x8f)]=_0x2ac2a2;}else _0x267af1['img']=_0x237ba0['memBeforeEdit'][_0x4f08e5(0x8f)];let _0xd36c1d=[];_0x522cc7&&(_0xd36c1d=await V({'newMem':_0x267af1,'strategy':_0x237ba0['chunkingMode']??null}),_0x267af1[_0x4f08e5(0xb2)]=_0xd36c1d[_0x4f08e5(0x94)](_0x3f7c0d=>_0x3f7c0d['id']));let _0x4f661a=await a30_0x222ea9(_0x4f08e5(0x98))??{};if(_0x9b23ab?_0x4f661a=await a30_0x489cd6({'keys':Object[_0x4f08e5(0x9d)](_0x4cf438[_0x4f08e5(0x86)]),'sharedFileds':_0x4f661a}):_0x4f661a=await a30_0x489cd6({'keys':Object[_0x4f08e5(0x9d)](_0x267af1['customFields_user']),'sharedFileds':_0x4f661a}),_0x522cc7&&_0x237ba0[_0x4f08e5(0x72)]){_0x4f661a=await a30_0x489cd6({'keys':Object[_0x4f08e5(0x9d)](_0x4cf438[_0x4f08e5(0x7e)]),'sharedFileds':_0x4f661a});const {res:_0x5445b2}=await a30_0x3de3e0({'content':_0x267af1[_0x4f08e5(0x95)],'all_used_Fields':new Set(Object[_0x4f08e5(0x9d)](_0x4f661a)),'reservedFieldsThatModelShouldNotUse':[...D]});if(!_0x5445b2)throw _0x4f08e5(0xa6);if(!_0x5445b2||!('shared_fields'in _0x5445b2))throw'';const _0x43c27f=[..._0x5445b2['shared_fields'],..._0x5445b2[_0x4f08e5(0x66)]],_0x1e601a={};for(let _0x5432a1=0x0;_0x5432a1<_0x43c27f[_0x4f08e5(0x6c)];_0x5432a1++){const _0x487f70=_0x43c27f[_0x5432a1];_0x1e601a[_0x487f70[_0x4f08e5(0xad)]]=_0x487f70[_0x4f08e5(0x96)];}_0x4f661a=await a30_0x4c71ce({'keys':Object[_0x4f08e5(0x9d)](_0x1e601a),'sharedFileds':_0x4f661a}),_0x267af1[_0x4f08e5(0x7e)]=_0x1e601a;}_0x4f661a=await a30_0x4c71ce({'keys':Object['keys'](_0x267af1['customFields_user']),'sharedFileds':_0x4f661a});let _0x15496=await a30_0x222ea9('all_used_category')??{};_0x458902&&(_0x4f661a=await a30_0x489cd6({'keys':[_0x267af1[_0x4f08e5(0x7d)]],'sharedFileds':_0x15496}),_0x15496=await a30_0x4c71ce({'keys':[_0x267af1[_0x4f08e5(0x7d)]],'sharedFileds':_0x15496}));const _0xa51308=_0x267af1['id'];if(a30_0x3f3992[_0x4f08e5(0x69)][_0x4f08e5(0xa5)](_0xa51308,_0x267af1),await a30_0x414323['db'][_0x4f08e5(0x69)][_0x4f08e5(0x75)](_0x267af1['id']),await a30_0x414323['db'][_0x4f08e5(0x69)][_0x4f08e5(0xaf)](_0x267af1,_0x267af1['id']),_0x522cc7){for(let _0x1cb0c7=0x0;_0x1cb0c7<_0xd36c1d['length'];_0x1cb0c7++){const _0x4dd0b4=_0xd36c1d[_0x1cb0c7];a30_0x3f3992[_0x4f08e5(0x91)][_0x4f08e5(0xa5)](_0x4dd0b4['id'],_0x4dd0b4);}await a30_0x414323['db'][_0x4f08e5(0x91)][_0x4f08e5(0x9f)](_0xd36c1d),await a30_0x29f3a5({'all_used_Fields':_0x4f661a});}await a30_0x29f3a5({'all_used_Fields':_0x4f661a}),_0x458902&&await a30_0x29f3a5({'all_used_category':_0x15496}),_0x1b65d2&&_0x237ba0[_0x4f08e5(0x71)]&&await a30_0x2a94f5(_0x304752,_0x4802fd)[_0x4f08e5(0x73)](_0x2e9b48=>{const _0x4ab907=_0x4f08e5;a30_0x1b6860({'type':_0x4ab907(0x97),'content':a30_0x37b383(_0x4ab907(0x7c))});});const _0x458afe=a30_0x414323[_0x4f08e5(0x9a)][_0x4f08e5(0xab)](_0xa51308);let _0x24d16b={...a30_0x272787(_0x4f08e5(0xb6))[_0x4f08e5(0x6d)],..._0x458afe,'id':_0xa51308,'label':_0x267af1['title_string'],'level':_0x267af1[_0x4f08e5(0x9c)],'color':{..._0x458afe[_0x4f08e5(0x87)],'background':_0x4f08e5(0x6a)}};if(a30_0x272787(_0x4f08e5(0xb6))['withImages']&&_0x1b65d2&&(_0x24d16b=await a30_0x3298e9({'img':_0x267af1[_0x4f08e5(0x8f)],'node':_0x24d16b})),a30_0x414323['mems_visNetworkGraph_nodes2'][_0x4f08e5(0x76)]({'id':_0x267af1['id'],..._0x24d16b}),_0x24d16b[_0x4f08e5(0x9c)],_0x44fc59){const _0x2095c0=a30_0x23eeef(_0x237ba0[_0x4f08e5(0x8b)]);try{a30_0x414323['mems_visNetworkGraph_edges2'][_0x4f08e5(0x6e)](_0x2095c0);}catch{}const _0x22ec7c=a30_0x23eeef(_0x267af1);try{a30_0x414323[_0x4f08e5(0x6f)][_0x4f08e5(0xb4)](_0x22ec7c);}catch{}return _0x267af1;}return _0x267af1;}export{R as e};