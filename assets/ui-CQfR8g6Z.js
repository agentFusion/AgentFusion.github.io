(function(_0x233341,_0x5dbeef){const _0x5af05e=a44_0x68a0,_0x4949e7=_0x233341();while(!![]){try{const _0x8bebfe=-parseInt(_0x5af05e(0x130))/0x1+parseInt(_0x5af05e(0x149))/0x2+parseInt(_0x5af05e(0x146))/0x3*(-parseInt(_0x5af05e(0x168))/0x4)+-parseInt(_0x5af05e(0x164))/0x5+parseInt(_0x5af05e(0x14e))/0x6+-parseInt(_0x5af05e(0x140))/0x7+-parseInt(_0x5af05e(0x137))/0x8*(-parseInt(_0x5af05e(0x13a))/0x9);if(_0x8bebfe===_0x5dbeef)break;else _0x4949e7['push'](_0x4949e7['shift']());}catch(_0x29370b){_0x4949e7['push'](_0x4949e7['shift']());}}}(a44_0x1f9e,0xd4fcb));const a44_0x2bdd1a=(function(){let _0x5394de=!![];return function(_0x41b57f,_0x39b0fc){const _0x5e267c=_0x5394de?function(){const _0x5076c9=a44_0x68a0;if(_0x39b0fc){const _0x58be54=_0x39b0fc[_0x5076c9(0x15e)](_0x41b57f,arguments);return _0x39b0fc=null,_0x58be54;}}:function(){};return _0x5394de=![],_0x5e267c;};}()),a44_0x5954e9=a44_0x2bdd1a(this,function(){const _0x57ce82=a44_0x68a0,_0x3109cd=function(){const _0x3e1feb=a44_0x68a0;let _0x364fae;try{_0x364fae=Function(_0x3e1feb(0x134)+_0x3e1feb(0x157)+');')();}catch(_0x141f34){_0x364fae=window;}return _0x364fae;},_0x515445=_0x3109cd(),_0x1b5173=_0x515445[_0x57ce82(0x15d)]=_0x515445[_0x57ce82(0x15d)]||{},_0x24f270=[_0x57ce82(0x14b),_0x57ce82(0x158),'info','error',_0x57ce82(0x150),_0x57ce82(0x163),_0x57ce82(0x14a)];for(let _0x846287=0x0;_0x846287<_0x24f270['length'];_0x846287++){const _0x497a0e=a44_0x2bdd1a['constructor']['prototype'][_0x57ce82(0x15a)](a44_0x2bdd1a),_0x6c5e61=_0x24f270[_0x846287],_0x1c4889=_0x1b5173[_0x6c5e61]||_0x497a0e;_0x497a0e[_0x57ce82(0x12d)]=a44_0x2bdd1a[_0x57ce82(0x15a)](a44_0x2bdd1a),_0x497a0e[_0x57ce82(0x14d)]=_0x1c4889[_0x57ce82(0x14d)][_0x57ce82(0x15a)](_0x1c4889),_0x1b5173[_0x6c5e61]=_0x497a0e;}});a44_0x5954e9();import{K as a44_0x472f46,r as a44_0x4f4afb,j as a44_0x234f3,L as a44_0x342ca3,H as a44_0x2a077c}from'./index-GuxLI4NN.js';import{R as a44_0x429f82,B as a44_0x5c2109,l as a44_0x282ea7}from'./PaperMainTemplate-B4uholPE.js';import{T as a44_0x52138d}from'./TextInput-C1ZIO5fM.js';import{u as a44_0x15bc3e,i as a44_0x3880ff}from'./importProduced_nodes_flat_toApp-ClhHrRGW.js';import{s as a44_0x1f7630}from'./showToast-CM76-vjs.js';import{s as a44_0x2a41ad}from'./addImgOrIconToVisNode_-wy0TCTcA.js';import{F}from'./FileSelector-DgkRxEG5.js';import'./index-BbvmlZVA.js';async function D(_0x9f0da2){const _0x341897=a44_0x68a0,_0xabd6ce=_0x9f0da2[_0x341897(0x12f)][_0x341897(0x141)]('\x0a'),_0x39fa1f=_0xabd6ce[_0x341897(0x15f)]()['split'](','),_0x12f6fc={'id':_0x9f0da2[_0x341897(0x139)]['id']||'id','title':_0x9f0da2['mappingFileds'][_0x341897(0x136)]||_0x341897(0x136),'content':_0x9f0da2[_0x341897(0x139)][_0x341897(0x14c)]||_0x341897(0x14c),'tags':_0x9f0da2[_0x341897(0x139)][_0x341897(0x166)]||'tags','img':_0x9f0da2[_0x341897(0x139)][_0x341897(0x147)]||'img'},_0x11dfeb=_0x39fa1f[_0x341897(0x161)](_0x5cbdff=>_0x5cbdff==_0x12f6fc['id']),_0x17ff00=_0x39fa1f[_0x341897(0x161)](_0x4d9a1a=>_0x4d9a1a==_0x12f6fc[_0x341897(0x136)]),_0x4da920=_0x39fa1f[_0x341897(0x161)](_0x5f1d0e=>_0x5f1d0e==_0x12f6fc[_0x341897(0x14c)]),_0x31cb29=_0x39fa1f['findIndex'](_0x24ec7e=>_0x24ec7e==_0x12f6fc[_0x341897(0x166)]),_0x5e4207=_0x39fa1f[_0x341897(0x161)](_0x45260c=>_0x45260c==_0x12f6fc[_0x341897(0x147)]);if(_0x17ff00==-0x1||_0x4da920==-0x1||_0x31cb29==-0x1||_0x5e4207==-0x1||_0x9f0da2['userDataHaveId']&&_0x11dfeb==-0x1)throw _0x341897(0x12a);const _0x4d84b5=[];for(let _0x238137=0x0;_0x238137<_0xabd6ce[_0x341897(0x167)];_0x238137++){const _0x21aa93=_0xabd6ce[_0x238137];if(!_0x21aa93)continue;const _0x45c003=_0x21aa93[_0x341897(0x141)](',');if(!_0x45c003)continue;if(_0x9f0da2['userDataHaveId']&&!_0x45c003[_0x11dfeb]||!_0x9f0da2[_0x341897(0x132)]&&!_0x45c003[_0x17ff00])throw'missingFields';const _0x377b77=_0x9f0da2['userDataHaveId']?_0x45c003[_0x11dfeb]:_0x45c003[_0x17ff00],_0x4e6e3e=_0x9f0da2[_0x341897(0x165)]['filter'](_0x103681=>_0x103681['to']==_0x377b77);_0x4d84b5['push']({'id':_0x45c003[_0x11dfeb],'title':_0x45c003[_0x17ff00],'content':_0x45c003[_0x4da920],'tags':_0x45c003[_0x31cb29],'img':_0x45c003[_0x5e4207],'parents_id':_0x4e6e3e[_0x341897(0x12e)](_0x288a13=>_0x288a13['from']),'parents_rel':_0x4e6e3e['map'](_0x3ef7bc=>_0x3ef7bc['relation']??''),'category':_0x341897(0x154),'customFields_user':{}});}return{'nodes_flat':_0x4d84b5,'finalMap':_0x12f6fc};}function a44_0x1f9e(){const _0x2bff6a=['edges','tags','length','4051244pwLadA','something\x20went\x20wrong\x20when\x20trying\x20to\x20import\x20data!','destination\x20field\x20name\x20','missingHeaders','from','useState','__proto__','map','text','1719605NvbAqi','chunkingMode','userDataHaveId','img\x20field\x20from\x20','return\x20(function()\x20','title\x20field\x20from\x20','title','8BGhXMA','finalMap','mappingFileds','22250682OjhLKj','load\x20nodes','import','mappingFileds_withoutParentId','jsx','source\x20field\x20name','167944YpjrHU','split','xnaasdq31_failed','alert','start\x20importing','jsxs','3LOlmdv','img','load\x20edges','2676822eYbAVQ','trace','log','content','toString','3416118ejZJOD','nodes_flat','exception','edges\x20fileds\x20will\x20be\x20mapped\x20like\x20this:','relation','fileds\x20will\x20be\x20mapped\x20like\x20this:','general','mappingFileds_edges','content\x20field\x20from\x20','{}.constructor(\x22return\x20this\x22)(\x20)','warn','userInputs','bind','relation\x20field\x20name\x20','edges_raw','console','apply','shift','push','findIndex','withUi','table','3756295UCUFah'];a44_0x1f9e=function(){return _0x2bff6a;};return a44_0x1f9e();}async function S(_0x433fe3){const _0x4f4cac=a44_0x68a0,_0x38a256=_0x433fe3['text2'][_0x4f4cac(0x141)]('\x0a'),_0x1b9407=_0x38a256[_0x4f4cac(0x15f)]()[_0x4f4cac(0x141)](','),_0x1f72ce={'from':_0x433fe3[_0x4f4cac(0x155)][_0x4f4cac(0x12b)]||'from','to':_0x433fe3[_0x4f4cac(0x155)]['to']||'to','relation':_0x433fe3[_0x4f4cac(0x155)]['relation']||_0x4f4cac(0x152)},_0x495342=_0x1b9407[_0x4f4cac(0x161)](_0x1157d9=>_0x1157d9==_0x1f72ce[_0x4f4cac(0x12b)]),_0x1ce5c7=_0x1b9407[_0x4f4cac(0x161)](_0x4d2850=>_0x4d2850==_0x1f72ce['to']),_0x45b877=_0x1b9407[_0x4f4cac(0x161)](_0x1118da=>_0x1118da==_0x1f72ce[_0x4f4cac(0x152)]);if(_0x495342==-0x1||_0x1ce5c7==-0x1||_0x45b877==-0x1)throw _0x4f4cac(0x12a);const _0x1388cf=[];for(let _0x3c7988=0x0;_0x3c7988<_0x38a256[_0x4f4cac(0x167)];_0x3c7988++){const _0x409d75=_0x38a256[_0x3c7988];if(!_0x409d75)continue;const _0x948e62=_0x409d75[_0x4f4cac(0x141)](',');if(_0x948e62){if(!_0x948e62[_0x495342]||!_0x948e62[_0x1ce5c7]||!_0x948e62[_0x45b877])throw'missingFields';_0x1388cf[_0x4f4cac(0x160)]({'from':_0x948e62[_0x495342],'to':_0x948e62[_0x1ce5c7],'relation':_0x948e62[_0x45b877]});}}return{'edges_raw':_0x1388cf,'finalMap_edges':_0x1f72ce};}async function k(_0x567135){const _0x38b2d5=a44_0x68a0,_0x581954=await S({'text2':_0x567135['text2'],'mappingFileds_edges':_0x567135['mappingFileds_edges']}),_0x3b6be1=await D({'text':_0x567135[_0x38b2d5(0x12f)],'mappingFileds':_0x567135[_0x38b2d5(0x139)],'userDataHaveId':_0x567135[_0x38b2d5(0x132)],'edges':_0x581954[_0x38b2d5(0x15c)]});if(!_0x3b6be1[_0x38b2d5(0x14f)]||!_0x3b6be1[_0x38b2d5(0x14f)]['length'])throw _0x38b2d5(0x142);return{'nodes_flat_':_0x3b6be1[_0x38b2d5(0x14f)],'finalMap':_0x3b6be1[_0x38b2d5(0x138)]};}async function E(_0x36d175){const _0x55cfef=a44_0x68a0;await a44_0x15bc3e();try{const _0x2284b5=await k({'text':_0x36d175['text'],'text2':_0x36d175['text2'],'mappingFileds':_0x36d175[_0x55cfef(0x159)][_0x55cfef(0x13d)],'mappingFileds_edges':_0x36d175[_0x55cfef(0x159)][_0x55cfef(0x155)],'userDataHaveId':_0x36d175[_0x55cfef(0x159)]['userDataHaveId']});if(!await a44_0x3880ff({'nodes_flat':_0x2284b5['nodes_flat_'],'withUi':_0x36d175[_0x55cfef(0x159)][_0x55cfef(0x162)],'userDataHaveId':_0x36d175[_0x55cfef(0x159)][_0x55cfef(0x132)],'chunkingMode':_0x36d175[_0x55cfef(0x159)][_0x55cfef(0x131)]}))throw'!ok';}catch{a44_0x2a41ad(!0x1),a44_0x1f7630({'title':a44_0x472f46('error'),'content':a44_0x472f46(_0x55cfef(0x169)),'type':_0x55cfef(0x143)});}}const z=({userDataHaveId:_0x1862b4,withUi:_0x4eafe0,chunkingMode:_0x35bdb1})=>{const _0xc2a417=a44_0x68a0,[_0x38fafc,_0x470938]=a44_0x4f4afb[_0xc2a417(0x12c)](null),[_0x3375b6,_0x4828df]=a44_0x4f4afb[_0xc2a417(0x12c)](null),[_0x28ba5d,_0x6150d5]=a44_0x4f4afb[_0xc2a417(0x12c)]({'title':_0xc2a417(0x136),'content':'content','tags':_0xc2a417(0x166),'img':_0xc2a417(0x147),'id':'id'}),[_0x4f9b2f,_0x4b203d]=a44_0x4f4afb[_0xc2a417(0x12c)]({'from':_0xc2a417(0x12b),'to':'to','relation':'relation'});return a44_0x234f3['jsxs'](a44_0x234f3['Fragment'],{'children':[a44_0x234f3[_0xc2a417(0x145)](a44_0x342ca3,{'children':[a44_0x234f3['jsx'](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x2a077c,{'children':a44_0x472f46(_0xc2a417(0x153))})}),_0x1862b4&&a44_0x234f3['jsx'](a44_0x429f82,{'children':a44_0x234f3['jsx'](a44_0x52138d,{'label':a44_0x472f46('id\x20field\x20from\x20'),'value':_0x28ba5d==null?void 0x0:_0x28ba5d['id'],'onChangeText':_0x5b1246=>_0x6150d5({..._0x28ba5d,'id':_0x5b1246})})}),a44_0x234f3['jsx'](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':a44_0x472f46(_0xc2a417(0x135)),'value':_0x28ba5d==null?void 0x0:_0x28ba5d[_0xc2a417(0x136)],'onChangeText':_0x41263e=>_0x6150d5({..._0x28ba5d,'title':_0x41263e})})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':a44_0x472f46(_0xc2a417(0x156)),'value':_0x28ba5d==null?void 0x0:_0x28ba5d[_0xc2a417(0x14c)],'onChangeText':_0x574aef=>_0x6150d5({..._0x28ba5d,'content':_0x574aef})})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3['jsx'](a44_0x52138d,{'label':a44_0x472f46('tags\x20field\x20from\x20'),'value':_0x28ba5d==null?void 0x0:_0x28ba5d[_0xc2a417(0x166)],'onChangeText':_0x59f1d8=>_0x6150d5({..._0x28ba5d,'tags':_0x59f1d8})})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':a44_0x472f46(_0xc2a417(0x133)),'value':_0x28ba5d==null?void 0x0:_0x28ba5d[_0xc2a417(0x147)],'onChangeText':_0x4274e9=>_0x6150d5({..._0x28ba5d,'img':_0x4274e9})})})]}),a44_0x234f3[_0xc2a417(0x145)](a44_0x342ca3,{'children':[a44_0x234f3['jsx'](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x2a077c,{'children':a44_0x472f46(_0xc2a417(0x151))})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':a44_0x472f46(_0xc2a417(0x13f)),'value':_0x4f9b2f==null?void 0x0:_0x4f9b2f[_0xc2a417(0x12b)],'onChangeText':_0x39710a=>_0x4b203d({..._0x4f9b2f,'from':_0x39710a})})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':a44_0x472f46(_0xc2a417(0x16a)),'value':_0x4f9b2f==null?void 0x0:_0x4f9b2f['to'],'onChangeText':_0x5e49c3=>_0x4b203d({..._0x4f9b2f,'to':_0x5e49c3})})}),a44_0x234f3[_0xc2a417(0x13e)](a44_0x429f82,{'children':a44_0x234f3[_0xc2a417(0x13e)](a44_0x52138d,{'label':_0xc2a417(0x15b),'value':_0x4f9b2f==null?void 0x0:_0x4f9b2f[_0xc2a417(0x152)],'onChangeText':_0x211540=>_0x4b203d({..._0x4f9b2f,'relation':_0x211540})})})]}),a44_0x234f3[_0xc2a417(0x145)](a44_0x429f82,{'sortItems':!0x0,'children':[a44_0x234f3[_0xc2a417(0x13e)](F,{'icon':_0xc2a417(0x13c),'style':{'maxWidth':0xc8},'onFileSelect':_0x55eaea=>{_0x470938(_0x55eaea);},'children':a44_0x472f46(_0xc2a417(0x13b))}),a44_0x234f3[_0xc2a417(0x13e)](F,{'icon':_0xc2a417(0x13c),'style':{'maxWidth':0xc8},'onFileSelect':_0x2859c8=>{_0x4828df(_0x2859c8);},'children':a44_0x472f46(_0xc2a417(0x148))})]}),a44_0x234f3['jsx'](a44_0x5c2109,{'onPress':async()=>{const _0x34f72f=_0xc2a417;E({'text':await new Blob([await a44_0x282ea7(_0x38fafc)])[_0x34f72f(0x12f)](),'text2':await new Blob([await a44_0x282ea7(_0x3375b6)])[_0x34f72f(0x12f)](),'userInputs':{'mappingFileds_edges':_0x4f9b2f,'mappingFileds_withoutParentId':_0x28ba5d,'userDataHaveId':_0x1862b4,'withUi':_0x4eafe0,'chunkingMode':_0x35bdb1}});},'children':a44_0x472f46(_0xc2a417(0x144))})]});};function a44_0x68a0(_0x504bd9,_0x59385a){const _0x46c9a0=a44_0x1f9e();return a44_0x68a0=function(_0x5954e9,_0x2bdd1a){_0x5954e9=_0x5954e9-0x12a;let _0x339608=_0x46c9a0[_0x5954e9];return _0x339608;},a44_0x68a0(_0x504bd9,_0x59385a);}export{z as Csv_nodesAndEdges};