(function(_0x1299d7,_0x3bc262){const _0x2810c5=a30_0x5eae,_0x54c7d7=_0x1299d7();while(!![]){try{const _0x39ee19=-parseInt(_0x2810c5(0xd7))/0x1*(-parseInt(_0x2810c5(0xda))/0x2)+parseInt(_0x2810c5(0xc0))/0x3*(-parseInt(_0x2810c5(0xfa))/0x4)+-parseInt(_0x2810c5(0xe5))/0x5*(-parseInt(_0x2810c5(0xf9))/0x6)+-parseInt(_0x2810c5(0xb8))/0x7+-parseInt(_0x2810c5(0xc4))/0x8*(parseInt(_0x2810c5(0xab))/0x9)+parseInt(_0x2810c5(0xcb))/0xa*(-parseInt(_0x2810c5(0xba))/0xb)+parseInt(_0x2810c5(0xaa))/0xc*(parseInt(_0x2810c5(0xdd))/0xd);if(_0x39ee19===_0x3bc262)break;else _0x54c7d7['push'](_0x54c7d7['shift']());}catch(_0x3c5b50){_0x54c7d7['push'](_0x54c7d7['shift']());}}}(a30_0x5592,0xe88aa));const a30_0x3b44bd=(function(){let _0x196454=!![];return function(_0x1e2fc5,_0x185748){const _0x2d2f97=_0x196454?function(){const _0x411ac6=a30_0x5eae;if(_0x185748){const _0x4cb2a3=_0x185748[_0x411ac6(0xc7)](_0x1e2fc5,arguments);return _0x185748=null,_0x4cb2a3;}}:function(){};return _0x196454=![],_0x2d2f97;};}()),a30_0x44fc7d=a30_0x3b44bd(this,function(){const _0xb0714a=a30_0x5eae;let _0x5b241b;try{const _0x197970=Function(_0xb0714a(0xbb)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5b241b=_0x197970();}catch(_0x49fed3){_0x5b241b=window;}const _0x3e8ca4=_0x5b241b[_0xb0714a(0xf6)]=_0x5b241b[_0xb0714a(0xf6)]||{},_0x3f1eea=[_0xb0714a(0xbf),_0xb0714a(0xae),'info',_0xb0714a(0xf1),_0xb0714a(0xb5),_0xb0714a(0xc3),_0xb0714a(0xe3)];for(let _0x22dfcd=0x0;_0x22dfcd<_0x3f1eea[_0xb0714a(0xcc)];_0x22dfcd++){const _0x24e319=a30_0x3b44bd['constructor'][_0xb0714a(0xc5)][_0xb0714a(0xe4)](a30_0x3b44bd),_0x22dbde=_0x3f1eea[_0x22dfcd],_0xc8680=_0x3e8ca4[_0x22dbde]||_0x24e319;_0x24e319['__proto__']=a30_0x3b44bd[_0xb0714a(0xe4)](a30_0x3b44bd),_0x24e319['toString']=_0xc8680[_0xb0714a(0xbd)]['bind'](_0xc8680),_0x3e8ca4[_0x22dbde]=_0x24e319;}});a30_0x44fc7d();import{y as a30_0x32a9a7,l as a30_0x26fea1,u as a30_0x11bc92,i as a30_0x20f325}from'./PaperMainTemplate-CFa8Y-BD.js';function a30_0x5592(){const _0x34b36a=['update','map','parents_id','favorite','configs','get','isAChunk','updateOnly','keys','img','error','ranking','category','value','title_string','console','key','content_string','6mOgHhD','4kNweQw','imgInternalStoragePath','set','generate_customFields_model\x20failed','withImages','96lgbPiI','45zJOnJM','chunks_ids','chunkingMode','warn','content','shared_fields','selectedImg','hidden','alert','title','exception','customFields_user','memsChunks','719705avFaLG','add','90959CeqSGS','return\x20(function()\x20','imgCaption_embedding','toString','green','log','1369671sxJkCq','newMemForm','mems_visNetworkGraph_edges2','table','1711808YLENdK','prototype','score','apply','all_used_Fields','customFields_model','parents_rel','1060GQVGKI','length','mems_visNetworkGraph_nodes2','captionTheImg','visNetworkConfig','nodes','tags','mems','level','star','memBeforeEdit','toLowerCase','5sRtGfo','image/png','imgCaption_string','454186hypJqO','new_fields','catch','1250691PJogmf','valueOf','trim','split','color','all_used_category','trace','bind','7765675EDCylr','creationTime'];a30_0x5592=function(){return _0x34b36a;};return a30_0x5592();}import{x as a30_0x37d645,S as a30_0x331a86,T as a30_0x5618cc,U as a30_0x3ead49,V,J as a30_0x466ac6,W as a30_0xf62a53,D,X as a30_0x805b04,h as a30_0x2e6d05,K as a30_0x539656}from'./addImgOrIconToVisNode_-tckGH3nE.js';import{J as a30_0x2b189b,Q as a30_0x348623,X as a30_0x2503c7,ah as a30_0x39d673,K as a30_0x543355}from'./index-2kjPzj9P.js';import{s as a30_0x2dff42}from'./showToast-DLFV4bYg.js';function a30_0x5eae(_0x44e0f1,_0x32048c){const _0x383858=a30_0x5592();return a30_0x5eae=function(_0x44fc7d,_0x3b44bd){_0x44fc7d=_0x44fc7d-0xa9;let _0xfbb979=_0x383858[_0x44fc7d];return _0xfbb979;},a30_0x5eae(_0x44e0f1,_0x32048c);}async function R(_0xa5e0a){const _0x513859=a30_0x5eae;var _0x5e0e0e,_0x107f3a,_0x30ed8f;const _0x17c283=a30_0x2b189b[_0x513859(0xd2)]['get'](_0xa5e0a['memBeforeEdit']['id']),_0x2aba0c=!a30_0x32a9a7(_0xa5e0a[_0x513859(0xd5)][_0x513859(0xb6)],_0xa5e0a[_0x513859(0xc1)][_0x513859(0xb6)]),_0x53a30b=!a30_0x32a9a7(_0xa5e0a['memBeforeEdit'][_0x513859(0xe9)],_0xa5e0a[_0x513859(0xc1)][_0x513859(0xe9)])||!a30_0x32a9a7(_0xa5e0a['memBeforeEdit']['parents_rel'],_0xa5e0a[_0x513859(0xc1)]['parents_rel']),_0x155748=_0xa5e0a[_0x513859(0xc1)]['title']!==_0xa5e0a['memBeforeEdit']['title_string'],_0x609384=_0xa5e0a[_0x513859(0xc1)][_0x513859(0xaf)]!==_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf8)],_0x350217=_0xa5e0a[_0x513859(0xc1)][_0x513859(0xf3)]!==_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf3)],_0x5f5892={'title_string':_0x155748?_0xa5e0a[_0x513859(0xc1)][_0x513859(0xb4)]:_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf5)],'content_string':_0x609384?_0xa5e0a[_0x513859(0xc1)]['content']:_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf8)],'title':_0x155748?await a30_0x37d645({'text':_0xa5e0a[_0x513859(0xc1)][_0x513859(0xb4)]}):_0x17c283['title'],'content':_0x609384?await a30_0x37d645({'text':_0xa5e0a[_0x513859(0xc1)][_0x513859(0xaf)]}):_0x17c283['content'],'tags':(_0x107f3a=(_0x5e0e0e=_0xa5e0a[_0x513859(0xc1)][_0x513859(0xd1)])==null?void 0x0:_0x5e0e0e[_0x513859(0xdf)]())==null?void 0x0:_0x107f3a[_0x513859(0xd6)]()[_0x513859(0xe0)]('\x20'),'score':_0x17c283[_0x513859(0xc6)],'id':_0x17c283['id'],'parents_id':_0xa5e0a['newMemForm'][_0x513859(0xe9)],'parents_rel':_0xa5e0a[_0x513859(0xc1)][_0x513859(0xca)],'img':null,'favorite':_0x17c283[_0x513859(0xea)],'hidden':_0x17c283[_0x513859(0xb2)],'level':_0x53a30b?a30_0x331a86(_0xa5e0a[_0x513859(0xc1)][_0x513859(0xe9)]):_0x17c283[_0x513859(0xd3)],'ranking':_0x17c283[_0x513859(0xf2)],'shape':_0x17c283['shape'],'star':_0x17c283[_0x513859(0xd4)],'summarization':_0x17c283['summarization'],'creationTime':_0x17c283[_0x513859(0xe6)],'modificationTime':new Date()[_0x513859(0xde)](),'chunks_ids':_0x17c283[_0x513859(0xac)],'isAChunk':_0x17c283[_0x513859(0xed)],'imgCaption_embedding':_0x17c283[_0x513859(0xbc)],'imgCaption_string':_0x17c283[_0x513859(0xd9)],'customFields_user':_0xa5e0a[_0x513859(0xc1)]['customFields_user'],'customFields_model':_0x17c283['customFields_model'],'category':_0x350217?_0xa5e0a[_0x513859(0xc1)]['category']:_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf3)]},_0x40ae57=(_0x30ed8f=_0xa5e0a[_0x513859(0xc1)][_0x513859(0xf0)])==null?void 0x0:_0x30ed8f[_0x513859(0xdf)](),_0x73be3b=_0xa5e0a[_0x513859(0xd5)][_0x513859(0xf0)]!==_0x40ae57||!!_0xa5e0a['selectedImg'];let _0x326665=null,_0x10dbac=null;if(_0x73be3b){if(_0xa5e0a[_0x513859(0xb1)]){const _0x2355e6=await a30_0x26fea1(_0xa5e0a[_0x513859(0xb1)]);if(_0x326665=await a30_0x5618cc(_0x2355e6),_0x10dbac=a30_0x11bc92[_0x513859(0xeb)][_0x513859(0xfb)]+'/'+_0x17c283['id'],_0x5f5892[_0x513859(0xf0)]=_0x10dbac,_0xa5e0a[_0x513859(0xce)]){const _0x45bf64=await a30_0x3ead49({'img':new Blob([_0x326665],{'type':_0x513859(0xd8)})});_0x5f5892['imgCaption_string']=_0x45bf64,_0x5f5892[_0x513859(0xbc)]=_0x45bf64?await a30_0x37d645({'text':_0x45bf64}):null;}}else _0x5f5892[_0x513859(0xf0)]=_0x40ae57;}else _0x5f5892[_0x513859(0xf0)]=_0xa5e0a['memBeforeEdit'][_0x513859(0xf0)];let _0x1fb9c8=[];_0x609384&&(_0x1fb9c8=await V({'newMem':_0x5f5892,'strategy':_0xa5e0a[_0x513859(0xad)]??null}),_0x5f5892[_0x513859(0xac)]=_0x1fb9c8[_0x513859(0xe8)](_0xf55c23=>_0xf55c23['id']));let _0xe66974=await a30_0x348623(_0x513859(0xc8))??{};if(_0x2aba0c?_0xe66974=await a30_0x466ac6({'keys':Object[_0x513859(0xef)](_0x17c283[_0x513859(0xb6)]),'sharedFileds':_0xe66974}):_0xe66974=await a30_0x466ac6({'keys':Object['keys'](_0x5f5892[_0x513859(0xb6)]),'sharedFileds':_0xe66974}),_0x609384&&_0xa5e0a['generate_customFields_model']){_0xe66974=await a30_0x466ac6({'keys':Object[_0x513859(0xef)](_0x17c283[_0x513859(0xc9)]),'sharedFileds':_0xe66974});const {res:_0x1e955d}=await a30_0xf62a53({'content':_0x5f5892[_0x513859(0xf8)],'all_used_Fields':new Set(Object[_0x513859(0xef)](_0xe66974)),'reservedFieldsThatModelShouldNotUse':[...D]});if(!_0x1e955d)throw _0x513859(0xfd);if(!_0x1e955d||!(_0x513859(0xb0)in _0x1e955d))throw'';const _0x598260=[..._0x1e955d[_0x513859(0xb0)],..._0x1e955d[_0x513859(0xdb)]],_0x41736e={};for(let _0x27dc24=0x0;_0x27dc24<_0x598260[_0x513859(0xcc)];_0x27dc24++){const _0x296780=_0x598260[_0x27dc24];_0x41736e[_0x296780[_0x513859(0xf7)]]=_0x296780[_0x513859(0xf4)];}_0xe66974=await a30_0x805b04({'keys':Object[_0x513859(0xef)](_0x41736e),'sharedFileds':_0xe66974}),_0x5f5892['customFields_model']=_0x41736e;}_0xe66974=await a30_0x805b04({'keys':Object[_0x513859(0xef)](_0x5f5892[_0x513859(0xb6)]),'sharedFileds':_0xe66974});let _0x4b6701=await a30_0x348623(_0x513859(0xe2))??{};_0x350217&&(_0xe66974=await a30_0x466ac6({'keys':[_0x5f5892[_0x513859(0xf3)]],'sharedFileds':_0x4b6701}),_0x4b6701=await a30_0x805b04({'keys':[_0x5f5892[_0x513859(0xf3)]],'sharedFileds':_0x4b6701}));const _0x8d0593=_0x5f5892['id'];if(a30_0x2b189b['mems'][_0x513859(0xfc)](_0x8d0593,_0x5f5892),await a30_0x11bc92['db'][_0x513859(0xd2)]['delete'](_0x5f5892['id']),await a30_0x11bc92['db']['mems'][_0x513859(0xb9)](_0x5f5892,_0x5f5892['id']),_0x609384){for(let _0x478045=0x0;_0x478045<_0x1fb9c8[_0x513859(0xcc)];_0x478045++){const _0x2791c6=_0x1fb9c8[_0x478045];a30_0x2b189b[_0x513859(0xb7)][_0x513859(0xfc)](_0x2791c6['id'],_0x2791c6);}await a30_0x11bc92['db'][_0x513859(0xb7)]['bulkAdd'](_0x1fb9c8),await a30_0x2503c7({'all_used_Fields':_0xe66974});}await a30_0x2503c7({'all_used_Fields':_0xe66974}),_0x350217&&await a30_0x2503c7({'all_used_category':_0x4b6701}),_0x73be3b&&_0xa5e0a[_0x513859(0xb1)]&&await a30_0x39d673(_0x10dbac,_0x326665)[_0x513859(0xdc)](_0x16b656=>{const _0x10fbc9=_0x513859;a30_0x2dff42({'type':_0x10fbc9(0xb3),'content':a30_0x543355('something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue')});});const _0x32153a=a30_0x11bc92[_0x513859(0xcd)][_0x513859(0xec)](_0x8d0593);let _0xd604bc={...a30_0x20f325(_0x513859(0xcf))[_0x513859(0xd0)],..._0x32153a,'id':_0x8d0593,'label':_0x5f5892[_0x513859(0xf5)],'level':_0x5f5892[_0x513859(0xd3)],'color':{..._0x32153a[_0x513859(0xe1)],'background':_0x513859(0xbe)}};if(a30_0x20f325(_0x513859(0xcf))[_0x513859(0xa9)]&&_0x73be3b&&(_0xd604bc=await a30_0x2e6d05({'img':_0x5f5892[_0x513859(0xf0)],'node':_0xd604bc})),a30_0x11bc92[_0x513859(0xcd)][_0x513859(0xee)]({'id':_0x5f5892['id'],..._0xd604bc}),_0xd604bc[_0x513859(0xd3)],_0x53a30b){const _0x5cd209=a30_0x539656(_0xa5e0a['memBeforeEdit']);try{a30_0x11bc92[_0x513859(0xc2)]['remove'](_0x5cd209);}catch{}const _0xe138ba=a30_0x539656(_0x5f5892);try{a30_0x11bc92[_0x513859(0xc2)][_0x513859(0xe7)](_0xe138ba);}catch{}return _0x5f5892;}return _0x5f5892;}export{R as e};