(function(_0x189266,_0x3f9b12){const _0x2e3f7a=a30_0x4d57,_0x35376a=_0x189266();while(!![]){try{const _0x1044eb=parseInt(_0x2e3f7a(0x1a7))/0x1+-parseInt(_0x2e3f7a(0x1ad))/0x2*(parseInt(_0x2e3f7a(0x1b7))/0x3)+parseInt(_0x2e3f7a(0x1a1))/0x4*(-parseInt(_0x2e3f7a(0x1e3))/0x5)+-parseInt(_0x2e3f7a(0x19b))/0x6*(-parseInt(_0x2e3f7a(0x1af))/0x7)+parseInt(_0x2e3f7a(0x1d6))/0x8*(-parseInt(_0x2e3f7a(0x1ae))/0x9)+-parseInt(_0x2e3f7a(0x1da))/0xa*(-parseInt(_0x2e3f7a(0x1b8))/0xb)+parseInt(_0x2e3f7a(0x1c3))/0xc;if(_0x1044eb===_0x3f9b12)break;else _0x35376a['push'](_0x35376a['shift']());}catch(_0x28feee){_0x35376a['push'](_0x35376a['shift']());}}}(a30_0x543e,0x3f0be));function a30_0x543e(){const _0x233261=['memBeforeEdit','favorite','parents_id','color','8MlYBMd','get','value','hidden','14730YYDBmE','bulkAdd','length','updateOnly','summarization','shape','key','customFields_model','content','2690JfFBZk','configs','trim','prototype','mems_visNetworkGraph_nodes2','isAChunk','visNetworkConfig','console','warn','imgCaption_string','customFields_user','something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue','level','4818qAnidO','mems_visNetworkGraph_edges2','selectedImg','toString','log','chunkingMode','1156riKIiS','imgInternalStoragePath','captionTheImg','keys','green','mems','486164HGHMXz','memsChunks','return\x20(function()\x20','parents_rel','set','nodes','685630CxpuRT','3684411MCawbw','1246rfjqNc','newMemForm','map','apply','__proto__','content_string','table','bind','3ubNUUF','484BwuPVI','creationTime','category','shared_fields','tags','info','img','ranking','title_string','all_used_category','all_used_Fields','5664048CPzoBh','update','chunks_ids','alert','generate_customFields_model','add','split','generate_customFields_model\x20failed','withImages','remove','title','exception','catch','toLowerCase','imgCaption_embedding'];a30_0x543e=function(){return _0x233261;};return a30_0x543e();}const a30_0xbe0d50=(function(){let _0x48e1a6=!![];return function(_0x15eddb,_0x450e2e){const _0x12117a=_0x48e1a6?function(){const _0x340ad0=a30_0x4d57;if(_0x450e2e){const _0x103c27=_0x450e2e[_0x340ad0(0x1b2)](_0x15eddb,arguments);return _0x450e2e=null,_0x103c27;}}:function(){};return _0x48e1a6=![],_0x12117a;};}()),a30_0x36da47=a30_0xbe0d50(this,function(){const _0x5b6208=a30_0x4d57;let _0x3ee66f;try{const _0x11aaa8=Function(_0x5b6208(0x1a9)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3ee66f=_0x11aaa8();}catch(_0xdb6223){_0x3ee66f=window;}const _0x24b3d1=_0x3ee66f['console']=_0x3ee66f[_0x5b6208(0x1ea)]||{},_0x5dfad3=[_0x5b6208(0x19f),_0x5b6208(0x1eb),_0x5b6208(0x1bd),'error',_0x5b6208(0x1ce),_0x5b6208(0x1b5),'trace'];for(let _0x117704=0x0;_0x117704<_0x5dfad3[_0x5b6208(0x1dc)];_0x117704++){const _0x501187=a30_0xbe0d50['constructor'][_0x5b6208(0x1e6)][_0x5b6208(0x1b6)](a30_0xbe0d50),_0x94a883=_0x5dfad3[_0x117704],_0x4b1172=_0x24b3d1[_0x94a883]||_0x501187;_0x501187[_0x5b6208(0x1b3)]=a30_0xbe0d50['bind'](a30_0xbe0d50),_0x501187[_0x5b6208(0x19e)]=_0x4b1172[_0x5b6208(0x19e)][_0x5b6208(0x1b6)](_0x4b1172),_0x24b3d1[_0x94a883]=_0x501187;}});a30_0x36da47();import{y as a30_0x130e74,l as a30_0xa1347,u as a30_0x212353,i as a30_0x14c313}from'./PaperMainTemplate-CkchZmQ6.js';function a30_0x4d57(_0x37786d,_0x47cc6b){const _0x284239=a30_0x543e();return a30_0x4d57=function(_0x36da47,_0xbe0d50){_0x36da47=_0x36da47-0x199;let _0x2d3797=_0x284239[_0x36da47];return _0x2d3797;},a30_0x4d57(_0x37786d,_0x47cc6b);}import{x as a30_0x1845e3,S as a30_0x536751,T as a30_0x2872e2,U as a30_0x417342,V,J as a30_0x15f745,W as a30_0x125cd6,D,X as a30_0x5003e9,h as a30_0xaaf3e1,K as a30_0x3a714c}from'./addImgOrIconToVisNode_-BW-r-pA4.js';import{J as a30_0x439d91,Q as a30_0x3dd066,X as a30_0x11d803,ah as a30_0x45662d,K as a30_0x21134f}from'./index-kyZJyI_N.js';import{s as a30_0xedaca2}from'./showToast-CrtjGqUF.js';async function R(_0x244684){const _0xc3b88b=a30_0x4d57;var _0x44f9e1,_0x4ec65a,_0x1494b9;const _0x15c464=a30_0x439d91['mems'][_0xc3b88b(0x1d7)](_0x244684[_0xc3b88b(0x1d2)]['id']),_0x2746c4=!a30_0x130e74(_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1ed)],_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1ed)]),_0x28ad1a=!a30_0x130e74(_0x244684['memBeforeEdit'][_0xc3b88b(0x1d4)],_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1d4)])||!a30_0x130e74(_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1aa)],_0x244684[_0xc3b88b(0x1b0)]['parents_rel']),_0x453b91=_0x244684['newMemForm'][_0xc3b88b(0x1cd)]!==_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1c0)],_0x1f3395=_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1e2)]!==_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1b4)],_0x535184=_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1ba)]!==_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1ba)],_0x490385={'title_string':_0x453b91?_0x244684[_0xc3b88b(0x1b0)]['title']:_0x244684['memBeforeEdit'][_0xc3b88b(0x1c0)],'content_string':_0x1f3395?_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1e2)]:_0x244684[_0xc3b88b(0x1d2)]['content_string'],'title':_0x453b91?await a30_0x1845e3({'text':_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1cd)]}):_0x15c464[_0xc3b88b(0x1cd)],'content':_0x1f3395?await a30_0x1845e3({'text':_0x244684['newMemForm'][_0xc3b88b(0x1e2)]}):_0x15c464['content'],'tags':(_0x4ec65a=(_0x44f9e1=_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1bc)])==null?void 0x0:_0x44f9e1['trim']())==null?void 0x0:_0x4ec65a[_0xc3b88b(0x1d0)]()[_0xc3b88b(0x1c9)]('\x20'),'score':_0x15c464['score'],'id':_0x15c464['id'],'parents_id':_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1d4)],'parents_rel':_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1aa)],'img':null,'favorite':_0x15c464[_0xc3b88b(0x1d3)],'hidden':_0x15c464[_0xc3b88b(0x1d9)],'level':_0x28ad1a?a30_0x536751(_0x244684['newMemForm']['parents_id']):_0x15c464[_0xc3b88b(0x19a)],'ranking':_0x15c464[_0xc3b88b(0x1bf)],'shape':_0x15c464[_0xc3b88b(0x1df)],'star':_0x15c464['star'],'summarization':_0x15c464[_0xc3b88b(0x1de)],'creationTime':_0x15c464[_0xc3b88b(0x1b9)],'modificationTime':new Date()['valueOf'](),'chunks_ids':_0x15c464[_0xc3b88b(0x1c5)],'isAChunk':_0x15c464[_0xc3b88b(0x1e8)],'imgCaption_embedding':_0x15c464['imgCaption_embedding'],'imgCaption_string':_0x15c464[_0xc3b88b(0x1ec)],'customFields_user':_0x244684['newMemForm'][_0xc3b88b(0x1ed)],'customFields_model':_0x15c464[_0xc3b88b(0x1e1)],'category':_0x535184?_0x244684[_0xc3b88b(0x1b0)]['category']:_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1ba)]},_0x24c86c=(_0x1494b9=_0x244684[_0xc3b88b(0x1b0)][_0xc3b88b(0x1be)])==null?void 0x0:_0x1494b9[_0xc3b88b(0x1e5)](),_0x2da0f4=_0x244684[_0xc3b88b(0x1d2)][_0xc3b88b(0x1be)]!==_0x24c86c||!!_0x244684[_0xc3b88b(0x19d)];let _0x4b95ad=null,_0x9e336=null;if(_0x2da0f4){if(_0x244684[_0xc3b88b(0x19d)]){const _0x28c07e=await a30_0xa1347(_0x244684[_0xc3b88b(0x19d)]);if(_0x4b95ad=await a30_0x2872e2(_0x28c07e),_0x9e336=a30_0x212353[_0xc3b88b(0x1e4)][_0xc3b88b(0x1a2)]+'/'+_0x15c464['id'],_0x490385[_0xc3b88b(0x1be)]=_0x9e336,_0x244684[_0xc3b88b(0x1a3)]){const _0x2581b5=await a30_0x417342({'img':new Blob([_0x4b95ad],{'type':'image/png'})});_0x490385[_0xc3b88b(0x1ec)]=_0x2581b5,_0x490385[_0xc3b88b(0x1d1)]=_0x2581b5?await a30_0x1845e3({'text':_0x2581b5}):null;}}else _0x490385[_0xc3b88b(0x1be)]=_0x24c86c;}else _0x490385[_0xc3b88b(0x1be)]=_0x244684['memBeforeEdit'][_0xc3b88b(0x1be)];let _0x4fff11=[];_0x1f3395&&(_0x4fff11=await V({'newMem':_0x490385,'strategy':_0x244684[_0xc3b88b(0x1a0)]??null}),_0x490385[_0xc3b88b(0x1c5)]=_0x4fff11[_0xc3b88b(0x1b1)](_0x528dc4=>_0x528dc4['id']));let _0x22fa90=await a30_0x3dd066(_0xc3b88b(0x1c2))??{};if(_0x2746c4?_0x22fa90=await a30_0x15f745({'keys':Object[_0xc3b88b(0x1a4)](_0x15c464[_0xc3b88b(0x1ed)]),'sharedFileds':_0x22fa90}):_0x22fa90=await a30_0x15f745({'keys':Object[_0xc3b88b(0x1a4)](_0x490385['customFields_user']),'sharedFileds':_0x22fa90}),_0x1f3395&&_0x244684[_0xc3b88b(0x1c7)]){_0x22fa90=await a30_0x15f745({'keys':Object[_0xc3b88b(0x1a4)](_0x15c464[_0xc3b88b(0x1e1)]),'sharedFileds':_0x22fa90});const {res:_0x17ec30}=await a30_0x125cd6({'content':_0x490385['content_string'],'all_used_Fields':new Set(Object['keys'](_0x22fa90)),'reservedFieldsThatModelShouldNotUse':[...D]});if(!_0x17ec30)throw _0xc3b88b(0x1ca);if(!_0x17ec30||!(_0xc3b88b(0x1bb)in _0x17ec30))throw'';const _0x560c66=[..._0x17ec30[_0xc3b88b(0x1bb)],..._0x17ec30['new_fields']],_0x3f466c={};for(let _0x801a02=0x0;_0x801a02<_0x560c66[_0xc3b88b(0x1dc)];_0x801a02++){const _0x1483eb=_0x560c66[_0x801a02];_0x3f466c[_0x1483eb[_0xc3b88b(0x1e0)]]=_0x1483eb[_0xc3b88b(0x1d8)];}_0x22fa90=await a30_0x5003e9({'keys':Object[_0xc3b88b(0x1a4)](_0x3f466c),'sharedFileds':_0x22fa90}),_0x490385[_0xc3b88b(0x1e1)]=_0x3f466c;}_0x22fa90=await a30_0x5003e9({'keys':Object[_0xc3b88b(0x1a4)](_0x490385['customFields_user']),'sharedFileds':_0x22fa90});let _0x1e2b20=await a30_0x3dd066(_0xc3b88b(0x1c1))??{};_0x535184&&(_0x22fa90=await a30_0x15f745({'keys':[_0x490385[_0xc3b88b(0x1ba)]],'sharedFileds':_0x1e2b20}),_0x1e2b20=await a30_0x5003e9({'keys':[_0x490385[_0xc3b88b(0x1ba)]],'sharedFileds':_0x1e2b20}));const _0x3a663b=_0x490385['id'];if(a30_0x439d91[_0xc3b88b(0x1a6)]['set'](_0x3a663b,_0x490385),await a30_0x212353['db']['mems']['delete'](_0x490385['id']),await a30_0x212353['db']['mems'][_0xc3b88b(0x1c8)](_0x490385,_0x490385['id']),_0x1f3395){for(let _0xc83467=0x0;_0xc83467<_0x4fff11[_0xc3b88b(0x1dc)];_0xc83467++){const _0x4b2561=_0x4fff11[_0xc83467];a30_0x439d91[_0xc3b88b(0x1a8)][_0xc3b88b(0x1ab)](_0x4b2561['id'],_0x4b2561);}await a30_0x212353['db'][_0xc3b88b(0x1a8)][_0xc3b88b(0x1db)](_0x4fff11),await a30_0x11d803({'all_used_Fields':_0x22fa90});}await a30_0x11d803({'all_used_Fields':_0x22fa90}),_0x535184&&await a30_0x11d803({'all_used_category':_0x1e2b20}),_0x2da0f4&&_0x244684[_0xc3b88b(0x19d)]&&await a30_0x45662d(_0x9e336,_0x4b95ad)[_0xc3b88b(0x1cf)](_0x463efa=>{const _0x127058=_0xc3b88b;a30_0xedaca2({'type':_0x127058(0x1c6),'content':a30_0x21134f(_0x127058(0x199))});});const _0x59f8c6=a30_0x212353[_0xc3b88b(0x1e7)][_0xc3b88b(0x1d7)](_0x3a663b);let _0x5a3dec={...a30_0x14c313(_0xc3b88b(0x1e9))[_0xc3b88b(0x1ac)],..._0x59f8c6,'id':_0x3a663b,'label':_0x490385[_0xc3b88b(0x1c0)],'level':_0x490385[_0xc3b88b(0x19a)],'color':{..._0x59f8c6[_0xc3b88b(0x1d5)],'background':_0xc3b88b(0x1a5)}};if(a30_0x14c313(_0xc3b88b(0x1e9))[_0xc3b88b(0x1cb)]&&_0x2da0f4&&(_0x5a3dec=await a30_0xaaf3e1({'img':_0x490385[_0xc3b88b(0x1be)],'node':_0x5a3dec})),a30_0x212353[_0xc3b88b(0x1e7)][_0xc3b88b(0x1dd)]({'id':_0x490385['id'],..._0x5a3dec}),_0x5a3dec['level'],_0x28ad1a){const _0x4c8e64=a30_0x3a714c(_0x244684[_0xc3b88b(0x1d2)]);try{a30_0x212353[_0xc3b88b(0x19c)][_0xc3b88b(0x1cc)](_0x4c8e64);}catch{}const _0x16371b=a30_0x3a714c(_0x490385);try{a30_0x212353[_0xc3b88b(0x19c)][_0xc3b88b(0x1c4)](_0x16371b);}catch{}return _0x490385;}return _0x490385;}export{R as e};