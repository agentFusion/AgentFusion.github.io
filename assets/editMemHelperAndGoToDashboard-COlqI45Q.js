(function(_0x4d6256,_0xaf228b){const _0x226d8a=a31_0x28f3,_0x104ead=_0x4d6256();while(!![]){try{const _0x5c8d76=-parseInt(_0x226d8a(0x1c9))/0x1*(-parseInt(_0x226d8a(0x1fd))/0x2)+parseInt(_0x226d8a(0x20c))/0x3+-parseInt(_0x226d8a(0x1d7))/0x4*(-parseInt(_0x226d8a(0x1dd))/0x5)+-parseInt(_0x226d8a(0x1fa))/0x6+parseInt(_0x226d8a(0x1e7))/0x7*(parseInt(_0x226d8a(0x1e1))/0x8)+-parseInt(_0x226d8a(0x1d8))/0x9*(-parseInt(_0x226d8a(0x1fe))/0xa)+-parseInt(_0x226d8a(0x1cf))/0xb;if(_0x5c8d76===_0xaf228b)break;else _0x104ead['push'](_0x104ead['shift']());}catch(_0xdb3a6c){_0x104ead['push'](_0x104ead['shift']());}}}(a31_0x3e1b,0x4b5f0));const a31_0x258050=(function(){let _0x36e530=!![];return function(_0x10585d,_0x1b919f){const _0xbe33b7=_0x36e530?function(){const _0x5a8825=a31_0x28f3;if(_0x1b919f){const _0x45bccb=_0x1b919f[_0x5a8825(0x202)](_0x10585d,arguments);return _0x1b919f=null,_0x45bccb;}}:function(){};return _0x36e530=![],_0xbe33b7;};}()),a31_0x572c0e=a31_0x258050(this,function(){const _0x41fb20=a31_0x28f3,_0x1d77a6=function(){const _0x2f3ff3=a31_0x28f3;let _0x23dc62;try{_0x23dc62=Function(_0x2f3ff3(0x1f4)+_0x2f3ff3(0x1ef)+');')();}catch(_0x192716){_0x23dc62=window;}return _0x23dc62;},_0x1458ea=_0x1d77a6(),_0x5e3b58=_0x1458ea[_0x41fb20(0x1c8)]=_0x1458ea[_0x41fb20(0x1c8)]||{},_0x49cfec=['log',_0x41fb20(0x1ca),'info',_0x41fb20(0x1f1),_0x41fb20(0x1e4),_0x41fb20(0x1d9),_0x41fb20(0x20f)];for(let _0x146e15=0x0;_0x146e15<_0x49cfec[_0x41fb20(0x209)];_0x146e15++){const _0x57b575=a31_0x258050['constructor'][_0x41fb20(0x1c7)][_0x41fb20(0x1c6)](a31_0x258050),_0x55c97f=_0x49cfec[_0x146e15],_0x4aabd6=_0x5e3b58[_0x55c97f]||_0x57b575;_0x57b575['__proto__']=a31_0x258050['bind'](a31_0x258050),_0x57b575[_0x41fb20(0x1e3)]=_0x4aabd6[_0x41fb20(0x1e3)][_0x41fb20(0x1c6)](_0x4aabd6),_0x5e3b58[_0x55c97f]=_0x57b575;}});a31_0x572c0e();import{J as a31_0x2a0a06,ar as a31_0x290983}from'./index-D7xZL99q.js';function a31_0x28f3(_0x201fff,_0x50b77b){const _0xb3c1c=a31_0x3e1b();return a31_0x28f3=function(_0x572c0e,_0x258050){_0x572c0e=_0x572c0e-0x1c5;let _0x4adfea=_0xb3c1c[_0x572c0e];return _0x4adfea;},a31_0x28f3(_0x201fff,_0x50b77b);}import{r as a31_0x530285,x as a31_0x4acdc5,a as a31_0x26ea81,f as a31_0x333f1a,c as a31_0x46036c,e as a31_0x2b6846,d as a31_0x14f775,P as a31_0x4131b8,g as a31_0x17c1ff}from'./addImgOrIconToVisNode_-Diz3rG1I.js';import{s as a31_0x4b137e,u as a31_0x2ed9b1,d as a31_0x47f9b8,i as a31_0x4a127b}from'./PaperMainTemplate-BVrYuIAm.js';import{e as a31_0x25ccc1}from'./editMem-DWDMGou9.js';function O(_0x1777f7){const _0x2fb1de=a31_0x28f3;return _0x1777f7[_0x2fb1de(0x1f7)]()[_0x2fb1de(0x1c5)]('\x20\x20','\x20')[_0x2fb1de(0x1c5)]('\x20\x20','\x20')['replaceAll']('\x0a\x0a','\x0a');}function B(_0x3e8a2c){const _0x2f5277=a31_0x28f3;return _0x3e8a2c[_0x2f5277(0x1f7)]()[_0x2f5277(0x1c5)]('\x20\x20','\x20')[_0x2f5277(0x1c5)]('\x0a\x0a','\x20')[_0x2f5277(0x1c5)]('\x0a','.');}function f(_0x403dc9,_0xc8de4e){const _0x5646ab=a31_0x28f3;return _0x403dc9[_0x5646ab(0x1d0)]((_0x249fca,_0xbcccc1,_0x13b512)=>_0x249fca+_0xbcccc1*_0xc8de4e[_0x13b512],0x0)/(Math[_0x5646ab(0x1d3)](_0x403dc9[_0x5646ab(0x1d0)]((_0x242a54,_0x618dae)=>_0x242a54+_0x618dae*_0x618dae,0x0))*Math[_0x5646ab(0x1d3)](_0xc8de4e[_0x5646ab(0x1d0)]((_0x4ca4cf,_0x13fb08)=>_0x4ca4cf+_0x13fb08*_0x13fb08,0x0)));}async function N(_0x1a802a){const _0x1999e4=a31_0x28f3;var _0x23258c;for(const [_0x5d8130,_0x104abf]of a31_0x2a0a06['mems']){let _0x120bc9=0x0,_0x3ba4b2=0x0,_0x21689a=0x0;if(_0x104abf[_0x1999e4(0x1fc)]){if(_0x1a802a[_0x1999e4(0x212)]){const _0x2d34c7=f(_0x104abf[_0x1999e4(0x20e)],_0x1a802a['userInputVector']);if(_0x21689a+=_0x2d34c7,_0x1a802a[_0x1999e4(0x1db)])for(let _0x2b7496=0x0;_0x2b7496<_0x104abf[_0x1999e4(0x200)]['length'];_0x2b7496++){const _0x102298=_0x104abf[_0x1999e4(0x200)][_0x2b7496],_0x1afdf6=a31_0x530285(_0x102298);_0x1afdf6&&_0x1afdf6[_0x1999e4(0x20e)]&&(_0x21689a+=f(_0x1afdf6['content'],_0x1a802a['userInputVector']));}}_0x104abf[_0x1999e4(0x205)];}let _0x360617=0x0;if(_0x1a802a[_0x1999e4(0x1e5)]&&_0x104abf[_0x1999e4(0x1e2)]&&_0x104abf[_0x1999e4(0x20b)][_0x1999e4(0x209)]){const _0x375b6c=f(_0x104abf['imgCaption_embedding'],_0x1a802a['userInputVector']);_0x360617+=_0x375b6c,_0x104abf[_0x1999e4(0x205)];}const _0x22f5dc=_0x104abf[_0x1999e4(0x205)][_0x1999e4(0x1f0)]()[_0x1999e4(0x1f7)]();let _0x52a76d=0x0;const _0x1e766a=new Set(_0x22f5dc[_0x1999e4(0x1e0)]('\x20')),_0x22050b=_0x1a802a[_0x1999e4(0x1f5)][_0x1999e4(0x1e0)]('\x20');for(const _0x500046 of _0x22050b)_0x1e766a[_0x1999e4(0x20a)](_0x500046)&&(_0x52a76d+=0.1,_0x1e766a[_0x1999e4(0x1ec)](_0x500046));if(_0x22f5dc&&(_0x1a802a[_0x1999e4(0x1f5)]===_0x22f5dc?_0x120bc9+=0.9:_0x22f5dc[_0x1999e4(0x1fb)](_0x1a802a['userInput_LowerCased'])?_0x120bc9+=0.8:_0x1a802a[_0x1999e4(0x212)]&&(_0x120bc9+=f(_0x104abf[_0x1999e4(0x1f6)],_0x1a802a[_0x1999e4(0x1e9)]))),_0x104abf['tags'])for(let _0x43d6d1=0x0;_0x43d6d1<((_0x23258c=_0x104abf[_0x1999e4(0x210)])==null?void 0x0:_0x23258c[_0x1999e4(0x209)]);_0x43d6d1++){const _0x2eab5d=_0x104abf[_0x1999e4(0x210)][_0x43d6d1]['toLowerCase']();_0x2eab5d[_0x1999e4(0x1f7)]()&&_0x2eab5d[_0x1999e4(0x1fb)](_0x1a802a[_0x1999e4(0x1f5)])&&(_0x3ba4b2+=0.1);}const _0x33a3e8=_0x120bc9+_0x21689a+_0x3ba4b2+_0x52a76d+_0x360617;_0x104abf[_0x1999e4(0x1d4)]=_0x33a3e8;}a31_0x2a0a06['mems'],a31_0x2a0a06[_0x1999e4(0x1d2)]=new Map(Array[_0x1999e4(0x1da)](a31_0x2a0a06[_0x1999e4(0x1d2)][_0x1999e4(0x1cb)]())[_0x1999e4(0x1dc)]((_0x5309cc,_0x206d0e)=>_0x206d0e[0x1][_0x1999e4(0x1d4)]-_0x5309cc[0x1]['score']));}async function P(_0x1932e2){const _0x2bc967=a31_0x28f3;var _0x2801f4;let _0x44bd7c=_0x1932e2[_0x2bc967(0x20d)][_0x2bc967(0x1f0)]();const _0x52491e=0xa;if(_0x44bd7c=B(_0x44bd7c),!_0x44bd7c)return[];let _0x5e35e8=[];if(_0x44bd7c[0x0]!=='.'){if(_0x44bd7c[0x0]==='@'){if(_0x44bd7c=_0x44bd7c['split']('@')[0x1],!_0x44bd7c)return[];let _0x2f49ce=0x0;for(const [_0x3d99e3,_0x4e38ce]of a31_0x2a0a06[_0x2bc967(0x1d2)])if(!_0x4e38ce[_0x2bc967(0x207)]&&_0x4e38ce['title_string'][_0x2bc967(0x1f0)]()[_0x2bc967(0x1fb)](_0x44bd7c)&&(_0x4e38ce[_0x2bc967(0x1d4)]=0x1,_0x5e35e8['push'](_0x4e38ce),++_0x2f49ce>_0x52491e))break;}else{if(_0x44bd7c[0x0]==='#'){if(_0x44bd7c=_0x44bd7c[_0x2bc967(0x1e0)]('#')[0x1],!_0x44bd7c)return[];let _0x1a43ac=0x0;for(const [_0x5e3a1f,_0x112579]of a31_0x2a0a06[_0x2bc967(0x1d2)])if(!_0x112579[_0x2bc967(0x207)]&&((_0x2801f4=_0x112579[_0x2bc967(0x210)])!=null&&_0x2801f4['find'](_0x2d3c89=>_0x2d3c89[_0x2bc967(0x1f0)]()['includes'](_0x44bd7c)))&&(_0x112579[_0x2bc967(0x1d4)]=0x1,_0x5e35e8['push'](_0x112579),++_0x1a43ac>_0x52491e))break;}else{const _0x56f859=await a31_0x4acdc5({'text':_0x44bd7c});await N({'userInputVector':_0x56f859,'userInput_LowerCased':_0x44bd7c,'similaritySearch':!0x0,'deepContentSearch':!0x0,'similaritySearch_imgCap':!0x0});let _0x396ac8=0x0;for(const [_0x23075d,_0x4d235d]of a31_0x2a0a06[_0x2bc967(0x1d2)])if(_0x5e35e8[_0x2bc967(0x1df)](_0x4d235d),++_0x396ac8>_0x52491e)break;}}}return _0x5e35e8[_0x2bc967(0x209)]?(_0x5e35e8[0x0][_0x2bc967(0x205)],_0x5e35e8[0x0][_0x2bc967(0x1d4)],_0x5e35e8['map'](_0x1d7ef5=>a31_0x26ea81(_0x1d7ef5['id']))):[];}function a31_0x3e1b(){const _0x2d02fb=['apply','map','update','title_string','borderWidth','isAChunk','text','length','has','imgCaption_embedding','898527vEnphQ','input','content','trace','tags','dontSet_userInputSearchBox','similaritySearch','replaceAll','bind','prototype','console','277738RWTteW','warn','entries','opacity','color','selectedImg','13309197KMhBWx','reduce','toSpliced','mems','sqrt','score','dontContextAwareModel','Dashboard','1585268DdIquC','18zBVGXh','table','from','deepContentSearch','sort','5wfrdVt','captionTheImg','push','split','1130368zayEJq','imgCaption_string','toString','exception','similaritySearch_imgCap','prevMem','21pOzXPE','shapeProperties','userInputVector','get','editing\x20the\x20mem','delete','mems_visNetworkGraph_nodes2','searchLimit','{}.constructor(\x22return\x20this\x22)(\x20)','toLowerCase','error','newMemForm','cyan','return\x20(function()\x20','userInput_LowerCased','title','trim','set','findIndex','1737906AqbyLe','includes','content_string','2MHoZeN','2054230BpHlsl','topMems','chunks_ids','user\x20edited\x20a\x20Memory\x20Node'];a31_0x3e1b=function(){return _0x2d02fb;};return a31_0x3e1b();}function R(_0x2ff831){const _0xbb33a2=a31_0x28f3;let _0x4f2c60=0x0,_0x47fc19=[];for(const [_0x1b1b5b,_0x54de0e]of a31_0x2a0a06[_0xbb33a2(0x1d2)])if(_0x54de0e[_0xbb33a2(0x1fc)]&&(_0x47fc19[_0xbb33a2(0x1df)](_0x54de0e),++_0x4f2c60>_0x2ff831[_0xbb33a2(0x1ee)]))break;return _0x47fc19;}async function U(_0x21c386){const _0x24bcd6=a31_0x28f3,_0x1dca98=await P({'input':_0x21c386[_0x24bcd6(0x208)]});_0x21c386[_0x24bcd6(0x211)]?a31_0x4b137e({'userInputSearchBox':''}):a31_0x4b137e({'userInputSearchBox':_0x21c386[_0x24bcd6(0x208)]}),v({'mems':_0x1dca98});}function v(_0x15e670){const _0x1b3ebb=a31_0x28f3;var _0x2c9205;if(!((_0x2c9205=_0x15e670[_0x1b3ebb(0x1d2)])!=null&&_0x2c9205[_0x1b3ebb(0x209)]))a31_0x4b137e({'topMems':[]}),a31_0x4b137e({'memsColorGotManipulated':!0x1}),a31_0x4b137e({'userInputSearchBox':''}),a31_0x2ed9b1[_0x1b3ebb(0x1ed)]['update'](a31_0x2ed9b1[_0x1b3ebb(0x1ed)][_0x1b3ebb(0x203)](_0x27771b=>(_0x27771b['opacity']=0x1,_0x27771b[_0x1b3ebb(0x206)]=0x0,_0x27771b[_0x1b3ebb(0x1cd)]={..._0x27771b[_0x1b3ebb(0x1cd)],'border':_0x1b3ebb(0x1f3)},_0x27771b[_0x1b3ebb(0x1e8)]={..._0x27771b[_0x1b3ebb(0x1e8)],'borderDashes':!0x1},_0x27771b)));else{const _0x3fff8e=new Map(),_0x29e4ac=0.05;_0x15e670[_0x1b3ebb(0x1d2)][0x0]['score']=0x64;const _0x270dc2=Math['max'](..._0x15e670[_0x1b3ebb(0x1d2)][_0x1b3ebb(0x203)](_0xf86e19=>_0xf86e19[_0x1b3ebb(0x1d4)]===0x64?0x0:_0xf86e19[_0x1b3ebb(0x1d4)])),_0x587477=_0x15e670['mems'][_0x1b3ebb(0x203)](_0x4a7d13=>{const _0x592fd1=_0x1b3ebb;if(_0x4a7d13[_0x592fd1(0x1d4)]===0x64)_0x3fff8e['set'](_0x4a7d13['id'],{'id':_0x4a7d13['id'],'borderWidth':0x3,'color':{'border':a31_0x290983},'shapeProperties':{'borderDashes':!0x0},'opacity':0x1});else{let _0x204d30=_0x270dc2?_0x4a7d13[_0x592fd1(0x1d4)]/_0x270dc2+_0x29e4ac:_0x29e4ac;_0x204d30=_0x204d30>=0x1?0x1:_0x204d30,_0x204d30=_0x204d30<=_0x29e4ac?_0x29e4ac:_0x204d30,_0x3fff8e[_0x592fd1(0x1f8)](_0x4a7d13['id'],{'id':_0x4a7d13['id'],'borderWidth':0x1,'color':{'border':_0x592fd1(0x1f3)},'opacity':_0x204d30});}return a31_0x26ea81(_0x4a7d13['id']);});_0x587477[0x0]['score']=0x64,a31_0x4b137e({'memsColorGotManipulated':!0x0}),a31_0x4b137e({'topMems':_0x587477}),a31_0x4b137e({'topMem':_0x587477[0x0]}),a31_0x2ed9b1['mems_visNetworkGraph_nodes2'][_0x1b3ebb(0x204)](a31_0x2ed9b1[_0x1b3ebb(0x1ed)][_0x1b3ebb(0x203)](_0xfe8488=>{const _0x29a0a0=_0x1b3ebb;_0xfe8488[_0x29a0a0(0x1cc)]=_0x29e4ac,_0xfe8488[_0x29a0a0(0x206)]=0x0,_0xfe8488[_0x29a0a0(0x1cd)]={..._0xfe8488[_0x29a0a0(0x1cd)],'border':_0x29a0a0(0x1f3)},_0xfe8488['shapeProperties']={..._0xfe8488[_0x29a0a0(0x1e8)],'borderDashes':!0x1};const _0xe66392=_0x3fff8e[_0x29a0a0(0x1ea)](_0xfe8488['id']);return _0xe66392?{..._0xfe8488,..._0xe66392}:_0xfe8488;}));}}async function H(_0x11d84b){const _0xb351be=a31_0x28f3;a31_0x333f1a({'content':_0xb351be(0x1eb)}),await a31_0x47f9b8(0x12c),await a31_0x46036c(),_0x11d84b[_0xb351be(0x1f2)]['content'];const _0x4746aa=await a31_0x25ccc1({'newMemForm':_0x11d84b[_0xb351be(0x1f2)],'memBeforeEdit':_0x11d84b[_0xb351be(0x1e6)],'selectedImg':_0x11d84b[_0xb351be(0x1ce)],'captionTheImg':_0x11d84b[_0xb351be(0x1de)],'generate_customFields_model':_0x11d84b[_0xb351be(0x1f2)]['content']&&_0x11d84b['generate_customFields_model']});await a31_0x2b6846(),_0x11d84b[_0xb351be(0x1d5)]||await a31_0x14f775({'name':_0xb351be(0x201),'content':_0x4746aa[_0xb351be(0x205)]});const _0xb6999=a31_0x4131b8(_0x4746aa);if(a31_0x4b137e({'topMem':_0xb6999}),a31_0x4a127b(_0xb351be(0x1ff))[_0xb351be(0x209)]){const _0x182dcd=a31_0x4a127b(_0xb351be(0x1ff))[_0xb351be(0x1f9)](_0x1f6465=>_0x1f6465['id']===_0x4746aa['id']);_0x182dcd!==-0x1&&a31_0x4b137e({'topMems':[...a31_0x4a127b(_0xb351be(0x1ff))[_0xb351be(0x1d1)](_0x182dcd,0x1),_0xb6999]});}a31_0x333f1a(!0x1),a31_0x17c1ff(_0xb351be(0x1d6));}export{U as a,f as b,N as c,R as d,H as e,P as f,O as g,v as s};