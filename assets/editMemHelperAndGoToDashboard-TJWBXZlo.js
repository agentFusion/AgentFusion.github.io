(function(_0x36cbae,_0x3fc397){const _0xd85122=a31_0x572d,_0x1161e0=_0x36cbae();while(!![]){try{const _0x1eb17f=parseInt(_0xd85122(0x110))/0x1*(parseInt(_0xd85122(0x11f))/0x2)+parseInt(_0xd85122(0x13b))/0x3+-parseInt(_0xd85122(0x14c))/0x4*(-parseInt(_0xd85122(0x124))/0x5)+-parseInt(_0xd85122(0x143))/0x6*(-parseInt(_0xd85122(0x11d))/0x7)+parseInt(_0xd85122(0x142))/0x8*(parseInt(_0xd85122(0x109))/0x9)+parseInt(_0xd85122(0x14f))/0xa+-parseInt(_0xd85122(0x12a))/0xb;if(_0x1eb17f===_0x3fc397)break;else _0x1161e0['push'](_0x1161e0['shift']());}catch(_0x12d6d1){_0x1161e0['push'](_0x1161e0['shift']());}}}(a31_0x17c1,0x32db1));const a31_0x118acb=(function(){let _0x8221c4=!![];return function(_0x44465d,_0x512176){const _0x1a1a0a=_0x8221c4?function(){const _0x2ce2b0=a31_0x572d;if(_0x512176){const _0x265f3e=_0x512176[_0x2ce2b0(0x131)](_0x44465d,arguments);return _0x512176=null,_0x265f3e;}}:function(){};return _0x8221c4=![],_0x1a1a0a;};}()),a31_0x2164be=a31_0x118acb(this,function(){const _0x4bf542=a31_0x572d,_0x4c810e=function(){let _0x51c244;try{_0x51c244=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3f73cc){_0x51c244=window;}return _0x51c244;},_0x12ca29=_0x4c810e(),_0x178c62=_0x12ca29[_0x4bf542(0x149)]=_0x12ca29[_0x4bf542(0x149)]||{},_0x1c5b6e=[_0x4bf542(0x12c),_0x4bf542(0x126),_0x4bf542(0x137),_0x4bf542(0x12e),_0x4bf542(0x114),_0x4bf542(0x141),'trace'];for(let _0x42c44f=0x0;_0x42c44f<_0x1c5b6e['length'];_0x42c44f++){const _0x753d0c=a31_0x118acb[_0x4bf542(0x10f)][_0x4bf542(0x13d)][_0x4bf542(0x123)](a31_0x118acb),_0x26693a=_0x1c5b6e[_0x42c44f],_0x55930b=_0x178c62[_0x26693a]||_0x753d0c;_0x753d0c[_0x4bf542(0x107)]=a31_0x118acb[_0x4bf542(0x123)](a31_0x118acb),_0x753d0c[_0x4bf542(0x13a)]=_0x55930b[_0x4bf542(0x13a)][_0x4bf542(0x123)](_0x55930b),_0x178c62[_0x26693a]=_0x753d0c;}});a31_0x2164be();function a31_0x572d(_0x19af0c,_0x181f58){const _0x23bb69=a31_0x17c1();return a31_0x572d=function(_0x2164be,_0x118acb){_0x2164be=_0x2164be-0x106;let _0x4d6eb5=_0x23bb69[_0x2164be];return _0x4d6eb5;},a31_0x572d(_0x19af0c,_0x181f58);}import{s as a31_0x53e4b3,e as a31_0x30cb3e,u as a31_0x27edea,aj as a31_0x2f76db,f as a31_0xae1b68,E as a31_0x49a250}from'./PaperMainTemplate-CBlpPhnV.js';import{r as a31_0x5b4062,x as a31_0x2ef4bd,a as a31_0x56da7d,f as a31_0x656613,c as a31_0x2b78c7,e as a31_0x381376,d as a31_0xe69117,P as a31_0xa653d3,g as a31_0x27cded}from'./addImgOrIconToVisNode_-CRxAHQ8F.js';import{e as a31_0x4762da}from'./editMem-KQAmwWjA.js';function q(_0xd6c1e8){const _0x1ce236=a31_0x572d;return _0xd6c1e8[_0x1ce236(0x13c)]()[_0x1ce236(0x122)]('\x20\x20','\x20')[_0x1ce236(0x122)]('\x20\x20','\x20')[_0x1ce236(0x122)]('\x0a\x0a','\x0a');}function B(_0x19fbef){const _0x563b21=a31_0x572d;return _0x19fbef['trim']()['replaceAll']('\x20\x20','\x20')[_0x563b21(0x122)]('\x0a\x0a','\x20')[_0x563b21(0x122)]('\x0a','.');}function f(_0x132d99,_0x51b595){const _0x444635=a31_0x572d;return _0x132d99['reduce']((_0x4d6b6a,_0x36beab,_0x486b49)=>_0x4d6b6a+_0x36beab*_0x51b595[_0x486b49],0x0)/(Math[_0x444635(0x14b)](_0x132d99[_0x444635(0x116)]((_0x5e9730,_0x4dbc91)=>_0x5e9730+_0x4dbc91*_0x4dbc91,0x0))*Math[_0x444635(0x14b)](_0x51b595[_0x444635(0x116)]((_0x2e1bfe,_0x1adbb4)=>_0x2e1bfe+_0x1adbb4*_0x1adbb4,0x0)));}async function N(_0x91bc2a){const _0x57cee2=a31_0x572d;var _0x63771c;for(const [_0x322e38,_0x12f0aa]of a31_0x53e4b3['mems']){let _0x4f105e=0x0,_0x3d45b6=0x0,_0x280570=0x0;if(_0x12f0aa[_0x57cee2(0x133)]){if(_0x91bc2a['similaritySearch']){const _0x3649be=f(_0x12f0aa[_0x57cee2(0x106)],_0x91bc2a[_0x57cee2(0x10d)]);if(_0x280570+=_0x3649be,_0x91bc2a[_0x57cee2(0x111)])for(let _0x590c6=0x0;_0x590c6<_0x12f0aa['chunks_ids'][_0x57cee2(0x10a)];_0x590c6++){const _0x1433ab=_0x12f0aa[_0x57cee2(0x132)][_0x590c6],_0x5d3c6f=a31_0x5b4062(_0x1433ab);_0x5d3c6f&&_0x5d3c6f['content']&&(_0x280570+=f(_0x5d3c6f[_0x57cee2(0x106)],_0x91bc2a['userInputVector']));}}_0x12f0aa[_0x57cee2(0x139)];}let _0x1f42c9=0x0;if(_0x91bc2a[_0x57cee2(0x120)]&&_0x12f0aa[_0x57cee2(0x118)]&&_0x12f0aa['imgCaption_embedding']['length']){const _0x3dba15=f(_0x12f0aa[_0x57cee2(0x11e)],_0x91bc2a[_0x57cee2(0x10d)]);_0x1f42c9+=_0x3dba15,_0x12f0aa[_0x57cee2(0x139)];}const _0x22b68b=_0x12f0aa[_0x57cee2(0x139)][_0x57cee2(0x148)]()['trim']();let _0x650d7d=0x0;const _0xa358cc=new Set(_0x22b68b['split']('\x20')),_0x2c53d9=_0x91bc2a[_0x57cee2(0x14a)][_0x57cee2(0x140)]('\x20');for(const _0x351596 of _0x2c53d9)_0xa358cc[_0x57cee2(0x125)](_0x351596)&&(_0x650d7d+=0.1,_0xa358cc[_0x57cee2(0x14e)](_0x351596));if(_0x22b68b&&(_0x91bc2a[_0x57cee2(0x14a)]===_0x22b68b?_0x4f105e+=0.9:_0x22b68b['includes'](_0x91bc2a['userInput_LowerCased'])?_0x4f105e+=0.8:_0x91bc2a['similaritySearch']&&(_0x4f105e+=f(_0x12f0aa[_0x57cee2(0x146)],_0x91bc2a[_0x57cee2(0x10d)]))),_0x12f0aa[_0x57cee2(0x119)])for(let _0xb8ef17=0x0;_0xb8ef17<((_0x63771c=_0x12f0aa['tags'])==null?void 0x0:_0x63771c[_0x57cee2(0x10a)]);_0xb8ef17++){const _0xb64bc0=_0x12f0aa[_0x57cee2(0x119)][_0xb8ef17]['toLowerCase']();_0xb64bc0[_0x57cee2(0x13c)]()&&_0xb64bc0['includes'](_0x91bc2a['userInput_LowerCased'])&&(_0x3d45b6+=0.1);}const _0x50b09f=_0x4f105e+_0x280570+_0x3d45b6+_0x650d7d+_0x1f42c9;_0x12f0aa['score']=_0x50b09f;}a31_0x53e4b3[_0x57cee2(0x13e)],a31_0x53e4b3['mems']=new Map(Array['from'](a31_0x53e4b3['mems']['entries']())[_0x57cee2(0x112)]((_0x22bff0,_0x24597d)=>_0x24597d[0x1][_0x57cee2(0x13f)]-_0x22bff0[0x1]['score']));}async function P(_0x3f1b64){const _0x4c6691=a31_0x572d;var _0x546d23;let _0x1722e6=_0x3f1b64[_0x4c6691(0x12d)][_0x4c6691(0x148)]();const _0x54a60c=0xa;if(_0x1722e6=B(_0x1722e6),!_0x1722e6)return[];let _0x1423bd=[];if(_0x1722e6[0x0]!=='.'){if(_0x1722e6[0x0]==='@'){if(_0x1722e6=_0x1722e6['split']('@')[0x1],!_0x1722e6)return[];let _0x173300=0x0;for(const [_0x4d5b61,_0x555856]of a31_0x53e4b3[_0x4c6691(0x13e)])if(!_0x555856[_0x4c6691(0x117)]&&_0x555856['title_string'][_0x4c6691(0x148)]()[_0x4c6691(0x127)](_0x1722e6)&&(_0x555856[_0x4c6691(0x13f)]=0x1,_0x1423bd[_0x4c6691(0x147)](_0x555856),++_0x173300>_0x54a60c))break;}else{if(_0x1722e6[0x0]==='#'){if(_0x1722e6=_0x1722e6[_0x4c6691(0x140)]('#')[0x1],!_0x1722e6)return[];let _0x42dc26=0x0;for(const [_0x2eb482,_0xe9dccd]of a31_0x53e4b3['mems'])if(!_0xe9dccd['isAChunk']&&((_0x546d23=_0xe9dccd[_0x4c6691(0x119)])!=null&&_0x546d23['find'](_0x4c528f=>_0x4c528f[_0x4c6691(0x148)]()['includes'](_0x1722e6)))&&(_0xe9dccd[_0x4c6691(0x13f)]=0x1,_0x1423bd[_0x4c6691(0x147)](_0xe9dccd),++_0x42dc26>_0x54a60c))break;}else{const _0x2e92d3=await a31_0x2ef4bd({'text':_0x1722e6});await N({'userInputVector':_0x2e92d3,'userInput_LowerCased':_0x1722e6,'similaritySearch':!0x0,'deepContentSearch':!0x0,'similaritySearch_imgCap':!0x0});let _0x14864c=0x0;for(const [_0x209094,_0x2f734c]of a31_0x53e4b3[_0x4c6691(0x13e)])if(_0x1423bd['push'](_0x2f734c),++_0x14864c>_0x54a60c)break;}}}return _0x1423bd['length']?(_0x1423bd[0x0][_0x4c6691(0x139)],_0x1423bd[0x0]['score'],_0x1423bd[_0x4c6691(0x129)](_0x45392c=>a31_0x56da7d(_0x45392c['id']))):[];}function O(_0x33ec78){const _0x228b4f=a31_0x572d;let _0x47c28c=0x0,_0x259dde=[];for(const [_0x199b00,_0x2ea0ac]of a31_0x53e4b3[_0x228b4f(0x13e)])if(_0x2ea0ac['content_string']&&(_0x259dde[_0x228b4f(0x147)](_0x2ea0ac),++_0x47c28c>_0x33ec78[_0x228b4f(0x11b)]))break;return _0x259dde;}async function R(_0x3494a1){const _0x991eb7=a31_0x572d,_0x10c0c5=await P({'input':_0x3494a1[_0x991eb7(0x12b)]});_0x3494a1[_0x991eb7(0x136)]?a31_0x30cb3e({'userInputSearchBox':''}):a31_0x30cb3e({'userInputSearchBox':_0x3494a1['text']}),v({'mems':_0x10c0c5});}function v(_0x171ae5){const _0x146199=a31_0x572d;var _0xd72aa9;if(!((_0xd72aa9=_0x171ae5[_0x146199(0x13e)])!=null&&_0xd72aa9[_0x146199(0x10a)]))a31_0x30cb3e({'topMems':[]}),a31_0x30cb3e({'memsColorGotManipulated':!0x1}),a31_0x30cb3e({'userInputSearchBox':''}),a31_0x27edea[_0x146199(0x108)][_0x146199(0x10b)](a31_0x27edea[_0x146199(0x108)]['map'](_0x579f37=>(_0x579f37[_0x146199(0x138)]=0x1,_0x579f37[_0x146199(0x130)]=0x0,_0x579f37[_0x146199(0x115)]={..._0x579f37[_0x146199(0x115)],'border':_0x146199(0x10c)},_0x579f37[_0x146199(0x10e)]={..._0x579f37[_0x146199(0x10e)],'borderDashes':!0x1},_0x579f37)));else{const _0x5f0a3f=new Map(),_0x512408=0.05;_0x171ae5['mems'][0x0]['score']=0x64;const _0x262b25=Math['max'](..._0x171ae5[_0x146199(0x13e)][_0x146199(0x129)](_0x53d5ee=>_0x53d5ee['score']===0x64?0x0:_0x53d5ee[_0x146199(0x13f)])),_0x508152=_0x171ae5[_0x146199(0x13e)]['map'](_0x50d2b0=>{const _0x58b4d1=_0x146199;if(_0x50d2b0[_0x58b4d1(0x13f)]===0x64)_0x5f0a3f['set'](_0x50d2b0['id'],{'id':_0x50d2b0['id'],'borderWidth':0x3,'color':{'border':a31_0x2f76db},'shapeProperties':{'borderDashes':!0x0},'opacity':0x1});else{let _0x363b2f=_0x262b25?_0x50d2b0[_0x58b4d1(0x13f)]/_0x262b25+_0x512408:_0x512408;_0x363b2f=_0x363b2f>=0x1?0x1:_0x363b2f,_0x5f0a3f[_0x58b4d1(0x128)](_0x50d2b0['id'],{'id':_0x50d2b0['id'],'borderWidth':0x1,'color':{'border':_0x58b4d1(0x10c)},'opacity':_0x363b2f});}return a31_0x56da7d(_0x50d2b0['id']);});_0x508152[0x0][_0x146199(0x13f)]=0x64,a31_0x30cb3e({'memsColorGotManipulated':!0x0}),a31_0x30cb3e({'topMems':_0x508152}),a31_0x30cb3e({'topMem':_0x508152[0x0]}),a31_0x27edea['mems_visNetworkGraph_nodes2']['update'](a31_0x27edea[_0x146199(0x108)][_0x146199(0x129)](_0x33df8e=>{const _0x80141d=_0x146199;_0x33df8e[_0x80141d(0x138)]=_0x512408,_0x33df8e[_0x80141d(0x130)]=0x0,_0x33df8e[_0x80141d(0x115)]={..._0x33df8e[_0x80141d(0x115)],'border':_0x80141d(0x10c)},_0x33df8e[_0x80141d(0x10e)]={..._0x33df8e[_0x80141d(0x10e)],'borderDashes':!0x1};const _0x24216e=_0x5f0a3f[_0x80141d(0x145)](_0x33df8e['id']);return _0x24216e?{..._0x33df8e,..._0x24216e}:_0x33df8e;}));}}async function U(_0x5efef7){const _0x56c3e3=a31_0x572d;a31_0x656613({'content':_0x56c3e3(0x113)}),await a31_0xae1b68(0x12c),await a31_0x2b78c7(),_0x5efef7[_0x56c3e3(0x121)][_0x56c3e3(0x106)];const _0x110dcb=await a31_0x4762da({'newMemForm':_0x5efef7[_0x56c3e3(0x121)],'memBeforeEdit':_0x5efef7[_0x56c3e3(0x12f)],'selectedImg':_0x5efef7[_0x56c3e3(0x134)],'captionTheImg':_0x5efef7['captionTheImg'],'generate_customFields_model':_0x5efef7[_0x56c3e3(0x121)]['content']&&_0x5efef7[_0x56c3e3(0x11a)]});await a31_0x381376(),_0x5efef7['dontContextAwareModel']||await a31_0xe69117({'name':_0x56c3e3(0x144),'content':_0x110dcb['title_string']});const _0x1c6e97=a31_0xa653d3(_0x110dcb);if(a31_0x30cb3e({'topMem':_0x1c6e97}),a31_0x49a250(_0x56c3e3(0x11c))[_0x56c3e3(0x10a)]){const _0x349425=a31_0x49a250('topMems')[_0x56c3e3(0x14d)](_0x53f746=>_0x53f746['id']===_0x110dcb['id']);_0x349425!==-0x1&&a31_0x30cb3e({'topMems':[...a31_0x49a250('topMems')['toSpliced'](_0x349425,0x1),_0x1c6e97]});}a31_0x656613(!0x1),a31_0x27cded(_0x56c3e3(0x135));}export{R as a,f as b,N as c,O as d,U as e,P as f,q as g,v as s};function a31_0x17c1(){const _0x5c5667=['prevMem','borderWidth','apply','chunks_ids','content_string','selectedImg','Dashboard','dontSet_userInputSearchBox','info','opacity','title_string','toString','234459MwwiuS','trim','prototype','mems','score','split','table','16SzcVHa','4014KvemiP','user\x20edited\x20a\x20Memory\x20Node','get','title','push','toLowerCase','console','userInput_LowerCased','sqrt','28yOsAyD','findIndex','delete','2593260MRXcXM','content','__proto__','mems_visNetworkGraph_nodes2','1279188WbDwYo','length','update','cyan','userInputVector','shapeProperties','constructor','50461iCWCPW','deepContentSearch','sort','editing\x20the\x20mem','exception','color','reduce','isAChunk','imgCaption_string','tags','generate_customFields_model','searchLimit','topMems','2247oqJhjY','imgCaption_embedding','8uKmsIU','similaritySearch_imgCap','newMemForm','replaceAll','bind','275965RWoqMV','has','warn','includes','set','map','13380202WnkQmV','text','log','input','error'];a31_0x17c1=function(){return _0x5c5667;};return a31_0x17c1();}