(function(_0x31d23b,_0x2c254b){const _0x93fb42=a31_0x2d00,_0x4dea5b=_0x31d23b();while(!![]){try{const _0x57c28d=-parseInt(_0x93fb42(0x16a))/0x1+-parseInt(_0x93fb42(0x13e))/0x2+parseInt(_0x93fb42(0x150))/0x3+parseInt(_0x93fb42(0x13b))/0x4*(-parseInt(_0x93fb42(0x139))/0x5)+parseInt(_0x93fb42(0x13c))/0x6*(-parseInt(_0x93fb42(0x15b))/0x7)+parseInt(_0x93fb42(0x169))/0x8+parseInt(_0x93fb42(0x141))/0x9*(parseInt(_0x93fb42(0x15a))/0xa);if(_0x57c28d===_0x2c254b)break;else _0x4dea5b['push'](_0x4dea5b['shift']());}catch(_0x260239){_0x4dea5b['push'](_0x4dea5b['shift']());}}}(a31_0x3291,0x3cf32));function a31_0x3291(){const _0x3e029f=['content','entries','exception','11882610LrppDa','2122351fUavEE','Dashboard','imgCaption_embedding','constructor','mems_visNetworkGraph_nodes2','dontContextAwareModel','score','content_string','title_string','reduce','includes','shapeProperties','imgCaption_string','map','2114392AvOtyI','367141ZcaMHA','chunks_ids','generate_customFields_model','color','cyan','set','sqrt','text','toString','prevMem','bind','searchLimit','max','warn','tags','topMems','userInputVector','split','trim','userInput_LowerCased','similaritySearch_imgCap','891755JIXDqp','from','8ViAuaf','6dWcNbg','deepContentSearch','771972uDhsQP','has','length','9XrBqkm','mems','input','captionTheImg','replaceAll','update','log','isAChunk','findIndex','toSpliced','newMemForm','title','user\x20edited\x20a\x20Memory\x20Node','__proto__','toLowerCase','630336CaDwDl','delete','console','borderWidth','push','opacity','selectedImg'];a31_0x3291=function(){return _0x3e029f;};return a31_0x3291();}const a31_0x1a990e=(function(){let _0x2c016f=!![];return function(_0x261d2d,_0x4f2eb1){const _0x3131bf=_0x2c016f?function(){if(_0x4f2eb1){const _0x343927=_0x4f2eb1['apply'](_0x261d2d,arguments);return _0x4f2eb1=null,_0x343927;}}:function(){};return _0x2c016f=![],_0x3131bf;};}()),a31_0x31cff7=a31_0x1a990e(this,function(){const _0x445a2c=a31_0x2d00;let _0x57e884;try{const _0xe9ac33=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x57e884=_0xe9ac33();}catch(_0x2a11f0){_0x57e884=window;}const _0x5bc6b4=_0x57e884[_0x445a2c(0x152)]=_0x57e884[_0x445a2c(0x152)]||{},_0x52e398=[_0x445a2c(0x147),_0x445a2c(0x177),'info','error',_0x445a2c(0x159),'table','trace'];for(let _0x3d5be9=0x0;_0x3d5be9<_0x52e398[_0x445a2c(0x140)];_0x3d5be9++){const _0x231fec=a31_0x1a990e[_0x445a2c(0x15e)]['prototype'][_0x445a2c(0x174)](a31_0x1a990e),_0x3ff0da=_0x52e398[_0x3d5be9],_0x28b17a=_0x5bc6b4[_0x3ff0da]||_0x231fec;_0x231fec[_0x445a2c(0x14e)]=a31_0x1a990e[_0x445a2c(0x174)](a31_0x1a990e),_0x231fec[_0x445a2c(0x172)]=_0x28b17a['toString'][_0x445a2c(0x174)](_0x28b17a),_0x5bc6b4[_0x3ff0da]=_0x231fec;}});a31_0x31cff7();import{J as a31_0x4ddca6,ar as a31_0x4a68f3}from'./index-GuxLI4NN.js';import{r as a31_0x10f9d1,x as a31_0x2bf8ee,a as a31_0x4f3bfa,f as a31_0x46c353,c as a31_0x2286db,e as a31_0x4a5f01,d as a31_0x873744,P as a31_0x410119,g as a31_0x5ce389}from'./addImgOrIconToVisNode_-wy0TCTcA.js';import{s as a31_0x42b618,u as a31_0x266dac,d as a31_0x5b9941,i as a31_0x1c28c6}from'./PaperMainTemplate-B4uholPE.js';import{e as a31_0x8abdee}from'./editMem-fZjkxiJ_.js';function O(_0x1019ad){const _0x5270ec=a31_0x2d00;return _0x1019ad['trim']()[_0x5270ec(0x145)]('\x20\x20','\x20')[_0x5270ec(0x145)]('\x20\x20','\x20')[_0x5270ec(0x145)]('\x0a\x0a','\x0a');}function B(_0x100912){const _0x5465e4=a31_0x2d00;return _0x100912['trim']()[_0x5465e4(0x145)]('\x20\x20','\x20')[_0x5465e4(0x145)]('\x0a\x0a','\x20')[_0x5465e4(0x145)]('\x0a','.');}function f(_0x58b225,_0x276334){const _0x3e7c61=a31_0x2d00;return _0x58b225[_0x3e7c61(0x164)]((_0x46cb94,_0x3d9915,_0x148b6a)=>_0x46cb94+_0x3d9915*_0x276334[_0x148b6a],0x0)/(Math['sqrt'](_0x58b225[_0x3e7c61(0x164)]((_0x164c60,_0x372065)=>_0x164c60+_0x372065*_0x372065,0x0))*Math[_0x3e7c61(0x170)](_0x276334[_0x3e7c61(0x164)]((_0x4f6994,_0x4929b0)=>_0x4f6994+_0x4929b0*_0x4929b0,0x0)));}function a31_0x2d00(_0x11c788,_0x21e213){const _0x41dbf5=a31_0x3291();return a31_0x2d00=function(_0x31cff7,_0x1a990e){_0x31cff7=_0x31cff7-0x139;let _0xb940af=_0x41dbf5[_0x31cff7];return _0xb940af;},a31_0x2d00(_0x11c788,_0x21e213);}async function N(_0x1ef4bb){const _0x5a1941=a31_0x2d00;var _0x55749b;for(const [_0x57f70a,_0x2d8a0a]of a31_0x4ddca6['mems']){let _0x254133=0x0,_0x5db120=0x0,_0x1c9b27=0x0;if(_0x2d8a0a[_0x5a1941(0x162)]){if(_0x1ef4bb['similaritySearch']){const _0x282534=f(_0x2d8a0a['content'],_0x1ef4bb[_0x5a1941(0x17a)]);if(_0x1c9b27+=_0x282534,_0x1ef4bb[_0x5a1941(0x13d)])for(let _0x5379ca=0x0;_0x5379ca<_0x2d8a0a[_0x5a1941(0x16b)][_0x5a1941(0x140)];_0x5379ca++){const _0x2ae071=_0x2d8a0a[_0x5a1941(0x16b)][_0x5379ca],_0xf618b5=a31_0x10f9d1(_0x2ae071);_0xf618b5&&_0xf618b5[_0x5a1941(0x157)]&&(_0x1c9b27+=f(_0xf618b5['content'],_0x1ef4bb[_0x5a1941(0x17a)]));}}_0x2d8a0a[_0x5a1941(0x163)];}let _0x1e26eb=0x0;if(_0x1ef4bb[_0x5a1941(0x17e)]&&_0x2d8a0a[_0x5a1941(0x167)]&&_0x2d8a0a[_0x5a1941(0x15d)]['length']){const _0x38dfe0=f(_0x2d8a0a[_0x5a1941(0x15d)],_0x1ef4bb[_0x5a1941(0x17a)]);_0x1e26eb+=_0x38dfe0,_0x2d8a0a[_0x5a1941(0x163)];}const _0x28c1a0=_0x2d8a0a[_0x5a1941(0x163)][_0x5a1941(0x14f)]()['trim']();let _0x139b94=0x0;const _0x2dd638=new Set(_0x28c1a0[_0x5a1941(0x17b)]('\x20')),_0x1e5cdd=_0x1ef4bb[_0x5a1941(0x17d)][_0x5a1941(0x17b)]('\x20');for(const _0x590ce0 of _0x1e5cdd)_0x2dd638[_0x5a1941(0x13f)](_0x590ce0)&&(_0x139b94+=0.1,_0x2dd638[_0x5a1941(0x151)](_0x590ce0));if(_0x28c1a0&&(_0x1ef4bb[_0x5a1941(0x17d)]===_0x28c1a0?_0x254133+=0.9:_0x28c1a0[_0x5a1941(0x165)](_0x1ef4bb['userInput_LowerCased'])?_0x254133+=0.8:_0x1ef4bb['similaritySearch']&&(_0x254133+=f(_0x2d8a0a[_0x5a1941(0x14c)],_0x1ef4bb[_0x5a1941(0x17a)]))),_0x2d8a0a['tags'])for(let _0x1750ab=0x0;_0x1750ab<((_0x55749b=_0x2d8a0a[_0x5a1941(0x178)])==null?void 0x0:_0x55749b[_0x5a1941(0x140)]);_0x1750ab++){const _0x1c33f8=_0x2d8a0a[_0x5a1941(0x178)][_0x1750ab][_0x5a1941(0x14f)]();_0x1c33f8[_0x5a1941(0x17c)]()&&_0x1c33f8[_0x5a1941(0x165)](_0x1ef4bb['userInput_LowerCased'])&&(_0x5db120+=0.1);}const _0x3fbbe5=_0x254133+_0x1c9b27+_0x5db120+_0x139b94+_0x1e26eb;_0x2d8a0a['score']=_0x3fbbe5;}a31_0x4ddca6['mems'],a31_0x4ddca6[_0x5a1941(0x142)]=new Map(Array[_0x5a1941(0x13a)](a31_0x4ddca6[_0x5a1941(0x142)][_0x5a1941(0x158)]())['sort']((_0x10c9f6,_0x488c2b)=>_0x488c2b[0x1][_0x5a1941(0x161)]-_0x10c9f6[0x1][_0x5a1941(0x161)]));}async function P(_0x4d5a7d){const _0x489fc8=a31_0x2d00;var _0x5af0b9;let _0x5973f3=_0x4d5a7d[_0x489fc8(0x143)][_0x489fc8(0x14f)]();const _0x4fd5e6=0xa;if(_0x5973f3=B(_0x5973f3),!_0x5973f3)return[];let _0x2d670d=[];if(_0x5973f3[0x0]!=='.'){if(_0x5973f3[0x0]==='@'){if(_0x5973f3=_0x5973f3['split']('@')[0x1],!_0x5973f3)return[];let _0x2b238c=0x0;for(const [_0x412801,_0x70e6ee]of a31_0x4ddca6[_0x489fc8(0x142)])if(!_0x70e6ee[_0x489fc8(0x148)]&&_0x70e6ee[_0x489fc8(0x163)][_0x489fc8(0x14f)]()[_0x489fc8(0x165)](_0x5973f3)&&(_0x70e6ee[_0x489fc8(0x161)]=0x1,_0x2d670d[_0x489fc8(0x154)](_0x70e6ee),++_0x2b238c>_0x4fd5e6))break;}else{if(_0x5973f3[0x0]==='#'){if(_0x5973f3=_0x5973f3[_0x489fc8(0x17b)]('#')[0x1],!_0x5973f3)return[];let _0x1faae4=0x0;for(const [_0x535d50,_0x31a63f]of a31_0x4ddca6[_0x489fc8(0x142)])if(!_0x31a63f[_0x489fc8(0x148)]&&((_0x5af0b9=_0x31a63f['tags'])!=null&&_0x5af0b9['find'](_0x5bde6d=>_0x5bde6d[_0x489fc8(0x14f)]()[_0x489fc8(0x165)](_0x5973f3)))&&(_0x31a63f['score']=0x1,_0x2d670d[_0x489fc8(0x154)](_0x31a63f),++_0x1faae4>_0x4fd5e6))break;}else{const _0x5edabe=await a31_0x2bf8ee({'text':_0x5973f3});await N({'userInputVector':_0x5edabe,'userInput_LowerCased':_0x5973f3,'similaritySearch':!0x0,'deepContentSearch':!0x0,'similaritySearch_imgCap':!0x0});let _0x1a3d9b=0x0;for(const [_0xdb6df2,_0x40594b]of a31_0x4ddca6[_0x489fc8(0x142)])if(_0x2d670d[_0x489fc8(0x154)](_0x40594b),++_0x1a3d9b>_0x4fd5e6)break;}}}return _0x2d670d[_0x489fc8(0x140)]?(_0x2d670d[0x0][_0x489fc8(0x163)],_0x2d670d[0x0][_0x489fc8(0x161)],_0x2d670d[_0x489fc8(0x168)](_0x2b6d43=>a31_0x4f3bfa(_0x2b6d43['id']))):[];}function R(_0x3043e2){const _0x554f85=a31_0x2d00;let _0xd0ac40=0x0,_0x411af6=[];for(const [_0xb42b28,_0x842789]of a31_0x4ddca6['mems'])if(_0x842789['content_string']&&(_0x411af6[_0x554f85(0x154)](_0x842789),++_0xd0ac40>_0x3043e2[_0x554f85(0x175)]))break;return _0x411af6;}async function U(_0x9fc32c){const _0x33ab9f=a31_0x2d00,_0x55c3c4=await P({'input':_0x9fc32c[_0x33ab9f(0x171)]});_0x9fc32c['dontSet_userInputSearchBox']?a31_0x42b618({'userInputSearchBox':''}):a31_0x42b618({'userInputSearchBox':_0x9fc32c[_0x33ab9f(0x171)]}),v({'mems':_0x55c3c4});}function v(_0x4b9d58){const _0x1fbde8=a31_0x2d00;var _0x2b08fe;if(!((_0x2b08fe=_0x4b9d58[_0x1fbde8(0x142)])!=null&&_0x2b08fe['length']))a31_0x42b618({'topMems':[]}),a31_0x42b618({'memsColorGotManipulated':!0x1}),a31_0x42b618({'userInputSearchBox':''}),a31_0x266dac[_0x1fbde8(0x15f)][_0x1fbde8(0x146)](a31_0x266dac[_0x1fbde8(0x15f)][_0x1fbde8(0x168)](_0x1a6c52=>(_0x1a6c52[_0x1fbde8(0x155)]=0x1,_0x1a6c52['borderWidth']=0x0,_0x1a6c52[_0x1fbde8(0x16d)]={..._0x1a6c52[_0x1fbde8(0x16d)],'border':_0x1fbde8(0x16e)},_0x1a6c52[_0x1fbde8(0x166)]={..._0x1a6c52[_0x1fbde8(0x166)],'borderDashes':!0x1},_0x1a6c52)));else{const _0x3a6f6a=new Map(),_0xddf0c0=0.05;_0x4b9d58[_0x1fbde8(0x142)][0x0]['score']=0x64;const _0x55e91a=Math[_0x1fbde8(0x176)](..._0x4b9d58['mems'][_0x1fbde8(0x168)](_0x1f2d9e=>_0x1f2d9e[_0x1fbde8(0x161)]===0x64?0x0:_0x1f2d9e[_0x1fbde8(0x161)])),_0x2cf645=_0x4b9d58[_0x1fbde8(0x142)]['map'](_0x5c6b68=>{const _0x1a6fbc=_0x1fbde8;if(_0x5c6b68[_0x1a6fbc(0x161)]===0x64)_0x3a6f6a[_0x1a6fbc(0x16f)](_0x5c6b68['id'],{'id':_0x5c6b68['id'],'borderWidth':0x3,'color':{'border':a31_0x4a68f3},'shapeProperties':{'borderDashes':!0x0},'opacity':0x1});else{let _0x369fd6=_0x55e91a?_0x5c6b68['score']/_0x55e91a+_0xddf0c0:_0xddf0c0;_0x369fd6=_0x369fd6>=0x1?0x1:_0x369fd6,_0x369fd6=_0x369fd6<=_0xddf0c0?_0xddf0c0:_0x369fd6,_0x3a6f6a[_0x1a6fbc(0x16f)](_0x5c6b68['id'],{'id':_0x5c6b68['id'],'borderWidth':0x1,'color':{'border':_0x1a6fbc(0x16e)},'opacity':_0x369fd6});}return a31_0x4f3bfa(_0x5c6b68['id']);});_0x2cf645[0x0][_0x1fbde8(0x161)]=0x64,a31_0x42b618({'memsColorGotManipulated':!0x0}),a31_0x42b618({'topMems':_0x2cf645}),a31_0x42b618({'topMem':_0x2cf645[0x0]}),a31_0x266dac[_0x1fbde8(0x15f)][_0x1fbde8(0x146)](a31_0x266dac[_0x1fbde8(0x15f)]['map'](_0x34cbe3=>{const _0x31a360=_0x1fbde8;_0x34cbe3[_0x31a360(0x155)]=_0xddf0c0,_0x34cbe3[_0x31a360(0x153)]=0x0,_0x34cbe3[_0x31a360(0x16d)]={..._0x34cbe3[_0x31a360(0x16d)],'border':'cyan'},_0x34cbe3[_0x31a360(0x166)]={..._0x34cbe3[_0x31a360(0x166)],'borderDashes':!0x1};const _0xa7933=_0x3a6f6a['get'](_0x34cbe3['id']);return _0xa7933?{..._0x34cbe3,..._0xa7933}:_0x34cbe3;}));}}async function H(_0x412b01){const _0x32bdec=a31_0x2d00;a31_0x46c353({'content':'editing\x20the\x20mem'}),await a31_0x5b9941(0x12c),await a31_0x2286db(),_0x412b01[_0x32bdec(0x14b)][_0x32bdec(0x157)];const _0x41be8b=await a31_0x8abdee({'newMemForm':_0x412b01['newMemForm'],'memBeforeEdit':_0x412b01[_0x32bdec(0x173)],'selectedImg':_0x412b01[_0x32bdec(0x156)],'captionTheImg':_0x412b01[_0x32bdec(0x144)],'generate_customFields_model':_0x412b01['newMemForm'][_0x32bdec(0x157)]&&_0x412b01[_0x32bdec(0x16c)]});await a31_0x4a5f01(),_0x412b01[_0x32bdec(0x160)]||await a31_0x873744({'name':_0x32bdec(0x14d),'content':_0x41be8b[_0x32bdec(0x163)]});const _0x535f6f=a31_0x410119(_0x41be8b);if(a31_0x42b618({'topMem':_0x535f6f}),a31_0x1c28c6(_0x32bdec(0x179))[_0x32bdec(0x140)]){const _0x5e89f5=a31_0x1c28c6(_0x32bdec(0x179))[_0x32bdec(0x149)](_0x10f4e8=>_0x10f4e8['id']===_0x41be8b['id']);_0x5e89f5!==-0x1&&a31_0x42b618({'topMems':[...a31_0x1c28c6(_0x32bdec(0x179))[_0x32bdec(0x14a)](_0x5e89f5,0x1),_0x535f6f]});}a31_0x46c353(!0x1),a31_0x5ce389(_0x32bdec(0x15c));}export{U as a,f as b,N as c,R as d,H as e,P as f,O as g,v as s};