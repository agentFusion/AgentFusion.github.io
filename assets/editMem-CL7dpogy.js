(function(_0x53154d,_0x12da17){const _0x3eaa8a=a30_0x1eae,_0x4339c1=_0x53154d();while(!![]){try{const _0x46661b=-parseInt(_0x3eaa8a(0x1ab))/0x1*(-parseInt(_0x3eaa8a(0x1a4))/0x2)+-parseInt(_0x3eaa8a(0x184))/0x3+-parseInt(_0x3eaa8a(0x178))/0x4*(parseInt(_0x3eaa8a(0x18c))/0x5)+parseInt(_0x3eaa8a(0x179))/0x6*(parseInt(_0x3eaa8a(0x1ac))/0x7)+parseInt(_0x3eaa8a(0x1b1))/0x8+-parseInt(_0x3eaa8a(0x1b0))/0x9*(-parseInt(_0x3eaa8a(0x18b))/0xa)+-parseInt(_0x3eaa8a(0x192))/0xb;if(_0x46661b===_0x12da17)break;else _0x4339c1['push'](_0x4339c1['shift']());}catch(_0x38ab56){_0x4339c1['push'](_0x4339c1['shift']());}}}(a30_0x2675,0x5945c));function a30_0x2675(){const _0x3a1b0a=['warn','all_used_Fields','valueOf','chunks_ids','parents_id','selectedImg','new_fields','isAChunk','mems_visNetworkGraph_nodes2','imgCaption_embedding','exception','memsChunks','creationTime','__proto__','hidden','shared_fields','ranking','1637628aCWFyA','18sgLFMN','title','color','content_string','shape','content','trim','img','customFields_model','memBeforeEdit','apply','847620shWmgE','summarization','customFields_user','length','updateOnly','toString','add','10fgQcDK','5kXKXRr','key','title_string','return\x20(function()\x20','keys','category','2194643dmTqzG','configs','visNetworkConfig','imgInternalStoragePath','generate_customFields_model','newMemForm','nodes','image/png','prototype','split','parents_rel','score','update','log','mems_visNetworkGraph_edges2','map','alert','set','300BVVbqF','trace','get','all_used_category','error','console','withImages','3307dCMKTd','155092PWMSPr','captionTheImg','catch','mems','5371407sGbgCS','782232jnXJbD','bind','tags','level','imgCaption_string'];a30_0x2675=function(){return _0x3a1b0a;};return a30_0x2675();}const a30_0x5e9547=(function(){let _0x85205c=!![];return function(_0x2daf72,_0xff79da){const _0x327c70=_0x85205c?function(){const _0x5e0f97=a30_0x1eae;if(_0xff79da){const _0x5693bf=_0xff79da[_0x5e0f97(0x183)](_0x2daf72,arguments);return _0xff79da=null,_0x5693bf;}}:function(){};return _0x85205c=![],_0x327c70;};}()),a30_0x4a6d3c=a30_0x5e9547(this,function(){const _0x55f0e5=a30_0x1eae;let _0x13b4fa;try{const _0x1c9545=Function(_0x55f0e5(0x18f)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x13b4fa=_0x1c9545();}catch(_0x1c87dd){_0x13b4fa=window;}const _0x444f77=_0x13b4fa['console']=_0x13b4fa[_0x55f0e5(0x1a9)]||{},_0x2fefa2=[_0x55f0e5(0x19f),_0x55f0e5(0x1b6),'info',_0x55f0e5(0x1a8),_0x55f0e5(0x1c0),'table',_0x55f0e5(0x1a5)];for(let _0xe9c42b=0x0;_0xe9c42b<_0x2fefa2['length'];_0xe9c42b++){const _0x2f8dca=a30_0x5e9547['constructor'][_0x55f0e5(0x19a)][_0x55f0e5(0x1b2)](a30_0x5e9547),_0x397c97=_0x2fefa2[_0xe9c42b],_0x1e6331=_0x444f77[_0x397c97]||_0x2f8dca;_0x2f8dca[_0x55f0e5(0x1c3)]=a30_0x5e9547[_0x55f0e5(0x1b2)](a30_0x5e9547),_0x2f8dca['toString']=_0x1e6331[_0x55f0e5(0x189)][_0x55f0e5(0x1b2)](_0x1e6331),_0x444f77[_0x397c97]=_0x2f8dca;}});a30_0x4a6d3c();import{y as a30_0xc2efcd,l as a30_0x266287,u as a30_0x3c779f,i as a30_0x33869f}from'./PaperMainTemplate-B8gRh8CK.js';import{x as a30_0x207177,S as a30_0x2cd1f5,T as a30_0x1ffb50,U as a30_0x1f20d2,V,J as a30_0x566d11,W as a30_0xe8ad04,D,X as a30_0x182a91,h as a30_0xd68e73,K as a30_0x283310}from'./addImgOrIconToVisNode_-DeapGsiN.js';import{J as a30_0x1e13c6,Q as a30_0x107abd,X as a30_0x5d8a89,ah as a30_0x599e27,K as a30_0x1dcc69}from'./index-C-EC2TMV.js';import{s as a30_0x4785d5}from'./showToast-D1T75Y8q.js';function a30_0x1eae(_0x2a02fa,_0x12aeb4){const _0x505d39=a30_0x2675();return a30_0x1eae=function(_0x4a6d3c,_0x5e9547){_0x4a6d3c=_0x4a6d3c-0x176;let _0x21cf30=_0x505d39[_0x4a6d3c];return _0x21cf30;},a30_0x1eae(_0x2a02fa,_0x12aeb4);}async function R(_0x12d944){const _0x18babc=a30_0x1eae;var _0x33e9c7,_0x1b6543,_0x55a4b9;const _0x17e9e9=a30_0x1e13c6[_0x18babc(0x1af)][_0x18babc(0x1a6)](_0x12d944['memBeforeEdit']['id']),_0x1c88e0=!a30_0xc2efcd(_0x12d944[_0x18babc(0x182)]['customFields_user'],_0x12d944[_0x18babc(0x197)]['customFields_user']),_0x529c1d=!a30_0xc2efcd(_0x12d944[_0x18babc(0x182)]['parents_id'],_0x12d944[_0x18babc(0x197)]['parents_id'])||!a30_0xc2efcd(_0x12d944[_0x18babc(0x182)]['parents_rel'],_0x12d944['newMemForm']['parents_rel']),_0x13fa9c=_0x12d944[_0x18babc(0x197)]['title']!==_0x12d944['memBeforeEdit'][_0x18babc(0x18e)],_0x4d48a7=_0x12d944[_0x18babc(0x197)][_0x18babc(0x17e)]!==_0x12d944['memBeforeEdit'][_0x18babc(0x17c)],_0x6d4e05=_0x12d944[_0x18babc(0x197)]['category']!==_0x12d944[_0x18babc(0x182)][_0x18babc(0x191)],_0x406fcf={'title_string':_0x13fa9c?_0x12d944[_0x18babc(0x197)]['title']:_0x12d944['memBeforeEdit'][_0x18babc(0x18e)],'content_string':_0x4d48a7?_0x12d944[_0x18babc(0x197)][_0x18babc(0x17e)]:_0x12d944[_0x18babc(0x182)]['content_string'],'title':_0x13fa9c?await a30_0x207177({'text':_0x12d944[_0x18babc(0x197)][_0x18babc(0x17a)]}):_0x17e9e9[_0x18babc(0x17a)],'content':_0x4d48a7?await a30_0x207177({'text':_0x12d944['newMemForm'][_0x18babc(0x17e)]}):_0x17e9e9[_0x18babc(0x17e)],'tags':(_0x1b6543=(_0x33e9c7=_0x12d944[_0x18babc(0x197)][_0x18babc(0x1b3)])==null?void 0x0:_0x33e9c7['trim']())==null?void 0x0:_0x1b6543['toLowerCase']()[_0x18babc(0x19b)]('\x20'),'score':_0x17e9e9[_0x18babc(0x19d)],'id':_0x17e9e9['id'],'parents_id':_0x12d944[_0x18babc(0x197)]['parents_id'],'parents_rel':_0x12d944[_0x18babc(0x197)][_0x18babc(0x19c)],'img':null,'favorite':_0x17e9e9['favorite'],'hidden':_0x17e9e9[_0x18babc(0x1c4)],'level':_0x529c1d?a30_0x2cd1f5(_0x12d944[_0x18babc(0x197)][_0x18babc(0x1ba)]):_0x17e9e9['level'],'ranking':_0x17e9e9[_0x18babc(0x177)],'shape':_0x17e9e9[_0x18babc(0x17d)],'star':_0x17e9e9['star'],'summarization':_0x17e9e9[_0x18babc(0x185)],'creationTime':_0x17e9e9[_0x18babc(0x1c2)],'modificationTime':new Date()[_0x18babc(0x1b8)](),'chunks_ids':_0x17e9e9[_0x18babc(0x1b9)],'isAChunk':_0x17e9e9[_0x18babc(0x1bd)],'imgCaption_embedding':_0x17e9e9['imgCaption_embedding'],'imgCaption_string':_0x17e9e9[_0x18babc(0x1b5)],'customFields_user':_0x12d944[_0x18babc(0x197)][_0x18babc(0x186)],'customFields_model':_0x17e9e9[_0x18babc(0x181)],'category':_0x6d4e05?_0x12d944[_0x18babc(0x197)][_0x18babc(0x191)]:_0x12d944[_0x18babc(0x182)][_0x18babc(0x191)]},_0x4e154b=(_0x55a4b9=_0x12d944[_0x18babc(0x197)][_0x18babc(0x180)])==null?void 0x0:_0x55a4b9[_0x18babc(0x17f)](),_0x47bc13=_0x12d944['memBeforeEdit']['img']!==_0x4e154b||!!_0x12d944['selectedImg'];let _0x539887=null,_0x5ea5e4=null;if(_0x47bc13){if(_0x12d944['selectedImg']){const _0x1dbd9a=await a30_0x266287(_0x12d944['selectedImg']);if(_0x539887=await a30_0x1ffb50(_0x1dbd9a),_0x5ea5e4=a30_0x3c779f[_0x18babc(0x193)][_0x18babc(0x195)]+'/'+_0x17e9e9['id'],_0x406fcf[_0x18babc(0x180)]=_0x5ea5e4,_0x12d944[_0x18babc(0x1ad)]){const _0x3c2371=await a30_0x1f20d2({'img':new Blob([_0x539887],{'type':_0x18babc(0x199)})});_0x406fcf[_0x18babc(0x1b5)]=_0x3c2371,_0x406fcf[_0x18babc(0x1bf)]=_0x3c2371?await a30_0x207177({'text':_0x3c2371}):null;}}else _0x406fcf[_0x18babc(0x180)]=_0x4e154b;}else _0x406fcf['img']=_0x12d944[_0x18babc(0x182)]['img'];let _0xa3c390=[];_0x4d48a7&&(_0xa3c390=await V({'newMem':_0x406fcf,'strategy':_0x12d944['chunkingMode']??null}),_0x406fcf[_0x18babc(0x1b9)]=_0xa3c390[_0x18babc(0x1a1)](_0x5df45e=>_0x5df45e['id']));let _0x40c610=await a30_0x107abd(_0x18babc(0x1b7))??{};if(_0x1c88e0?_0x40c610=await a30_0x566d11({'keys':Object[_0x18babc(0x190)](_0x17e9e9[_0x18babc(0x186)]),'sharedFileds':_0x40c610}):_0x40c610=await a30_0x566d11({'keys':Object[_0x18babc(0x190)](_0x406fcf['customFields_user']),'sharedFileds':_0x40c610}),_0x4d48a7&&_0x12d944[_0x18babc(0x196)]){_0x40c610=await a30_0x566d11({'keys':Object[_0x18babc(0x190)](_0x17e9e9[_0x18babc(0x181)]),'sharedFileds':_0x40c610});const {res:_0x3774f9}=await a30_0xe8ad04({'content':_0x406fcf[_0x18babc(0x17c)],'all_used_Fields':new Set(Object[_0x18babc(0x190)](_0x40c610)),'reservedFieldsThatModelShouldNotUse':[...D]});if(!_0x3774f9)throw'generate_customFields_model\x20failed';if(!_0x3774f9||!('shared_fields'in _0x3774f9))throw'';const _0x4c05bd=[..._0x3774f9[_0x18babc(0x176)],..._0x3774f9[_0x18babc(0x1bc)]],_0x541881={};for(let _0x1be05f=0x0;_0x1be05f<_0x4c05bd[_0x18babc(0x187)];_0x1be05f++){const _0x1d163c=_0x4c05bd[_0x1be05f];_0x541881[_0x1d163c[_0x18babc(0x18d)]]=_0x1d163c['value'];}_0x40c610=await a30_0x182a91({'keys':Object[_0x18babc(0x190)](_0x541881),'sharedFileds':_0x40c610}),_0x406fcf[_0x18babc(0x181)]=_0x541881;}_0x40c610=await a30_0x182a91({'keys':Object['keys'](_0x406fcf[_0x18babc(0x186)]),'sharedFileds':_0x40c610});let _0x3b98cd=await a30_0x107abd(_0x18babc(0x1a7))??{};_0x6d4e05&&(_0x40c610=await a30_0x566d11({'keys':[_0x406fcf['category']],'sharedFileds':_0x3b98cd}),_0x3b98cd=await a30_0x182a91({'keys':[_0x406fcf[_0x18babc(0x191)]],'sharedFileds':_0x3b98cd}));const _0x244610=_0x406fcf['id'];if(a30_0x1e13c6[_0x18babc(0x1af)][_0x18babc(0x1a3)](_0x244610,_0x406fcf),await a30_0x3c779f['db'][_0x18babc(0x1af)]['delete'](_0x406fcf['id']),await a30_0x3c779f['db'][_0x18babc(0x1af)][_0x18babc(0x18a)](_0x406fcf,_0x406fcf['id']),_0x4d48a7){for(let _0xd897ad=0x0;_0xd897ad<_0xa3c390[_0x18babc(0x187)];_0xd897ad++){const _0x2d928f=_0xa3c390[_0xd897ad];a30_0x1e13c6[_0x18babc(0x1c1)][_0x18babc(0x1a3)](_0x2d928f['id'],_0x2d928f);}await a30_0x3c779f['db'][_0x18babc(0x1c1)]['bulkAdd'](_0xa3c390),await a30_0x5d8a89({'all_used_Fields':_0x40c610});}await a30_0x5d8a89({'all_used_Fields':_0x40c610}),_0x6d4e05&&await a30_0x5d8a89({'all_used_category':_0x3b98cd}),_0x47bc13&&_0x12d944[_0x18babc(0x1bb)]&&await a30_0x599e27(_0x5ea5e4,_0x539887)[_0x18babc(0x1ae)](_0x225c18=>{const _0x31dea1=_0x18babc;a30_0x4785d5({'type':_0x31dea1(0x1a2),'content':a30_0x1dcc69('something\x20went\x20wrong\x20on\x20saving\x20image.\x20this\x20might\x20be\x20a\x20temporary\x20browser\x20storage\x20issue')});});const _0x9cb143=a30_0x3c779f[_0x18babc(0x1be)]['get'](_0x244610);let _0x1b6357={...a30_0x33869f(_0x18babc(0x194))[_0x18babc(0x198)],..._0x9cb143,'id':_0x244610,'label':_0x406fcf[_0x18babc(0x18e)],'level':_0x406fcf[_0x18babc(0x1b4)],'color':{..._0x9cb143[_0x18babc(0x17b)],'background':'green'}};if(a30_0x33869f(_0x18babc(0x194))[_0x18babc(0x1aa)]&&_0x47bc13&&(_0x1b6357=await a30_0xd68e73({'img':_0x406fcf[_0x18babc(0x180)],'node':_0x1b6357})),a30_0x3c779f[_0x18babc(0x1be)][_0x18babc(0x188)]({'id':_0x406fcf['id'],..._0x1b6357}),_0x1b6357[_0x18babc(0x1b4)],_0x529c1d){const _0x5120d8=a30_0x283310(_0x12d944[_0x18babc(0x182)]);try{a30_0x3c779f['mems_visNetworkGraph_edges2']['remove'](_0x5120d8);}catch{}const _0x3edaff=a30_0x283310(_0x406fcf);try{a30_0x3c779f[_0x18babc(0x1a0)][_0x18babc(0x19e)](_0x3edaff);}catch{}return _0x406fcf;}return _0x406fcf;}export{R as e};