(function polyfill(){const relList=document.createElement("link").relList;if(relList&&relList.supports&&relList.supports("modulepreload"))return;for(const link of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(link);new MutationObserver(mutations=>{for(const mutation of mutations){if(mutation.type!=="childList")continue;for(const node of mutation.addedNodes)if(node.tagName==="LINK"&&node.rel==="modulepreload")processPreload(node)}}).observe(document,{childList:true,subtree:true});function getFetchOpts(link){const fetchOpts={};if(link.integrity)fetchOpts.integrity=link.integrity;if(link.referrerPolicy)fetchOpts.referrerPolicy=link.referrerPolicy;if(link.crossOrigin==="use-credentials")fetchOpts.credentials="include";else if(link.crossOrigin==="anonymous")fetchOpts.credentials="omit";else fetchOpts.credentials="same-origin";return fetchOpts}function processPreload(link){if(link.ep)return;link.ep=true;const fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts)}})();var jsxRuntime={exports:{}};var reactJsxRuntime_production_min={};var react={exports:{}};var react_production_min={};var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(a){if(null===a||"object"!==typeof a)return null;a=z&&a[z]||a["@@iterator"];return"function"===typeof a?a:null}var B={isMounted:function(){return false},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,b,"setState")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;H.constructor=G;C(H,E.prototype);H.isPureReactComponent=true;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:true,ref:true,__self:true,__source:true};function M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=""+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}function N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return"object"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(a2){return b[a2]})}var P=/\/+/g;function Q(a,b){return"object"===typeof a&&null!==a&&null!=a.key?escape(""+a.key):b.toString(36)}function R(a,b,e,d,c){var k=typeof a;if("undefined"===k||"boolean"===k)a=null;var h=false;if(null===a)h=true;else switch(k){case"string":case"number":h=true;break;case"object":switch(a.$$typeof){case l:case n:h=true}}if(h)return h=a,c=c(h),a=""===d?"."+Q(h,0):d,I(c)?(e="",null!=a&&(e=a.replace(P,"$&/")+"/"),R(c,b,e,"",function(a2){return a2})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P,"$&/")+"/")+a)),b.push(c)),1;h=0;d=""===d?".":d+":";if(I(a))for(var g=0;g<a.length;g++){k=a[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),"function"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if("object"===k)throw b=String(a),Error("Objects are not valid as a React child (found: "+("[object Object]"===b?"object with keys {"+Object.keys(a).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return h}function S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,"","",function(a2){return b.call(e,a2,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b2){if(0===a._status||-1===a._status)a._status=1,a._result=b2},function(b2){if(0===a._status||-1===a._status)a._status=2,a._result=b2});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}var U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};react_production_min.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a2){return a2})||[]},only:function(a){if(!O(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;react_production_min.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=""+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};react_production_min.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};react_production_min.createElement=M;react_production_min.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v,render:a}};react_production_min.isValidElement=O;react_production_min.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};react_production_min.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};react_production_min.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,b){return U.current.useCallback(a,b)};react_production_min.useContext=function(a){return U.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U.current.useDeferredValue(a)};react_production_min.useEffect=function(a,b){return U.current.useEffect(a,b)};react_production_min.useId=function(){return U.current.useId()};react_production_min.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};react_production_min.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};react_production_min.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};react_production_min.useMemo=function(a,b){return U.current.useMemo(a,b)};react_production_min.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};react_production_min.useRef=function(a){return U.current.useRef(a)};react_production_min.useState=function(a){return U.current.useState(a)};react_production_min.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};react_production_min.useTransition=function(){return U.current.useTransition()};react_production_min.version="18.2.0";return react_production_min}var hasRequiredReact;function requireReact(){if(hasRequiredReact)return react.exports;hasRequiredReact=1;{react.exports=requireReact_production_min()}return react.exports}var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var f=requireReact(),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:true,ref:true,__self:true,__source:true};function q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=""+g);void 0!==a.key&&(e=""+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;return reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){if(hasRequiredJsxRuntime)return jsxRuntime.exports;hasRequiredJsxRuntime=1;{jsxRuntime.exports=requireReactJsxRuntime_production_min()}return jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();var client={};var reactDom={exports:{}};var reactDom_production_min={};var scheduler={exports:{}};var scheduler_production_min={};var hasRequiredScheduler_production_min;function requireScheduler_production_min(){if(hasRequiredScheduler_production_min)return scheduler_production_min;hasRequiredScheduler_production_min=1;(function(exports){function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}function g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=false,A=false,B=false,D="function"===typeof setTimeout?setTimeout:null,E="function"===typeof clearTimeout?clearTimeout:null,F="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=false;G(a);if(!A)if(null!==h(r))A=true,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}function J(a,b){A=false;B&&(B=false,E(L),L=-1);z=true;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if("function"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();"function"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=true;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=false}return w}finally{v=null,y=c,z=false}}var N=false,O=null,L=-1,P=5,Q=-1;function M(){return exports.unstable_now()-Q<P?false:true}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=true;try{b=O(true,a)}finally{b?S():(N=false,O=null)}}else N=false}var S;if("function"===typeof F)S=function(){F(R)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=true,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=true,I(J))};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<a?Math.floor(1e3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();"object"===typeof c&&null!==c?(c=c.delay,c="number"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=true,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=true,I(J)));return a};exports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}}})(scheduler_production_min);return scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){if(hasRequiredScheduler)return scheduler.exports;hasRequiredScheduler=1;{scheduler.exports=requireScheduler_production_min()}return scheduler.exports}var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var aa=requireReact(),ca=requireScheduler();function p(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+"Capture",b)}function ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}var ia=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){if(ja.call(ma,a))return true;if(ja.call(la,a))return false;if(ka.test(a))return ma[a]=true;la[a]=true;return false}function pa(a,b,c,d){if(null!==c&&0===c.type)return false;switch(typeof b){case"function":case"symbol":return true;case"boolean":if(d)return false;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return false}}function qa(a,b,c,d){if(null===b||"undefined"===typeof b||pa(a,b,c,d))return true;if(d)return false;if(null!==c)switch(c.type){case 3:return!b;case 4:return false===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return false}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new v(a,0,false,a,null,false,false)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,false,a[1],null,false,false)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new v(a,2,false,a.toLowerCase(),null,false,false)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new v(a,2,false,a,null,false,false)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new v(a,3,false,a.toLowerCase(),null,false,false)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new v(a,3,true,a,null,false,false)});["capture","download"].forEach(function(a){z[a]=new v(a,4,false,a,null,false,false)});["cols","rows","size","span"].forEach(function(a){z[a]=new v(a,6,false,a,null,false,false)});["rowSpan","start"].forEach(function(a){z[a]=new v(a,5,false,a.toLowerCase(),null,false,false)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,false,a,null,false,false)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,false,a,"http://www.w3.org/1999/xlink",false,false)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,false,a,"http://www.w3.org/XML/1998/namespace",false,false)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new v(a,1,false,a.toLowerCase(),null,false,false)});z.xlinkHref=new v("xlinkHref",1,false,"xlink:href","http://www.w3.org/1999/xlink",true,false);["src","href","action","formAction"].forEach(function(a){z[a]=new v(a,1,false,a.toLowerCase(),null,true,true)});function ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?false:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&true===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy");var Ia=Symbol.for("react.offscreen");var Ja=Symbol.iterator;function Ka(a){if(null===a||"object"!==typeof a)return null;a=Ja&&a[Ja]||a["@@iterator"];return"function"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error()}catch(c){var b=c.stack.trim().match(/\n( *(at )?)/);La=b&&b[1]||""}return"\n"+La+a}var Na=false;function Oa(a,b){if(!a||Na)return"";Na=true;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error()}catch(l){d=l}a()}}catch(l){if(l&&d&&"string"===typeof l.stack){for(var e=l.stack.split("\n"),f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k="\n"+e[g].replace(" at new "," at ");a.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=false,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,false),a;case 11:return a=Oa(a.type.render,false),a;case 1:return a=Oa(a.type,true),a;default:return""}}function Qa(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||b.name||"",a=""!==a?"ForwardRef("+a+")":"ForwardRef");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||"Memo";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}function Ra(a){var b=a.type;switch(a.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=b.render,a=a.displayName||a.name||"",b.displayName||(""!==a?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(b);case 8:return b===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Ua(a){var b=Ta(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:true,get:function(){return e.call(this)},set:function(a2){d=""+a2;f.call(this,a2)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a2){d=""+a2},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return false;var b=a._valueTracker;if(!b)return true;var c=b.getValue();var d="";a&&(d=Ta(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),true):false}function Xa(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,"checked",b,false)}function bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?cb(a,b.type,c):b.hasOwnProperty("defaultValue")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function db(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function cb(a,b,c){if("number"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}var eb=Array.isArray;function fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=true;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=true)}else{c=""+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=true;d&&(a[e].defaultSelected=true);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=true)}}function gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b="");c=b}a._wrapperState={initialValue:Sa(c)}}function ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?kb(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}var mb,nb=(function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a})(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{mb=mb||document.createElement("div");mb.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});function ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}var pb={animationIterationCount:true,aspectRatio:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,columns:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridArea:true,gridRow:true,gridRowEnd:true,gridRowSpan:true,gridRowStart:true,gridColumn:true,gridColumnEnd:true,gridColumnSpan:true,gridColumnStart:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(""+b).trim():b+"px"}function sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=rb(c,b[c],d);"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:true},{area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true});function ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if("object"!==typeof b.dangerouslySetInnerHTML||!("__html"in b.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=b.style&&"object"!==typeof b.style)throw Error(p(62))}}function vb(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return false;default:return true}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if("function"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=false;function Jb(a,b,c){if(Ib)return a(b,c);Ib=true;try{return Gb(a,b,c)}finally{if(Ib=false,null!==zb||null!==Ab)Hb(),Fb()}}function Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=false}if(a)return null;if(c&&"function"!==typeof c)throw Error(p(231,b,typeof c));return c}var Lb=false;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=true}});window.addEventListener("test",Mb,Mb);window.removeEventListener("test",Mb,Mb)}catch(a){Lb=false}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=false,Pb=null,Qb=false,Rb=null,Sb={onError:function(a){Ob=true;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=false;Pb=null;Nb.apply(Sb,arguments)}function Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=false;Pb=null}else throw Error(p(198));Qb||(Qb=true,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188))}function Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188))}if(c.return!==d.return)c=e,d=f;else{for(var g=false,h=e.child;h;){if(h===c){g=true;c=e;d=f;break}if(h===d){g=true;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=true;c=f;d=e;break}if(h===d){g=true;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189))}}if(c.alternate!==d)throw Error(p(190))}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&"function"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}function vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}function Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=false,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,b){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(b.pointerId)}}function Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}function Uc(a,b,c,d,e){switch(b){case"focusin":return Lc=Tc(Lc,a,b,c,d,e),true;case"dragenter":return Mc=Tc(Mc,a,b,c,d,e),true;case"mouseover":return Nc=Tc(Nc,a,b,c,d,e),true;case"pointerover":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return true;case"gotpointercapture":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),true}return false}function Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c){if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(null!==a.blockedOn)return false;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,false;b.shift()}return true}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=false;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}function ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=true,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function b(b2){return ad(b2,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=true;function ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;function Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e="value"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return true}function qd(){return false}function rd(a){function b(b2,d,e,f,g){this._reactName=b2;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b2=a[c],this[c]=b2?b2(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:false===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=true;var a2=this.nativeEvent;a2&&(a2.preventDefault?a2.preventDefault():"unknown"!==typeof a2.returnValue&&(a2.returnValue=false),this.isDefaultPrevented=pd)},stopPropagation:function(){var a2=this.nativeEvent;a2&&(a2.stopPropagation?a2.stopPropagation():"unknown"!==typeof a2.cancelBubble&&(a2.cancelBubble=true),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if("movementX"in a)return a.movementX;a!==yd&&(yd&&"mousemove"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:false}function zd(){return Pd}var Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=od(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return"keypress"===a.type?od(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?od(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=false;function ge(a,b){switch(a){case"keyup":return-1!==$d.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"focusout":return true;default:return false}}function he(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}var ie=false;function je(a,b){switch(a){case"compositionend":return he(b);case"keypress":if(32!==b.which)return null;fe=true;return ee;case"textInput":return a=b.data,a===ee&&fe?null:a;default:return null}}function ke(a,b){if(ie)return"compositionend"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=false,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return de&&"ko"!==b.locale?null:b.data;default:return null}}var le={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!le[a.type]:"textarea"===b?true:false}function ne(a,b,c,d){Eb(d);b=oe(b,"onChange");0<b.length&&(c=new td("onChange","change",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}function ve(a,b){if("change"===a)return b}var we=false;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;");ye="function"===typeof ze.oninput}xe=ye}else xe=false;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if("value"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}function Ce(a,b,c){"focusin"===a?(Ae(),pe=b,qe=c,pe.attachEvent("onpropertychange",Be)):"focusout"===a&&Ae()}function De(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return te(qe)}function Ee(a,b){if("click"===a)return te(b)}function Fe(a,b){if("input"===a||"change"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He="function"===typeof Object.is?Object.is:Ge;function Ie(a,b){if(He(a,b))return true;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return false;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return false;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return false}return true}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?true:a&&3===a.nodeType?false:b&&3===b.nodeType?Le(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):false:false}function Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c="string"===typeof b.contentWindow.location.href}catch(d){c=false}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c)){if(b=d.start,a=d.end,void 0===a&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,d);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=false;function Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(b=new td("onSelect","select",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}function Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,b,c){var d=a.type||"unknown-event";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}function se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=false,Rb=null,a}function D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+"__bubble";c.has(d)||(pf(b,a,2,false),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=true;da.forEach(function(b2){"selectionchange"!==b2&&(mf.has(b2)||qf(b2,false,a),qf(b2,true,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=true,qf("selectionchange",false,b))}}function pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||"touchstart"!==b&&"touchmove"!==b&&"wheel"!==b||(e=true);d?void 0!==e?a.addEventListener(b,c,{capture:true,passive:e}):a.addEventListener(b,c,true):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,false)}function hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k){if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return}g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d2=f,e2=xb(c),g2=[];a:{var h2=df.get(a);if(void 0!==h2){var k2=td,n=a;switch(a){case"keypress":if(0===od(c))break a;case"keydown":case"keyup":k2=Rd;break;case"focusin":n="focus";k2=Fd;break;case"focusout":n="blur";k2=Fd;break;case"beforeblur":case"afterblur":k2=Fd;break;case"click":if(2===c.button)break a;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k2=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k2=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k2=Vd;break;case $e:case af:case bf:k2=Hd;break;case cf:k2=Xd;break;case"scroll":k2=vd;break;case"wheel":k2=Zd;break;case"copy":case"cut":case"paste":k2=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k2=Td}var t=0!==(b&4),J=!t&&"scroll"===a,x=t?null!==h2?h2+"Capture":null:h2;t=[];for(var w=d2,u;null!==w;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h2=new k2(h2,n,null,c,e2),g2.push({event:h2,listeners:t}))}}if(0===(b&7)){a:{h2="mouseover"===a||"pointerover"===a;k2="mouseout"===a||"pointerout"===a;if(h2&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k2||h2){h2=e2.window===e2?e2:(h2=e2.ownerDocument)?h2.defaultView||h2.parentWindow:window;if(k2){if(n=c.relatedTarget||c.toElement,k2=d2,n=n?Wc(n):null,null!==n&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k2=null,n=d2;if(k2!==n){t=Bd;F="onMouseLeave";x="onMouseEnter";w="mouse";if("pointerout"===a||"pointerover"===a)t=Td,F="onPointerLeave",x="onPointerEnter",w="pointer";J=null==k2?h2:ue(k2);u=null==n?h2:ue(n);h2=new t(F,w+"leave",k2,c,e2);h2.target=J;h2.relatedTarget=u;F=null;Wc(e2)===d2&&(t=new t(x,w+"enter",n,c,e2),t.target=u,t.relatedTarget=J,F=t);J=F;if(k2&&n)b:{t=k2;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=vf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k2&&wf(g2,h2,k2,t,false);null!==n&&null!==J&&wf(g2,J,n,t,true)}}}a:{h2=d2?ue(d2):window;k2=h2.nodeName&&h2.nodeName.toLowerCase();if("select"===k2||"input"===k2&&"file"===h2.type)var na=ve;else if(me(h2))if(we)na=Fe;else{na=De;var xa=Ce}else(k2=h2.nodeName)&&"input"===k2.toLowerCase()&&("checkbox"===h2.type||"radio"===h2.type)&&(na=Ee);if(na&&(na=na(a,d2))){ne(g2,na,c,e2);break a}xa&&xa(a,h2,d2);"focusout"===a&&(xa=h2._wrapperState)&&xa.controlled&&"number"===h2.type&&cb(h2,"number",h2.value)}xa=d2?ue(d2):window;switch(a){case"focusin":if(me(xa)||"true"===xa.contentEditable)Qe=xa,Re=d2,Se=null;break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=true;break;case"contextmenu":case"mouseup":case"dragend":Te=false;Ue(g2,c,e2);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(g2,c,e2)}var $a;if(ae)b:{switch(a){case"compositionstart":var ba="onCompositionStart";break b;case"compositionend":ba="onCompositionEnd";break b;case"compositionupdate":ba="onCompositionUpdate";break b}ba=void 0}else ie?ge(a,c)&&(ba="onCompositionEnd"):"keydown"===a&&229===c.keyCode&&(ba="onCompositionStart");ba&&(de&&"ko"!==c.locale&&(ie||"onCompositionStart"!==ba?"onCompositionEnd"===ba&&ie&&($a=nd()):(kd=e2,ld="value"in kd?kd.value:kd.textContent,ie=true)),xa=oe(d2,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e2),g2.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d2=oe(d2,"onBeforeInput"),0<d2.length&&(e2=new Ld("onBeforeInput","beforeinput",null,c,e2),g2.push({event:e2,listeners:d2}),e2.data=$a)}se(g2,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+"Capture",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}function wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return("string"===typeof a?a:""+a).replace(xf,"\n").replace(yf,"")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,b){return"textarea"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var Ff="function"===typeof setTimeout?setTimeout:void 0,Gf="function"===typeof clearTimeout?clearTimeout:void 0,Hf="function"===typeof Promise?Promise:void 0,Jf="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,"/$"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else"$"!==c&&"$?"!==c&&"$!"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if("$"===b||"$!"===b||"$?"===b)break;if("/$"===b)return null}}return a}function Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("$"===c||"$!"===c||"$?"===c){if(0===b)return a;b--}else"/$"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(false),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||"Unknown",e));return A({},c,d)}function cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return true}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=false,gg=false;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=true;hg(a)}function jg(){if(!gg&&null!==eg){gg=true;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(true);while(null!==d)}eg=null;fg=false}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e}finally{C=b,gg=false}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}function ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=false,zg=null;function Ag(a,b){var c=Bg(5,null,null,0);c.elementType="DELETED";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}function Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),true):false;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,true):false;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=null,true):false;default:return false}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=false,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=false;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}function Gg(a){if(a!==xg)return false;if(!I)return Fg(a),I=true,false;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b="head"!==b&&"body"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if("/$"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else"$"!==c&&"$!"!==c&&"$?"!==c||b++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return true}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=false}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}function Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=true),a.firstContext=null)}function Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}function Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=false;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}function fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=b;c.lastBaseUpdate=b}function gh(a,b,c,d){var e=a.updateQueue;$g=false;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if("function"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r="function"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=true}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;h=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}function ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if("function"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=new aa.Component().refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:false},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=lh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):true}function ph(a,b,c){var d=false,e=Vf;var f=b.contextType;"object"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}function qh(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}function rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;"object"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;"function"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);"function"===typeof e.componentDidMount&&(a.flags|=4194308)}function sh(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a2){var b2=e.refs;b2===jh&&(b2=e.refs={});null===a2?delete b2[f]:b2[f]=a2};b._stringRef=f;return b}if("string"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a))}return a}function th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,"[object Object]"===a?"object with keys {"+Object.keys(b).join(", ")+"}":a))}function uh(a){var b=a._init;return b(a._payload)}function vh(a){function b(b2,c2){if(a){var d2=b2.deletions;null===d2?(b2.deletions=[c2],b2.flags|=16):d2.push(c2)}}function c(c2,d2){if(!a)return null;for(;null!==d2;)b(c2,d2),d2=d2.sibling;return null}function d(a2,b2){for(a2=new Map;null!==b2;)null!==b2.key?a2.set(b2.key,b2):a2.set(b2.index,b2),b2=b2.sibling;return a2}function e(a2,b2){a2=wh(a2,b2);a2.index=0;a2.sibling=null;return a2}function f(b2,c2,d2){b2.index=d2;if(!a)return b2.flags|=1048576,c2;d2=b2.alternate;if(null!==d2)return d2=d2.index,d2<c2?(b2.flags|=2,c2):d2;b2.flags|=2;return c2}function g(b2){a&&null===b2.alternate&&(b2.flags|=2);return b2}function h(a2,b2,c2,d2){if(null===b2||6!==b2.tag)return b2=xh(c2,a2.mode,d2),b2.return=a2,b2;b2=e(b2,c2);b2.return=a2;return b2}function k(a2,b2,c2,d2){var f2=c2.type;if(f2===ya)return m(a2,b2,c2.props.children,d2,c2.key);if(null!==b2&&(b2.elementType===f2||"object"===typeof f2&&null!==f2&&f2.$$typeof===Ha&&uh(f2)===b2.type))return d2=e(b2,c2.props),d2.ref=sh(a2,b2,c2),d2.return=a2,d2;d2=yh(c2.type,c2.key,c2.props,null,a2.mode,d2);d2.ref=sh(a2,b2,c2);d2.return=a2;return d2}function l(a2,b2,c2,d2){if(null===b2||4!==b2.tag||b2.stateNode.containerInfo!==c2.containerInfo||b2.stateNode.implementation!==c2.implementation)return b2=zh(c2,a2.mode,d2),b2.return=a2,b2;b2=e(b2,c2.children||[]);b2.return=a2;return b2}function m(a2,b2,c2,d2,f2){if(null===b2||7!==b2.tag)return b2=Ah(c2,a2.mode,d2,f2),b2.return=a2,b2;b2=e(b2,c2);b2.return=a2;return b2}function q(a2,b2,c2){if("string"===typeof b2&&""!==b2||"number"===typeof b2)return b2=xh(""+b2,a2.mode,c2),b2.return=a2,b2;if("object"===typeof b2&&null!==b2){switch(b2.$$typeof){case va:return c2=yh(b2.type,b2.key,b2.props,null,a2.mode,c2),c2.ref=sh(a2,null,b2),c2.return=a2,c2;case wa:return b2=zh(b2,a2.mode,c2),b2.return=a2,b2;case Ha:var d2=b2._init;return q(a2,d2(b2._payload),c2)}if(eb(b2)||Ka(b2))return b2=Ah(b2,a2.mode,c2,null),b2.return=a2,b2;th(a2,b2)}return null}function r(a2,b2,c2,d2){var e2=null!==b2?b2.key:null;if("string"===typeof c2&&""!==c2||"number"===typeof c2)return null!==e2?null:h(a2,b2,""+c2,d2);if("object"===typeof c2&&null!==c2){switch(c2.$$typeof){case va:return c2.key===e2?k(a2,b2,c2,d2):null;case wa:return c2.key===e2?l(a2,b2,c2,d2):null;case Ha:return e2=c2._init,r(a2,b2,e2(c2._payload),d2)}if(eb(c2)||Ka(c2))return null!==e2?null:m(a2,b2,c2,d2,null);th(a2,c2)}return null}function y(a2,b2,c2,d2,e2){if("string"===typeof d2&&""!==d2||"number"===typeof d2)return a2=a2.get(c2)||null,h(b2,a2,""+d2,e2);if("object"===typeof d2&&null!==d2){switch(d2.$$typeof){case va:return a2=a2.get(null===d2.key?c2:d2.key)||null,k(b2,a2,d2,e2);case wa:return a2=a2.get(null===d2.key?c2:d2.key)||null,l(b2,a2,d2,e2);case Ha:var f2=d2._init;return y(a2,b2,c2,f2(d2._payload),e2)}if(eb(d2)||Ka(d2))return a2=a2.get(c2)||null,m(b2,a2,d2,e2,null);th(b2,d2)}return null}function n(e2,g2,h2,k2){for(var l2=null,m2=null,u=g2,w=g2=0,x=null;null!==u&&w<h2.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n2=r(e2,u,h2[w],k2);if(null===n2){null===u&&(u=x);break}a&&u&&null===n2.alternate&&b(e2,u);g2=f(n2,g2,w);null===m2?l2=n2:m2.sibling=n2;m2=n2;u=x}if(w===h2.length)return c(e2,u),I&&tg(e2,w),l2;if(null===u){for(;w<h2.length;w++)u=q(e2,h2[w],k2),null!==u&&(g2=f(u,g2,w),null===m2?l2=u:m2.sibling=u,m2=u);I&&tg(e2,w);return l2}for(u=d(e2,u);w<h2.length;w++)x=y(u,e2,w,h2[w],k2),null!==x&&(a&&null!==x.alternate&&u.delete(null===x.key?w:x.key),g2=f(x,g2,w),null===m2?l2=x:m2.sibling=x,m2=x);a&&u.forEach(function(a2){return b(e2,a2)});I&&tg(e2,w);return l2}function t(e2,g2,h2,k2){var l2=Ka(h2);if("function"!==typeof l2)throw Error(p(150));h2=l2.call(h2);if(null==h2)throw Error(p(151));for(var u=l2=null,m2=g2,w=g2=0,x=null,n2=h2.next();null!==m2&&!n2.done;w++,n2=h2.next()){m2.index>w?(x=m2,m2=null):x=m2.sibling;var t2=r(e2,m2,n2.value,k2);if(null===t2){null===m2&&(m2=x);break}a&&m2&&null===t2.alternate&&b(e2,m2);g2=f(t2,g2,w);null===u?l2=t2:u.sibling=t2;u=t2;m2=x}if(n2.done)return c(e2,m2),I&&tg(e2,w),l2;if(null===m2){for(;!n2.done;w++,n2=h2.next())n2=q(e2,n2.value,k2),null!==n2&&(g2=f(n2,g2,w),null===u?l2=n2:u.sibling=n2,u=n2);I&&tg(e2,w);return l2}for(m2=d(e2,m2);!n2.done;w++,n2=h2.next())n2=y(m2,e2,w,n2.value,k2),null!==n2&&(a&&null!==n2.alternate&&m2.delete(null===n2.key?w:n2.key),g2=f(n2,g2,w),null===u?l2=n2:u.sibling=n2,u=n2);a&&m2.forEach(function(a2){return b(e2,a2)});I&&tg(e2,w);return l2}function J(a2,d2,f2,h2){"object"===typeof f2&&null!==f2&&f2.type===ya&&null===f2.key&&(f2=f2.props.children);if("object"===typeof f2&&null!==f2){switch(f2.$$typeof){case va:a:{for(var k2=f2.key,l2=d2;null!==l2;){if(l2.key===k2){k2=f2.type;if(k2===ya){if(7===l2.tag){c(a2,l2.sibling);d2=e(l2,f2.props.children);d2.return=a2;a2=d2;break a}}else if(l2.elementType===k2||"object"===typeof k2&&null!==k2&&k2.$$typeof===Ha&&uh(k2)===l2.type){c(a2,l2.sibling);d2=e(l2,f2.props);d2.ref=sh(a2,l2,f2);d2.return=a2;a2=d2;break a}c(a2,l2);break}else b(a2,l2);l2=l2.sibling}f2.type===ya?(d2=Ah(f2.props.children,a2.mode,h2,f2.key),d2.return=a2,a2=d2):(h2=yh(f2.type,f2.key,f2.props,null,a2.mode,h2),h2.ref=sh(a2,d2,f2),h2.return=a2,a2=h2)}return g(a2);case wa:a:{for(l2=f2.key;null!==d2;){if(d2.key===l2)if(4===d2.tag&&d2.stateNode.containerInfo===f2.containerInfo&&d2.stateNode.implementation===f2.implementation){c(a2,d2.sibling);d2=e(d2,f2.children||[]);d2.return=a2;a2=d2;break a}else{c(a2,d2);break}else b(a2,d2);d2=d2.sibling}d2=zh(f2,a2.mode,h2);d2.return=a2;a2=d2}return g(a2);case Ha:return l2=f2._init,J(a2,d2,l2(f2._payload),h2)}if(eb(f2))return n(a2,d2,f2,h2);if(Ka(f2))return t(a2,d2,f2,h2);th(a2,f2)}return"string"===typeof f2&&""!==f2||"number"===typeof f2?(f2=""+f2,null!==d2&&6===d2.tag?(c(a2,d2.sibling),d2=e(d2,f2),d2.return=a2,a2=d2):(c(a2,d2),d2=xh(f2,a2.mode,h2),d2.return=a2,a2=d2),g(a2)):c(a2,d2)}return J}var Bh=vh(true),Ch=vh(false),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}function Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||"$?"===c.data||"$!"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=false,Th=false,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(a,b){if(null===b)return false;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return false;return true}function Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=false;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=false;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}function ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}function ei(a,b){return"function"===typeof b?b(a):b}function fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=true);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}function gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=true);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}function ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=true);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}function mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return true}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}function qi(a){var b=ci();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}function li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}function ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}function yi(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=false,Ug=true),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=true);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(true);var d=Qh.transition;Qh.transition={};try{a(false),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}function Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:false,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}function ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:false,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=true;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}function Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=true;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:false},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=ci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(false),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,f,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=":"+b+"R"+c;c=Uh++;0<c&&(b+="H"+c.toString(32));b+=":"}else c=Vh++,b=":"+b+"r"+c.toString(32)+":";return a.memoizedState=b},unstable_isNewReconciler:false},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:false},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===O?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:false};function Ki(a,b){try{var c="",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c})}}var Ni="function"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=true,Qi=d);Mi(a,b)};return c}function Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);"function"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c2=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c2?c2:""})});return c}function Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?true:false:true;if(b)return a;a=a.return}while(null!==a);return null}function Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=false;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}function Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}function aj(a,b,c,d,e){if(null===a){var f=c.type;if("function"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}function cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=false,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=true);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}function ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}function ij(a,b,c,d,e){if(Zf(c)){var f=true;cg(b)}else f=false;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=true;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate;q||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&qh(b,g,d,l);$g=false;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?("function"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.flags|=4194308)):("function"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"===typeof g.componentDidMount&&(b.flags|=4194308),d=false)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;"object"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m="function"===typeof y||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=false;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?("function"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||false)?(m||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,n,k)),"function"===typeof g.componentDidUpdate&&(b.flags|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=false)}return kj(a,b,c,d,f,e)}function kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,false),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,true);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,false);Ih(a,b.containerInfo)}function mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,b,c){var d=b.pendingProps,e=M.current,f=false,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?false:0!==(e&2));if(h)f=true,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:"$!"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:"hidden",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=g):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:"hidden",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=b;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:"visible",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}function rj(a,b){b=qj({mode:"visible",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}function sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:"visible",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if("$!"===e.data){d=e.nextSibling&&e.nextSibling.dataset;if(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if("$?"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=true;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}function xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}function yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=null;else switch(e){case"forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,false,e,c,f);break;case"backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,true,c,null,f);break;case"together":xj(b,false,null,null,void 0);break;default:b.memoizedState=null}return b.child}function jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}function zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;Aj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};Cj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case"input":e=Ya(a,e);d=Ya(a,d);f=[];break;case"select":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case"textarea":e=gb(a,e);d=gb(a,d);f=[];break;default:"function"!==typeof e.onClick&&"function"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if("style"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if("style"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]="");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else"dangerouslySetInnerHTML"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):"children"===l?"string"!==typeof k&&"number"!==typeof k||(f=f||[]).push(l,""+k):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(ea.hasOwnProperty(l)?(null!=k&&"onScroll"===l&&D("scroll",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push("style",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};function Ej(a,b){if(!I)switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}function Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);c=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case"dialog":D("cancel",d);D("close",d);break;case"iframe":case"object":case"embed":D("load",d);break;case"video":case"audio":for(e=0;e<lf.length;e++)D(lf[e],d);break;case"source":D("error",d);break;case"img":case"image":case"link":D("error",d);D("load",d);break;case"details":D("toggle",d);break;case"input":Za(d,f);D("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!f.multiple};D("invalid",d);break;case"textarea":hb(d,f),D("invalid",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];"children"===g?"string"===typeof h?d.textContent!==h&&(true!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=["children",h]):"number"===typeof h&&d.textContent!==""+h&&(true!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=["children",""+h]):ea.hasOwnProperty(g)&&null!=h&&"onScroll"===g&&D("scroll",d)}switch(c){case"input":Va(d);db(d,f,true);break;case"textarea":Va(d);jb(d);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=kb(c));"http://www.w3.org/1999/xhtml"===a?"script"===c?(a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):"string"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),"select"===c&&(g=a,d.multiple?g.multiple=true:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,false,false);b.stateNode=a;a:{g=vb(c,d);switch(c){case"dialog":D("cancel",a);D("close",a);e=d;break;case"iframe":case"object":case"embed":D("load",a);e=d;break;case"video":case"audio":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case"source":D("error",a);e=d;break;case"img":case"image":case"link":D("error",a);D("load",a);e=d;break;case"details":D("toggle",a);e=d;break;case"input":Za(a,d);e=Ya(a,d);D("invalid",a);break;case"option":e=d;break;case"select":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D("invalid",a);break;case"textarea":hb(a,d);e=gb(a,d);D("invalid",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];"style"===f?sb(a,k):"dangerouslySetInnerHTML"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):"children"===f?"string"===typeof k?("textarea"!==c||""!==k)&&ob(a,k):"number"===typeof k&&ob(a,""+k):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(ea.hasOwnProperty(f)?null!=k&&"onScroll"===f&&D("scroll",a):null!=k&&ta(a,f,k,g))}switch(c){case"input":Va(a);db(a,d,false);break;case"textarea":Va(a);jb(a);break;case"option":null!=d.value&&a.setAttribute("value",""+Sa(d.value));break;case"select":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,false):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,true);break;default:"function"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break a;case"img":d=true;break a;default:d=false}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if("string"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c){if(a=xg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:true!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=false;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===a){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=false}else null!==zg&&(Gj(zg),zg=null),f=true;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),Bj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,false);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,false);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=a.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=true,Ej(f,false),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=true,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,true),null===f.tail&&"hidden"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=true,Ej(f,false),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=b,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag))}function Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=false,U=false,Lj="function"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if("function"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=false;function Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=q.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=false;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;case 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent="":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=false;return n}function Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}"function"===typeof b?b(a):b.current=a}}function Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}function Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}function Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=false;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}function ak(a,b,c){if(lc&&"function"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=true;Zj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,"function"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==c.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b2){var d=ck.bind(null,a,b2);c.has(b2)||(c.add(b2),b2.then(d,d))})}}function dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=false;break a;case 3:X=h.stateNode.containerInfo;Yj=true;break a;case 4:X=h.stateNode.containerInfo;Yj=true;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=false;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}function ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,"")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;a.updateQueue=null;if(null!==k)try{"input"===h&&"radio"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];"style"===m?sb(e,q):"dangerouslySetInnerHTML"===m?nb(e,q):"children"===m?ob(e,q):ta(e,m,q,l)}switch(h){case"input":bb(e,f);break;case"textarea":ib(e,f);break;case"select":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,false):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,f.defaultValue,true):fb(e,!!f.multiple,f.multiple?[]:"",false))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||null!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if("function"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=b.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,"function"===typeof f.setProperty?f.setProperty("display","none","important"):f.display="none"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty("display")?k.display:null,h.style.display=rb("display",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?"":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,a),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160))}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,""),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161))}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a)}function jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f),f=f.sibling;V=e;Kj=h;U=l}lk(a)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a)}}function lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=b.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&c.focus();break;case"img":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if("function"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=false,Qi=null,Si=null,wk=false,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}function lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}function Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}function Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);else{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===d)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329))}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}function Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return false}catch(g){return false}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return true;b=b.return}b.sibling.return=b.return;b=b.sibling}}return true}function Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}function Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}function Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}function Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=false}Rh=0;P=O=N=null;Th=false;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&"object"===typeof k&&"function"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,m.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;b&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&("function"===typeof w.getDerivedStateFromError||null!==u&&"function"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}function uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}function Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}function Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=true,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;var g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=false,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=false,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}function Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=false;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===l){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==u)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&"function"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=true}return d}finally{C=c,pk.transition=b}}return false}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}function W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if("function"===typeof b.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}function Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}function ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314))}null!==d&&d.delete(b);Zk(a,c)}var Wk;Wk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=true;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=false,zj(a,b,c);Ug=0!==(a.flags&131072)?true:false}else Ug=false,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;"object"===typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Zf(d)?(f=true,cg(b)):f=false,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,true,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,d,""))}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:false,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=f,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=true,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),hj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;g=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,c,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),b.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=true,cg(b)):a=false,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,true,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag))};function Gk(a,b){return ac(a,b)}function al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}function $k(a){if("function"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}function wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}function yh(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)bj(a)&&(g=1);else if("string"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;break a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,""))}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:false};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}function zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=null}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,true===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171))}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}function fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,true,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}function hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll="function"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function ql(){}function rl(a,b,c,d,e){if(e){if("function"===typeof d){var f=d;d=function(){var a2=hl(g);f.call(a2)}}var g=fl(b,d,a,0,null,false,false,"",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if("function"===typeof d){var h=d;d=function(){var a2=hl(k);h.call(a2)}}var k=cl(a,0,false,null,null,false,false,"",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}function sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if("function"===typeof e){var h=e;e=function(){var a2=hl(g);h.call(a2)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b2=Zg(a,1);if(null!==b2){var c2=L();mh(b2,a,1,c2)}}),jl(a,1)}};Fc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};yb=function(a,b,c){switch(b){case"input":bb(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case"textarea":ib(a,c);break;case"select":b=c.value,null!=b&&fb(a,!!c.multiple,b,false)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:false,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"};var vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};reactDom_production_min.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=false,d="",e=ll;null!==b&&void 0!==b&&(true===b.unstable_strictMode&&(c=true),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,false,null,null,c,false,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};reactDom_production_min.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(",");throw Error(p(268,a))}a=Zb(b);a=null===a?null:a.stateNode;return a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,true,c)};reactDom_production_min.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=false,f="",g=ll;null!==c&&void 0!==c&&(true===c.unstable_strictMode&&(e=true),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,false,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,e);return new nl(b)};reactDom_production_min.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,false,c)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,false,function(){a._reactRootContainer=null;a[uf]=null})}),true):false};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,false,d)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";return reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function checkDCE(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}{checkDCE();reactDom.exports=requireReactDom_production_min()}return reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var m=requireReactDom();{client.createRoot=m.createRoot;client.hydrateRoot=m.hydrateRoot}return client}var clientExports=requireClient();var reactExports=requireReact();class sharedVars_sharedBetweenWebAndWebview{}sharedVars_sharedBetweenWebAndWebview.siblingNodes=[];sharedVars_sharedBetweenWebAndWebview.currentSiblingIndex=0;sharedVars_sharedBetweenWebAndWebview.disableUserInteraction=false;sharedVars_sharedBetweenWebAndWebview.disableUserInteraction_zindex0=false;sharedVars_sharedBetweenWebAndWebview.releaseFunc=null;sharedVars_sharedBetweenWebAndWebview.tmpDelKeydownEvent=null;sharedVars_sharedBetweenWebAndWebview.visContainer=null;sharedVars_sharedBetweenWebAndWebview.visNet=null;sharedVars_sharedBetweenWebAndWebview.visNetIsOk=false;sharedVars_sharedBetweenWebAndWebview.textOutVisShapes=new Set(["dot","image","square","rectangle"]);sharedVars_sharedBetweenWebAndWebview.waitingForUserToSelectOnANodeSoWeCanConnectEdges=false;class sharedVarsWebview_default{}sharedVarsWebview_default.pendingRequests=new Map;var __async$d=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function ESpeakNG(moduleArg){return __async$d(this,null,function*(){var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});["_main","_memory","_fflush","___indirect_function_table","___emscripten_embedded_file_data","onRuntimeInitialized"].forEach(prop=>{if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:()=>abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=typeof window=="object";var ENVIRONMENT_IS_WORKER=typeof importScripts=="function";var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";var ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)")}var scriptDirectory="";var read_,readAsync;if(ENVIRONMENT_IS_NODE){throw"removed for the sake of bundling. use bks if necessary."}else if(ENVIRONMENT_IS_SHELL){throw"removed for the sake of bundling. use bks if necessary."}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1)}else{scriptDirectory=""}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}}else{throw new Error("environment detection error")}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");if(typeof WebAssembly!="object"){abort("no native wasm support detected")}var wasmMemory;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""))}}var HEAP8,HEAPU8,HEAP16,HEAP32,HEAPU32;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=new Uint16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=new Float32Array(b);Module["HEAPF64"]=new Float64Array(b)}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=void 0&&Int32Array.prototype.set!=void 0,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function writeStackCookie(){var max=_emscripten_stack_get_end();assert((max&3)==0);if(max==0){max+=4}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();if(max==0){max+=4}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`)}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();FS.ignorePermissions=false;callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie();callRuntimeCallbacks(__ATMAIN__)}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function getUniqueRunDependency(id){var orig=id;while(1){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(()=>{if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:")}err(`dependency: ${dep}`)}if(shown){err("(end of list)")}},1e4)}}else{err("warning: run dependency added without ID")}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id]}else{err("warning: run dependency removed without ID")}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix="data:application/octet-stream;base64,";var isDataURI=filename=>filename.startsWith(dataURIPrefix);var isFileURI=filename=>filename.startsWith("file://");function createExportWrapper(name){return function(){assert(runtimeInitialized,`native function \`${name}\` called before runtime initialization`);var f=wasmExports[name];assert(f,`exported native function \`${name}\` not found`);return f.apply(null,arguments)}}const wasmBinaryFile=moduleArg.espeakWasmPath;function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(binaryFile)){return fetch(binaryFile,{credentials:"same-origin"}).then(response=>{if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'"}return response["arrayBuffer"]()}).catch(()=>getBinarySync(binaryFile))}else if(readAsync){return new Promise((resolve,reject)=>{readAsync(binaryFile,response=>resolve(new Uint8Array(response)),reject)})}}return Promise.resolve().then(()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>{return WebAssembly.instantiate(binary,imports)}).then(instance=>{return instance}).then(receiver,reason=>{err(`failed to asynchronously prepare wasm: ${reason}`);if(isFileURI(wasmBinaryFile)){err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`)}abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"){let fetched=args.fetcherFn?args.fetcherFn({url:binaryFile}):fetch(binaryFile);return fetched.then(response=>{var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback)})})}return instantiateArrayBuffer(binaryFile,imports,callback)}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports["memory"];assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"])}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){err(`Module.instantiateWasm callback failed with error: ${e}`);readyPromiseReject(e)}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult).catch(readyPromiseReject);return{}}var tempDouble;var tempI64;function legacyModuleProp(prop,newName,incomming=true){if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get(){let extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort(`\`Module.${prop}\` has been replaced by \`${newName}\``+extra)}})}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort(`\`Module.${prop}\` was supplied but \`${prop}\` not included in INCOMING_MODULE_JS_API`)}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency"}function missingGlobal(sym,msg){if(typeof window!=="undefined"){Object.defineProperty(window,sym,{configurable:true,get(){warnOnce(`\`${sym}\` is not longer defined by emscripten. ${msg}`);return void 0}})}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");missingGlobal("asm","Please use wasmExports instead");function missingLibrarySymbol(sym){if(typeof window!=="undefined"&&!Object.getOwnPropertyDescriptor(window,sym)){Object.defineProperty(window,sym,{configurable:true,get(){var msg=`\`${sym}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`;var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym}msg+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${librarySymbol}')`;if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}warnOnce(msg);return void 0}})}unexportedRuntimeSymbol(sym)}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get(){var msg=`'${sym}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"}abort(msg)}})}}function ExitStatus(status){this.name="ExitStatus";this.message=`Program terminated with exit(${status})`;this.status=status}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};Module["noExitRuntime"]||true;var ptrToString=ptr=>{assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0")};var warnOnce=text=>{if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;if(ENVIRONMENT_IS_NODE)text="warning: "+text;err(text)}};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;var UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>{assert(typeof ptr=="number",`UTF8ToString expects a number (got ${typeof ptr})`);return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""};var ___assert_fail=(condition,filename,line,func)=>{abort(`Assertion failed: ${UTF8ToString(condition)}, at: `+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])};var setErrNo=value=>{HEAP32[___errno_location()>>2]=value;return value};var PATH={isAbs:path=>path.charAt(0)==="/",splitPath:filename=>{var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:(parts,allowAboveRoot)=>{var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:path=>{var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:path=>{if(path==="/")return"/";path=PATH.normalize(path);path=path.replace(/\/$/,"");var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},join:function(){var paths=Array.prototype.slice.call(arguments);return PATH.normalize(paths.join("/"))},join2:(l,r)=>PATH.normalize(l+"/"+r)};var initRandomFill=()=>{if(typeof crypto=="object"&&typeof crypto["getRandomValues"]=="function"){return view=>crypto.getRandomValues(view)}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");var randomFillSync=crypto_module["randomFillSync"];if(randomFillSync){return view=>crypto_module["randomFillSync"](view)}var randomBytes=crypto_module["randomBytes"];return view=>(view.set(randomBytes(view.byteLength)),view)}catch(e){}}abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")};var randomFill=view=>{return(randomFill=initRandomFill())(view)};var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=PATH.isAbs(path)}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:(from,to)=>{from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length2=Math.min(fromParts.length,toParts.length);var samePartsLength=length2;for(var i=0;i<length2;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var FS_stdin_getChar_buffer=[];var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{assert(typeof str==="string",`stringToUTF8Array expects a string (got ${typeof str})`);if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};function intArrayFromString(stringy,dontAddNull,length2){var len=lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);u8array.length=numBytesWritten;return u8array}var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc(BUFSIZE);var bytesRead=0;var fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf)}catch(e){if(e.toString().includes("EOF"))bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}FS_stdin_getChar_buffer=intArrayFromString(result)}return FS_stdin_getChar_buffer.shift()};var TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length2,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length2;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===void 0&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===void 0)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write(stream,buffer,offset,length2,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length2;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length2){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};var mmapAlloc=size=>{abort("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")};var MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node;parent.timestamp=node.timestamp}return node},getFileDataAsTypedArray(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr(node,attr){if(attr.mode!==void 0){node.mode=attr.mode}if(attr.timestamp!==void 0){node.timestamp=attr.timestamp}if(attr.size!==void 0){MEMFS.resizeFileStorage(node,attr.size)}},lookup(parent,name){throw FS.genericErrors[44]},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}}delete old_node.parent.contents[old_node.name];old_node.parent.timestamp=Date.now();old_node.name=new_name;new_dir.contents[new_name]=old_node;new_dir.timestamp=old_node.parent.timestamp;old_node.parent=new_dir},unlink(parent,name){delete parent.contents[name];parent.timestamp=Date.now()},rmdir(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.timestamp=Date.now()},readdir(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read(stream,buffer,offset,length2,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length2);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write(stream,buffer,offset,length2,position,canOwn){assert(!(buffer instanceof ArrayBuffer));if(!length2)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){assert(position===0,"canOwn must imply no weird position inside the file");node.contents=buffer.subarray(offset,offset+length2);node.usedBytes=length2;return length2}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length2);node.usedBytes=length2;return length2}else if(position+length2<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length2),position);return length2}}MEMFS.expandFileStorage(node,position+length2);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length2),position)}else{for(var i=0;i<length2;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length2);return length2},llseek(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},allocate(stream,offset,length2){MEMFS.expandFileStorage(stream.node,offset+length2);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length2)},mmap(stream,length2,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents.buffer===HEAP8.buffer){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length2<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length2)}else{contents=Array.prototype.slice.call(contents,position,position+length2)}}allocated=true;ptr=mmapAlloc();if(!ptr){throw new FS.ErrnoError(48)}HEAP8.set(contents,ptr)}return{ptr,allocated}},msync(stream,buffer,offset,length2,mmapFlags){MEMFS.stream_ops.write(stream,buffer,0,length2,offset,false);return 0}}};var asyncLoad=(url,onload,onerror,noRunDep)=>{var dep=getUniqueRunDependency(`al ${url}`);readAsync(url,arrayBuffer=>{assert(arrayBuffer,`Loading data file "${url}" failed (no arrayBuffer).`);onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},event=>{if(onerror){onerror()}else{throw`Loading data file "${url}" failed.`}});if(dep)addRunDependency(dep)};var FS_createDataFile=(parent,name,fileData,canRead,canWrite,canOwn)=>{FS.createDataFile(parent,name,fileData,canRead,canWrite,canOwn)};var preloadPlugins=Module["preloadPlugins"]||[];var FS_handledByPreloadPlugin=(byteArray,fullname,finish,onerror)=>{if(typeof Browser!="undefined")Browser.init();var handled=false;preloadPlugins.forEach(plugin=>{if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,onerror);handled=true}});return handled};var FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency(`cp ${fullname}`);function processData(byteArray){function finish(byteArray2){if(preFinish)preFinish();if(!dontCreateFile){FS_createDataFile(parent,name,byteArray2,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}if(FS_handledByPreloadPlugin(byteArray,fullname,finish,()=>{if(onerror)onerror();removeRunDependency(dep)})){return}finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){asyncLoad(url,byteArray=>processData(byteArray),onerror)}else{processData(url)}};var FS_modeStringToFlags=str=>{var flagModes={"r":0,"r+":2,"w":512|64|1,"w+":512|64|2,"a":1024|64|1,"a+":1024|64|2};var flags=flagModes[str];if(typeof flags=="undefined"){throw new Error(`Unknown file open mode: ${str}`)}return flags};var FS_getMode=(canRead,canWrite)=>{var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode};var ERRNO_MESSAGES={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};var ERRNO_CODES={"EPERM":63,"ENOENT":44,"ESRCH":71,"EINTR":27,"EIO":29,"ENXIO":60,"E2BIG":1,"ENOEXEC":45,"EBADF":8,"ECHILD":12,"EAGAIN":6,"EWOULDBLOCK":6,"ENOMEM":48,"EACCES":2,"EFAULT":21,"ENOTBLK":105,"EBUSY":10,"EEXIST":20,"EXDEV":75,"ENODEV":43,"ENOTDIR":54,"EISDIR":31,"EINVAL":28,"ENFILE":41,"EMFILE":33,"ENOTTY":59,"ETXTBSY":74,"EFBIG":22,"ENOSPC":51,"ESPIPE":70,"EROFS":69,"EMLINK":34,"EPIPE":64,"EDOM":18,"ERANGE":68,"ENOMSG":49,"EIDRM":24,"ECHRNG":106,"EL2NSYNC":156,"EL3HLT":107,"EL3RST":108,"ELNRNG":109,"EUNATCH":110,"ENOCSI":111,"EL2HLT":112,"EDEADLK":16,"ENOLCK":46,"EBADE":113,"EBADR":114,"EXFULL":115,"ENOANO":104,"EBADRQC":103,"EBADSLT":102,"EDEADLOCK":16,"EBFONT":101,"ENOSTR":100,"ENODATA":116,"ETIME":117,"ENOSR":118,"ENONET":119,"ENOPKG":120,"EREMOTE":121,"ENOLINK":47,"EADV":122,"ESRMNT":123,"ECOMM":124,"EPROTO":65,"EMULTIHOP":36,"EDOTDOT":125,"EBADMSG":9,"ENOTUNIQ":126,"EBADFD":127,"EREMCHG":128,"ELIBACC":129,"ELIBBAD":130,"ELIBSCN":131,"ELIBMAX":132,"ELIBEXEC":133,"ENOSYS":52,"ENOTEMPTY":55,"ENAMETOOLONG":37,"ELOOP":32,"EOPNOTSUPP":138,"EPFNOSUPPORT":139,"ECONNRESET":15,"ENOBUFS":42,"EAFNOSUPPORT":5,"EPROTOTYPE":67,"ENOTSOCK":57,"ENOPROTOOPT":50,"ESHUTDOWN":140,"ECONNREFUSED":14,"EADDRINUSE":3,"ECONNABORTED":13,"ENETUNREACH":40,"ENETDOWN":38,"ETIMEDOUT":73,"EHOSTDOWN":142,"EHOSTUNREACH":23,"EINPROGRESS":26,"EALREADY":7,"EDESTADDRREQ":17,"EMSGSIZE":35,"EPROTONOSUPPORT":66,"ESOCKTNOSUPPORT":137,"EADDRNOTAVAIL":4,"ENETRESET":39,"EISCONN":30,"ENOTCONN":53,"ETOOMANYREFS":141,"EUSERS":136,"EDQUOT":19,"ESTALE":72,"ENOTSUP":138,"ENOMEDIUM":148,"EILSEQ":25,"EOVERFLOW":61,"ECANCELED":11,"ENOTRECOVERABLE":56,"EOWNERDEAD":62,"ESTRPIPE":135};var demangle=func=>{warnOnce("warning: build with -sDEMANGLE_SUPPORT to link in libcxxabi demangling");return func};var demangleAll=text=>{var regex=/\b_Z[\w\d_]+/g;return text.replace(regex,function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"})};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(path,opts={}){path=PATH_FS.resolve(path);if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};opts=Object.assign(defaults,opts);if(opts.recurse_count>8){throw new FS.ErrnoError(32)}var parts=path.split("/").filter(p=>!!p);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count+1});current=lookup.node;if(count++>40){throw new FS.ErrnoError(32)}}}}return{path:current_path,node:current}},getPath(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?`${mount}/${path}`:mount+path}path=path?`${node.name}/${path}`:node.name;node=node.parent}},hashName(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){assert(typeof parent=="object");var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return(mode&61440)===32768},isDir(mode){return(mode&61440)===16384},isLink(mode){return(mode&61440)===40960},isChrdev(mode){return(mode&61440)===8192},isBlkdev(mode){return(mode&61440)===24576},isFIFO(mode){return(mode&61440)===4096},isSocket(mode){return(mode&49152)===49152},flagsToPermissionString(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions(node,perms){if(FS.ignorePermissions){return 0}if(perms.includes("r")&&!(node.mode&292)){return 2}else if(perms.includes("w")&&!(node.mode&146)){return 2}else if(perms.includes("x")&&!(node.mode&73)){return 2}return 0},mayLookup(dir){var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate(dir,name){try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStreamChecked(fd){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}return stream},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){if(!FS.FSStream){FS.FSStream=function(){this.shared={}};FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get(){return this.node},set(val){this.node=val}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(val){this.shared.flags=val}},position:{get(){return this.shared.position},set(val){this.shared.position=val}}})}stream=Object.assign(new FS.FSStream,stream);if(fd==-1){fd=FS.nextfd()}stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream(fd){FS.streams[fd]=null},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>dev&255,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs(populate,callback){if(typeof populate=="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`)}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach(mount=>{if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)})},mount(type,opts,mountpoint){if(typeof type=="string"){throw type}var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type,opts,mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach(hash=>{var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.includes(current.mount)){FS.destroyNode(current)}current=next}});node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(28)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},create(path,mode){mode=mode!==void 0?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir(path,mode){mode=mode!==void 0?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev(path,mode,dev){if(typeof dev=="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}},rmdir(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node)},readdir(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(54)}return node.node_ops.readdir(node)},unlink(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.unlink(parent,name);FS.destroyNode(node)},readlink(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(44)}if(!node.node_ops.getattr){throw new FS.ErrnoError(63)}return node.node_ops.getattr(node)},lstat(path){return FS.stat(path,true)},chmod(path,mode,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&-4096,timestamp:Date.now()})},lchmod(path,mode){FS.chmod(path,mode,true)},fchmod(fd,mode){var stream=FS.getStreamChecked(fd);FS.chmod(stream.node,mode)},chown(path,uid,gid,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown(path,uid,gid){FS.chown(path,uid,gid,true)},fchown(fd,uid,gid){var stream=FS.getStreamChecked(fd);FS.chown(stream.node,uid,gid)},truncate(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(63)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate(fd,len){var stream=FS.getStreamChecked(fd);if((stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.truncate(stream.node,len)},utime(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open(path,flags,mode){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags=="string"?FS_modeStringToFlags(flags):flags;mode=typeof mode=="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path=="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=-513}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512&&!created){FS.truncate(node,0)}flags&=-131713;var stream=FS.createStream({node,path:FS.getPath(node),flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false});if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1}}return stream},close(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return stream.fd===null},llseek(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read(stream,buffer,offset,length2,position){assert(offset>=0);if(length2<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length2,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write(stream,buffer,offset,length2,position,canOwn){assert(offset>=0);if(length2<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length2,position,canOwn);if(!seeking)stream.position+=bytesWritten;return bytesWritten},allocate(stream,offset,length2){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(offset<0||length2<=0){throw new FS.ErrnoError(28)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(43)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(138)}stream.stream_ops.allocate(stream,offset,length2)},mmap(stream,length2,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}return stream.stream_ops.mmap(stream,length2,position,prot,flags)},msync(stream,buffer,offset,length2,mmapFlags){assert(offset>=0);if(!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length2,mmapFlags)},munmap:stream=>0,ioctl(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile(path,opts={}){opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error(`Invalid encoding type "${opts.encoding}"`)}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length2=stat.size;var buf=new Uint8Array(length2);FS.read(stream,buf,0,length2,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile(path,data,opts={}){opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data=="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,void 0,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,void 0,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:()=>FS.currentPath,chdir(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length2,pos)=>length2});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0;var randomByte=()=>{if(randomLeft===0){randomLeft=randomFill(randomBuffer).byteLength}return randomBuffer[--randomLeft]};FS.createDevice("/dev","random",randomByte);FS.createDevice("/dev","urandom",randomByte);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16384|511,73);node.node_ops={lookup(parent,name){var fd=+name;var stream=FS.getStreamChecked(fd);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1);assert(stdin.fd===0,`invalid handle for stdin (${stdin.fd})`);assert(stdout.fd===1,`invalid handle for stdout (${stdout.fd})`);assert(stderr.fd===2,`invalid handle for stderr (${stderr.fd})`)},ensureErrnoError(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.name="ErrnoError";this.node=node;this.setErrno=function(errno2){this.errno=errno2;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno2){this.code=key;break}}};this.setErrno(errno);this.message=ERRNO_MESSAGES[errno];if(this.stack){Object.defineProperty(this,"stack",{value:new Error().stack,writable:true});this.stack=demangleAll(this.stack)}};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[44].forEach(code=>{FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"})},staticInit(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS}},init(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit(){FS.init.initialized=false;_fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},findObject(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(!ret.exists){return null}return ret.object},analyzePath(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent=typeof parent=="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name;if(parent){parent=typeof parent=="string"?parent:FS.getPath(parent);path=name?PATH.join2(parent,name):parent}var mode=FS_getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data=="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}},createDevice(parent,name,input,output){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open(stream){stream.seekable=false},close(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read(stream,buffer,offset,length2,pos){var bytesRead=0;for(var i=0;i<length2;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===void 0&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===void 0)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write(stream,buffer,offset,length2,pos){for(var i=0;i<length2;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length2){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(typeof XMLHttpRequest!="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(read_){try{obj.contents=intArrayFromString(read_(obj.url),true);obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}},createLazyFile(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return void 0}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(from,to)=>{if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr2=new XMLHttpRequest;xhr2.open("GET",url,false);if(datalength!==chunkSize)xhr2.setRequestHeader("Range","bytes="+from+"-"+to);xhr2.responseType="arraybuffer";if(xhr2.overrideMimeType){xhr2.overrideMimeType("text/plain; charset=x-user-defined")}xhr2.send(null);if(!(xhr2.status>=200&&xhr2.status<300||xhr2.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr2.status);if(xhr2.response!==void 0){return new Uint8Array(xhr2.response||[])}return intArrayFromString(xhr2.responseText||"")};var lazyArray2=this;lazyArray2.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray2.chunks[chunkNum]=="undefined"){lazyArray2.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray2.chunks[chunkNum]=="undefined")throw new Error("doXHR failed!");return lazyArray2.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:(function(){if(!this.lengthKnown){this.cacheLength()}return this._length})},chunkSize:{get:(function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize})}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:(function(){return this.contents.length})}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach(key=>{var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){FS.forceLoadFile(node);return fn.apply(null,arguments)}});function writeChunks(stream,buffer,offset,length2,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length2);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size}stream_ops.read=(stream,buffer,offset,length2,position)=>{FS.forceLoadFile(node);return writeChunks(stream,buffer,offset,length2,position)};stream_ops.mmap=(stream,length2,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc();if(!ptr){throw new FS.ErrnoError(48)}writeChunks(stream,HEAP8,ptr,length2,position);return{ptr,allocated:true}};node.stream_ops=stream_ops;return node},absolutePath(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}};var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path)){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=SYSCALLS.getStreamFromFD(dirfd);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return PATH.join2(dir,path)},doStat(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-54}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=stat.mode;HEAPU32[buf+8>>2]=stat.nlink;HEAP32[buf+12>>2]=stat.uid;HEAP32[buf+16>>2]=stat.gid;HEAP32[buf+20>>2]=stat.rdev;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+24>>2]=tempI64[0],HEAP32[buf+28>>2]=tempI64[1];HEAP32[buf+32>>2]=4096;HEAP32[buf+36>>2]=stat.blocks;var atime=stat.atime.getTime();var mtime=stat.mtime.getTime();var ctime=stat.ctime.getTime();tempI64=[Math.floor(atime/1e3)>>>0,(tempDouble=Math.floor(atime/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAPU32[buf+48>>2]=atime%1e3*1e3;tempI64=[Math.floor(mtime/1e3)>>>0,(tempDouble=Math.floor(mtime/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+56>>2]=tempI64[0],HEAP32[buf+60>>2]=tempI64[1];HEAPU32[buf+64>>2]=mtime%1e3*1e3;tempI64=[Math.floor(ctime/1e3)>>>0,(tempDouble=Math.floor(ctime/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+72>>2]=tempI64[0],HEAP32[buf+76>>2]=tempI64[1];HEAPU32[buf+80>>2]=ctime%1e3*1e3;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+88>>2]=tempI64[0],HEAP32[buf+92>>2]=tempI64[1];return 0},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(flags&2){return 0}var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},varargs:void 0,get(){assert(SYSCALLS.varargs!=void 0);var ret=HEAP32[+SYSCALLS.varargs>>2];SYSCALLS.varargs+=4;return ret},getp(){return SYSCALLS.get()},getStr(ptr){var ret=UTF8ToString(ptr);return ret},getStreamFromFD(fd){var stream=FS.getStreamChecked(fd);return stream}};function ___syscall_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-28}while(FS.streams[arg]){arg++}var newStream;newStream=FS.createStream(stream,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 5:{var arg=SYSCALLS.getp();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:setErrNo(28);return-1;default:{return-28}}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var stringToUTF8=(str,outPtr,maxBytesToWrite)=>{assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)};function ___syscall_getdents64(fd,dirp,count){try{var stream=SYSCALLS.getStreamFromFD(fd);if(!stream.getdents){stream.getdents=FS.readdir(stream.path)}var struct_size=280;var pos=0;var off=FS.llseek(stream,0,1);var idx=Math.floor(off/struct_size);while(idx<stream.getdents.length&&pos+struct_size<=count){var id;var type;var name=stream.getdents[idx];if(name==="."){id=stream.node.id;type=4}else if(name===".."){var lookup=FS.lookupPath(stream.path,{parent:true});id=lookup.node.id;type=4}else{var child=FS.lookupNode(stream.node,name);id=child.id;type=FS.isChrdev(child.mode)?2:FS.isDir(child.mode)?4:FS.isLink(child.mode)?10:8}assert(id);tempI64=[id>>>0,(tempDouble=id,+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos>>2]=tempI64[0],HEAP32[dirp+pos+4>>2]=tempI64[1];tempI64=[(idx+1)*struct_size>>>0,(tempDouble=(idx+1)*struct_size,+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos+8>>2]=tempI64[0],HEAP32[dirp+pos+12>>2]=tempI64[1];HEAP16[dirp+pos+16>>1]=280;HEAP8[dirp+pos+18>>0]=type;stringToUTF8(name,dirp+pos+19,256);pos+=struct_size;idx+=1}FS.llseek(stream,idx*struct_size,0);return pos}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:{if(!stream.tty)return-59;return 0}case 21505:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream);var argp=SYSCALLS.getp();HEAP32[argp>>2]=termios.c_iflag||0;HEAP32[argp+4>>2]=termios.c_oflag||0;HEAP32[argp+8>>2]=termios.c_cflag||0;HEAP32[argp+12>>2]=termios.c_lflag||0;for(var i=0;i<32;i++){HEAP8[argp+i+17>>0]=termios.c_cc[i]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!stream.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){var argp=SYSCALLS.getp();var c_iflag=HEAP32[argp>>2];var c_oflag=HEAP32[argp+4>>2];var c_cflag=HEAP32[argp+8>>2];var c_lflag=HEAP32[argp+12>>2];var c_cc=[];for(var i=0;i<32;i++){c_cc.push(HEAP8[argp+i+17>>0])}return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag,c_oflag,c_cflag,c_lflag,c_cc})}return 0}case 21519:{if(!stream.tty)return-59;var argp=SYSCALLS.getp();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21531:{var argp=SYSCALLS.getp();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tiocgwinsz){var winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty);var argp=SYSCALLS.getp();HEAP16[argp>>1]=winsize[0];HEAP16[argp+2>>1]=winsize[1]}return 0}case 21524:{if(!stream.tty)return-59;return 0}case 21515:{if(!stream.tty)return-59;return 0}default:return-28}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_lstat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.lstat,path,buf)}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_newfstatat(dirfd,path,buf,flags){try{path=SYSCALLS.getStr(path);var nofollow=flags&256;var allowEmpty=flags&4096;flags=flags&~6400;assert(!flags,`unknown flags in __syscall_newfstatat: ${flags}`);path=SYSCALLS.calculateAt(dirfd,path,allowEmpty);return SYSCALLS.doStat(nofollow?FS.lstat:FS.stat,path,buf)}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_openat(dirfd,path,flags,varargs){SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?SYSCALLS.get():0;return FS.open(path,flags,mode).fd}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_rmdir(path){try{path=SYSCALLS.getStr(path);FS.rmdir(path);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_stat64(path,buf){try{path=SYSCALLS.getStr(path);return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_unlinkat(dirfd,path,flags){try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);if(flags===0){FS.unlink(path)}else if(flags===512){FS.rmdir(path)}else{abort("Invalid flags passed to unlinkat")}return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var __emscripten_fs_load_embedded_files=ptr=>{do{var name_addr=HEAPU32[ptr>>2];ptr+=4;var len=HEAPU32[ptr>>2];ptr+=4;var content=HEAPU32[ptr>>2];ptr+=4;var name=UTF8ToString(name_addr);FS.createPath("/",PATH.dirname(name),true,true);FS.createDataFile(name,null,HEAP8.subarray(content,content+len),true,true,true)}while(HEAPU32[ptr>>2])};var nowIsMonotonic=1;var __emscripten_get_now_is_monotonic=()=>nowIsMonotonic;var _emscripten_date_now=()=>Date.now();var _emscripten_get_now;_emscripten_get_now=()=>performance.now();var _emscripten_memcpy_js=(dest,src,num)=>HEAPU8.copyWithin(dest,src,src+num);var abortOnCannotGrowMemory=requestedSize=>{abort(`Cannot enlarge memory arrays to size ${requestedSize} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${HEAP8.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)};var _emscripten_resize_heap=requestedSize=>{HEAPU8.length;requestedSize>>>=0;abortOnCannotGrowMemory(requestedSize)};var ENV={};var getExecutableName=()=>{return thisProgram||"./this.program"};var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8";var env={"USER":"web_user","LOGNAME":"web_user","PATH":"/","PWD":"/","HOME":"/home/web_user","LANG":lang,"_":getExecutableName()};for(var x in ENV){if(ENV[x]===void 0)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};var stringToAscii=(str,buffer)=>{for(var i=0;i<str.length;++i){assert(str.charCodeAt(i)===(str.charCodeAt(i)&255));HEAP8[buffer++>>0]=str.charCodeAt(i)}HEAP8[buffer>>0]=0};var _environ_get=(__environ,environ_buf)=>{var bufSize=0;getEnvStrings().forEach((string,i)=>{var ptr=environ_buf+bufSize;HEAPU32[__environ+i*4>>2]=ptr;stringToAscii(string,ptr);bufSize+=string.length+1});return 0};var _environ_sizes_get=(penviron_count,penviron_buf_size)=>{var strings=getEnvStrings();HEAPU32[penviron_count>>2]=strings.length;var bufSize=0;strings.forEach(string=>bufSize+=string.length+1);HEAPU32[penviron_buf_size>>2]=bufSize;return 0};var runtimeKeepaliveCounter=0;var _proc_exit=code=>{EXITSTATUS=code;quit_(code,new ExitStatus(code))};var exitJS=(status,implicit)=>{EXITSTATUS=status;checkUnflushedContent();if(!implicit){var msg=`program exited (with status: ${status}), but keepRuntimeAlive() is set (counter=${runtimeKeepaliveCounter}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;readyPromiseReject(msg);err(msg)}_proc_exit(status)};var _exit=exitJS;function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doReadv=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret};function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doReadv(stream,iov,iovcnt);HEAPU32[pnum>>2]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var convertI32PairToI53Checked=(lo,hi)=>{assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN};function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math.abs(tempDouble)>=1?tempDouble>0?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doWritev=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret};function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doWritev(stream,iov,iovcnt);HEAPU32[pnum>>2]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}checkStackCookie();if(e instanceof WebAssembly.RuntimeError){if(_emscripten_stack_get_current()<=0){err("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)")}}quit_(1,e)};var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var FSNode=(function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev});var readMode=292|73;var writeMode=146;Object.defineProperties(FSNode.prototype,{read:{get:(function(){return(this.mode&readMode)===readMode}),set:(function(val){val?this.mode|=readMode:this.mode&=~readMode})},write:{get:(function(){return(this.mode&writeMode)===writeMode}),set:(function(val){val?this.mode|=writeMode:this.mode&=~writeMode})},isFolder:{get:(function(){return FS.isDir(this.mode)})},isDevice:{get:(function(){return FS.isChrdev(this.mode)})}});FS.FSNode=FSNode;FS.createPreloadedFile=FS_createPreloadedFile;FS.staticInit();Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_unlink"]=FS.unlink;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings")}var wasmImports={__assert_fail:___assert_fail,__syscall_fcntl64:___syscall_fcntl64,__syscall_fstat64:___syscall_fstat64,__syscall_getdents64:___syscall_getdents64,__syscall_ioctl:___syscall_ioctl,__syscall_lstat64:___syscall_lstat64,__syscall_newfstatat:___syscall_newfstatat,__syscall_openat:___syscall_openat,__syscall_rmdir:___syscall_rmdir,__syscall_stat64:___syscall_stat64,__syscall_unlinkat:___syscall_unlinkat,_emscripten_fs_load_embedded_files:__emscripten_fs_load_embedded_files,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,emscripten_date_now:_emscripten_date_now,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_js:_emscripten_memcpy_js,emscripten_resize_heap:_emscripten_resize_heap,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write};var wasmExports=createWasm();var ___errno_location=createExportWrapper("__errno_location");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _main=Module["_main"]=createExportWrapper("__main_argc_argv");var _emscripten_stack_init=()=>(_emscripten_stack_init=wasmExports["emscripten_stack_init"])();var _emscripten_stack_get_end=()=>(_emscripten_stack_get_end=wasmExports["emscripten_stack_get_end"])();var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports["emscripten_stack_get_current"])();Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");Module["___emscripten_embedded_file_data"]=18226032;Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;Module["FS_createPath"]=FS.createPath;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createDevice"]=FS.createDevice;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS"]=FS;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_unlink"]=FS.unlink;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","FS_createFolder","FS_createLink","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","zeroMemory","exitJS","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","DNS","Protocols","Sockets","initRandomFill","randomFill","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","getExecutableName","handleException","keepRuntimeAlive","asyncLoad","alignMemory","mmapAlloc","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","stringToAscii","UTF16Decoder","stringToUTF8OnStack","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","demangle","demangleAll","ExitStatus","getEnvStrings","doReadv","doWritev","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","preloadPlugins","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function callMain(args2=[]){assert(runDependencies==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])');assert(__ATPRERUN__.length==0,"cannot call main when preRun functions remain to be called");var entryFunction=_main;args2.unshift(thisProgram);var argc=args2.length;var argv=stackAlloc((argc+1)*4);var argv_ptr=argv;args2.forEach(arg=>{HEAPU32[argv_ptr>>2]=stringToUTF8OnStack(arg);argv_ptr+=4});HEAPU32[argv_ptr>>2]=0;try{var ret=entryFunction(argc,argv);exitJS(ret,true);return ret}catch(e){return handleException(e)}}function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(args2=arguments_){if(runDependencies>0){return}stackCheckInit();preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();if(shouldRunNow)callMain(args2);postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}checkStackCookie()}function checkUnflushedContent(){var oldOut=out;var oldErr=err;var has=false;out=err=x=>{has=true};try{_fflush(0);["stdout","stderr"].forEach(function(name){var info=FS.analyzePath("/dev/"+name);if(!info)return;var stream=info.object;var rdev=stream.rdev;var tty=TTY.ttys[rdev];if(tty&&tty.output&&tty.output.length){has=true}})}catch(e){}out=oldOut;err=oldErr;if(has){warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.")}}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}var shouldRunNow=true;if(Module["noInitialRun"])shouldRunNow=false;run();return moduleArg==null?void 0:moduleArg.ready})}var __async$c=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function getPhonemoneFromEspeak(args2){return __async$c(this,null,function*(){if(args2.text==="test")return"test";let lang="en";switch(args2.language){case"en":lang="en-us";break;case"fa":lang="fa-ir";break;case"zh":lang="zh";break}const espeak=yield ESpeakNG({espeakWasmPath:"onnx/espeak-ng.wasm",wasmBinary:null,fetcherFn:args2.fetcherFn,arguments:["--phonout","generated",'--sep=""',"-q",`--ipa=3`,"-v",lang,'"'+args2.text+'"']});const phonemone=espeak.FS.readFile("generated",{encoding:"utf8"});console.log(phonemone);return phonemone})}var __async$b=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function createAVisEvent(args2){return __async$b(this,null,function*(){return new Promise(resolve=>{try{if(args2.operator==="off"){sharedVars_sharedBetweenWebAndWebview.visNet[args2.operator](args2.eventName);return resolve(true)}else if(args2.operator==="once"){return sharedVars_sharedBetweenWebAndWebview.visNet[args2.operator](args2.eventName,e=>{return resolve(e)})}else{return sharedVars_sharedBetweenWebAndWebview.visNet[args2.operator](args2.eventName,e=>{return resolve(e)})}}catch(error){return resolve(JSON.stringify({err:error["message"],operator:args2.operator,name:args2.eventName}))}})})}function waitForBridge(callback,maxAttempts=50){let attempts=0;const checkBridge=()=>{attempts++;if(window["ReactNativeWebView"]&&window["ReactNativeWebView"].postMessage){callback()}else if(attempts<maxAttempts){setTimeout(checkBridge,100)}else{console.error("ReactNativeWebView bridge not available after maximum attempts")}};checkBridge()}function sendMessageToNative(message,depthLevelOfStrigification){waitForBridge(()=>{try{window["NativeBridge"].postMessage(JSON.stringify(message))}catch(error){console.error("Failed to send message to React Native:",error)}})}var __async$a=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function postMessageAndWait_toRn(message,timeout){return new Promise((resolve,reject)=>__async$a(null,null,function*(){const messageId=String(Math.random());sharedVarsWebview_default.pendingRequests.set(messageId,{resolve,reject});console.warn("-------------------------");sendMessageToNative({id:messageId,type:"request",data:message});console.warn("-------------------------");if(timeout!==Infinity){setTimeout(()=>{if(sharedVarsWebview_default.pendingRequests.has(messageId)){sharedVarsWebview_default.pendingRequests.delete(messageId);reject(new Error("Request timeout"))}},2e4)}}))}var __async$9=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function performCalculationInWebview(args2){return __async$9(this,null,function*(){var _a;if(((_a=yield postMessageAndWait_toRn({action:"performCalculation2",params:{a:1,b:5}}))==null?void 0:_a.result)!==6){return{result:"app internal communication failed! [ww 502]",operation:"addition"}}else{return{result:args2.a+args2.b,operation:"addition"}}})}function getVals(obj){const vals=[];for(const key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){const element=obj[key];vals.push(element)}}return vals}var __async$8=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function runInWis(args2){return __async$8(this,null,function*(){let finalArgs=[];try{let qwe=getVals(args2.args);if(qwe.length>0){finalArgs=[...qwe]}return sharedVars_sharedBetweenWebAndWebview.visNet[args2.fnName](...finalArgs)}catch(error){return JSON.stringify({err:error["message"],name:args2.fnName,finalArgs})}})}var __async$7=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function runInWis_dataset_e(args2){return __async$7(this,null,function*(){let finalArgs=[];try{let qwe=getVals(args2.args);if(qwe.length>0){finalArgs=[...qwe]}return sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_edges2[args2.fnName](...finalArgs)}catch(error){return JSON.stringify({err:error["message"],name:args2.fnName,finalArgs})}})}var __async$6=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function base64ToBuff(actualB64ImgFile){return __async$6(this,null,function*(){const fixed=Uint8Array.from(atob(actualB64ImgFile),c=>c.charCodeAt(0)).buffer;return fixed})}var __async$5=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function runInWis_dataset_n(args2){return __async$5(this,null,function*(){var _a,_b;let finalArgs=[];try{let qwe=getVals(args2.args);if(qwe.length>0){finalArgs=[...qwe]}if(args2.fnName==="add"||args2.fnName==="update"||args2.fnName==="updateOnly"){const passedNodes=Array.isArray(finalArgs[0])?finalArgs[0]:[finalArgs[0]];let updatedNodes=[];for(const node of passedNodes){if(node.shape==="image"){if(node.image){try{const blob=new Blob([yield base64ToBuff(node.image)]);node.image=URL.createObjectURL(blob)}catch(error){}}else{node.shape=void 0;node.image=void 0;node.icon=void 0}}else if(node.shape==="dot"){if(((_a=node.icon)==null?void 0:_a.code)===null){node.icon=void 0}else if((_b=node.icon)==null?void 0:_b.code){try{const asd=Number(node.icon.code);if(!Number.isNaN(asd)){node.icon.code=String.fromCodePoint(asd)}else{node.icon.code=String.fromCodePoint(0)}}catch(error){}}node.image=void 0}updatedNodes.push(node)}finalArgs[0]=passedNodes}return sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_nodes2[args2.fnName](...finalArgs)}catch(error){return JSON.stringify({err:error["message"],name:args2.fnName,finalArgs})}})}var __async$4=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function applyFont(args2){return __async$4(this,null,function*(){const buf=yield base64ToBuff(args2.fontFileString);const fontBlob=new Blob([buf],{type:"font/ttf"});const fontBlobUrl=URL.createObjectURL(fontBlob);const style=document.createElement("style");style.textContent=`
        @font-face {
          font-family: '${args2.fontFamily}';
          src: url('${fontBlobUrl}') format('woff2');
          font-weight: normal;
          font-style: normal;
        }
      `;document.head.appendChild(style);document.body.style.fontFamily=`'${args2.fontFamily}', sans-serif`})}const allProxiedFunctions_web={performCalculationInWebview,runInWis,runInWis_dataset_e,runInWis_dataset_n,createAVisEvent,getPhonemoneFromEspeak,applyFont};var __async$3=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function processRequest_fromRn(message){return __async$3(this,null,function*(){try{sendMessageToNative({id:message.id,data:yield allProxiedFunctions_web[message.data.action](message.data.params),type:"response"})}catch(error){sendMessageToNative({id:message.id,data:null,error:error["message"],type:"response"})}})}function handleMessage_fromRn(message){if(message.type==="request"){processRequest_fromRn(message);return}try{if(message.type==="response"&&message.id){const request=sharedVarsWebview_default.pendingRequests.get(message.id);if(request){sharedVarsWebview_default.pendingRequests.delete(message.id);if(message.error){request.reject(message.error)}else{request.resolve(message.data)}}}}catch(error){console.error("Error parsing WebView message:",error)}}var __async$2=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function configVisEventsWebview(){return __async$2(this,null,function*(){yield sharedVars_sharedBetweenWebAndWebview.visNet.on("selectEdge",e=>{postMessageAndWait_toRn({action:"selectEdge_visEvent",params:e})});yield sharedVars_sharedBetweenWebAndWebview.visNet.on("oncontext",e=>{if(sharedVars_sharedBetweenWebAndWebview.waitingForUserToSelectOnANodeSoWeCanConnectEdges){console.log("ignoreing , because of waitingForUserToSelectOnANodeSoWeCanConnectEdges");return}e.event.preventDefault()});yield sharedVars_sharedBetweenWebAndWebview.visNet.off("selectNode");yield sharedVars_sharedBetweenWebAndWebview.visNet.on("selectNode",e=>{postMessageAndWait_toRn({action:"selectNode_visEvent",params:e})});yield sharedVars_sharedBetweenWebAndWebview.visNet.off("doubleClick");yield sharedVars_sharedBetweenWebAndWebview.visNet.on("doubleClick",e=>{postMessageAndWait_toRn({action:"doubleClick_visEvent",params:e})});yield sharedVars_sharedBetweenWebAndWebview.visNet.off("hold");yield sharedVars_sharedBetweenWebAndWebview.visNet.on("hold",e=>{postMessageAndWait_toRn({action:"hold_visEvent",params:e})})})}var visNetwork$1={exports:{}};var visNetwork=visNetwork$1.exports;var hasRequiredVisNetwork;function requireVisNetwork(){if(hasRequiredVisNetwork)return visNetwork$1.exports;hasRequiredVisNetwork=1;(function(module,exports){(function(global2,factory){factory(exports)})(visNetwork,(function(exports2){var commonjsGlobal=typeof window!=="undefined"?window:typeof window!=="undefined"?window:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x["default"]:x}var check=function(it2){return it2&&it2.Math===Math&&it2};var global$s=check(typeof window=="object"&&window)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||commonjsGlobal||Function("return this")();var fails$A=function(exec2){try{return!!exec2()}catch(error){return true}};var fails$z=fails$A;var functionBindNative=!fails$z(function(){var test2=(function(){}).bind();return typeof test2!="function"||test2.hasOwnProperty("prototype")});var NATIVE_BIND$4=functionBindNative;var FunctionPrototype$4=Function.prototype;var apply$6=FunctionPrototype$4.apply;var call$l=FunctionPrototype$4.call;var functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4?call$l.bind(apply$6):function(){return call$l.apply(apply$6,arguments)});var NATIVE_BIND$3=functionBindNative;var FunctionPrototype$3=Function.prototype;var call$k=FunctionPrototype$3.call;var uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$3.bind.bind(call$k,call$k);var functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(fn){return function(){return call$k.apply(fn,arguments)}};var uncurryThis$z=functionUncurryThis;var toString$d=uncurryThis$z({}.toString);var stringSlice$1=uncurryThis$z("".slice);var classofRaw$2=function(it2){return stringSlice$1(toString$d(it2),8,-1)};var classofRaw$1=classofRaw$2;var uncurryThis$y=functionUncurryThis;var functionUncurryThisClause=function(fn){if(classofRaw$1(fn)==="Function")return uncurryThis$y(fn)};var documentAll$2=typeof document=="object"&&document.all;var IS_HTMLDDA=typeof documentAll$2=="undefined"&&documentAll$2!==void 0;var documentAll_1={all:documentAll$2,IS_HTMLDDA};var $documentAll$1=documentAll_1;var documentAll$1=$documentAll$1.all;var isCallable$m=$documentAll$1.IS_HTMLDDA?function(argument){return typeof argument=="function"||argument===documentAll$1}:function(argument){return typeof argument=="function"};var objectGetOwnPropertyDescriptor={};var fails$y=fails$A;var descriptors=!fails$y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7});var NATIVE_BIND$2=functionBindNative;var call$j=Function.prototype.call;var functionCall=NATIVE_BIND$2?call$j.bind(call$j):function(){return call$j.apply(call$j,arguments)};var objectPropertyIsEnumerable={};var $propertyIsEnumerable$2={}.propertyIsEnumerable;var getOwnPropertyDescriptor$a=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor$a&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function propertyIsEnumerable2(V){var descriptor=getOwnPropertyDescriptor$a(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$7=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value}};var uncurryThis$x=functionUncurryThis;var fails$x=fails$A;var classof$g=classofRaw$2;var $Object$5=Object;var split=uncurryThis$x("".split);var indexedObject=fails$x(function(){return!$Object$5("z").propertyIsEnumerable(0)})?function(it2){return classof$g(it2)==="String"?split(it2,""):$Object$5(it2)}:$Object$5;var isNullOrUndefined$7=function(it2){return it2===null||it2===void 0};var isNullOrUndefined$6=isNullOrUndefined$7;var $TypeError$h=TypeError;var requireObjectCoercible$5=function(it2){if(isNullOrUndefined$6(it2))throw new $TypeError$h("Can't call method on "+it2);return it2};var IndexedObject$3=indexedObject;var requireObjectCoercible$4=requireObjectCoercible$5;var toIndexedObject$b=function(it2){return IndexedObject$3(requireObjectCoercible$4(it2))};var isCallable$l=isCallable$m;var $documentAll=documentAll_1;var documentAll=$documentAll.all;var isObject$m=$documentAll.IS_HTMLDDA?function(it2){return typeof it2=="object"?it2!==null:isCallable$l(it2)||it2===documentAll}:function(it2){return typeof it2=="object"?it2!==null:isCallable$l(it2)};var path$A={};var path$z=path$A;var global$r=global$s;var isCallable$k=isCallable$m;var aFunction=function(variable){return isCallable$k(variable)?variable:void 0};var getBuiltIn$f=function(namespace,method2){return arguments.length<2?aFunction(path$z[namespace])||aFunction(global$r[namespace]):path$z[namespace]&&path$z[namespace][method2]||global$r[namespace]&&global$r[namespace][method2]};var uncurryThis$w=functionUncurryThis;var objectIsPrototypeOf=uncurryThis$w({}.isPrototypeOf);var engineUserAgent=typeof navigator!="undefined"&&String(navigator.userAgent)||"";var global$q=global$s;var userAgent$5=engineUserAgent;var process$3=global$q.process;var Deno$1=global$q.Deno;var versions=process$3&&process$3.versions||Deno$1&&Deno$1.version;var v8=versions&&versions.v8;var match,version;if(v8){match=v8.split(".");version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])}if(!version&&userAgent$5){match=userAgent$5.match(/Edge\/(\d+)/);if(!match||match[1]>=74){match=userAgent$5.match(/Chrome\/(\d+)/);if(match)version=+match[1]}}var engineV8Version=version;var V8_VERSION$3=engineV8Version;var fails$w=fails$A;var global$p=global$s;var $String$5=global$p.String;var symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$w(function(){var symbol2=Symbol("symbol detection");return!$String$5(symbol2)||!(Object(symbol2)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41});var NATIVE_SYMBOL$5=symbolConstructorDetection;var useSymbolAsUid=NATIVE_SYMBOL$5&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var getBuiltIn$e=getBuiltIn$f;var isCallable$j=isCallable$m;var isPrototypeOf$o=objectIsPrototypeOf;var USE_SYMBOL_AS_UID$1=useSymbolAsUid;var $Object$4=Object;var isSymbol$5=USE_SYMBOL_AS_UID$1?function(it2){return typeof it2=="symbol"}:function(it2){var $Symbol2=getBuiltIn$e("Symbol");return isCallable$j($Symbol2)&&isPrototypeOf$o($Symbol2.prototype,$Object$4(it2))};var $String$4=String;var tryToString$6=function(argument){try{return $String$4(argument)}catch(error){return"Object"}};var isCallable$i=isCallable$m;var tryToString$5=tryToString$6;var $TypeError$g=TypeError;var aCallable$e=function(argument){if(isCallable$i(argument))return argument;throw new $TypeError$g(tryToString$5(argument)+" is not a function")};var aCallable$d=aCallable$e;var isNullOrUndefined$5=isNullOrUndefined$7;var getMethod$3=function(V,P){var func=V[P];return isNullOrUndefined$5(func)?void 0:aCallable$d(func)};var call$i=functionCall;var isCallable$h=isCallable$m;var isObject$l=isObject$m;var $TypeError$f=TypeError;var ordinaryToPrimitive$1=function(input,pref){var fn,val;if(pref==="string"&&isCallable$h(fn=input.toString)&&!isObject$l(val=call$i(fn,input)))return val;if(isCallable$h(fn=input.valueOf)&&!isObject$l(val=call$i(fn,input)))return val;if(pref!=="string"&&isCallable$h(fn=input.toString)&&!isObject$l(val=call$i(fn,input)))return val;throw new $TypeError$f("Can't convert object to primitive value")};var shared$7={exports:{}};var isPure=true;var global$o=global$s;var defineProperty$f=Object.defineProperty;var defineGlobalProperty$1=function(key,value){try{defineProperty$f(global$o,key,{value,configurable:true,writable:true})}catch(error){global$o[key]=value}return value};var global$n=global$s;var defineGlobalProperty=defineGlobalProperty$1;var SHARED="__core-js_shared__";var store$3=global$n[SHARED]||defineGlobalProperty(SHARED,{});var sharedStore=store$3;var store$2=sharedStore;(shared$7.exports=function(key,value){return store$2[key]||(store$2[key]=value!==void 0?value:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedExports=shared$7.exports;var requireObjectCoercible$3=requireObjectCoercible$5;var $Object$3=Object;var toObject$f=function(argument){return $Object$3(requireObjectCoercible$3(argument))};var uncurryThis$v=functionUncurryThis;var toObject$e=toObject$f;var hasOwnProperty=uncurryThis$v({}.hasOwnProperty);var hasOwnProperty_1=Object.hasOwn||function hasOwn2(it2,key){return hasOwnProperty(toObject$e(it2),key)};var uncurryThis$u=functionUncurryThis;var id$2=0;var postfix=Math.random();var toString$c=uncurryThis$u(1 .toString);var uid$4=function(key){return"Symbol("+(key===void 0?"":key)+")_"+toString$c(++id$2+postfix,36)};var global$m=global$s;var shared$6=sharedExports;var hasOwn$l=hasOwnProperty_1;var uid$3=uid$4;var NATIVE_SYMBOL$4=symbolConstructorDetection;var USE_SYMBOL_AS_UID=useSymbolAsUid;var Symbol$5=global$m.Symbol;var WellKnownSymbolsStore$2=shared$6("wks");var createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$5["for"]||Symbol$5:Symbol$5&&Symbol$5.withoutSetter||uid$3;var wellKnownSymbol$p=function(name){if(!hasOwn$l(WellKnownSymbolsStore$2,name)){WellKnownSymbolsStore$2[name]=NATIVE_SYMBOL$4&&hasOwn$l(Symbol$5,name)?Symbol$5[name]:createWellKnownSymbol("Symbol."+name)}return WellKnownSymbolsStore$2[name]};var call$h=functionCall;var isObject$k=isObject$m;var isSymbol$4=isSymbol$5;var getMethod$2=getMethod$3;var ordinaryToPrimitive=ordinaryToPrimitive$1;var wellKnownSymbol$o=wellKnownSymbol$p;var $TypeError$e=TypeError;var TO_PRIMITIVE=wellKnownSymbol$o("toPrimitive");var toPrimitive$6=function(input,pref){if(!isObject$k(input)||isSymbol$4(input))return input;var exoticToPrim=getMethod$2(input,TO_PRIMITIVE);var result;if(exoticToPrim){if(pref===void 0)pref="default";result=call$h(exoticToPrim,input,pref);if(!isObject$k(result)||isSymbol$4(result))return result;throw new $TypeError$e("Can't convert object to primitive value")}if(pref===void 0)pref="number";return ordinaryToPrimitive(input,pref)};var toPrimitive$5=toPrimitive$6;var isSymbol$3=isSymbol$5;var toPropertyKey$4=function(argument){var key=toPrimitive$5(argument,"string");return isSymbol$3(key)?key:key+""};var global$l=global$s;var isObject$j=isObject$m;var document$3=global$l.document;var EXISTS$1=isObject$j(document$3)&&isObject$j(document$3.createElement);var documentCreateElement$1=function(it2){return EXISTS$1?document$3.createElement(it2):{}};var DESCRIPTORS$i=descriptors;var fails$v=fails$A;var createElement$1=documentCreateElement$1;var ie8DomDefine=!DESCRIPTORS$i&&!fails$v(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!==7});var DESCRIPTORS$h=descriptors;var call$g=functionCall;var propertyIsEnumerableModule$2=objectPropertyIsEnumerable;var createPropertyDescriptor$6=createPropertyDescriptor$7;var toIndexedObject$a=toIndexedObject$b;var toPropertyKey$3=toPropertyKey$4;var hasOwn$k=hasOwnProperty_1;var IE8_DOM_DEFINE$1=ie8DomDefine;var $getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$h?$getOwnPropertyDescriptor$2:function getOwnPropertyDescriptor2(O,P){O=toIndexedObject$a(O);P=toPropertyKey$3(P);if(IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(O,P)}catch(error){}if(hasOwn$k(O,P))return createPropertyDescriptor$6(!call$g(propertyIsEnumerableModule$2.f,O,P),O[P])};var fails$u=fails$A;var isCallable$g=isCallable$m;var replacement=/#|\.prototype\./;var isForced$2=function(feature,detection){var value=data[normalize(feature)];return value===POLYFILL?true:value===NATIVE?false:isCallable$g(detection)?fails$u(detection):!!detection};var normalize=isForced$2.normalize=function(string2){return String(string2).replace(replacement,".").toLowerCase()};var data=isForced$2.data={};var NATIVE=isForced$2.NATIVE="N";var POLYFILL=isForced$2.POLYFILL="P";var isForced_1=isForced$2;var uncurryThis$t=functionUncurryThisClause;var aCallable$c=aCallable$e;var NATIVE_BIND$1=functionBindNative;var bind$i=uncurryThis$t(uncurryThis$t.bind);var functionBindContext=function(fn,that){aCallable$c(fn);return that===void 0?fn:NATIVE_BIND$1?bind$i(fn,that):function(){return fn.apply(that,arguments)}};var objectDefineProperty={};var DESCRIPTORS$g=descriptors;var fails$t=fails$A;var v8PrototypeDefineBug=DESCRIPTORS$g&&fails$t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:false}).prototype!==42});var isObject$i=isObject$m;var $String$3=String;var $TypeError$d=TypeError;var anObject$f=function(argument){if(isObject$i(argument))return argument;throw new $TypeError$d($String$3(argument)+" is not an object")};var DESCRIPTORS$f=descriptors;var IE8_DOM_DEFINE=ie8DomDefine;var V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug;var anObject$e=anObject$f;var toPropertyKey$2=toPropertyKey$4;var $TypeError$c=TypeError;var $defineProperty$1=Object.defineProperty;var $getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;var ENUMERABLE="enumerable";var CONFIGURABLE$1="configurable";var WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$f?V8_PROTOTYPE_DEFINE_BUG$1?function defineProperty2(O,P,Attributes){anObject$e(O);P=toPropertyKey$2(P);anObject$e(Attributes);if(typeof O==="function"&&P==="prototype"&&"value"in Attributes&&WRITABLE in Attributes&&!Attributes[WRITABLE]){var current=$getOwnPropertyDescriptor$1(O,P);if(current&&current[WRITABLE]){O[P]=Attributes.value;Attributes={configurable:CONFIGURABLE$1 in Attributes?Attributes[CONFIGURABLE$1]:current[CONFIGURABLE$1],enumerable:ENUMERABLE in Attributes?Attributes[ENUMERABLE]:current[ENUMERABLE],writable:false}}}return $defineProperty$1(O,P,Attributes)}:$defineProperty$1:function defineProperty2(O,P,Attributes){anObject$e(O);P=toPropertyKey$2(P);anObject$e(Attributes);if(IE8_DOM_DEFINE)try{return $defineProperty$1(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw new $TypeError$c("Accessors not supported");if("value"in Attributes)O[P]=Attributes.value;return O};var DESCRIPTORS$e=descriptors;var definePropertyModule$4=objectDefineProperty;var createPropertyDescriptor$5=createPropertyDescriptor$7;var createNonEnumerableProperty$9=DESCRIPTORS$e?function(object2,key,value){return definePropertyModule$4.f(object2,key,createPropertyDescriptor$5(1,value))}:function(object2,key,value){object2[key]=value;return object2};var global$k=global$s;var apply$5=functionApply;var uncurryThis$s=functionUncurryThisClause;var isCallable$f=isCallable$m;var getOwnPropertyDescriptor$9=objectGetOwnPropertyDescriptor.f;var isForced$1=isForced_1;var path$y=path$A;var bind$h=functionBindContext;var createNonEnumerableProperty$8=createNonEnumerableProperty$9;var hasOwn$j=hasOwnProperty_1;var wrapConstructor=function(NativeConstructor){var Wrapper=function(a,b,c2){if(this instanceof Wrapper){switch(arguments.length){case 0:return new NativeConstructor;case 1:return new NativeConstructor(a);case 2:return new NativeConstructor(a,b)}return new NativeConstructor(a,b,c2)}return apply$5(NativeConstructor,this,arguments)};Wrapper.prototype=NativeConstructor.prototype;return Wrapper};var _export=function(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var PROTO=options.proto;var nativeSource=GLOBAL?global$k:STATIC?global$k[TARGET]:(global$k[TARGET]||{}).prototype;var target=GLOBAL?path$y:path$y[TARGET]||createNonEnumerableProperty$8(path$y,TARGET,{})[TARGET];var targetPrototype=target.prototype;var FORCED2,USE_NATIVE,VIRTUAL_PROTOTYPE;var key,sourceProperty,targetProperty,nativeProperty,resultProperty,descriptor;for(key in source){FORCED2=isForced$1(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced);USE_NATIVE=!FORCED2&&nativeSource&&hasOwn$j(nativeSource,key);targetProperty=target[key];if(USE_NATIVE)if(options.dontCallGetSet){descriptor=getOwnPropertyDescriptor$9(nativeSource,key);nativeProperty=descriptor&&descriptor.value}else nativeProperty=nativeSource[key];sourceProperty=USE_NATIVE&&nativeProperty?nativeProperty:source[key];if(USE_NATIVE&&typeof targetProperty==typeof sourceProperty)continue;if(options.bind&&USE_NATIVE)resultProperty=bind$h(sourceProperty,global$k);else if(options.wrap&&USE_NATIVE)resultProperty=wrapConstructor(sourceProperty);else if(PROTO&&isCallable$f(sourceProperty))resultProperty=uncurryThis$s(sourceProperty);else resultProperty=sourceProperty;if(options.sham||sourceProperty&&sourceProperty.sham||targetProperty&&targetProperty.sham){createNonEnumerableProperty$8(resultProperty,"sham",true)}createNonEnumerableProperty$8(target,key,resultProperty);if(PROTO){VIRTUAL_PROTOTYPE=TARGET+"Prototype";if(!hasOwn$j(path$y,VIRTUAL_PROTOTYPE)){createNonEnumerableProperty$8(path$y,VIRTUAL_PROTOTYPE,{})}createNonEnumerableProperty$8(path$y[VIRTUAL_PROTOTYPE],key,sourceProperty);if(options.real&&targetPrototype&&(FORCED2||!targetPrototype[key])){createNonEnumerableProperty$8(targetPrototype,key,sourceProperty)}}}};var ceil=Math.ceil;var floor$1=Math.floor;var mathTrunc=Math.trunc||function trunc2(x){var n=+x;return(n>0?floor$1:ceil)(n)};var trunc=mathTrunc;var toIntegerOrInfinity$4=function(argument){var number2=+argument;return number2!==number2||number2===0?0:trunc(number2)};var toIntegerOrInfinity$3=toIntegerOrInfinity$4;var max$3=Math.max;var min$2=Math.min;var toAbsoluteIndex$5=function(index2,length2){var integer=toIntegerOrInfinity$3(index2);return integer<0?max$3(integer+length2,0):min$2(integer,length2)};var toIntegerOrInfinity$2=toIntegerOrInfinity$4;var min$1=Math.min;var toLength$1=function(argument){return argument>0?min$1(toIntegerOrInfinity$2(argument),9007199254740991):0};var toLength=toLength$1;var lengthOfArrayLike$e=function(obj){return toLength(obj.length)};var toIndexedObject$9=toIndexedObject$b;var toAbsoluteIndex$4=toAbsoluteIndex$5;var lengthOfArrayLike$d=lengthOfArrayLike$e;var createMethod$5=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject$9($this);var length2=lengthOfArrayLike$d(O);var index2=toAbsoluteIndex$4(fromIndex,length2);var value;if(IS_INCLUDES&&el!==el)while(length2>index2){value=O[index2++];if(value!==value)return true}else for(;length2>index2;index2++){if((IS_INCLUDES||index2 in O)&&O[index2]===el)return IS_INCLUDES||index2||0}return!IS_INCLUDES&&-1}};var arrayIncludes={includes:createMethod$5(true),indexOf:createMethod$5(false)};var hiddenKeys$6={};var uncurryThis$r=functionUncurryThis;var hasOwn$i=hasOwnProperty_1;var toIndexedObject$8=toIndexedObject$b;var indexOf$4=arrayIncludes.indexOf;var hiddenKeys$5=hiddenKeys$6;var push$d=uncurryThis$r([].push);var objectKeysInternal=function(object2,names){var O=toIndexedObject$8(object2);var i2=0;var result=[];var key;for(key in O)!hasOwn$i(hiddenKeys$5,key)&&hasOwn$i(O,key)&&push$d(result,key);while(names.length>i2)if(hasOwn$i(O,key=names[i2++])){~indexOf$4(result,key)||push$d(result,key)}return result};var enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var internalObjectKeys$1=objectKeysInternal;var enumBugKeys$2=enumBugKeys$3;var objectKeys$4=Object.keys||function keys2(O){return internalObjectKeys$1(O,enumBugKeys$2)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var DESCRIPTORS$d=descriptors;var uncurryThis$q=functionUncurryThis;var call$f=functionCall;var fails$s=fails$A;var objectKeys$3=objectKeys$4;var getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols;var propertyIsEnumerableModule$1=objectPropertyIsEnumerable;var toObject$d=toObject$f;var IndexedObject$2=indexedObject;var $assign=Object.assign;var defineProperty$e=Object.defineProperty;var concat$6=uncurryThis$q([].concat);var objectAssign=!$assign||fails$s(function(){if(DESCRIPTORS$d&&$assign({b:1},$assign(defineProperty$e({},"a",{enumerable:true,get:function(){defineProperty$e(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var A={};var B={};var symbol2=Symbol("assign detection");var alphabet="abcdefghijklmnopqrst";A[symbol2]=7;alphabet.split("").forEach(function(chr){B[chr]=chr});return $assign({},A)[symbol2]!==7||objectKeys$3($assign({},B)).join("")!==alphabet})?function assign2(target,source){var T=toObject$d(target);var argumentsLength=arguments.length;var index2=1;var getOwnPropertySymbols2=getOwnPropertySymbolsModule$3.f;var propertyIsEnumerable2=propertyIsEnumerableModule$1.f;while(argumentsLength>index2){var S=IndexedObject$2(arguments[index2++]);var keys2=getOwnPropertySymbols2?concat$6(objectKeys$3(S),getOwnPropertySymbols2(S)):objectKeys$3(S);var length2=keys2.length;var j=0;var key;while(length2>j){key=keys2[j++];if(!DESCRIPTORS$d||call$f(propertyIsEnumerable2,S,key))T[key]=S[key]}}return T}:$assign;var $$12=_export;var assign$5=objectAssign;$$12({target:"Object",stat:true,forced:Object.assign!==assign$5},{assign:assign$5});var path$x=path$A;var assign$4=path$x.Object.assign;var parent$1r=assign$4;var assign$3=parent$1r;var assign$2=assign$3;var _Object$assign=getDefaultExportFromCjs(assign$2);var uncurryThis$p=functionUncurryThis;var arraySlice$6=uncurryThis$p([].slice);var uncurryThis$o=functionUncurryThis;var aCallable$b=aCallable$e;var isObject$h=isObject$m;var hasOwn$h=hasOwnProperty_1;var arraySlice$5=arraySlice$6;var NATIVE_BIND=functionBindNative;var $Function=Function;var concat$5=uncurryThis$o([].concat);var join=uncurryThis$o([].join);var factories={};var construct$4=function(C,argsLength,args2){if(!hasOwn$h(factories,argsLength)){var list=[];var i2=0;for(;i2<argsLength;i2++)list[i2]="a["+i2+"]";factories[argsLength]=$Function("C,a","return new C("+join(list,",")+")")}return factories[argsLength](C,args2)};var functionBind=NATIVE_BIND?$Function.bind:function bind2(that){var F=aCallable$b(this);var Prototype=F.prototype;var partArgs=arraySlice$5(arguments,1);var boundFunction=function bound(){var args2=concat$5(partArgs,arraySlice$5(arguments));return this instanceof boundFunction?construct$4(F,args2.length,args2):F.apply(that,args2)};if(isObject$h(Prototype))boundFunction.prototype=Prototype;return boundFunction};var $$11=_export;var bind$g=functionBind;$$11({target:"Function",proto:true,forced:Function.bind!==bind$g},{bind:bind$g});var path$w=path$A;var entryVirtual$l=function(CONSTRUCTOR){return path$w[CONSTRUCTOR+"Prototype"]};var entryVirtual$k=entryVirtual$l;var bind$f=entryVirtual$k("Function").bind;var isPrototypeOf$n=objectIsPrototypeOf;var method$i=bind$f;var FunctionPrototype$2=Function.prototype;var bind$e=function(it2){var own=it2.bind;return it2===FunctionPrototype$2||isPrototypeOf$n(FunctionPrototype$2,it2)&&own===FunctionPrototype$2.bind?method$i:own};var parent$1q=bind$e;var bind$d=parent$1q;var bind$c=bind$d;var _bindInstanceProperty$1=getDefaultExportFromCjs(bind$c);function drawCircle(ctx,x,y,r){ctx.beginPath();ctx.arc(x,y,r,0,2*Math.PI,false);ctx.closePath()}function drawSquare(ctx,x,y,r){ctx.beginPath();ctx.rect(x-r,y-r,r*2,r*2);ctx.closePath()}function drawTriangle(ctx,x,y,r){ctx.beginPath();r*=1.15;y+=.275*r;var s=r*2;var s2=s/2;var ir=Math.sqrt(3)/6*s;var h=Math.sqrt(s*s-s2*s2);ctx.moveTo(x,y-(h-ir));ctx.lineTo(x+s2,y+ir);ctx.lineTo(x-s2,y+ir);ctx.lineTo(x,y-(h-ir));ctx.closePath()}function drawTriangleDown(ctx,x,y,r){ctx.beginPath();r*=1.15;y-=.275*r;var s=r*2;var s2=s/2;var ir=Math.sqrt(3)/6*s;var h=Math.sqrt(s*s-s2*s2);ctx.moveTo(x,y+(h-ir));ctx.lineTo(x+s2,y-ir);ctx.lineTo(x-s2,y-ir);ctx.lineTo(x,y+(h-ir));ctx.closePath()}function drawStar(ctx,x,y,r){ctx.beginPath();r*=.82;y+=.1*r;for(var n=0;n<10;n++){var radius=n%2===0?r*1.3:r*.5;ctx.lineTo(x+radius*Math.sin(n*2*Math.PI/10),y-radius*Math.cos(n*2*Math.PI/10))}ctx.closePath()}function drawDiamond(ctx,x,y,r){ctx.beginPath();ctx.lineTo(x,y+r);ctx.lineTo(x+r,y);ctx.lineTo(x,y-r);ctx.lineTo(x-r,y);ctx.closePath()}function drawRoundRect(ctx,x,y,w,h,r){var r2d=Math.PI/180;if(w-2*r<0){r=w/2}if(h-2*r<0){r=h/2}ctx.beginPath();ctx.moveTo(x+r,y);ctx.lineTo(x+w-r,y);ctx.arc(x+w-r,y+r,r,r2d*270,r2d*360,false);ctx.lineTo(x+w,y+h-r);ctx.arc(x+w-r,y+h-r,r,0,r2d*90,false);ctx.lineTo(x+r,y+h);ctx.arc(x+r,y+h-r,r,r2d*90,r2d*180,false);ctx.lineTo(x,y+r);ctx.arc(x+r,y+r,r,r2d*180,r2d*270,false);ctx.closePath()}function drawEllipse(ctx,x,y,w,h){var kappa=.5522848,ox=w/2*kappa,oy=h/2*kappa,xe=x+w,ye=y+h,xm=x+w/2,ym=y+h/2;ctx.beginPath();ctx.moveTo(x,ym);ctx.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y);ctx.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym);ctx.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);ctx.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym);ctx.closePath()}function drawDatabase(ctx,x,y,w,h){var f=1/3;var wEllipse=w;var hEllipse=h*f;var kappa=.5522848,ox=wEllipse/2*kappa,oy=hEllipse/2*kappa,xe=x+wEllipse,ye=y+hEllipse,xm=x+wEllipse/2,ym=y+hEllipse/2,ymb=y+(h-hEllipse/2),yeb=y+h;ctx.beginPath();ctx.moveTo(xe,ym);ctx.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);ctx.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym);ctx.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y);ctx.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym);ctx.lineTo(xe,ymb);ctx.bezierCurveTo(xe,ymb+oy,xm+ox,yeb,xm,yeb);ctx.bezierCurveTo(xm-ox,yeb,x,ymb+oy,x,ymb);ctx.lineTo(x,ym)}function drawDashedLine(ctx,x,y,x2,y2,pattern){ctx.beginPath();ctx.moveTo(x,y);var patternLength=pattern.length;var dx=x2-x;var dy=y2-y;var slope=dy/dx;var distRemaining=Math.sqrt(dx*dx+dy*dy);var patternIndex=0;var draw=true;var xStep=0;var dashLength=+pattern[0];while(distRemaining>=.1){dashLength=+pattern[patternIndex++%patternLength];if(dashLength>distRemaining){dashLength=distRemaining}xStep=Math.sqrt(dashLength*dashLength/(1+slope*slope));xStep=dx<0?-xStep:xStep;x+=xStep;y+=slope*xStep;if(draw===true){ctx.lineTo(x,y)}else{ctx.moveTo(x,y)}distRemaining-=dashLength;draw=!draw}}function drawHexagon(ctx,x,y,r){ctx.beginPath();var sides=6;var a=Math.PI*2/sides;ctx.moveTo(x+r,y);for(var i2=1;i2<sides;i2++){ctx.lineTo(x+r*Math.cos(a*i2),y+r*Math.sin(a*i2))}ctx.closePath()}var shapeMap={circle:drawCircle,dashedLine:drawDashedLine,database:drawDatabase,diamond:drawDiamond,ellipse:drawEllipse,ellipse_vis:drawEllipse,hexagon:drawHexagon,roundRect:drawRoundRect,square:drawSquare,star:drawStar,triangle:drawTriangle,triangleDown:drawTriangleDown};function getShape(name){if(Object.prototype.hasOwnProperty.call(shapeMap,name)){return shapeMap[name]}else{return function(ctx){for(var _len=arguments.length,args2=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args2[_key-1]=arguments[_key]}CanvasRenderingContext2D.prototype[name].call(ctx,args2)}}}var componentEmitter={exports:{}};(function(module2){{module2.exports=Emitter2}function Emitter2(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter2.prototype){obj[key]=Emitter2.prototype[key]}return obj}Emitter2.prototype.on=Emitter2.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter2.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter2.prototype.off=Emitter2.prototype.removeListener=Emitter2.prototype.removeAllListeners=Emitter2.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i2=0;i2<callbacks.length;i2++){cb=callbacks[i2];if(cb===fn||cb.fn===fn){callbacks.splice(i2,1);break}}if(callbacks.length===0){delete this._callbacks["$"+event]}return this};Emitter2.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args2=new Array(arguments.length-1),callbacks=this._callbacks["$"+event];for(var i2=1;i2<arguments.length;i2++){args2[i2-1]=arguments[i2]}if(callbacks){callbacks=callbacks.slice(0);for(var i2=0,len=callbacks.length;i2<len;++i2){callbacks[i2].apply(this,args2)}}return this};Emitter2.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter2.prototype.hasListeners=function(event){return!!this.listeners(event).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports;var Emitter=getDefaultExportFromCjs(componentEmitterExports);var wellKnownSymbol$n=wellKnownSymbol$p;var TO_STRING_TAG$4=wellKnownSymbol$n("toStringTag");var test$2={};test$2[TO_STRING_TAG$4]="z";var toStringTagSupport=String(test$2)==="[object z]";var TO_STRING_TAG_SUPPORT$2=toStringTagSupport;var isCallable$e=isCallable$m;var classofRaw=classofRaw$2;var wellKnownSymbol$m=wellKnownSymbol$p;var TO_STRING_TAG$3=wellKnownSymbol$m("toStringTag");var $Object$2=Object;var CORRECT_ARGUMENTS=classofRaw((function(){return arguments})())==="Arguments";var tryGet=function(it2,key){try{return it2[key]}catch(error){}};var classof$f=TO_STRING_TAG_SUPPORT$2?classofRaw:function(it2){var O,tag,result;return it2===void 0?"Undefined":it2===null?"Null":typeof(tag=tryGet(O=$Object$2(it2),TO_STRING_TAG$3))=="string"?tag:CORRECT_ARGUMENTS?classofRaw(O):(result=classofRaw(O))==="Object"&&isCallable$e(O.callee)?"Arguments":result};var classof$e=classof$f;var $String$2=String;var toString$b=function(argument){if(classof$e(argument)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$2(argument)};var uncurryThis$n=functionUncurryThis;var toIntegerOrInfinity$1=toIntegerOrInfinity$4;var toString$a=toString$b;var requireObjectCoercible$2=requireObjectCoercible$5;var charAt$3=uncurryThis$n("".charAt);var charCodeAt$1=uncurryThis$n("".charCodeAt);var stringSlice=uncurryThis$n("".slice);var createMethod$4=function(CONVERT_TO_STRING){return function($this,pos){var S=toString$a(requireObjectCoercible$2($this));var position=toIntegerOrInfinity$1(pos);var size=S.length;var first2,second;if(position<0||position>=size)return CONVERT_TO_STRING?"":void 0;first2=charCodeAt$1(S,position);return first2<55296||first2>56319||position+1===size||(second=charCodeAt$1(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt$3(S,position):first2:CONVERT_TO_STRING?stringSlice(S,position,position+2):(first2-55296<<10)+(second-56320)+65536}};var stringMultibyte={charAt:createMethod$4(true)};var global$j=global$s;var isCallable$d=isCallable$m;var WeakMap$1=global$j.WeakMap;var weakMapBasicDetection=isCallable$d(WeakMap$1)&&/native code/.test(String(WeakMap$1));var shared$5=sharedExports;var uid$2=uid$4;var keys$7=shared$5("keys");var sharedKey$4=function(key){return keys$7[key]||(keys$7[key]=uid$2(key))};var NATIVE_WEAK_MAP$1=weakMapBasicDetection;var global$i=global$s;var isObject$g=isObject$m;var createNonEnumerableProperty$7=createNonEnumerableProperty$9;var hasOwn$g=hasOwnProperty_1;var shared$4=sharedStore;var sharedKey$3=sharedKey$4;var hiddenKeys$4=hiddenKeys$6;var OBJECT_ALREADY_INITIALIZED="Object already initialized";var TypeError$3=global$i.TypeError;var WeakMap2=global$i.WeakMap;var set$4,get$6,has;var enforce=function(it2){return has(it2)?get$6(it2):set$4(it2,{})};var getterFor=function(TYPE){return function(it2){var state;if(!isObject$g(it2)||(state=get$6(it2)).type!==TYPE){throw new TypeError$3("Incompatible receiver, "+TYPE+" required")}return state}};if(NATIVE_WEAK_MAP$1||shared$4.state){var store$1=shared$4.state||(shared$4.state=new WeakMap2);store$1.get=store$1.get;store$1.has=store$1.has;store$1.set=store$1.set;set$4=function(it2,metadata){if(store$1.has(it2))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);metadata.facade=it2;store$1.set(it2,metadata);return metadata};get$6=function(it2){return store$1.get(it2)||{}};has=function(it2){return store$1.has(it2)}}else{var STATE=sharedKey$3("state");hiddenKeys$4[STATE]=true;set$4=function(it2,metadata){if(hasOwn$g(it2,STATE))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);metadata.facade=it2;createNonEnumerableProperty$7(it2,STATE,metadata);return metadata};get$6=function(it2){return hasOwn$g(it2,STATE)?it2[STATE]:{}};has=function(it2){return hasOwn$g(it2,STATE)}}var internalState={set:set$4,get:get$6,has,enforce,getterFor};var DESCRIPTORS$c=descriptors;var hasOwn$f=hasOwnProperty_1;var FunctionPrototype$1=Function.prototype;var getDescriptor=DESCRIPTORS$c&&Object.getOwnPropertyDescriptor;var EXISTS=hasOwn$f(FunctionPrototype$1,"name");var PROPER=EXISTS&&(function something(){}).name==="something";EXISTS&&(!DESCRIPTORS$c||DESCRIPTORS$c&&getDescriptor(FunctionPrototype$1,"name").configurable);var functionName={PROPER};var objectDefineProperties={};var DESCRIPTORS$b=descriptors;var V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug;var definePropertyModule$3=objectDefineProperty;var anObject$d=anObject$f;var toIndexedObject$7=toIndexedObject$b;var objectKeys$2=objectKeys$4;objectDefineProperties.f=DESCRIPTORS$b&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function defineProperties2(O,Properties){anObject$d(O);var props=toIndexedObject$7(Properties);var keys2=objectKeys$2(Properties);var length2=keys2.length;var index2=0;var key;while(length2>index2)definePropertyModule$3.f(O,key=keys2[index2++],props[key]);return O};var getBuiltIn$d=getBuiltIn$f;var html$2=getBuiltIn$d("document","documentElement");var anObject$c=anObject$f;var definePropertiesModule$1=objectDefineProperties;var enumBugKeys$1=enumBugKeys$3;var hiddenKeys$3=hiddenKeys$6;var html$1=html$2;var documentCreateElement=documentCreateElement$1;var sharedKey$2=sharedKey$4;var GT=">";var LT="<";var PROTOTYPE$1="prototype";var SCRIPT="script";var IE_PROTO$1=sharedKey$2("IE_PROTO");var EmptyConstructor=function(){};var scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT};var NullProtoObjectViaActiveX=function(activeXDocument2){activeXDocument2.write(scriptTag(""));activeXDocument2.close();var temp=activeXDocument2.parentWindow.Object;activeXDocument2=null;return temp};var NullProtoObjectViaIFrame=function(){var iframe=documentCreateElement("iframe");var JS="java"+SCRIPT+":";var iframeDocument;iframe.style.display="none";html$1.appendChild(iframe);iframe.src=String(JS);iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(scriptTag("document.F=Object"));iframeDocument.close();return iframeDocument.F};var activeXDocument;var NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}NullProtoObject=typeof document!="undefined"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);var length2=enumBugKeys$1.length;while(length2--)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[length2]];return NullProtoObject()};hiddenKeys$3[IE_PROTO$1]=true;var objectCreate=Object.create||function create2(O,Properties){var result;if(O!==null){EmptyConstructor[PROTOTYPE$1]=anObject$c(O);result=new EmptyConstructor;EmptyConstructor[PROTOTYPE$1]=null;result[IE_PROTO$1]=O}else result=NullProtoObject();return Properties===void 0?result:definePropertiesModule$1.f(result,Properties)};var fails$r=fails$A;var correctPrototypeGetter=!fails$r(function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype});var hasOwn$e=hasOwnProperty_1;var isCallable$c=isCallable$m;var toObject$c=toObject$f;var sharedKey$1=sharedKey$4;var CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter;var IE_PROTO=sharedKey$1("IE_PROTO");var $Object$1=Object;var ObjectPrototype$2=$Object$1.prototype;var objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1?$Object$1.getPrototypeOf:function(O){var object2=toObject$c(O);if(hasOwn$e(object2,IE_PROTO))return object2[IE_PROTO];var constructor=object2.constructor;if(isCallable$c(constructor)&&object2 instanceof constructor){return constructor.prototype}return object2 instanceof $Object$1?ObjectPrototype$2:null};var createNonEnumerableProperty$6=createNonEnumerableProperty$9;var defineBuiltIn$6=function(target,key,value,options){if(options&&options.enumerable)target[key]=value;else createNonEnumerableProperty$6(target,key,value);return target};var fails$q=fails$A;var isCallable$b=isCallable$m;var isObject$f=isObject$m;var create$b=objectCreate;var getPrototypeOf$9=objectGetPrototypeOf$1;var defineBuiltIn$5=defineBuiltIn$6;var wellKnownSymbol$l=wellKnownSymbol$p;var ITERATOR$6=wellKnownSymbol$l("iterator");var BUGGY_SAFARI_ITERATORS$1=false;var IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;if([].keys){arrayIterator=[].keys();if(!("next"in arrayIterator))BUGGY_SAFARI_ITERATORS$1=true;else{PrototypeOfArrayIteratorPrototype=getPrototypeOf$9(getPrototypeOf$9(arrayIterator));if(PrototypeOfArrayIteratorPrototype!==Object.prototype)IteratorPrototype$1=PrototypeOfArrayIteratorPrototype}}var NEW_ITERATOR_PROTOTYPE=!isObject$f(IteratorPrototype$1)||fails$q(function(){var test2={};return IteratorPrototype$1[ITERATOR$6].call(test2)!==test2});if(NEW_ITERATOR_PROTOTYPE)IteratorPrototype$1={};else IteratorPrototype$1=create$b(IteratorPrototype$1);if(!isCallable$b(IteratorPrototype$1[ITERATOR$6])){defineBuiltIn$5(IteratorPrototype$1,ITERATOR$6,function(){return this})}var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1};var TO_STRING_TAG_SUPPORT$1=toStringTagSupport;var classof$d=classof$f;var objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function toString2(){return"[object "+classof$d(this)+"]"};var TO_STRING_TAG_SUPPORT=toStringTagSupport;var defineProperty$d=objectDefineProperty.f;var createNonEnumerableProperty$5=createNonEnumerableProperty$9;var hasOwn$d=hasOwnProperty_1;var toString$9=objectToString;var wellKnownSymbol$k=wellKnownSymbol$p;var TO_STRING_TAG$2=wellKnownSymbol$k("toStringTag");var setToStringTag$7=function(it2,TAG,STATIC,SET_METHOD){if(it2){var target=STATIC?it2:it2.prototype;if(!hasOwn$d(target,TO_STRING_TAG$2)){defineProperty$d(target,TO_STRING_TAG$2,{configurable:true,value:TAG})}if(SET_METHOD&&!TO_STRING_TAG_SUPPORT){createNonEnumerableProperty$5(target,"toString",toString$9)}}};var iterators={};var IteratorPrototype=iteratorsCore.IteratorPrototype;var create$a=objectCreate;var createPropertyDescriptor$4=createPropertyDescriptor$7;var setToStringTag$6=setToStringTag$7;var Iterators$5=iterators;var returnThis$1=function(){return this};var iteratorCreateConstructor=function(IteratorConstructor,NAME,next2,ENUMERABLE_NEXT){var TO_STRING_TAG2=NAME+" Iterator";IteratorConstructor.prototype=create$a(IteratorPrototype,{next:createPropertyDescriptor$4(+!ENUMERABLE_NEXT,next2)});setToStringTag$6(IteratorConstructor,TO_STRING_TAG2,false,true);Iterators$5[TO_STRING_TAG2]=returnThis$1;return IteratorConstructor};var uncurryThis$m=functionUncurryThis;var aCallable$a=aCallable$e;var functionUncurryThisAccessor=function(object2,key,method2){try{return uncurryThis$m(aCallable$a(Object.getOwnPropertyDescriptor(object2,key)[method2]))}catch(error){}};var isCallable$a=isCallable$m;var $String$1=String;var $TypeError$b=TypeError;var aPossiblePrototype$1=function(argument){if(typeof argument=="object"||isCallable$a(argument))return argument;throw new $TypeError$b("Can't set "+$String$1(argument)+" as a prototype")};var uncurryThisAccessor=functionUncurryThisAccessor;var anObject$b=anObject$f;var aPossiblePrototype=aPossiblePrototype$1;var objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?(function(){var CORRECT_SETTER=false;var test2={};var setter;try{setter=uncurryThisAccessor(Object.prototype,"__proto__","set");setter(test2,[]);CORRECT_SETTER=test2 instanceof Array}catch(error){}return function setPrototypeOf2(O,proto){anObject$b(O);aPossiblePrototype(proto);if(CORRECT_SETTER)setter(O,proto);else O.__proto__=proto;return O}})():void 0);var $$10=_export;var call$e=functionCall;var FunctionName=functionName;var createIteratorConstructor=iteratorCreateConstructor;var getPrototypeOf$8=objectGetPrototypeOf$1;var setToStringTag$5=setToStringTag$7;var defineBuiltIn$4=defineBuiltIn$6;var wellKnownSymbol$j=wellKnownSymbol$p;var Iterators$4=iterators;var IteratorsCore=iteratorsCore;var PROPER_FUNCTION_NAME=FunctionName.PROPER;var BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS;var ITERATOR$5=wellKnownSymbol$j("iterator");var KEYS="keys";var VALUES="values";var ENTRIES="entries";var returnThis=function(){return this};var iteratorDefine=function(Iterable,NAME,IteratorConstructor,next2,DEFAULT,IS_SET,FORCED2){createIteratorConstructor(IteratorConstructor,NAME,next2);var getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function keys2(){return new IteratorConstructor(this,KIND)};case VALUES:return function values2(){return new IteratorConstructor(this,KIND)};case ENTRIES:return function entries2(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}};var TO_STRING_TAG2=NAME+" Iterator";var INCORRECT_VALUES_NAME=false;var IterablePrototype=Iterable.prototype;var nativeIterator=IterablePrototype[ITERATOR$5]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT];var defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT);var anyNativeIterator=NAME==="Array"?IterablePrototype.entries||nativeIterator:nativeIterator;var CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator){CurrentIteratorPrototype=getPrototypeOf$8(anyNativeIterator.call(new Iterable));if(CurrentIteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next){setToStringTag$5(CurrentIteratorPrototype,TO_STRING_TAG2,true,true);Iterators$4[TO_STRING_TAG2]=returnThis}}if(PROPER_FUNCTION_NAME&&DEFAULT===VALUES&&nativeIterator&&nativeIterator.name!==VALUES){{INCORRECT_VALUES_NAME=true;defaultIterator=function values2(){return call$e(nativeIterator,this)}}}if(DEFAULT){methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)};if(FORCED2)for(KEY in methods){if(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype)){defineBuiltIn$4(IterablePrototype,KEY,methods[KEY])}}else $$10({target:NAME,proto:true,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods)}if(FORCED2&&IterablePrototype[ITERATOR$5]!==defaultIterator){defineBuiltIn$4(IterablePrototype,ITERATOR$5,defaultIterator,{})}Iterators$4[NAME]=defaultIterator;return methods};var createIterResultObject$3=function(value,done){return{value,done}};var charAt$2=stringMultibyte.charAt;var toString$8=toString$b;var InternalStateModule$6=internalState;var defineIterator$2=iteratorDefine;var createIterResultObject$2=createIterResultObject$3;var STRING_ITERATOR="String Iterator";var setInternalState$6=InternalStateModule$6.set;var getInternalState$2=InternalStateModule$6.getterFor(STRING_ITERATOR);defineIterator$2(String,"String",function(iterated){setInternalState$6(this,{type:STRING_ITERATOR,string:toString$8(iterated),index:0})},function next2(){var state=getInternalState$2(this);var string2=state.string;var index2=state.index;var point;if(index2>=string2.length)return createIterResultObject$2(void 0,true);point=charAt$2(string2,index2);state.index+=point.length;return createIterResultObject$2(point,false)});var call$d=functionCall;var anObject$a=anObject$f;var getMethod$1=getMethod$3;var iteratorClose$2=function(iterator2,kind,value){var innerResult,innerError;anObject$a(iterator2);try{innerResult=getMethod$1(iterator2,"return");if(!innerResult){if(kind==="throw")throw value;return value}innerResult=call$d(innerResult,iterator2)}catch(error){innerError=true;innerResult=error}if(kind==="throw")throw value;if(innerError)throw innerResult;anObject$a(innerResult);return value};var anObject$9=anObject$f;var iteratorClose$1=iteratorClose$2;var callWithSafeIterationClosing$1=function(iterator2,fn,value,ENTRIES2){try{return ENTRIES2?fn(anObject$9(value)[0],value[1]):fn(value)}catch(error){iteratorClose$1(iterator2,"throw",error)}};var wellKnownSymbol$i=wellKnownSymbol$p;var Iterators$3=iterators;var ITERATOR$4=wellKnownSymbol$i("iterator");var ArrayPrototype$j=Array.prototype;var isArrayIteratorMethod$2=function(it2){return it2!==void 0&&(Iterators$3.Array===it2||ArrayPrototype$j[ITERATOR$4]===it2)};var uncurryThis$l=functionUncurryThis;var isCallable$9=isCallable$m;var store=sharedStore;var functionToString=uncurryThis$l(Function.toString);if(!isCallable$9(store.inspectSource)){store.inspectSource=function(it2){return functionToString(it2)}}var inspectSource$2=store.inspectSource;var uncurryThis$k=functionUncurryThis;var fails$p=fails$A;var isCallable$8=isCallable$m;var classof$c=classof$f;var getBuiltIn$c=getBuiltIn$f;var inspectSource$1=inspectSource$2;var noop=function(){};var empty=[];var construct$3=getBuiltIn$c("Reflect","construct");var constructorRegExp=/^\s*(?:class|function)\b/;var exec$2=uncurryThis$k(constructorRegExp.exec);var INCORRECT_TO_STRING=!constructorRegExp.test(noop);var isConstructorModern=function isConstructor2(argument){if(!isCallable$8(argument))return false;try{construct$3(noop,empty,argument);return true}catch(error){return false}};var isConstructorLegacy=function isConstructor2(argument){if(!isCallable$8(argument))return false;switch(classof$c(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource$1(argument))}catch(error){return true}};isConstructorLegacy.sham=true;var isConstructor$4=!construct$3||fails$p(function(){var called2;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){called2=true})||called2})?isConstructorLegacy:isConstructorModern;var toPropertyKey$1=toPropertyKey$4;var definePropertyModule$2=objectDefineProperty;var createPropertyDescriptor$3=createPropertyDescriptor$7;var createProperty$6=function(object2,key,value){var propertyKey=toPropertyKey$1(key);if(propertyKey in object2)definePropertyModule$2.f(object2,propertyKey,createPropertyDescriptor$3(0,value));else object2[propertyKey]=value};var classof$b=classof$f;var getMethod=getMethod$3;var isNullOrUndefined$4=isNullOrUndefined$7;var Iterators$2=iterators;var wellKnownSymbol$h=wellKnownSymbol$p;var ITERATOR$3=wellKnownSymbol$h("iterator");var getIteratorMethod$9=function(it2){if(!isNullOrUndefined$4(it2))return getMethod(it2,ITERATOR$3)||getMethod(it2,"@@iterator")||Iterators$2[classof$b(it2)]};var call$c=functionCall;var aCallable$9=aCallable$e;var anObject$8=anObject$f;var tryToString$4=tryToString$6;var getIteratorMethod$8=getIteratorMethod$9;var $TypeError$a=TypeError;var getIterator$8=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod$8(argument):usingIterator;if(aCallable$9(iteratorMethod))return anObject$8(call$c(iteratorMethod,argument));throw new $TypeError$a(tryToString$4(argument)+" is not iterable")};var bind$b=functionBindContext;var call$b=functionCall;var toObject$b=toObject$f;var callWithSafeIterationClosing=callWithSafeIterationClosing$1;var isArrayIteratorMethod$1=isArrayIteratorMethod$2;var isConstructor$3=isConstructor$4;var lengthOfArrayLike$c=lengthOfArrayLike$e;var createProperty$5=createProperty$6;var getIterator$7=getIterator$8;var getIteratorMethod$7=getIteratorMethod$9;var $Array$3=Array;var arrayFrom=function from2(arrayLike){var O=toObject$b(arrayLike);var IS_CONSTRUCTOR=isConstructor$3(this);var argumentsLength=arguments.length;var mapfn=argumentsLength>1?arguments[1]:void 0;var mapping=mapfn!==void 0;if(mapping)mapfn=bind$b(mapfn,argumentsLength>2?arguments[2]:void 0);var iteratorMethod=getIteratorMethod$7(O);var index2=0;var length2,result,step,iterator2,next2,value;if(iteratorMethod&&!(this===$Array$3&&isArrayIteratorMethod$1(iteratorMethod))){iterator2=getIterator$7(O,iteratorMethod);next2=iterator2.next;result=IS_CONSTRUCTOR?new this:[];for(;!(step=call$b(next2,iterator2)).done;index2++){value=mapping?callWithSafeIterationClosing(iterator2,mapfn,[step.value,index2],true):step.value;createProperty$5(result,index2,value)}}else{length2=lengthOfArrayLike$c(O);result=IS_CONSTRUCTOR?new this(length2):$Array$3(length2);for(;length2>index2;index2++){value=mapping?mapfn(O[index2],index2):O[index2];createProperty$5(result,index2,value)}}result.length=index2;return result};var wellKnownSymbol$g=wellKnownSymbol$p;var ITERATOR$2=wellKnownSymbol$g("iterator");var SAFE_CLOSING=false;try{var called=0;var iteratorWithReturn={next:function(){return{done:!!called++}},"return":function(){SAFE_CLOSING=true}};iteratorWithReturn[ITERATOR$2]=function(){return this};Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}var checkCorrectnessOfIteration$2=function(exec2,SKIP_CLOSING){try{if(!SKIP_CLOSING&&!SAFE_CLOSING)return false}catch(error){return false}var ITERATION_SUPPORT=false;try{var object2={};object2[ITERATOR$2]=function(){return{next:function(){return{done:ITERATION_SUPPORT=true}}}};exec2(object2)}catch(error){}return ITERATION_SUPPORT};var $$$=_export;var from$6=arrayFrom;var checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$2;var INCORRECT_ITERATION=!checkCorrectnessOfIteration$1(function(iterable){Array.from(iterable)});$$$({target:"Array",stat:true,forced:INCORRECT_ITERATION},{from:from$6});var path$v=path$A;var from$5=path$v.Array.from;var parent$1p=from$5;var from$4=parent$1p;var from$3=from$4;var _Array$from$1=getDefaultExportFromCjs(from$3);var toIndexedObject$6=toIndexedObject$b;var Iterators$1=iterators;var InternalStateModule$5=internalState;objectDefineProperty.f;var defineIterator$1=iteratorDefine;var createIterResultObject$1=createIterResultObject$3;var ARRAY_ITERATOR="Array Iterator";var setInternalState$5=InternalStateModule$5.set;var getInternalState$1=InternalStateModule$5.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(iterated,kind){setInternalState$5(this,{type:ARRAY_ITERATOR,target:toIndexedObject$6(iterated),index:0,kind})},function(){var state=getInternalState$1(this);var target=state.target;var kind=state.kind;var index2=state.index++;if(!target||index2>=target.length){state.target=void 0;return createIterResultObject$1(void 0,true)}switch(kind){case"keys":return createIterResultObject$1(index2,false);case"values":return createIterResultObject$1(target[index2],false)}return createIterResultObject$1([index2,target[index2]],false)},"values");Iterators$1.Arguments=Iterators$1.Array;var getIteratorMethod$6=getIteratorMethod$9;var getIteratorMethod_1=getIteratorMethod$6;var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var DOMIterables$4=domIterables;var global$h=global$s;var classof$a=classof$f;var createNonEnumerableProperty$4=createNonEnumerableProperty$9;var Iterators=iterators;var wellKnownSymbol$f=wellKnownSymbol$p;var TO_STRING_TAG$1=wellKnownSymbol$f("toStringTag");for(var COLLECTION_NAME in DOMIterables$4){var Collection=global$h[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&classof$a(CollectionPrototype)!==TO_STRING_TAG$1){createNonEnumerableProperty$4(CollectionPrototype,TO_STRING_TAG$1,COLLECTION_NAME)}Iterators[COLLECTION_NAME]=Iterators.Array}var parent$1o=getIteratorMethod_1;var getIteratorMethod$5=parent$1o;var parent$1n=getIteratorMethod$5;var getIteratorMethod$4=parent$1n;var parent$1m=getIteratorMethod$4;var getIteratorMethod$3=parent$1m;var getIteratorMethod$2=getIteratorMethod$3;var _getIteratorMethod$1=getDefaultExportFromCjs(getIteratorMethod$2);var getIteratorMethod$1=getIteratorMethod$2;var _getIteratorMethod=getDefaultExportFromCjs(getIteratorMethod$1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var defineProperty$c={exports:{}};var $$_=_export;var DESCRIPTORS$a=descriptors;var defineProperty$b=objectDefineProperty.f;$$_({target:"Object",stat:true,forced:Object.defineProperty!==defineProperty$b,sham:!DESCRIPTORS$a},{defineProperty:defineProperty$b});var path$u=path$A;var Object$5=path$u.Object;var defineProperty$a=defineProperty$c.exports=function defineProperty2(it2,key,desc){return Object$5.defineProperty(it2,key,desc)};if(Object$5.defineProperty.sham)defineProperty$a.sham=true;var definePropertyExports=defineProperty$c.exports;var parent$1l=definePropertyExports;var defineProperty$9=parent$1l;var parent$1k=defineProperty$9;var defineProperty$8=parent$1k;var parent$1j=defineProperty$8;var defineProperty$7=parent$1j;var defineProperty$6=defineProperty$7;var _Object$defineProperty$1=getDefaultExportFromCjs(defineProperty$6);var classof$9=classofRaw$2;var isArray$f=Array.isArray||function isArray2(argument){return classof$9(argument)==="Array"};var $TypeError$9=TypeError;var MAX_SAFE_INTEGER=9007199254740991;var doesNotExceedSafeInteger$4=function(it2){if(it2>MAX_SAFE_INTEGER)throw $TypeError$9("Maximum allowed index exceeded");return it2};var isArray$e=isArray$f;var isConstructor$2=isConstructor$4;var isObject$e=isObject$m;var wellKnownSymbol$e=wellKnownSymbol$p;var SPECIES$5=wellKnownSymbol$e("species");var $Array$2=Array;var arraySpeciesConstructor$1=function(originalArray){var C;if(isArray$e(originalArray)){C=originalArray.constructor;if(isConstructor$2(C)&&(C===$Array$2||isArray$e(C.prototype)))C=void 0;else if(isObject$e(C)){C=C[SPECIES$5];if(C===null)C=void 0}}return C===void 0?$Array$2:C};var arraySpeciesConstructor=arraySpeciesConstructor$1;var arraySpeciesCreate$4=function(originalArray,length2){return new(arraySpeciesConstructor(originalArray))(length2===0?0:length2)};var fails$o=fails$A;var wellKnownSymbol$d=wellKnownSymbol$p;var V8_VERSION$2=engineV8Version;var SPECIES$4=wellKnownSymbol$d("species");var arrayMethodHasSpeciesSupport$5=function(METHOD_NAME){return V8_VERSION$2>=51||!fails$o(function(){var array2=[];var constructor=array2.constructor={};constructor[SPECIES$4]=function(){return{foo:1}};return array2[METHOD_NAME](Boolean).foo!==1})};var $$Z=_export;var fails$n=fails$A;var isArray$d=isArray$f;var isObject$d=isObject$m;var toObject$a=toObject$f;var lengthOfArrayLike$b=lengthOfArrayLike$e;var doesNotExceedSafeInteger$3=doesNotExceedSafeInteger$4;var createProperty$4=createProperty$6;var arraySpeciesCreate$3=arraySpeciesCreate$4;var arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5;var wellKnownSymbol$c=wellKnownSymbol$p;var V8_VERSION$1=engineV8Version;var IS_CONCAT_SPREADABLE=wellKnownSymbol$c("isConcatSpreadable");var IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION$1>=51||!fails$n(function(){var array2=[];array2[IS_CONCAT_SPREADABLE]=false;return array2.concat()[0]!==array2});var isConcatSpreadable=function(O){if(!isObject$d(O))return false;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==void 0?!!spreadable:isArray$d(O)};var FORCED$a=!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport$4("concat");$$Z({target:"Array",proto:true,forced:FORCED$a},{concat:function concat2(arg){var O=toObject$a(this);var A=arraySpeciesCreate$3(O,0);var n=0;var i2,k,length2,len,E;for(i2=-1,length2=arguments.length;i2<length2;i2++){E=i2===-1?O:arguments[i2];if(isConcatSpreadable(E)){len=lengthOfArrayLike$b(E);doesNotExceedSafeInteger$3(n+len);for(k=0;k<len;k++,n++)if(k in E)createProperty$4(A,n,E[k])}else{doesNotExceedSafeInteger$3(n+1);createProperty$4(A,n++,E)}}A.length=n;return A}});var objectGetOwnPropertyNames={};var internalObjectKeys=objectKeysInternal;var enumBugKeys=enumBugKeys$3;var hiddenKeys$2=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function getOwnPropertyNames2(O){return internalObjectKeys(O,hiddenKeys$2)};var objectGetOwnPropertyNamesExternal={};var toAbsoluteIndex$3=toAbsoluteIndex$5;var lengthOfArrayLike$a=lengthOfArrayLike$e;var createProperty$3=createProperty$6;var $Array$1=Array;var max$2=Math.max;var arraySliceSimple=function(O,start,end){var length2=lengthOfArrayLike$a(O);var k=toAbsoluteIndex$3(start,length2);var fin=toAbsoluteIndex$3(end===void 0?length2:end,length2);var result=$Array$1(max$2(fin-k,0));var n=0;for(;k<fin;k++,n++)createProperty$3(result,n,O[k]);result.length=n;return result};var classof$8=classofRaw$2;var toIndexedObject$5=toIndexedObject$b;var $getOwnPropertyNames$1=objectGetOwnPropertyNames.f;var arraySlice$4=arraySliceSimple;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it2){try{return $getOwnPropertyNames$1(it2)}catch(error){return arraySlice$4(windowNames)}};objectGetOwnPropertyNamesExternal.f=function getOwnPropertyNames2(it2){return windowNames&&classof$8(it2)==="Window"?getWindowNames(it2):$getOwnPropertyNames$1(toIndexedObject$5(it2))};var defineProperty$5=objectDefineProperty;var defineBuiltInAccessor$3=function(target,name,descriptor){return defineProperty$5.f(target,name,descriptor)};var wellKnownSymbolWrapped={};var wellKnownSymbol$b=wellKnownSymbol$p;wellKnownSymbolWrapped.f=wellKnownSymbol$b;var path$t=path$A;var hasOwn$c=hasOwnProperty_1;var wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped;var defineProperty$4=objectDefineProperty.f;var wellKnownSymbolDefine=function(NAME){var Symbol2=path$t.Symbol||(path$t.Symbol={});if(!hasOwn$c(Symbol2,NAME))defineProperty$4(Symbol2,NAME,{value:wrappedWellKnownSymbolModule$1.f(NAME)})};var call$a=functionCall;var getBuiltIn$b=getBuiltIn$f;var wellKnownSymbol$a=wellKnownSymbol$p;var defineBuiltIn$3=defineBuiltIn$6;var symbolDefineToPrimitive=function(){var Symbol2=getBuiltIn$b("Symbol");var SymbolPrototype2=Symbol2&&Symbol2.prototype;var valueOf=SymbolPrototype2&&SymbolPrototype2.valueOf;var TO_PRIMITIVE2=wellKnownSymbol$a("toPrimitive");if(SymbolPrototype2&&!SymbolPrototype2[TO_PRIMITIVE2]){defineBuiltIn$3(SymbolPrototype2,TO_PRIMITIVE2,function(hint){return call$a(valueOf,this)},{})}};var bind$a=functionBindContext;var uncurryThis$j=functionUncurryThis;var IndexedObject$1=indexedObject;var toObject$9=toObject$f;var lengthOfArrayLike$9=lengthOfArrayLike$e;var arraySpeciesCreate$2=arraySpeciesCreate$4;var push$c=uncurryThis$j([].push);var createMethod$3=function(TYPE){var IS_MAP=TYPE===1;var IS_FILTER=TYPE===2;var IS_SOME=TYPE===3;var IS_EVERY=TYPE===4;var IS_FIND_INDEX=TYPE===6;var IS_FILTER_REJECT=TYPE===7;var NO_HOLES=TYPE===5||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){var O=toObject$9($this);var self2=IndexedObject$1(O);var boundFunction=bind$a(callbackfn,that);var length2=lengthOfArrayLike$9(self2);var index2=0;var create2=specificCreate||arraySpeciesCreate$2;var target=IS_MAP?create2($this,length2):IS_FILTER||IS_FILTER_REJECT?create2($this,0):void 0;var value,result;for(;length2>index2;index2++)if(NO_HOLES||index2 in self2){value=self2[index2];result=boundFunction(value,index2,O);if(TYPE){if(IS_MAP)target[index2]=result;else if(result)switch(TYPE){case 3:return true;case 5:return value;case 6:return index2;case 2:push$c(target,value)}else switch(TYPE){case 4:return false;case 7:push$c(target,value)}}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};var arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6)};var $$Y=_export;var global$g=global$s;var call$9=functionCall;var uncurryThis$i=functionUncurryThis;var DESCRIPTORS$9=descriptors;var NATIVE_SYMBOL$3=symbolConstructorDetection;var fails$m=fails$A;var hasOwn$b=hasOwnProperty_1;var isPrototypeOf$m=objectIsPrototypeOf;var anObject$7=anObject$f;var toIndexedObject$4=toIndexedObject$b;var toPropertyKey=toPropertyKey$4;var $toString=toString$b;var createPropertyDescriptor$2=createPropertyDescriptor$7;var nativeObjectCreate=objectCreate;var objectKeys$1=objectKeys$4;var getOwnPropertyNamesModule$2=objectGetOwnPropertyNames;var getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal;var getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols;var getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor;var definePropertyModule$1=objectDefineProperty;var definePropertiesModule=objectDefineProperties;var propertyIsEnumerableModule=objectPropertyIsEnumerable;var defineBuiltIn$2=defineBuiltIn$6;var defineBuiltInAccessor$2=defineBuiltInAccessor$3;var shared$3=sharedExports;var sharedKey=sharedKey$4;var hiddenKeys$1=hiddenKeys$6;var uid$1=uid$4;var wellKnownSymbol$9=wellKnownSymbol$p;var wrappedWellKnownSymbolModule=wellKnownSymbolWrapped;var defineWellKnownSymbol$l=wellKnownSymbolDefine;var defineSymbolToPrimitive$1=symbolDefineToPrimitive;var setToStringTag$4=setToStringTag$7;var InternalStateModule$4=internalState;var $forEach$1=arrayIteration.forEach;var HIDDEN=sharedKey("hidden");var SYMBOL="Symbol";var PROTOTYPE="prototype";var setInternalState$4=InternalStateModule$4.set;var getInternalState=InternalStateModule$4.getterFor(SYMBOL);var ObjectPrototype$1=Object[PROTOTYPE];var $Symbol=global$g.Symbol;var SymbolPrototype=$Symbol&&$Symbol[PROTOTYPE];var RangeError$1=global$g.RangeError;var TypeError$2=global$g.TypeError;var QObject=global$g.QObject;var nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$3.f;var nativeDefineProperty=definePropertyModule$1.f;var nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f;var nativePropertyIsEnumerable=propertyIsEnumerableModule.f;var push$b=uncurryThis$i([].push);var AllSymbols=shared$3("symbols");var ObjectPrototypeSymbols=shared$3("op-symbols");var WellKnownSymbolsStore$1=shared$3("wks");var USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var fallbackDefineProperty=function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor$1(ObjectPrototype$1,P);if(ObjectPrototypeDescriptor)delete ObjectPrototype$1[P];nativeDefineProperty(O,P,Attributes);if(ObjectPrototypeDescriptor&&O!==ObjectPrototype$1){nativeDefineProperty(ObjectPrototype$1,P,ObjectPrototypeDescriptor)}};var setSymbolDescriptor=DESCRIPTORS$9&&fails$m(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!==7})?fallbackDefineProperty:nativeDefineProperty;var wrap=function(tag,description){var symbol2=AllSymbols[tag]=nativeObjectCreate(SymbolPrototype);setInternalState$4(symbol2,{type:SYMBOL,tag,description});if(!DESCRIPTORS$9)symbol2.description=description;return symbol2};var $defineProperty=function defineProperty2(O,P,Attributes){if(O===ObjectPrototype$1)$defineProperty(ObjectPrototypeSymbols,P,Attributes);anObject$7(O);var key=toPropertyKey(P);anObject$7(Attributes);if(hasOwn$b(AllSymbols,key)){if(!Attributes.enumerable){if(!hasOwn$b(O,HIDDEN))nativeDefineProperty(O,HIDDEN,createPropertyDescriptor$2(1,{}));O[HIDDEN][key]=true}else{if(hasOwn$b(O,HIDDEN)&&O[HIDDEN][key])O[HIDDEN][key]=false;Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor$2(0,false)})}return setSymbolDescriptor(O,key,Attributes)}return nativeDefineProperty(O,key,Attributes)};var $defineProperties=function defineProperties2(O,Properties){anObject$7(O);var properties=toIndexedObject$4(Properties);var keys2=objectKeys$1(properties).concat($getOwnPropertySymbols(properties));$forEach$1(keys2,function(key){if(!DESCRIPTORS$9||call$9($propertyIsEnumerable$1,properties,key))$defineProperty(O,key,properties[key])});return O};var $create=function create2(O,Properties){return Properties===void 0?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)};var $propertyIsEnumerable$1=function propertyIsEnumerable2(V){var P=toPropertyKey(V);var enumerable=call$9(nativePropertyIsEnumerable,this,P);if(this===ObjectPrototype$1&&hasOwn$b(AllSymbols,P)&&!hasOwn$b(ObjectPrototypeSymbols,P))return false;return enumerable||!hasOwn$b(this,P)||!hasOwn$b(AllSymbols,P)||hasOwn$b(this,HIDDEN)&&this[HIDDEN][P]?enumerable:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor2(O,P){var it2=toIndexedObject$4(O);var key=toPropertyKey(P);if(it2===ObjectPrototype$1&&hasOwn$b(AllSymbols,key)&&!hasOwn$b(ObjectPrototypeSymbols,key))return;var descriptor=nativeGetOwnPropertyDescriptor$1(it2,key);if(descriptor&&hasOwn$b(AllSymbols,key)&&!(hasOwn$b(it2,HIDDEN)&&it2[HIDDEN][key])){descriptor.enumerable=true}return descriptor};var $getOwnPropertyNames=function getOwnPropertyNames2(O){var names=nativeGetOwnPropertyNames(toIndexedObject$4(O));var result=[];$forEach$1(names,function(key){if(!hasOwn$b(AllSymbols,key)&&!hasOwn$b(hiddenKeys$1,key))push$b(result,key)});return result};var $getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype$1;var names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject$4(O));var result=[];$forEach$1(names,function(key){if(hasOwn$b(AllSymbols,key)&&(!IS_OBJECT_PROTOTYPE||hasOwn$b(ObjectPrototype$1,key))){push$b(result,AllSymbols[key])}});return result};if(!NATIVE_SYMBOL$3){$Symbol=function Symbol2(){if(isPrototypeOf$m(SymbolPrototype,this))throw new TypeError$2("Symbol is not a constructor");var description=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]);var tag=uid$1(description);var setter=function(value){if(this===ObjectPrototype$1)call$9(setter,ObjectPrototypeSymbols,value);if(hasOwn$b(this,HIDDEN)&&hasOwn$b(this[HIDDEN],tag))this[HIDDEN][tag]=false;var descriptor=createPropertyDescriptor$2(1,value);try{setSymbolDescriptor(this,tag,descriptor)}catch(error){if(!(error instanceof RangeError$1))throw error;fallbackDefineProperty(this,tag,descriptor)}};if(DESCRIPTORS$9&&USE_SETTER)setSymbolDescriptor(ObjectPrototype$1,tag,{configurable:true,set:setter});return wrap(tag,description)};SymbolPrototype=$Symbol[PROTOTYPE];defineBuiltIn$2(SymbolPrototype,"toString",function toString2(){return getInternalState(this).tag});defineBuiltIn$2($Symbol,"withoutSetter",function(description){return wrap(uid$1(description),description)});propertyIsEnumerableModule.f=$propertyIsEnumerable$1;definePropertyModule$1.f=$defineProperty;definePropertiesModule.f=$defineProperties;getOwnPropertyDescriptorModule$3.f=$getOwnPropertyDescriptor;getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames;getOwnPropertySymbolsModule$2.f=$getOwnPropertySymbols;wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol$9(name),name)};if(DESCRIPTORS$9){defineBuiltInAccessor$2(SymbolPrototype,"description",{configurable:true,get:function description(){return getInternalState(this).description}})}}$$Y({global:true,wrap:true,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol});$forEach$1(objectKeys$1(WellKnownSymbolsStore$1),function(name){defineWellKnownSymbol$l(name)});$$Y({target:SYMBOL,stat:true,forced:!NATIVE_SYMBOL$3},{useSetter:function(){USE_SETTER=true},useSimple:function(){USE_SETTER=false}});$$Y({target:"Object",stat:true,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$9},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$Y({target:"Object",stat:true,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames});defineSymbolToPrimitive$1();setToStringTag$4($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=true;var NATIVE_SYMBOL$2=symbolConstructorDetection;var symbolRegistryDetection=NATIVE_SYMBOL$2&&!!Symbol["for"]&&!!Symbol.keyFor;var $$X=_export;var getBuiltIn$a=getBuiltIn$f;var hasOwn$a=hasOwnProperty_1;var toString$7=toString$b;var shared$2=sharedExports;var NATIVE_SYMBOL_REGISTRY$1=symbolRegistryDetection;var StringToSymbolRegistry=shared$2("string-to-symbol-registry");var SymbolToStringRegistry$1=shared$2("symbol-to-string-registry");$$X({target:"Symbol",stat:true,forced:!NATIVE_SYMBOL_REGISTRY$1},{"for":function(key){var string2=toString$7(key);if(hasOwn$a(StringToSymbolRegistry,string2))return StringToSymbolRegistry[string2];var symbol2=getBuiltIn$a("Symbol")(string2);StringToSymbolRegistry[string2]=symbol2;SymbolToStringRegistry$1[symbol2]=string2;return symbol2}});var $$W=_export;var hasOwn$9=hasOwnProperty_1;var isSymbol$2=isSymbol$5;var tryToString$3=tryToString$6;var shared$1=sharedExports;var NATIVE_SYMBOL_REGISTRY=symbolRegistryDetection;var SymbolToStringRegistry=shared$1("symbol-to-string-registry");$$W({target:"Symbol",stat:true,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function keyFor2(sym){if(!isSymbol$2(sym))throw new TypeError(tryToString$3(sym)+" is not a symbol");if(hasOwn$9(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]}});var uncurryThis$h=functionUncurryThis;var isArray$c=isArray$f;var isCallable$7=isCallable$m;var classof$7=classofRaw$2;var toString$6=toString$b;var push$a=uncurryThis$h([].push);var getJsonReplacerFunction=function(replacer){if(isCallable$7(replacer))return replacer;if(!isArray$c(replacer))return;var rawLength=replacer.length;var keys2=[];for(var i2=0;i2<rawLength;i2++){var element=replacer[i2];if(typeof element=="string")push$a(keys2,element);else if(typeof element=="number"||classof$7(element)==="Number"||classof$7(element)==="String")push$a(keys2,toString$6(element))}var keysLength=keys2.length;var root=true;return function(key,value){if(root){root=false;return value}if(isArray$c(this))return value;for(var j=0;j<keysLength;j++)if(keys2[j]===key)return value}};var $$V=_export;var getBuiltIn$9=getBuiltIn$f;var apply$4=functionApply;var call$8=functionCall;var uncurryThis$g=functionUncurryThis;var fails$l=fails$A;var isCallable$6=isCallable$m;var isSymbol$1=isSymbol$5;var arraySlice$3=arraySlice$6;var getReplacerFunction=getJsonReplacerFunction;var NATIVE_SYMBOL$1=symbolConstructorDetection;var $String=String;var $stringify=getBuiltIn$9("JSON","stringify");var exec$1=uncurryThis$g(/./.exec);var charAt$1=uncurryThis$g("".charAt);var charCodeAt=uncurryThis$g("".charCodeAt);var replace$2=uncurryThis$g("".replace);var numberToString=uncurryThis$g(1 .toString);var tester=/[\uD800-\uDFFF]/g;var low=/^[\uD800-\uDBFF]$/;var hi=/^[\uDC00-\uDFFF]$/;var WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$1||fails$l(function(){var symbol2=getBuiltIn$9("Symbol")("stringify detection");return $stringify([symbol2])!=="[null]"||$stringify({a:symbol2})!=="{}"||$stringify(Object(symbol2))!=="{}"});var ILL_FORMED_UNICODE=fails$l(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'});var stringifyWithSymbolsFix=function(it2,replacer){var args2=arraySlice$3(arguments);var $replacer=getReplacerFunction(replacer);if(!isCallable$6($replacer)&&(it2===void 0||isSymbol$1(it2)))return;args2[1]=function(key,value){if(isCallable$6($replacer))value=call$8($replacer,this,$String(key),value);if(!isSymbol$1(value))return value};return apply$4($stringify,null,args2)};var fixIllFormed=function(match2,offset,string2){var prev=charAt$1(string2,offset-1);var next2=charAt$1(string2,offset+1);if(exec$1(low,match2)&&!exec$1(hi,next2)||exec$1(hi,match2)&&!exec$1(low,prev)){return"\\u"+numberToString(charCodeAt(match2,0),16)}return match2};if($stringify){$$V({target:"JSON",stat:true,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function stringify2(it2,replacer,space){var args2=arraySlice$3(arguments);var result=apply$4(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,args2);return ILL_FORMED_UNICODE&&typeof result=="string"?replace$2(result,tester,fixIllFormed):result}})}var $$U=_export;var NATIVE_SYMBOL=symbolConstructorDetection;var fails$k=fails$A;var getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols;var toObject$8=toObject$f;var FORCED$9=!NATIVE_SYMBOL||fails$k(function(){getOwnPropertySymbolsModule$1.f(1)});$$U({target:"Object",stat:true,forced:FORCED$9},{getOwnPropertySymbols:function getOwnPropertySymbols2(it2){var $getOwnPropertySymbols2=getOwnPropertySymbolsModule$1.f;return $getOwnPropertySymbols2?$getOwnPropertySymbols2(toObject$8(it2)):[]}});var defineWellKnownSymbol$k=wellKnownSymbolDefine;defineWellKnownSymbol$k("asyncIterator");var defineWellKnownSymbol$j=wellKnownSymbolDefine;defineWellKnownSymbol$j("hasInstance");var defineWellKnownSymbol$i=wellKnownSymbolDefine;defineWellKnownSymbol$i("isConcatSpreadable");var defineWellKnownSymbol$h=wellKnownSymbolDefine;defineWellKnownSymbol$h("iterator");var defineWellKnownSymbol$g=wellKnownSymbolDefine;defineWellKnownSymbol$g("match");var defineWellKnownSymbol$f=wellKnownSymbolDefine;defineWellKnownSymbol$f("matchAll");var defineWellKnownSymbol$e=wellKnownSymbolDefine;defineWellKnownSymbol$e("replace");var defineWellKnownSymbol$d=wellKnownSymbolDefine;defineWellKnownSymbol$d("search");var defineWellKnownSymbol$c=wellKnownSymbolDefine;defineWellKnownSymbol$c("species");var defineWellKnownSymbol$b=wellKnownSymbolDefine;defineWellKnownSymbol$b("split");var defineWellKnownSymbol$a=wellKnownSymbolDefine;var defineSymbolToPrimitive=symbolDefineToPrimitive;defineWellKnownSymbol$a("toPrimitive");defineSymbolToPrimitive();var getBuiltIn$8=getBuiltIn$f;var defineWellKnownSymbol$9=wellKnownSymbolDefine;var setToStringTag$3=setToStringTag$7;defineWellKnownSymbol$9("toStringTag");setToStringTag$3(getBuiltIn$8("Symbol"),"Symbol");var defineWellKnownSymbol$8=wellKnownSymbolDefine;defineWellKnownSymbol$8("unscopables");var global$f=global$s;var setToStringTag$2=setToStringTag$7;setToStringTag$2(global$f.JSON,"JSON",true);var path$s=path$A;var symbol$5=path$s.Symbol;var parent$1i=symbol$5;var symbol$4=parent$1i;var wellKnownSymbol$8=wellKnownSymbol$p;var defineProperty$3=objectDefineProperty.f;var METADATA$1=wellKnownSymbol$8("metadata");var FunctionPrototype=Function.prototype;if(FunctionPrototype[METADATA$1]===void 0){defineProperty$3(FunctionPrototype,METADATA$1,{value:null})}var defineWellKnownSymbol$7=wellKnownSymbolDefine;defineWellKnownSymbol$7("asyncDispose");var defineWellKnownSymbol$6=wellKnownSymbolDefine;defineWellKnownSymbol$6("dispose");var defineWellKnownSymbol$5=wellKnownSymbolDefine;defineWellKnownSymbol$5("metadata");var parent$1h=symbol$4;var symbol$3=parent$1h;var getBuiltIn$7=getBuiltIn$f;var uncurryThis$f=functionUncurryThis;var Symbol$4=getBuiltIn$7("Symbol");var keyFor=Symbol$4.keyFor;var thisSymbolValue$1=uncurryThis$f(Symbol$4.prototype.valueOf);var symbolIsRegistered=Symbol$4.isRegisteredSymbol||function isRegisteredSymbol2(value){try{return keyFor(thisSymbolValue$1(value))!==void 0}catch(error){return false}};var $$T=_export;var isRegisteredSymbol$1=symbolIsRegistered;$$T({target:"Symbol",stat:true},{isRegisteredSymbol:isRegisteredSymbol$1});var shared=sharedExports;var getBuiltIn$6=getBuiltIn$f;var uncurryThis$e=functionUncurryThis;var isSymbol=isSymbol$5;var wellKnownSymbol$7=wellKnownSymbol$p;var Symbol$3=getBuiltIn$6("Symbol");var $isWellKnownSymbol=Symbol$3.isWellKnownSymbol;var getOwnPropertyNames$4=getBuiltIn$6("Object","getOwnPropertyNames");var thisSymbolValue=uncurryThis$e(Symbol$3.prototype.valueOf);var WellKnownSymbolsStore=shared("wks");for(var i=0,symbolKeys=getOwnPropertyNames$4(Symbol$3),symbolKeysLength=symbolKeys.length;i<symbolKeysLength;i++){try{var symbolKey=symbolKeys[i];if(isSymbol(Symbol$3[symbolKey]))wellKnownSymbol$7(symbolKey)}catch(error){}}var symbolIsWellKnown=function isWellKnownSymbol2(value){if($isWellKnownSymbol&&$isWellKnownSymbol(value))return true;try{var symbol2=thisSymbolValue(value);for(var j=0,keys2=getOwnPropertyNames$4(WellKnownSymbolsStore),keysLength=keys2.length;j<keysLength;j++){if(WellKnownSymbolsStore[keys2[j]]==symbol2)return true}}catch(error){}return false};var $$S=_export;var isWellKnownSymbol$1=symbolIsWellKnown;$$S({target:"Symbol",stat:true,forced:true},{isWellKnownSymbol:isWellKnownSymbol$1});var defineWellKnownSymbol$4=wellKnownSymbolDefine;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=wellKnownSymbolDefine;defineWellKnownSymbol$3("observable");var $$R=_export;var isRegisteredSymbol=symbolIsRegistered;$$R({target:"Symbol",stat:true},{isRegistered:isRegisteredSymbol});var $$Q=_export;var isWellKnownSymbol=symbolIsWellKnown;$$Q({target:"Symbol",stat:true,forced:true},{isWellKnown:isWellKnownSymbol});var defineWellKnownSymbol$2=wellKnownSymbolDefine;defineWellKnownSymbol$2("metadataKey");var defineWellKnownSymbol$1=wellKnownSymbolDefine;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=wellKnownSymbolDefine;defineWellKnownSymbol("replaceAll");var parent$1g=symbol$3;var symbol$2=parent$1g;var symbol$1=symbol$2;var _Symbol$1=getDefaultExportFromCjs(symbol$1);var WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped;var iterator$5=WrappedWellKnownSymbolModule$1.f("iterator");var parent$1f=iterator$5;var iterator$4=parent$1f;var parent$1e=iterator$4;var iterator$3=parent$1e;var parent$1d=iterator$3;var iterator$2=parent$1d;var iterator$1=iterator$2;var _Symbol$iterator$1=getDefaultExportFromCjs(iterator$1);function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1="function"==typeof _Symbol$1&&"symbol"==typeof _Symbol$iterator$1?function(o2){return typeof o2}:function(o2){return o2&&"function"==typeof _Symbol$1&&o2.constructor===_Symbol$1&&o2!==_Symbol$1.prototype?"symbol":typeof o2},_typeof$1(o)}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped;var toPrimitive$4=WrappedWellKnownSymbolModule.f("toPrimitive");var parent$1c=toPrimitive$4;var toPrimitive$3=parent$1c;var parent$1b=toPrimitive$3;var toPrimitive$2=parent$1b;var parent$1a=toPrimitive$2;var toPrimitive$1=parent$1a;var toPrimitive=toPrimitive$1;var _Symbol$toPrimitive=getDefaultExportFromCjs(toPrimitive);function _toPrimitive(input,hint){if(_typeof$1(input)!=="object"||input===null)return input;var prim=input[_Symbol$toPrimitive];if(prim!==void 0){var res=prim.call(input,hint);if(_typeof$1(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof$1(key)==="symbol"?key:String(key)}function _defineProperties(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;_Object$defineProperty$1(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);_Object$defineProperty$1(Constructor,"prototype",{writable:false});return Constructor}var $$P=_export;var isArray$b=isArray$f;$$P({target:"Array",stat:true},{isArray:isArray$b});var path$r=path$A;var isArray$a=path$r.Array.isArray;var parent$19=isArray$a;var isArray$9=parent$19;var parent$18=isArray$9;var isArray$8=parent$18;var parent$17=isArray$8;var isArray$7=parent$17;var isArray$6=isArray$7;var _Array$isArray$1=getDefaultExportFromCjs(isArray$6);function _arrayWithHoles(arr){if(_Array$isArray$1(arr))return arr}var DESCRIPTORS$8=descriptors;var isArray$5=isArray$f;var $TypeError$8=TypeError;var getOwnPropertyDescriptor$8=Object.getOwnPropertyDescriptor;var SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$8&&!(function(){if(this!==void 0)return true;try{Object.defineProperty([],"length",{writable:false}).length=1}catch(error){return error instanceof TypeError}})();var arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(O,length2){if(isArray$5(O)&&!getOwnPropertyDescriptor$8(O,"length").writable){throw new $TypeError$8("Cannot set read only .length")}return O.length=length2}:function(O,length2){return O.length=length2};var $$O=_export;var toObject$7=toObject$f;var lengthOfArrayLike$8=lengthOfArrayLike$e;var setArrayLength$1=arraySetLength;var doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$4;var fails$j=fails$A;var INCORRECT_TO_LENGTH=fails$j(function(){return[].push.call({length:4294967296},1)!==4294967297});var properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:false}).push()}catch(error){return error instanceof TypeError}};var FORCED$8=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$O({target:"Array",proto:true,forced:FORCED$8},{push:function push2(item){var O=toObject$7(this);var len=lengthOfArrayLike$8(O);var argCount=arguments.length;doesNotExceedSafeInteger$2(len+argCount);for(var i2=0;i2<argCount;i2++){O[len]=arguments[i2];len++}setArrayLength$1(O,len);return len}});var entryVirtual$j=entryVirtual$l;var push$9=entryVirtual$j("Array").push;var isPrototypeOf$l=objectIsPrototypeOf;var method$h=push$9;var ArrayPrototype$i=Array.prototype;var push$8=function(it2){var own=it2.push;return it2===ArrayPrototype$i||isPrototypeOf$l(ArrayPrototype$i,it2)&&own===ArrayPrototype$i.push?method$h:own};var parent$16=push$8;var push$7=parent$16;var parent$15=push$7;var push$6=parent$15;var parent$14=push$6;var push$5=parent$14;var push$4=push$5;var _pushInstanceProperty=getDefaultExportFromCjs(push$4);function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof _Symbol$1&&_getIteratorMethod$1(r)||r["@@iterator"];if(null!=t){var e,n,i2,u,a=[],f=true,o=false;try{if(i2=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=false}else for(;!(f=(e=i2.call(t)).done)&&(_pushInstanceProperty(a).call(a,e.value),a.length!==l);f=true);}catch(r2){o=true,n=r2}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}var $$N=_export;var isArray$4=isArray$f;var isConstructor$1=isConstructor$4;var isObject$c=isObject$m;var toAbsoluteIndex$2=toAbsoluteIndex$5;var lengthOfArrayLike$7=lengthOfArrayLike$e;var toIndexedObject$3=toIndexedObject$b;var createProperty$2=createProperty$6;var wellKnownSymbol$6=wellKnownSymbol$p;var arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5;var nativeSlice=arraySlice$6;var HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("slice");var SPECIES$3=wellKnownSymbol$6("species");var $Array=Array;var max$1=Math.max;$$N({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$3},{slice:function slice2(start,end){var O=toIndexedObject$3(this);var length2=lengthOfArrayLike$7(O);var k=toAbsoluteIndex$2(start,length2);var fin=toAbsoluteIndex$2(end===void 0?length2:end,length2);var Constructor,result,n;if(isArray$4(O)){Constructor=O.constructor;if(isConstructor$1(Constructor)&&(Constructor===$Array||isArray$4(Constructor.prototype))){Constructor=void 0}else if(isObject$c(Constructor)){Constructor=Constructor[SPECIES$3];if(Constructor===null)Constructor=void 0}if(Constructor===$Array||Constructor===void 0){return nativeSlice(O,k,fin)}}result=new(Constructor===void 0?$Array:Constructor)(max$1(fin-k,0));for(n=0;k<fin;k++,n++)if(k in O)createProperty$2(result,n,O[k]);result.length=n;return result}});var entryVirtual$i=entryVirtual$l;var slice$6=entryVirtual$i("Array").slice;var isPrototypeOf$k=objectIsPrototypeOf;var method$g=slice$6;var ArrayPrototype$h=Array.prototype;var slice$5=function(it2){var own=it2.slice;return it2===ArrayPrototype$h||isPrototypeOf$k(ArrayPrototype$h,it2)&&own===ArrayPrototype$h.slice?method$g:own};var parent$13=slice$5;var slice$4=parent$13;var parent$12=slice$4;var slice$3=parent$12;var parent$11=slice$3;var slice$2=parent$11;var slice$1=slice$2;var _sliceInstanceProperty$1=getDefaultExportFromCjs(slice$1);var parent$10=from$4;var from$2=parent$10;var parent$$=from$2;var from$1=parent$$;var from=from$1;var _Array$from=getDefaultExportFromCjs(from);function _arrayLikeToArray$8(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _unsupportedIterableToArray$8(o,minLen){var _context;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$8(o,minLen);var n=_sliceInstanceProperty$1(_context=Object.prototype.toString.call(o)).call(_context,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(o,minLen)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(arr,i2){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i2)||_unsupportedIterableToArray$8(arr,i2)||_nonIterableRest()}function _arrayWithoutHoles(arr){if(_Array$isArray$1(arr))return _arrayLikeToArray$8(arr)}function _iterableToArray(iter){if(typeof _Symbol$1!=="undefined"&&_getIteratorMethod$1(iter)!=null||iter["@@iterator"]!=null)return _Array$from(iter)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray$8(arr)||_nonIterableSpread()}var symbol=symbol$4;var _Symbol=getDefaultExportFromCjs(symbol);var entryVirtual$h=entryVirtual$l;var concat$4=entryVirtual$h("Array").concat;var isPrototypeOf$j=objectIsPrototypeOf;var method$f=concat$4;var ArrayPrototype$g=Array.prototype;var concat$3=function(it2){var own=it2.concat;return it2===ArrayPrototype$g||isPrototypeOf$j(ArrayPrototype$g,it2)&&own===ArrayPrototype$g.concat?method$f:own};var parent$_=concat$3;var concat$2=parent$_;var concat$1=concat$2;var _concatInstanceProperty=getDefaultExportFromCjs(concat$1);var slice=slice$4;var _sliceInstanceProperty=getDefaultExportFromCjs(slice);var getBuiltIn$5=getBuiltIn$f;var uncurryThis$d=functionUncurryThis;var getOwnPropertyNamesModule$1=objectGetOwnPropertyNames;var getOwnPropertySymbolsModule=objectGetOwnPropertySymbols;var anObject$6=anObject$f;var concat=uncurryThis$d([].concat);var ownKeys$b=getBuiltIn$5("Reflect","ownKeys")||function ownKeys2(it2){var keys2=getOwnPropertyNamesModule$1.f(anObject$6(it2));var getOwnPropertySymbols2=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols2?concat(keys2,getOwnPropertySymbols2(it2)):keys2};var $$M=_export;var ownKeys$a=ownKeys$b;$$M({target:"Reflect",stat:true},{ownKeys:ownKeys$a});var path$q=path$A;var ownKeys$9=path$q.Reflect.ownKeys;var parent$Z=ownKeys$9;var ownKeys$8=parent$Z;var ownKeys$7=ownKeys$8;var _Reflect$ownKeys=getDefaultExportFromCjs(ownKeys$7);var isArray$3=isArray$9;var _Array$isArray=getDefaultExportFromCjs(isArray$3);var $$L=_export;var $map=arrayIteration.map;var arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$L({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$2},{map:function map2(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$g=entryVirtual$l;var map$6=entryVirtual$g("Array").map;var isPrototypeOf$i=objectIsPrototypeOf;var method$e=map$6;var ArrayPrototype$f=Array.prototype;var map$5=function(it2){var own=it2.map;return it2===ArrayPrototype$f||isPrototypeOf$i(ArrayPrototype$f,it2)&&own===ArrayPrototype$f.map?method$e:own};var parent$Y=map$5;var map$4=parent$Y;var map$3=map$4;var _mapInstanceProperty=getDefaultExportFromCjs(map$3);var $$K=_export;var toObject$6=toObject$f;var nativeKeys=objectKeys$4;var fails$i=fails$A;var FAILS_ON_PRIMITIVES$3=fails$i(function(){nativeKeys(1)});$$K({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES$3},{keys:function keys2(it2){return nativeKeys(toObject$6(it2))}});var path$p=path$A;var keys$6=path$p.Object.keys;var parent$X=keys$6;var keys$5=parent$X;var keys$4=keys$5;var _Object$keys=getDefaultExportFromCjs(keys$4);var $$J=_export;var uncurryThis$c=functionUncurryThis;var $Date=Date;var thisTimeValue=uncurryThis$c($Date.prototype.getTime);$$J({target:"Date",stat:true},{now:function now2(){return thisTimeValue(new $Date)}});var path$o=path$A;var now$3=path$o.Date.now;var parent$W=now$3;var now$2=parent$W;var now$1=now$2;var _Date$now=getDefaultExportFromCjs(now$1);var fails$h=fails$A;var arrayMethodIsStrict$6=function(METHOD_NAME,argument){var method2=[][METHOD_NAME];return!!method2&&fails$h(function(){method2.call(null,argument||function(){return 1},1)})};var $forEach=arrayIteration.forEach;var arrayMethodIsStrict$5=arrayMethodIsStrict$6;var STRICT_METHOD$3=arrayMethodIsStrict$5("forEach");var arrayForEach=!STRICT_METHOD$3?function forEach3(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}:[].forEach;var $$I=_export;var forEach$9=arrayForEach;$$I({target:"Array",proto:true,forced:[].forEach!==forEach$9},{forEach:forEach$9});var entryVirtual$f=entryVirtual$l;var forEach$8=entryVirtual$f("Array").forEach;var parent$V=forEach$8;var forEach$7=parent$V;var classof$6=classof$f;var hasOwn$8=hasOwnProperty_1;var isPrototypeOf$h=objectIsPrototypeOf;var method$d=forEach$7;var ArrayPrototype$e=Array.prototype;var DOMIterables$3={DOMTokenList:true,NodeList:true};var forEach$6=function(it2){var own=it2.forEach;return it2===ArrayPrototype$e||isPrototypeOf$h(ArrayPrototype$e,it2)&&own===ArrayPrototype$e.forEach||hasOwn$8(DOMIterables$3,classof$6(it2))?method$d:own};var forEach$5=forEach$6;var _forEachInstanceProperty=getDefaultExportFromCjs(forEach$5);var $$H=_export;var uncurryThis$b=functionUncurryThis;var isArray$2=isArray$f;var nativeReverse=uncurryThis$b([].reverse);var test$1=[1,2];$$H({target:"Array",proto:true,forced:String(test$1)===String(test$1.reverse())},{reverse:function reverse2(){if(isArray$2(this))this.length=this.length;return nativeReverse(this)}});var entryVirtual$e=entryVirtual$l;var reverse$6=entryVirtual$e("Array").reverse;var isPrototypeOf$g=objectIsPrototypeOf;var method$c=reverse$6;var ArrayPrototype$d=Array.prototype;var reverse$5=function(it2){var own=it2.reverse;return it2===ArrayPrototype$d||isPrototypeOf$g(ArrayPrototype$d,it2)&&own===ArrayPrototype$d.reverse?method$c:own};var parent$U=reverse$5;var reverse$4=parent$U;var reverse$3=reverse$4;var _reverseInstanceProperty=getDefaultExportFromCjs(reverse$3);var tryToString$2=tryToString$6;var $TypeError$7=TypeError;var deletePropertyOrThrow$2=function(O,P){if(!delete O[P])throw new $TypeError$7("Cannot delete property "+tryToString$2(P)+" of "+tryToString$2(O))};var $$G=_export;var toObject$5=toObject$f;var toAbsoluteIndex$1=toAbsoluteIndex$5;var toIntegerOrInfinity=toIntegerOrInfinity$4;var lengthOfArrayLike$6=lengthOfArrayLike$e;var setArrayLength=arraySetLength;var doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$4;var arraySpeciesCreate$1=arraySpeciesCreate$4;var createProperty$1=createProperty$6;var deletePropertyOrThrow$1=deletePropertyOrThrow$2;var arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("splice");var max=Math.max;var min=Math.min;$$G({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$1},{splice:function splice2(start,deleteCount){var O=toObject$5(this);var len=lengthOfArrayLike$6(O);var actualStart=toAbsoluteIndex$1(start,len);var argumentsLength=arguments.length;var insertCount,actualDeleteCount,A,k,from2,to;if(argumentsLength===0){insertCount=actualDeleteCount=0}else if(argumentsLength===1){insertCount=0;actualDeleteCount=len-actualStart}else{insertCount=argumentsLength-2;actualDeleteCount=min(max(toIntegerOrInfinity(deleteCount),0),len-actualStart)}doesNotExceedSafeInteger$1(len+insertCount-actualDeleteCount);A=arraySpeciesCreate$1(O,actualDeleteCount);for(k=0;k<actualDeleteCount;k++){from2=actualStart+k;if(from2 in O)createProperty$1(A,k,O[from2])}A.length=actualDeleteCount;if(insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++){from2=k+actualDeleteCount;to=k+insertCount;if(from2 in O)O[to]=O[from2];else deletePropertyOrThrow$1(O,to)}for(k=len;k>len-actualDeleteCount+insertCount;k--)deletePropertyOrThrow$1(O,k-1)}else if(insertCount>actualDeleteCount){for(k=len-actualDeleteCount;k>actualStart;k--){from2=k+actualDeleteCount-1;to=k+insertCount-1;if(from2 in O)O[to]=O[from2];else deletePropertyOrThrow$1(O,to)}}for(k=0;k<insertCount;k++){O[k+actualStart]=arguments[k+2]}setArrayLength(O,len-actualDeleteCount+insertCount);return A}});var entryVirtual$d=entryVirtual$l;var splice$4=entryVirtual$d("Array").splice;var isPrototypeOf$f=objectIsPrototypeOf;var method$b=splice$4;var ArrayPrototype$c=Array.prototype;var splice$3=function(it2){var own=it2.splice;return it2===ArrayPrototype$c||isPrototypeOf$f(ArrayPrototype$c,it2)&&own===ArrayPrototype$c.splice?method$b:own};var parent$T=splice$3;var splice$2=parent$T;var splice$1=splice$2;var _spliceInstanceProperty=getDefaultExportFromCjs(splice$1);var $$F=_export;var $includes=arrayIncludes.includes;var fails$g=fails$A;var BROKEN_ON_SPARSE=fails$g(function(){return!Array(1).includes()});$$F({target:"Array",proto:true,forced:BROKEN_ON_SPARSE},{includes:function includes2(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$c=entryVirtual$l;var includes$4=entryVirtual$c("Array").includes;var isObject$b=isObject$m;var classof$5=classofRaw$2;var wellKnownSymbol$5=wellKnownSymbol$p;var MATCH$1=wellKnownSymbol$5("match");var isRegexp=function(it2){var isRegExp2;return isObject$b(it2)&&((isRegExp2=it2[MATCH$1])!==void 0?!!isRegExp2:classof$5(it2)==="RegExp")};var isRegExp=isRegexp;var $TypeError$6=TypeError;var notARegexp=function(it2){if(isRegExp(it2)){throw new $TypeError$6("The method doesn't accept regular expressions")}return it2};var wellKnownSymbol$4=wellKnownSymbol$p;var MATCH=wellKnownSymbol$4("match");var correctIsRegexpLogic=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(error1){try{regexp[MATCH]=false;return"/./"[METHOD_NAME](regexp)}catch(error2){}}return false};var $$E=_export;var uncurryThis$a=functionUncurryThis;var notARegExp=notARegexp;var requireObjectCoercible$1=requireObjectCoercible$5;var toString$5=toString$b;var correctIsRegExpLogic=correctIsRegexpLogic;var stringIndexOf=uncurryThis$a("".indexOf);$$E({target:"String",proto:true,forced:!correctIsRegExpLogic("includes")},{includes:function includes2(searchString){return!!~stringIndexOf(toString$5(requireObjectCoercible$1(this)),toString$5(notARegExp(searchString)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$b=entryVirtual$l;var includes$3=entryVirtual$b("String").includes;var isPrototypeOf$e=objectIsPrototypeOf;var arrayMethod=includes$4;var stringMethod=includes$3;var ArrayPrototype$b=Array.prototype;var StringPrototype=String.prototype;var includes$2=function(it2){var own=it2.includes;if(it2===ArrayPrototype$b||isPrototypeOf$e(ArrayPrototype$b,it2)&&own===ArrayPrototype$b.includes)return arrayMethod;if(typeof it2=="string"||it2===StringPrototype||isPrototypeOf$e(StringPrototype,it2)&&own===StringPrototype.includes){return stringMethod}return own};var parent$S=includes$2;var includes$1=parent$S;var includes=includes$1;var _includesInstanceProperty=getDefaultExportFromCjs(includes);var $$D=_export;var fails$f=fails$A;var toObject$4=toObject$f;var nativeGetPrototypeOf=objectGetPrototypeOf$1;var CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter;var FAILS_ON_PRIMITIVES$2=fails$f(function(){nativeGetPrototypeOf(1)});$$D({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES$2,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf2(it2){return nativeGetPrototypeOf(toObject$4(it2))}});var path$n=path$A;var getPrototypeOf$7=path$n.Object.getPrototypeOf;var parent$R=getPrototypeOf$7;var getPrototypeOf$6=parent$R;var getPrototypeOf$5=getPrototypeOf$6;var _Object$getPrototypeOf$1=getDefaultExportFromCjs(getPrototypeOf$5);var $$C=_export;var $filter=arrayIteration.filter;var arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");$$C({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT},{filter:function filter2(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$a=entryVirtual$l;var filter$3=entryVirtual$a("Array").filter;var isPrototypeOf$d=objectIsPrototypeOf;var method$a=filter$3;var ArrayPrototype$a=Array.prototype;var filter$2=function(it2){var own=it2.filter;return it2===ArrayPrototype$a||isPrototypeOf$d(ArrayPrototype$a,it2)&&own===ArrayPrototype$a.filter?method$a:own};var parent$Q=filter$2;var filter$1=parent$Q;var filter=filter$1;var _filterInstanceProperty=getDefaultExportFromCjs(filter);var DESCRIPTORS$7=descriptors;var fails$e=fails$A;var uncurryThis$9=functionUncurryThis;var objectGetPrototypeOf=objectGetPrototypeOf$1;var objectKeys=objectKeys$4;var toIndexedObject$2=toIndexedObject$b;var $propertyIsEnumerable=objectPropertyIsEnumerable.f;var propertyIsEnumerable=uncurryThis$9($propertyIsEnumerable);var push$3=uncurryThis$9([].push);var IE_BUG=DESCRIPTORS$7&&fails$e(function(){var O=Object.create(null);O[2]=2;return!propertyIsEnumerable(O,2)});var createMethod$2=function(TO_ENTRIES){return function(it2){var O=toIndexedObject$2(it2);var keys2=objectKeys(O);var IE_WORKAROUND=IE_BUG&&objectGetPrototypeOf(O)===null;var length2=keys2.length;var i2=0;var result=[];var key;while(length2>i2){key=keys2[i2++];if(!DESCRIPTORS$7||(IE_WORKAROUND?key in O:propertyIsEnumerable(O,key))){push$3(result,TO_ENTRIES?[key,O[key]]:O[key])}}return result}};var objectToArray={entries:createMethod$2(true),values:createMethod$2(false)};var $$B=_export;var $values=objectToArray.values;$$B({target:"Object",stat:true},{values:function values2(O){return $values(O)}});var path$m=path$A;var values$6=path$m.Object.values;var parent$P=values$6;var values$5=parent$P;var values$4=values$5;var _Object$values=getDefaultExportFromCjs(values$4);var whitespaces$3="	\n\v\f\r \u2028\u2029\uFEFF";var uncurryThis$8=functionUncurryThis;var requireObjectCoercible=requireObjectCoercible$5;var toString$4=toString$b;var whitespaces$2=whitespaces$3;var replace$1=uncurryThis$8("".replace);var ltrim=RegExp("^["+whitespaces$2+"]+");var rtrim=RegExp("(^|[^"+whitespaces$2+"])["+whitespaces$2+"]+$");var createMethod$1=function(TYPE){return function($this){var string2=toString$4(requireObjectCoercible($this));if(TYPE&1)string2=replace$1(string2,ltrim,"");if(TYPE&2)string2=replace$1(string2,rtrim,"$1");return string2}};var stringTrim={trim:createMethod$1(3)};var global$e=global$s;var fails$d=fails$A;var uncurryThis$7=functionUncurryThis;var toString$3=toString$b;var trim$1=stringTrim.trim;var whitespaces$1=whitespaces$3;var $parseInt$1=global$e.parseInt;var Symbol$2=global$e.Symbol;var ITERATOR$1=Symbol$2&&Symbol$2.iterator;var hex=/^[+-]?0x/i;var exec=uncurryThis$7(hex.exec);var FORCED$7=$parseInt$1(whitespaces$1+"08")!==8||$parseInt$1(whitespaces$1+"0x16")!==22||ITERATOR$1&&!fails$d(function(){$parseInt$1(Object(ITERATOR$1))});var numberParseInt=FORCED$7?function parseInt2(string2,radix){var S=trim$1(toString$3(string2));return $parseInt$1(S,radix>>>0||(exec(hex,S)?16:10))}:$parseInt$1;var $$A=_export;var $parseInt=numberParseInt;$$A({global:true,forced:parseInt!==$parseInt},{parseInt:$parseInt});var path$l=path$A;var _parseInt$3=path$l.parseInt;var parent$O=_parseInt$3;var _parseInt$2=parent$O;var _parseInt=_parseInt$2;var _parseInt$1=getDefaultExportFromCjs(_parseInt);var $$z=_export;var uncurryThis$6=functionUncurryThisClause;var $indexOf=arrayIncludes.indexOf;var arrayMethodIsStrict$4=arrayMethodIsStrict$6;var nativeIndexOf=uncurryThis$6([].indexOf);var NEGATIVE_ZERO=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0;var FORCED$6=NEGATIVE_ZERO||!arrayMethodIsStrict$4("indexOf");$$z({target:"Array",proto:true,forced:FORCED$6},{indexOf:function indexOf2(searchElement){var fromIndex=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?nativeIndexOf(this,searchElement,fromIndex)||0:$indexOf(this,searchElement,fromIndex)}});var entryVirtual$9=entryVirtual$l;var indexOf$3=entryVirtual$9("Array").indexOf;var isPrototypeOf$c=objectIsPrototypeOf;var method$9=indexOf$3;var ArrayPrototype$9=Array.prototype;var indexOf$2=function(it2){var own=it2.indexOf;return it2===ArrayPrototype$9||isPrototypeOf$c(ArrayPrototype$9,it2)&&own===ArrayPrototype$9.indexOf?method$9:own};var parent$N=indexOf$2;var indexOf$1=parent$N;var indexOf=indexOf$1;var _indexOfInstanceProperty=getDefaultExportFromCjs(indexOf);var $$y=_export;var $entries=objectToArray.entries;$$y({target:"Object",stat:true},{entries:function entries2(O){return $entries(O)}});var path$k=path$A;var entries$6=path$k.Object.entries;var parent$M=entries$6;var entries$5=parent$M;var entries$4=entries$5;var _Object$entries2=getDefaultExportFromCjs(entries$4);var $$x=_export;var DESCRIPTORS$6=descriptors;var create$9=objectCreate;$$x({target:"Object",stat:true,sham:!DESCRIPTORS$6},{create:create$9});var path$j=path$A;var Object$4=path$j.Object;var create$8=function create2(P,D){return Object$4.create(P,D)};var parent$L=create$8;var create$7=parent$L;var create$6=create$7;var _Object$create$1=getDefaultExportFromCjs(create$6);var path$i=path$A;var apply$3=functionApply;if(!path$i.JSON)path$i.JSON={stringify:JSON.stringify};var stringify$2=function stringify2(it2,replacer,space){return apply$3(path$i.JSON.stringify,null,arguments)};var parent$K=stringify$2;var stringify$1=parent$K;var stringify=stringify$1;var _JSON$stringify=getDefaultExportFromCjs(stringify);var engineIsBun=typeof Bun=="function"&&Bun&&typeof Bun.version=="string";var $TypeError$5=TypeError;var validateArgumentsLength$2=function(passed,required){if(passed<required)throw new $TypeError$5("Not enough arguments");return passed};var global$d=global$s;var apply$2=functionApply;var isCallable$5=isCallable$m;var ENGINE_IS_BUN=engineIsBun;var USER_AGENT=engineUserAgent;var arraySlice$2=arraySlice$6;var validateArgumentsLength$1=validateArgumentsLength$2;var Function$2=global$d.Function;var WRAP=/MSIE .\./.test(USER_AGENT)||ENGINE_IS_BUN&&(function(){var version2=global$d.Bun.version.split(".");return version2.length<3||version2[0]==="0"&&(version2[1]<3||version2[1]==="3"&&version2[2]==="0")})();var schedulersFix$2=function(scheduler2,hasTimeArg){var firstParamIndex=hasTimeArg?2:1;return WRAP?function(handler,timeout){var boundArgs=validateArgumentsLength$1(arguments.length,1)>firstParamIndex;var fn=isCallable$5(handler)?handler:Function$2(handler);var params=boundArgs?arraySlice$2(arguments,firstParamIndex):[];var callback=boundArgs?function(){apply$2(fn,this,params)}:fn;return hasTimeArg?scheduler2(callback,timeout):scheduler2(callback)}:scheduler2};var $$w=_export;var global$c=global$s;var schedulersFix$1=schedulersFix$2;var setInterval$2=schedulersFix$1(global$c.setInterval,true);$$w({global:true,bind:true,forced:global$c.setInterval!==setInterval$2},{setInterval:setInterval$2});var $$v=_export;var global$b=global$s;var schedulersFix=schedulersFix$2;var setTimeout$3=schedulersFix(global$b.setTimeout,true);$$v({global:true,bind:true,forced:global$b.setTimeout!==setTimeout$3},{setTimeout:setTimeout$3});var path$h=path$A;var setTimeout$2=path$h.setTimeout;var setTimeout$1=setTimeout$2;var _setTimeout=getDefaultExportFromCjs(setTimeout$1);var toObject$3=toObject$f;var toAbsoluteIndex=toAbsoluteIndex$5;var lengthOfArrayLike$5=lengthOfArrayLike$e;var arrayFill=function fill2(value){var O=toObject$3(this);var length2=lengthOfArrayLike$5(O);var argumentsLength=arguments.length;var index2=toAbsoluteIndex(argumentsLength>1?arguments[1]:void 0,length2);var end=argumentsLength>2?arguments[2]:void 0;var endPos=end===void 0?length2:toAbsoluteIndex(end,length2);while(endPos>index2)O[index2++]=value;return O};var $$u=_export;var fill$4=arrayFill;$$u({target:"Array",proto:true},{fill:fill$4});var entryVirtual$8=entryVirtual$l;var fill$3=entryVirtual$8("Array").fill;var isPrototypeOf$b=objectIsPrototypeOf;var method$8=fill$3;var ArrayPrototype$8=Array.prototype;var fill$2=function(it2){var own=it2.fill;return it2===ArrayPrototype$8||isPrototypeOf$b(ArrayPrototype$8,it2)&&own===ArrayPrototype$8.fill?method$8:own};var parent$J=fill$2;var fill$1=parent$J;var fill=fill$1;var _fillInstanceProperty=getDefaultExportFromCjs(fill);function _extends(){_extends=Object.assign||function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}function _assertThisInitialized$1(self2){if(self2===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self2}var assign;if(typeof Object.assign!=="function"){assign=function assign2(target){if(target===void 0||target===null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);for(var index2=1;index2<arguments.length;index2++){var source=arguments[index2];if(source!==void 0&&source!==null){for(var nextKey in source){if(source.hasOwnProperty(nextKey)){output[nextKey]=source[nextKey]}}}}return output}}else{assign=Object.assign}var assign$1=assign;var VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"];var TEST_ELEMENT=typeof document==="undefined"?{style:{}}:document.createElement("div");var TYPE_FUNCTION="function";var round=Math.round,abs$1=Math.abs;var now=Date.now;function prefixed(obj,property){var prefix;var prop;var camelProp=property[0].toUpperCase()+property.slice(1);var i2=0;while(i2<VENDOR_PREFIXES.length){prefix=VENDOR_PREFIXES[i2];prop=prefix?prefix+camelProp:property;if(prop in obj){return prop}i2++}return void 0}var win;if(typeof window==="undefined"){win={}}else{win=window}var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction");var NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION){return false}var touchMap={};var cssSupports=win.CSS&&win.CSS.supports;["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(val){return touchMap[val]=cssSupports?win.CSS.supports("touch-action",val):true});return touchMap}var TOUCH_ACTION_COMPUTE="compute";var TOUCH_ACTION_AUTO="auto";var TOUCH_ACTION_MANIPULATION="manipulation";var TOUCH_ACTION_NONE="none";var TOUCH_ACTION_PAN_X="pan-x";var TOUCH_ACTION_PAN_Y="pan-y";var TOUCH_ACTION_MAP=getTouchActionProps();var MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;var SUPPORT_TOUCH="ontouchstart"in win;var SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0;var SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent);var INPUT_TYPE_TOUCH="touch";var INPUT_TYPE_PEN="pen";var INPUT_TYPE_MOUSE="mouse";var INPUT_TYPE_KINECT="kinect";var COMPUTE_INTERVAL=25;var INPUT_START=1;var INPUT_MOVE=2;var INPUT_END=4;var INPUT_CANCEL=8;var DIRECTION_NONE=1;var DIRECTION_LEFT=2;var DIRECTION_RIGHT=4;var DIRECTION_UP=8;var DIRECTION_DOWN=16;var DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT;var DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL;var PROPS_XY=["x","y"];var PROPS_CLIENT_XY=["clientX","clientY"];function each(obj,iterator2,context){var i2;if(!obj){return}if(obj.forEach){obj.forEach(iterator2,context)}else if(obj.length!==void 0){i2=0;while(i2<obj.length){iterator2.call(context,obj[i2],i2,obj);i2++}}else{for(i2 in obj){obj.hasOwnProperty(i2)&&iterator2.call(context,obj[i2],i2,obj)}}}function boolOrFn(val,args2){if(typeof val===TYPE_FUNCTION){return val.apply(args2?args2[0]||void 0:void 0,args2)}return val}function inStr(str,find2){return str.indexOf(find2)>-1}function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE)){return TOUCH_ACTION_NONE}var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);if(hasPanX&&hasPanY){return TOUCH_ACTION_NONE}if(hasPanX||hasPanY){return hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y}if(inStr(actions,TOUCH_ACTION_MANIPULATION)){return TOUCH_ACTION_MANIPULATION}return TOUCH_ACTION_AUTO}var TouchAction=(function(){function TouchAction2(manager,value){this.manager=manager;this.set(value)}var _proto=TouchAction2.prototype;_proto.set=function set2(value){if(value===TOUCH_ACTION_COMPUTE){value=this.compute()}if(NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[value]){this.manager.element.style[PREFIXED_TOUCH_ACTION]=value}this.actions=value.toLowerCase().trim()};_proto.update=function update(){this.set(this.manager.options.touchAction)};_proto.compute=function compute(){var actions=[];each(this.manager.recognizers,function(recognizer){if(boolOrFn(recognizer.options.enable,[recognizer])){actions=actions.concat(recognizer.getTouchAction())}});return cleanTouchActions(actions.join(" "))};_proto.preventDefaults=function preventDefaults(input){var srcEvent=input.srcEvent;var direction=input.offsetDirection;if(this.manager.session.prevented){srcEvent.preventDefault();return}var actions=this.actions;var hasNone=inStr(actions,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(hasNone){var isTapPointer=input.pointers.length===1;var isTapMovement=input.distance<2;var isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime){return}}if(hasPanX&&hasPanY){return}if(hasNone||hasPanY&&direction&DIRECTION_HORIZONTAL||hasPanX&&direction&DIRECTION_VERTICAL){return this.preventSrc(srcEvent)}};_proto.preventSrc=function preventSrc(srcEvent){this.manager.session.prevented=true;srcEvent.preventDefault()};return TouchAction2})();function hasParent$1(node2,parent2){while(node2){if(node2===parent2){return true}node2=node2.parentNode}return false}function getCenter(pointers){var pointersLength=pointers.length;if(pointersLength===1){return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)}}var x=0;var y=0;var i2=0;while(i2<pointersLength){x+=pointers[i2].clientX;y+=pointers[i2].clientY;i2++}return{x:round(x/pointersLength),y:round(y/pointersLength)}}function simpleCloneInputData(input){var pointers=[];var i2=0;while(i2<input.pointers.length){pointers[i2]={clientX:round(input.pointers[i2].clientX),clientY:round(input.pointers[i2].clientY)};i2++}return{timeStamp:now(),pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getDistance(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]];var y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]];var y=p2[props[1]]-p1[props[1]];return Math.atan2(y,x)*180/Math.PI}function getDirection(x,y){if(x===y){return DIRECTION_NONE}if(abs$1(x)>=abs$1(y)){return x<0?DIRECTION_LEFT:DIRECTION_RIGHT}return y<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(session,input){var center=input.center;var offset=session.offsetDelta||{};var prevDelta=session.prevDelta||{};var prevInput=session.prevInput||{};if(input.eventType===INPUT_START||prevInput.eventType===INPUT_END){prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0};offset=session.offsetDelta={x:center.x,y:center.y}}input.deltaX=prevDelta.x+(center.x-offset.x);input.deltaY=prevDelta.y+(center.y-offset.y)}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function computeIntervalInputData(session,input){var last=session.lastInterval||input;var deltaTime=input.timeStamp-last.timeStamp;var velocity;var velocityX;var velocityY;var direction;if(input.eventType!==INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===void 0)){var deltaX=input.deltaX-last.deltaX;var deltaY=input.deltaY-last.deltaY;var v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x;velocityY=v.y;velocity=abs$1(v.x)>abs$1(v.y)?v.x:v.y;direction=getDirection(deltaX,deltaY);session.lastInterval=input}else{velocity=last.velocity;velocityX=last.velocityX;velocityY=last.velocityY;direction=last.direction}input.velocity=velocity;input.velocityX=velocityX;input.velocityY=velocityY;input.direction=direction}function computeInputData(manager,input){var session=manager.session;var pointers=input.pointers;var pointersLength=pointers.length;if(!session.firstInput){session.firstInput=simpleCloneInputData(input)}if(pointersLength>1&&!session.firstMultiple){session.firstMultiple=simpleCloneInputData(input)}else if(pointersLength===1){session.firstMultiple=false}var firstInput=session.firstInput,firstMultiple=session.firstMultiple;var offsetCenter=firstMultiple?firstMultiple.center:firstInput.center;var center=input.center=getCenter(pointers);input.timeStamp=now();input.deltaTime=input.timeStamp-firstInput.timeStamp;input.angle=getAngle(offsetCenter,center);input.distance=getDistance(offsetCenter,center);computeDeltaXY(session,input);input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x;input.overallVelocityY=overallVelocity.y;input.overallVelocity=abs$1(overallVelocity.x)>abs$1(overallVelocity.y)?overallVelocity.x:overallVelocity.y;input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1;input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0;input.maxPointers=!session.prevInput?input.pointers.length:input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers;computeIntervalInputData(session,input);var target=manager.element;var srcEvent=input.srcEvent;var srcEventTarget;if(srcEvent.composedPath){srcEventTarget=srcEvent.composedPath()[0]}else if(srcEvent.path){srcEventTarget=srcEvent.path[0]}else{srcEventTarget=srcEvent.target}if(hasParent$1(srcEventTarget,target)){target=srcEventTarget}input.target=target}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length;var changedPointersLen=input.changedPointers.length;var isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen===0;var isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen===0;input.isFirst=!!isFirst;input.isFinal=!!isFinal;if(isFirst){manager.session={}}input.eventType=eventType;computeInputData(manager,input);manager.emit("hammer.input",input);manager.recognize(input);manager.session.prevInput=input}function splitStr(str){return str.trim().split(/\s+/g)}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,false)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,false)})}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var Input=(function(){function Input2(manager,callback){var self2=this;this.manager=manager;this.callback=callback;this.element=manager.element;this.target=manager.options.inputTarget;this.domHandler=function(ev){if(boolOrFn(manager.options.enable,[manager])){self2.handler(ev)}};this.init()}var _proto=Input2.prototype;_proto.handler=function handler(){};_proto.init=function init(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)};_proto.destroy=function destroy(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)};return Input2})();function inArray(src,find2,findByKey){if(src.indexOf&&!findByKey){return src.indexOf(find2)}else{var i2=0;while(i2<src.length){if(findByKey&&src[i2][findByKey]==find2||!findByKey&&src[i2]===find2){return i2}i2++}return-1}}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL};var IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT};var POINTER_ELEMENT_EVENTS="pointerdown";var POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";if(win.MSPointerEvent&&!win.PointerEvent){POINTER_ELEMENT_EVENTS="MSPointerDown";POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"}var PointerEventInput=(function(_Input){_inheritsLoose(PointerEventInput2,_Input);function PointerEventInput2(){var _this;var proto=PointerEventInput2.prototype;proto.evEl=POINTER_ELEMENT_EVENTS;proto.evWin=POINTER_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.store=_this.manager.session.pointerEvents=[];return _this}var _proto=PointerEventInput2.prototype;_proto.handler=function handler(ev){var store2=this.store;var removePointer=false;var eventTypeNormalized=ev.type.toLowerCase().replace("ms","");var eventType=POINTER_INPUT_MAP[eventTypeNormalized];var pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType;var isTouch=pointerType===INPUT_TYPE_TOUCH;var storeIndex=inArray(store2,ev.pointerId,"pointerId");if(eventType&INPUT_START&&(ev.button===0||isTouch)){if(storeIndex<0){store2.push(ev);storeIndex=store2.length-1}}else if(eventType&(INPUT_END|INPUT_CANCEL)){removePointer=true}if(storeIndex<0){return}store2[storeIndex]=ev;this.callback(this.manager,eventType,{pointers:store2,changedPointers:[ev],pointerType,srcEvent:ev});if(removePointer){store2.splice(storeIndex,1)}};return PointerEventInput2})(Input);function toArray$1(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort2){var results=[];var values2=[];var i2=0;while(i2<src.length){var val=key?src[i2][key]:src[i2];if(inArray(values2,val)<0){results.push(src[i2])}values2[i2]=val;i2++}if(sort2){if(!key){results=results.sort()}else{results=results.sort(function(a,b){return a[key]>b[key]})}}return results}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";var TouchInput=(function(_Input){_inheritsLoose(TouchInput2,_Input);function TouchInput2(){var _this;TouchInput2.prototype.evTarget=TOUCH_TARGET_EVENTS;_this=_Input.apply(this,arguments)||this;_this.targetIds={};return _this}var _proto=TouchInput2.prototype;_proto.handler=function handler(ev){var type=TOUCH_INPUT_MAP[ev.type];var touches=getTouches.call(this,ev,type);if(!touches){return}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})};return TouchInput2})(Input);function getTouches(ev,type){var allTouches=toArray$1(ev.touches);var targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&allTouches.length===1){targetIds[allTouches[0].identifier]=true;return[allTouches,allTouches]}var i2;var targetTouches;var changedTouches=toArray$1(ev.changedTouches);var changedTargetTouches=[];var target=this.target;targetTouches=allTouches.filter(function(touch){return hasParent$1(touch.target,target)});if(type===INPUT_START){i2=0;while(i2<targetTouches.length){targetIds[targetTouches[i2].identifier]=true;i2++}}i2=0;while(i2<changedTouches.length){if(targetIds[changedTouches[i2].identifier]){changedTargetTouches.push(changedTouches[i2])}if(type&(INPUT_END|INPUT_CANCEL)){delete targetIds[changedTouches[i2].identifier]}i2++}if(!changedTargetTouches.length){return}return[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",true),changedTargetTouches]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};var MOUSE_ELEMENT_EVENTS="mousedown";var MOUSE_WINDOW_EVENTS="mousemove mouseup";var MouseInput=(function(_Input){_inheritsLoose(MouseInput2,_Input);function MouseInput2(){var _this;var proto=MouseInput2.prototype;proto.evEl=MOUSE_ELEMENT_EVENTS;proto.evWin=MOUSE_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.pressed=false;return _this}var _proto=MouseInput2.prototype;_proto.handler=function handler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];if(eventType&INPUT_START&&ev.button===0){this.pressed=true}if(eventType&INPUT_MOVE&&ev.which!==1){eventType=INPUT_END}if(!this.pressed){return}if(eventType&INPUT_END){this.pressed=false}this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev})};return MouseInput2})(Input);var DEDUP_TIMEOUT=2500;var DEDUP_DISTANCE=25;function setLastTouch(eventData){var _eventData$changedPoi=eventData.changedPointers,touch=_eventData$changedPoi[0];if(touch.identifier===this.primaryTouch){var lastTouch={x:touch.clientX,y:touch.clientY};var lts=this.lastTouches;this.lastTouches.push(lastTouch);var removeLastTouch=function removeLastTouch2(){var i2=lts.indexOf(lastTouch);if(i2>-1){lts.splice(i2,1)}};setTimeout(removeLastTouch,DEDUP_TIMEOUT)}}function recordTouches(eventType,eventData){if(eventType&INPUT_START){this.primaryTouch=eventData.changedPointers[0].identifier;setLastTouch.call(this,eventData)}else if(eventType&(INPUT_END|INPUT_CANCEL)){setLastTouch.call(this,eventData)}}function isSyntheticEvent(eventData){var x=eventData.srcEvent.clientX;var y=eventData.srcEvent.clientY;for(var i2=0;i2<this.lastTouches.length;i2++){var t=this.lastTouches[i2];var dx=Math.abs(x-t.x);var dy=Math.abs(y-t.y);if(dx<=DEDUP_DISTANCE&&dy<=DEDUP_DISTANCE){return true}}return false}var TouchMouseInput=(function(){var TouchMouseInput2=(function(_Input){_inheritsLoose(TouchMouseInput3,_Input);function TouchMouseInput3(_manager,callback){var _this;_this=_Input.call(this,_manager,callback)||this;_this.handler=function(manager,inputEvent,inputData){var isTouch=inputData.pointerType===INPUT_TYPE_TOUCH;var isMouse=inputData.pointerType===INPUT_TYPE_MOUSE;if(isMouse&&inputData.sourceCapabilities&&inputData.sourceCapabilities.firesTouchEvents){return}if(isTouch){recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)),inputEvent,inputData)}else if(isMouse&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)),inputData)){return}_this.callback(manager,inputEvent,inputData)};_this.touch=new TouchInput(_this.manager,_this.handler);_this.mouse=new MouseInput(_this.manager,_this.handler);_this.primaryTouch=null;_this.lastTouches=[];return _this}var _proto=TouchMouseInput3.prototype;_proto.destroy=function destroy(){this.touch.destroy();this.mouse.destroy()};return TouchMouseInput3})(Input);return TouchMouseInput2})();function createInputInstance(manager){var Type;var inputClass=manager.options.inputClass;if(inputClass){Type=inputClass}else if(SUPPORT_POINTER_EVENTS){Type=PointerEventInput}else if(SUPPORT_ONLY_TOUCH){Type=TouchInput}else if(!SUPPORT_TOUCH){Type=MouseInput}else{Type=TouchMouseInput}return new Type(manager,inputHandler)}function invokeArrayArg(arg,fn,context){if(Array.isArray(arg)){each(arg,context[fn],context);return true}return false}var STATE_POSSIBLE=1;var STATE_BEGAN=2;var STATE_CHANGED=4;var STATE_ENDED=8;var STATE_RECOGNIZED=STATE_ENDED;var STATE_CANCELLED=16;var STATE_FAILED=32;var _uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;if(manager){return manager.get(otherRecognizer)}return otherRecognizer}function stateStr(state){if(state&STATE_CANCELLED){return"cancel"}else if(state&STATE_ENDED){return"end"}else if(state&STATE_CHANGED){return"move"}else if(state&STATE_BEGAN){return"start"}return""}var Recognizer=(function(){function Recognizer2(options){if(options===void 0){options={}}this.options=_extends({enable:true},options);this.id=uniqueId();this.manager=null;this.state=STATE_POSSIBLE;this.simultaneous={};this.requireFail=[]}var _proto=Recognizer2.prototype;_proto.set=function set2(options){assign$1(this.options,options);this.manager&&this.manager.touchAction.update();return this};_proto.recognizeWith=function recognizeWith(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this)){return this}var simultaneous=this.simultaneous;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(!simultaneous[otherRecognizer.id]){simultaneous[otherRecognizer.id]=otherRecognizer;otherRecognizer.recognizeWith(this)}return this};_proto.dropRecognizeWith=function dropRecognizeWith(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);delete this.simultaneous[otherRecognizer.id];return this};_proto.requireFailure=function requireFailure(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this)){return this}var requireFail=this.requireFail;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(inArray(requireFail,otherRecognizer)===-1){requireFail.push(otherRecognizer);otherRecognizer.requireFailure(this)}return this};_proto.dropRequireFailure=function dropRequireFailure(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index2=inArray(this.requireFail,otherRecognizer);if(index2>-1){this.requireFail.splice(index2,1)}return this};_proto.hasRequireFailures=function hasRequireFailures(){return this.requireFail.length>0};_proto.canRecognizeWith=function canRecognizeWith(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]};_proto.emit=function emit(input){var self2=this;var state=this.state;function emit2(event){self2.manager.emit(event,input)}if(state<STATE_ENDED){emit2(self2.options.event+stateStr(state))}emit2(self2.options.event);if(input.additionalEvent){emit2(input.additionalEvent)}if(state>=STATE_ENDED){emit2(self2.options.event+stateStr(state))}};_proto.tryEmit=function tryEmit(input){if(this.canEmit()){return this.emit(input)}this.state=STATE_FAILED};_proto.canEmit=function canEmit(){var i2=0;while(i2<this.requireFail.length){if(!(this.requireFail[i2].state&(STATE_FAILED|STATE_POSSIBLE))){return false}i2++}return true};_proto.recognize=function recognize(inputData){var inputDataClone=assign$1({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone])){this.reset();this.state=STATE_FAILED;return}if(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)){this.state=STATE_POSSIBLE}this.state=this.process(inputDataClone);if(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)){this.tryEmit(inputDataClone)}};_proto.process=function process22(inputData){};_proto.getTouchAction=function getTouchAction(){};_proto.reset=function reset(){};return Recognizer2})();var TapRecognizer=(function(_Recognizer){_inheritsLoose(TapRecognizer2,_Recognizer);function TapRecognizer2(options){var _this;if(options===void 0){options={}}_this=_Recognizer.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},options))||this;_this.pTime=false;_this.pCenter=false;_this._timer=null;_this._input=null;_this.count=0;return _this}var _proto=TapRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_MANIPULATION]};_proto.process=function process22(input){var _this2=this;var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTouchTime=input.deltaTime<options.time;this.reset();if(input.eventType&INPUT_START&&this.count===0){return this.failTimeout()}if(validMovement&&validTouchTime&&validPointers){if(input.eventType!==INPUT_END){return this.failTimeout()}var validInterval=this.pTime?input.timeStamp-this.pTime<options.interval:true;var validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp;this.pCenter=input.center;if(!validMultiTap||!validInterval){this.count=1}else{this.count+=1}this._input=input;var tapCount=this.count%options.taps;if(tapCount===0){if(!this.hasRequireFailures()){return STATE_RECOGNIZED}else{this._timer=setTimeout(function(){_this2.state=STATE_RECOGNIZED;_this2.tryEmit()},options.interval);return STATE_BEGAN}}}return STATE_FAILED};_proto.failTimeout=function failTimeout(){var _this3=this;this._timer=setTimeout(function(){_this3.state=STATE_FAILED},this.options.interval);return STATE_FAILED};_proto.reset=function reset(){clearTimeout(this._timer)};_proto.emit=function emit(){if(this.state===STATE_RECOGNIZED){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}};return TapRecognizer2})(Recognizer);var AttrRecognizer=(function(_Recognizer){_inheritsLoose(AttrRecognizer2,_Recognizer);function AttrRecognizer2(options){if(options===void 0){options={}}return _Recognizer.call(this,_extends({pointers:1},options))||this}var _proto=AttrRecognizer2.prototype;_proto.attrTest=function attrTest(input){var optionPointers=this.options.pointers;return optionPointers===0||input.pointers.length===optionPointers};_proto.process=function process22(input){var state=this.state;var eventType=input.eventType;var isRecognized=state&(STATE_BEGAN|STATE_CHANGED);var isValid=this.attrTest(input);if(isRecognized&&(eventType&INPUT_CANCEL||!isValid)){return state|STATE_CANCELLED}else if(isRecognized||isValid){if(eventType&INPUT_END){return state|STATE_ENDED}else if(!(state&STATE_BEGAN)){return STATE_BEGAN}return state|STATE_CHANGED}return STATE_FAILED};return AttrRecognizer2})(Recognizer);function directionStr(direction){if(direction===DIRECTION_DOWN){return"down"}else if(direction===DIRECTION_UP){return"up"}else if(direction===DIRECTION_LEFT){return"left"}else if(direction===DIRECTION_RIGHT){return"right"}return""}var PanRecognizer=(function(_AttrRecognizer){_inheritsLoose(PanRecognizer2,_AttrRecognizer);function PanRecognizer2(options){var _this;if(options===void 0){options={}}_this=_AttrRecognizer.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},options))||this;_this.pX=null;_this.pY=null;return _this}var _proto=PanRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){var direction=this.options.direction;var actions=[];if(direction&DIRECTION_HORIZONTAL){actions.push(TOUCH_ACTION_PAN_Y)}if(direction&DIRECTION_VERTICAL){actions.push(TOUCH_ACTION_PAN_X)}return actions};_proto.directionTest=function directionTest(input){var options=this.options;var hasMoved=true;var distance=input.distance;var direction=input.direction;var x=input.deltaX;var y=input.deltaY;if(!(direction&options.direction)){if(options.direction&DIRECTION_HORIZONTAL){direction=x===0?DIRECTION_NONE:x<0?DIRECTION_LEFT:DIRECTION_RIGHT;hasMoved=x!==this.pX;distance=Math.abs(input.deltaX)}else{direction=y===0?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN;hasMoved=y!==this.pY;distance=Math.abs(input.deltaY)}}input.direction=direction;return hasMoved&&distance>options.threshold&&direction&options.direction};_proto.attrTest=function attrTest(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))};_proto.emit=function emit(input){this.pX=input.deltaX;this.pY=input.deltaY;var direction=directionStr(input.direction);if(direction){input.additionalEvent=this.options.event+direction}_AttrRecognizer.prototype.emit.call(this,input)};return PanRecognizer2})(AttrRecognizer);var SwipeRecognizer=(function(_AttrRecognizer){_inheritsLoose(SwipeRecognizer2,_AttrRecognizer);function SwipeRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},options))||this}var _proto=SwipeRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return PanRecognizer.prototype.getTouchAction.call(this)};_proto.attrTest=function attrTest(input){var direction=this.options.direction;var velocity;if(direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)){velocity=input.overallVelocity}else if(direction&DIRECTION_HORIZONTAL){velocity=input.overallVelocityX}else if(direction&DIRECTION_VERTICAL){velocity=input.overallVelocityY}return _AttrRecognizer.prototype.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers===this.options.pointers&&abs$1(velocity)>this.options.velocity&&input.eventType&INPUT_END};_proto.emit=function emit(input){var direction=directionStr(input.offsetDirection);if(direction){this.manager.emit(this.options.event+direction,input)}this.manager.emit(this.options.event,input)};return SwipeRecognizer2})(AttrRecognizer);var PinchRecognizer=(function(_AttrRecognizer){_inheritsLoose(PinchRecognizer2,_AttrRecognizer);function PinchRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"pinch",threshold:0,pointers:2},options))||this}var _proto=PinchRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_NONE]};_proto.attrTest=function attrTest(input){return _AttrRecognizer.prototype.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)};_proto.emit=function emit(input){if(input.scale!==1){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}_AttrRecognizer.prototype.emit.call(this,input)};return PinchRecognizer2})(AttrRecognizer);var RotateRecognizer=(function(_AttrRecognizer){_inheritsLoose(RotateRecognizer2,_AttrRecognizer);function RotateRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"rotate",threshold:0,pointers:2},options))||this}var _proto=RotateRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_NONE]};_proto.attrTest=function attrTest(input){return _AttrRecognizer.prototype.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)};return RotateRecognizer2})(AttrRecognizer);var PressRecognizer=(function(_Recognizer){_inheritsLoose(PressRecognizer2,_Recognizer);function PressRecognizer2(options){var _this;if(options===void 0){options={}}_this=_Recognizer.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},options))||this;_this._timer=null;_this._input=null;return _this}var _proto=PressRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_AUTO]};_proto.process=function process22(input){var _this2=this;var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTime=input.deltaTime>options.time;this._input=input;if(!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime){this.reset()}else if(input.eventType&INPUT_START){this.reset();this._timer=setTimeout(function(){_this2.state=STATE_RECOGNIZED;_this2.tryEmit()},options.time)}else if(input.eventType&INPUT_END){return STATE_RECOGNIZED}return STATE_FAILED};_proto.reset=function reset(){clearTimeout(this._timer)};_proto.emit=function emit(input){if(this.state!==STATE_RECOGNIZED){return}if(input&&input.eventType&INPUT_END){this.manager.emit(this.options.event+"up",input)}else{this._input.timeStamp=now();this.manager.emit(this.options.event,this._input)}};return PressRecognizer2})(Recognizer);var defaults={domEvents:false,touchAction:TOUCH_ACTION_COMPUTE,enable:true,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var preset=[[RotateRecognizer,{enable:false}],[PinchRecognizer,{enable:false},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]];var STOP=1;var FORCED_STOP=2;function toggleCssProps(manager,add){var element=manager.element;if(!element.style){return}var prop;each(manager.options.cssProps,function(value,name){prop=prefixed(element.style,name);if(add){manager.oldCssProps[prop]=element.style[prop];element.style[prop]=value}else{element.style[prop]=manager.oldCssProps[prop]||""}});if(!add){manager.oldCssProps={}}}function triggerDomEvent(event,data2){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,true,true);gestureEvent.gesture=data2;data2.target.dispatchEvent(gestureEvent)}var Manager=(function(){function Manager2(element,options){var _this=this;this.options=assign$1({},defaults,options||{});this.options.inputTarget=this.options.inputTarget||element;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=element;this.input=createInputInstance(this);this.touchAction=new TouchAction(this,this.options.touchAction);toggleCssProps(this,true);each(this.options.recognizers,function(item){var recognizer=_this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]);item[3]&&recognizer.requireFailure(item[3])},this)}var _proto=Manager2.prototype;_proto.set=function set2(options){assign$1(this.options,options);if(options.touchAction){this.touchAction.update()}if(options.inputTarget){this.input.destroy();this.input.target=options.inputTarget;this.input.init()}return this};_proto.stop=function stop(force){this.session.stopped=force?FORCED_STOP:STOP};_proto.recognize=function recognize(inputData){var session=this.session;if(session.stopped){return}this.touchAction.preventDefaults(inputData);var recognizer;var recognizers=this.recognizers;var curRecognizer=session.curRecognizer;if(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED){session.curRecognizer=null;curRecognizer=null}var i2=0;while(i2<recognizers.length){recognizer=recognizers[i2];if(session.stopped!==FORCED_STOP&&(!curRecognizer||recognizer===curRecognizer||recognizer.canRecognizeWith(curRecognizer))){recognizer.recognize(inputData)}else{recognizer.reset()}if(!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)){session.curRecognizer=recognizer;curRecognizer=recognizer}i2++}};_proto.get=function get2(recognizer){if(recognizer instanceof Recognizer){return recognizer}var recognizers=this.recognizers;for(var i2=0;i2<recognizers.length;i2++){if(recognizers[i2].options.event===recognizer){return recognizers[i2]}}return null};_proto.add=function add(recognizer){if(invokeArrayArg(recognizer,"add",this)){return this}var existing=this.get(recognizer.options.event);if(existing){this.remove(existing)}this.recognizers.push(recognizer);recognizer.manager=this;this.touchAction.update();return recognizer};_proto.remove=function remove(recognizer){if(invokeArrayArg(recognizer,"remove",this)){return this}var targetRecognizer=this.get(recognizer);if(recognizer){var recognizers=this.recognizers;var index2=inArray(recognizers,targetRecognizer);if(index2!==-1){recognizers.splice(index2,1);this.touchAction.update()}}return this};_proto.on=function on(events,handler){if(events===void 0||handler===void 0){return this}var handlers=this.handlers;each(splitStr(events),function(event){handlers[event]=handlers[event]||[];handlers[event].push(handler)});return this};_proto.off=function off(events,handler){if(events===void 0){return this}var handlers=this.handlers;each(splitStr(events),function(event){if(!handler){delete handlers[event]}else{handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1)}});return this};_proto.emit=function emit(event,data2){if(this.options.domEvents){triggerDomEvent(event,data2)}var handlers=this.handlers[event]&&this.handlers[event].slice();if(!handlers||!handlers.length){return}data2.type=event;data2.preventDefault=function(){data2.srcEvent.preventDefault()};var i2=0;while(i2<handlers.length){handlers[i2](data2);i2++}};_proto.destroy=function destroy(){this.element&&toggleCssProps(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null};return Manager2})();var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var SINGLE_TOUCH_TARGET_EVENTS="touchstart";var SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";var SingleTouchInput=(function(_Input){_inheritsLoose(SingleTouchInput2,_Input);function SingleTouchInput2(){var _this;var proto=SingleTouchInput2.prototype;proto.evTarget=SINGLE_TOUCH_TARGET_EVENTS;proto.evWin=SINGLE_TOUCH_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.started=false;return _this}var _proto=SingleTouchInput2.prototype;_proto.handler=function handler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START){this.started=true}if(!this.started){return}var touches=normalizeSingleTouches.call(this,ev,type);if(type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0){this.started=false}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})};return SingleTouchInput2})(Input);function normalizeSingleTouches(ev,type){var all=toArray$1(ev.touches);var changed=toArray$1(ev.changedTouches);if(type&(INPUT_END|INPUT_CANCEL)){all=uniqueArray(all.concat(changed),"identifier",true)}return[all,changed]}function deprecate(method2,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace");var stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var log=window.console&&(window.console.warn||window.console.log);if(log){log.call(window.console,deprecationMessage,stack)}return method2.apply(this,arguments)}}var extend$1=deprecate(function(dest,src,merge2){var keys2=Object.keys(src);var i2=0;while(i2<keys2.length){if(!merge2||merge2&&dest[keys2[i2]]===void 0){dest[keys2[i2]]=src[keys2[i2]]}i2++}return dest},"extend","Use `assign`.");var merge$2=deprecate(function(dest,src){return extend$1(dest,src,true)},"merge","Use `assign`.");function inherit(child,base,properties){var baseP=base.prototype;var childP;childP=child.prototype=Object.create(baseP);childP.constructor=child;childP._super=baseP;if(properties){assign$1(childP,properties)}}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}var Hammer$2=(function(){var Hammer2=(function Hammer3(element,options){if(options===void 0){options={}}return new Manager(element,_extends({recognizers:preset.concat()},options))});Hammer2.VERSION="2.0.17-rc";Hammer2.DIRECTION_ALL=DIRECTION_ALL;Hammer2.DIRECTION_DOWN=DIRECTION_DOWN;Hammer2.DIRECTION_LEFT=DIRECTION_LEFT;Hammer2.DIRECTION_RIGHT=DIRECTION_RIGHT;Hammer2.DIRECTION_UP=DIRECTION_UP;Hammer2.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL;Hammer2.DIRECTION_VERTICAL=DIRECTION_VERTICAL;Hammer2.DIRECTION_NONE=DIRECTION_NONE;Hammer2.DIRECTION_DOWN=DIRECTION_DOWN;Hammer2.INPUT_START=INPUT_START;Hammer2.INPUT_MOVE=INPUT_MOVE;Hammer2.INPUT_END=INPUT_END;Hammer2.INPUT_CANCEL=INPUT_CANCEL;Hammer2.STATE_POSSIBLE=STATE_POSSIBLE;Hammer2.STATE_BEGAN=STATE_BEGAN;Hammer2.STATE_CHANGED=STATE_CHANGED;Hammer2.STATE_ENDED=STATE_ENDED;Hammer2.STATE_RECOGNIZED=STATE_RECOGNIZED;Hammer2.STATE_CANCELLED=STATE_CANCELLED;Hammer2.STATE_FAILED=STATE_FAILED;Hammer2.Manager=Manager;Hammer2.Input=Input;Hammer2.TouchAction=TouchAction;Hammer2.TouchInput=TouchInput;Hammer2.MouseInput=MouseInput;Hammer2.PointerEventInput=PointerEventInput;Hammer2.TouchMouseInput=TouchMouseInput;Hammer2.SingleTouchInput=SingleTouchInput;Hammer2.Recognizer=Recognizer;Hammer2.AttrRecognizer=AttrRecognizer;Hammer2.Tap=TapRecognizer;Hammer2.Pan=PanRecognizer;Hammer2.Swipe=SwipeRecognizer;Hammer2.Pinch=PinchRecognizer;Hammer2.Rotate=RotateRecognizer;Hammer2.Press=PressRecognizer;Hammer2.on=addEventListeners;Hammer2.off=removeEventListeners;Hammer2.each=each;Hammer2.merge=merge$2;Hammer2.extend=extend$1;Hammer2.bindFn=bindFn;Hammer2.assign=assign$1;Hammer2.inherit=inherit;Hammer2.bindFn=bindFn;Hammer2.prefixed=prefixed;Hammer2.toArray=toArray$1;Hammer2.inArray=inArray;Hammer2.uniqueArray=uniqueArray;Hammer2.splitStr=splitStr;Hammer2.boolOrFn=boolOrFn;Hammer2.hasParent=hasParent$1;Hammer2.addEventListeners=addEventListeners;Hammer2.removeEventListeners=removeEventListeners;Hammer2.defaults=assign$1({},defaults,{preset});return Hammer2})();Hammer$2.defaults;var RealHammer=Hammer$2;function _createForOfIteratorHelper$7(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$7(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$7(o,minLen){var _context17;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$7(o,minLen);var n=_sliceInstanceProperty(_context17=Object.prototype.toString.call(o)).call(_context17,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(o,minLen)}function _arrayLikeToArray$7(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var DELETE=_Symbol("DELETE");function pureDeepObjectAssign(base){var _context;for(var _len=arguments.length,updates=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){updates[_key-1]=arguments[_key]}return deepObjectAssign.apply(void 0,_concatInstanceProperty(_context=[{},base]).call(_context,updates))}function deepObjectAssign(){var merged=deepObjectAssignNonentry.apply(void 0,arguments);stripDelete(merged);return merged}function deepObjectAssignNonentry(){for(var _len2=arguments.length,values2=new Array(_len2),_key2=0;_key2<_len2;_key2++){values2[_key2]=arguments[_key2]}if(values2.length<2){return values2[0]}else if(values2.length>2){var _context2;return deepObjectAssignNonentry.apply(void 0,_concatInstanceProperty(_context2=[deepObjectAssign(values2[0],values2[1])]).call(_context2,_toConsumableArray(_sliceInstanceProperty(values2).call(values2,2))))}var a=values2[0];var b=values2[1];if(a instanceof Date&&b instanceof Date){a.setTime(b.getTime());return a}var _iterator=_createForOfIteratorHelper$7(_Reflect$ownKeys(b)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var prop=_step.value;if(!Object.prototype.propertyIsEnumerable.call(b,prop));else if(b[prop]===DELETE){delete a[prop]}else if(a[prop]!==null&&b[prop]!==null&&_typeof$1(a[prop])==="object"&&_typeof$1(b[prop])==="object"&&!_Array$isArray(a[prop])&&!_Array$isArray(b[prop])){a[prop]=deepObjectAssignNonentry(a[prop],b[prop])}else{a[prop]=clone(b[prop])}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return a}function clone(a){if(_Array$isArray(a)){return _mapInstanceProperty(a).call(a,function(value){return clone(value)})}else if(_typeof$1(a)==="object"&&a!==null){if(a instanceof Date){return new Date(a.getTime())}return deepObjectAssignNonentry({},a)}else{return a}}function stripDelete(a){for(var _i=0,_Object$keys$1=_Object$keys(a);_i<_Object$keys$1.length;_i++){var prop=_Object$keys$1[_i];if(a[prop]===DELETE){delete a[prop]}else if(_typeof$1(a[prop])==="object"&&a[prop]!==null){stripDelete(a[prop])}}}function Alea(){for(var _len3=arguments.length,seed=new Array(_len3),_key3=0;_key3<_len3;_key3++){seed[_key3]=arguments[_key3]}return AleaImplementation(seed.length?seed:[_Date$now()])}function AleaImplementation(seed){var _mashSeed=mashSeed(seed),_mashSeed2=_slicedToArray(_mashSeed,3),s0=_mashSeed2[0],s1=_mashSeed2[1],s2=_mashSeed2[2];var c2=1;var random=function random2(){var t=2091639*s0+c2*23283064365386963e-26;s0=s1;s1=s2;return s2=t-(c2=t|0)};random.uint32=function(){return random()*4294967296};random.fract53=function(){return random()+(random()*2097152|0)*11102230246251565e-32};random.algorithm="Alea";random.seed=seed;random.version="0.9";return random}function mashSeed(){var mash=Mash();var s0=mash(" ");var s1=mash(" ");var s2=mash(" ");for(var i2=0;i2<arguments.length;i2++){s0-=mash(i2<0||arguments.length<=i2?void 0:arguments[i2]);if(s0<0){s0+=1}s1-=mash(i2<0||arguments.length<=i2?void 0:arguments[i2]);if(s1<0){s1+=1}s2-=mash(i2<0||arguments.length<=i2?void 0:arguments[i2]);if(s2<0){s2+=1}}return[s0,s1,s2]}function Mash(){var n=4022871197;return function(data2){var string2=data2.toString();for(var i2=0;i2<string2.length;i2++){n+=string2.charCodeAt(i2);var h=.02519603282416938*n;n=h>>>0;h-=n;h*=n;n=h>>>0;h-=n;n+=h*4294967296}return(n>>>0)*23283064365386963e-26}}function hammerMock(){var noop2=function noop3(){};return{on:noop2,off:noop2,destroy:noop2,emit:noop2,get:function get2(){return{set:noop2}}}}var Hammer$1=typeof window!=="undefined"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator$1(container){var _this=this,_context3;this._cleanupQueue=[];this.active=false;this._dom={container,overlay:document.createElement("div")};this._dom.overlay.classList.add("vis-overlay");this._dom.container.appendChild(this._dom.overlay);this._cleanupQueue.push(function(){_this._dom.overlay.parentNode.removeChild(_this._dom.overlay)});var hammer=Hammer$1(this._dom.overlay);hammer.on("tap",_bindInstanceProperty$1(_context3=this._onTapOverlay).call(_context3,this));this._cleanupQueue.push(function(){hammer.destroy()});var events=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];_forEachInstanceProperty(events).call(events,function(event){hammer.on(event,function(event2){event2.srcEvent.stopPropagation()})});if(document&&document.body){this._onClick=function(event){if(!_hasParent(event.target,container)){_this.deactivate()}};document.body.addEventListener("click",this._onClick);this._cleanupQueue.push(function(){document.body.removeEventListener("click",_this._onClick)})}this._escListener=function(event){if("key"in event?event.key==="Escape":event.keyCode===27){_this.deactivate()}}}Emitter(Activator$1.prototype);Activator$1.current=null;Activator$1.prototype.destroy=function(){var _context4,_context5;this.deactivate();var _iterator2=_createForOfIteratorHelper$7(_reverseInstanceProperty(_context4=_spliceInstanceProperty(_context5=this._cleanupQueue).call(_context5,0)).call(_context4)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var callback=_step2.value;callback()}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}};Activator$1.prototype.activate=function(){if(Activator$1.current){Activator$1.current.deactivate()}Activator$1.current=this;this.active=true;this._dom.overlay.style.display="none";this._dom.container.classList.add("vis-active");this.emit("change");this.emit("activate");document.body.addEventListener("keydown",this._escListener)};Activator$1.prototype.deactivate=function(){this.active=false;this._dom.overlay.style.display="block";this._dom.container.classList.remove("vis-active");document.body.removeEventListener("keydown",this._escListener);this.emit("change");this.emit("deactivate")};Activator$1.prototype._onTapOverlay=function(event){this.activate();event.srcEvent.stopPropagation()};function _hasParent(element,parent2){while(element){if(element===parent2){return true}element=element.parentNode}return false}var ASPDateRegex=/^\/?Date\((-?\d+)/i;var fullHexRE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var shortHexRE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;var rgbRE=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i;var rgbaRE=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function isNumber(value){return value instanceof Number||typeof value==="number"}function recursiveDOMDelete(DOMobject){if(DOMobject){while(DOMobject.hasChildNodes()===true){var child=DOMobject.firstChild;if(child){recursiveDOMDelete(child);DOMobject.removeChild(child)}}}}function isString(value){return value instanceof String||typeof value==="string"}function isObject$a(value){return _typeof$1(value)==="object"&&value!==null}function isDate(value){if(value instanceof Date){return true}else if(isString(value)){var match2=ASPDateRegex.exec(value);if(match2){return true}else if(!isNaN(Date.parse(value))){return true}}return false}function copyOrDelete(a,b,prop,allowDeletion){var doDeletion=false;if(allowDeletion===true){doDeletion=b[prop]===null&&a[prop]!==void 0}if(doDeletion){delete a[prop]}else{a[prop]=b[prop]}}function fillIfDefined(a,b){var allowDeletion=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;for(var prop in a){if(b[prop]!==void 0){if(b[prop]===null||_typeof$1(b[prop])!=="object"){copyOrDelete(a,b,prop,allowDeletion)}else{var aProp=a[prop];var bProp=b[prop];if(isObject$a(aProp)&&isObject$a(bProp)){fillIfDefined(aProp,bProp,allowDeletion)}}}}}var extend=_Object$assign;function selectiveExtend(props,a){if(!_Array$isArray(props)){throw new Error("Array with property names expected as first argument")}for(var _len4=arguments.length,others=new Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++){others[_key4-2]=arguments[_key4]}for(var _i2=0,_others=others;_i2<_others.length;_i2++){var other=_others[_i2];for(var p=0;p<props.length;p++){var prop=props[p];if(other&&Object.prototype.hasOwnProperty.call(other,prop)){a[prop]=other[prop]}}}return a}function selectiveDeepExtend(props,a,b){var allowDeletion=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;if(_Array$isArray(b)){throw new TypeError("Arrays are not supported by deepExtend")}for(var p=0;p<props.length;p++){var prop=props[p];if(Object.prototype.hasOwnProperty.call(b,prop)){if(b[prop]&&b[prop].constructor===Object){if(a[prop]===void 0){a[prop]={}}if(a[prop].constructor===Object){deepExtend(a[prop],b[prop],false,allowDeletion)}else{copyOrDelete(a,b,prop,allowDeletion)}}else if(_Array$isArray(b[prop])){throw new TypeError("Arrays are not supported by deepExtend")}else{copyOrDelete(a,b,prop,allowDeletion)}}}return a}function selectiveNotDeepExtend(propsToExclude,a,b){var allowDeletion=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;if(_Array$isArray(b)){throw new TypeError("Arrays are not supported by deepExtend")}for(var prop in b){if(!Object.prototype.hasOwnProperty.call(b,prop)){continue}if(_includesInstanceProperty(propsToExclude).call(propsToExclude,prop)){continue}if(b[prop]&&b[prop].constructor===Object){if(a[prop]===void 0){a[prop]={}}if(a[prop].constructor===Object){deepExtend(a[prop],b[prop])}else{copyOrDelete(a,b,prop,allowDeletion)}}else if(_Array$isArray(b[prop])){a[prop]=[];for(var i2=0;i2<b[prop].length;i2++){a[prop].push(b[prop][i2])}}else{copyOrDelete(a,b,prop,allowDeletion)}}return a}function deepExtend(a,b){var protoExtend=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var allowDeletion=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;for(var prop in b){if(Object.prototype.hasOwnProperty.call(b,prop)||protoExtend===true){if(_typeof$1(b[prop])==="object"&&b[prop]!==null&&_Object$getPrototypeOf$1(b[prop])===Object.prototype){if(a[prop]===void 0){a[prop]=deepExtend({},b[prop],protoExtend)}else if(_typeof$1(a[prop])==="object"&&a[prop]!==null&&_Object$getPrototypeOf$1(a[prop])===Object.prototype){deepExtend(a[prop],b[prop],protoExtend)}else{copyOrDelete(a,b,prop,allowDeletion)}}else if(_Array$isArray(b[prop])){var _context6;a[prop]=_sliceInstanceProperty(_context6=b[prop]).call(_context6)}else{copyOrDelete(a,b,prop,allowDeletion)}}}return a}function equalArray(a,b){if(a.length!==b.length){return false}for(var i2=0,len=a.length;i2<len;i2++){if(a[i2]!=b[i2]){return false}}return true}function getType(object2){var type=_typeof$1(object2);if(type==="object"){if(object2===null){return"null"}if(object2 instanceof Boolean){return"Boolean"}if(object2 instanceof Number){return"Number"}if(object2 instanceof String){return"String"}if(_Array$isArray(object2)){return"Array"}if(object2 instanceof Date){return"Date"}return"Object"}if(type==="number"){return"Number"}if(type==="boolean"){return"Boolean"}if(type==="string"){return"String"}if(type===void 0){return"undefined"}return type}function copyAndExtendArray(arr,newValue){var _context7;return _concatInstanceProperty(_context7=[]).call(_context7,_toConsumableArray(arr),[newValue])}function copyArray(arr){return _sliceInstanceProperty(arr).call(arr)}function getAbsoluteLeft(elem){return elem.getBoundingClientRect().left}function getAbsoluteRight(elem){return elem.getBoundingClientRect().right}function getAbsoluteTop(elem){return elem.getBoundingClientRect().top}function addClassName(elem,classNames){var classes=elem.className.split(" ");var newClasses=classNames.split(" ");classes=_concatInstanceProperty(classes).call(classes,_filterInstanceProperty(newClasses).call(newClasses,function(className){return!_includesInstanceProperty(classes).call(classes,className)}));elem.className=classes.join(" ")}function removeClassName(elem,classNames){var classes=elem.className.split(" ");var oldClasses=classNames.split(" ");classes=_filterInstanceProperty(classes).call(classes,function(className){return!_includesInstanceProperty(oldClasses).call(oldClasses,className)});elem.className=classes.join(" ")}function forEach$4(object2,callback){if(_Array$isArray(object2)){var len=object2.length;for(var i2=0;i2<len;i2++){callback(object2[i2],i2,object2)}}else{for(var key in object2){if(Object.prototype.hasOwnProperty.call(object2,key)){callback(object2[key],key,object2)}}}}var toArray=_Object$values;function updateProperty(object2,key,value){if(object2[key]!==value){object2[key]=value;return true}else{return false}}function throttle(fn){var scheduled=false;return function(){if(!scheduled){scheduled=true;requestAnimationFrame(function(){scheduled=false;fn()})}}}function addEventListener(element,action,listener,useCapture){if(element.addEventListener){var _context8;if(useCapture===void 0){useCapture=false}if(action==="mousewheel"&&_includesInstanceProperty(_context8=navigator.userAgent).call(_context8,"Firefox")){action="DOMMouseScroll"}element.addEventListener(action,listener,useCapture)}else{element.attachEvent("on"+action,listener)}}function removeEventListener(element,action,listener,useCapture){if(element.removeEventListener){var _context9;if(useCapture===void 0){useCapture=false}if(action==="mousewheel"&&_includesInstanceProperty(_context9=navigator.userAgent).call(_context9,"Firefox")){action="DOMMouseScroll"}element.removeEventListener(action,listener,useCapture)}else{element.detachEvent("on"+action,listener)}}function preventDefault(event){if(!event){event=window.event}if(!event);else if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}function getTarget(){var event=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;var target=null;if(!event);else if(event.target){target=event.target}else if(event.srcElement){target=event.srcElement}if(!(target instanceof Element)){return null}if(target.nodeType!=null&&target.nodeType==3){target=target.parentNode;if(!(target instanceof Element)){return null}}return target}function hasParent(element,parent2){var elem=element;while(elem){if(elem===parent2){return true}else if(elem.parentNode){elem=elem.parentNode}else{return false}}return false}var option={asBoolean:function asBoolean(value,defaultValue){if(typeof value=="function"){value=value()}if(value!=null){return value!=false}return defaultValue||null},asNumber:function asNumber(value,defaultValue){if(typeof value=="function"){value=value()}if(value!=null){return Number(value)||defaultValue||null}return defaultValue||null},asString:function asString(value,defaultValue){if(typeof value=="function"){value=value()}if(value!=null){return String(value)}return defaultValue||null},asSize:function asSize(value,defaultValue){if(typeof value=="function"){value=value()}if(isString(value)){return value}else if(isNumber(value)){return value+"px"}else{return defaultValue||null}},asElement:function asElement(value,defaultValue){if(typeof value=="function"){value=value()}return value||defaultValue||null}};function hexToRGB(hex2){var result;switch(hex2.length){case 3:case 4:result=shortHexRE.exec(hex2);return result?{r:_parseInt$1(result[1]+result[1],16),g:_parseInt$1(result[2]+result[2],16),b:_parseInt$1(result[3]+result[3],16)}:null;case 6:case 7:result=fullHexRE.exec(hex2);return result?{r:_parseInt$1(result[1],16),g:_parseInt$1(result[2],16),b:_parseInt$1(result[3],16)}:null;default:return null}}function overrideOpacity(color,opacity){if(_includesInstanceProperty(color).call(color,"rgba")){return color}else if(_includesInstanceProperty(color).call(color,"rgb")){var rgb=color.substr(_indexOfInstanceProperty(color).call(color,"(")+1).replace(")","").split(",");return"rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+opacity+")"}else{var _rgb=hexToRGB(color);if(_rgb==null){return color}else{return"rgba("+_rgb.r+","+_rgb.g+","+_rgb.b+","+opacity+")"}}}function RGBToHex(red,green,blue){var _context10;return"#"+_sliceInstanceProperty(_context10=((1<<24)+(red<<16)+(green<<8)+blue).toString(16)).call(_context10,1)}function parseColor(inputColor,defaultColor){if(isString(inputColor)){var colorStr=inputColor;if(isValidRGB(colorStr)){var _context11;var rgb=_mapInstanceProperty(_context11=colorStr.substr(4).substr(0,colorStr.length-5).split(",")).call(_context11,function(value){return _parseInt$1(value)});colorStr=RGBToHex(rgb[0],rgb[1],rgb[2])}if(isValidHex(colorStr)===true){var hsv=hexToHSV(colorStr);var lighterColorHSV={h:hsv.h,s:hsv.s*.8,v:Math.min(1,hsv.v*1.02)};var darkerColorHSV={h:hsv.h,s:Math.min(1,hsv.s*1.25),v:hsv.v*.8};var darkerColorHex=HSVToHex(darkerColorHSV.h,darkerColorHSV.s,darkerColorHSV.v);var lighterColorHex=HSVToHex(lighterColorHSV.h,lighterColorHSV.s,lighterColorHSV.v);return{background:colorStr,border:darkerColorHex,highlight:{background:lighterColorHex,border:darkerColorHex},hover:{background:lighterColorHex,border:darkerColorHex}}}else{return{background:colorStr,border:colorStr,highlight:{background:colorStr,border:colorStr},hover:{background:colorStr,border:colorStr}}}}else{if(defaultColor){var color={background:inputColor.background||defaultColor.background,border:inputColor.border||defaultColor.border,highlight:isString(inputColor.highlight)?{border:inputColor.highlight,background:inputColor.highlight}:{background:inputColor.highlight&&inputColor.highlight.background||defaultColor.highlight.background,border:inputColor.highlight&&inputColor.highlight.border||defaultColor.highlight.border},hover:isString(inputColor.hover)?{border:inputColor.hover,background:inputColor.hover}:{border:inputColor.hover&&inputColor.hover.border||defaultColor.hover.border,background:inputColor.hover&&inputColor.hover.background||defaultColor.hover.background}};return color}else{var _color={background:inputColor.background||void 0,border:inputColor.border||void 0,highlight:isString(inputColor.highlight)?{border:inputColor.highlight,background:inputColor.highlight}:{background:inputColor.highlight&&inputColor.highlight.background||void 0,border:inputColor.highlight&&inputColor.highlight.border||void 0},hover:isString(inputColor.hover)?{border:inputColor.hover,background:inputColor.hover}:{border:inputColor.hover&&inputColor.hover.border||void 0,background:inputColor.hover&&inputColor.hover.background||void 0}};return _color}}}function RGBToHSV(red,green,blue){red=red/255;green=green/255;blue=blue/255;var minRGB=Math.min(red,Math.min(green,blue));var maxRGB=Math.max(red,Math.max(green,blue));if(minRGB===maxRGB){return{h:0,s:0,v:minRGB}}var d=red===minRGB?green-blue:blue===minRGB?red-green:blue-red;var h=red===minRGB?3:blue===minRGB?1:5;var hue=60*(h-d/(maxRGB-minRGB))/360;var saturation=(maxRGB-minRGB)/maxRGB;var value=maxRGB;return{h:hue,s:saturation,v:value}}function splitCSSText(cssText){var tmpEllement=document.createElement("div");var styles={};tmpEllement.style.cssText=cssText;for(var i2=0;i2<tmpEllement.style.length;++i2){styles[tmpEllement.style[i2]]=tmpEllement.style.getPropertyValue(tmpEllement.style[i2])}return styles}function addCssText(element,cssText){var cssStyle=splitCSSText(cssText);for(var _i3=0,_Object$entries=_Object$entries2(cssStyle);_i3<_Object$entries.length;_i3++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i3],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];element.style.setProperty(key,value)}}function removeCssText(element,cssText){var cssStyle=splitCSSText(cssText);for(var _i4=0,_Object$keys3=_Object$keys(cssStyle);_i4<_Object$keys3.length;_i4++){var key=_Object$keys3[_i4];element.style.removeProperty(key)}}function HSVToRGB(h,s,v){var r;var g;var b;var i2=Math.floor(h*6);var f=h*6-i2;var p=v*(1-s);var q=v*(1-f*s);var t=v*(1-(1-f)*s);switch(i2%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break}return{r:Math.floor(r*255),g:Math.floor(g*255),b:Math.floor(b*255)}}function HSVToHex(h,s,v){var rgb=HSVToRGB(h,s,v);return RGBToHex(rgb.r,rgb.g,rgb.b)}function hexToHSV(hex2){var rgb=hexToRGB(hex2);if(!rgb){throw new TypeError("'".concat(hex2,"' is not a valid color."))}return RGBToHSV(rgb.r,rgb.g,rgb.b)}function isValidHex(hex2){var isOk=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex2);return isOk}function isValidRGB(rgb){return rgbRE.test(rgb)}function isValidRGBA(rgba){return rgbaRE.test(rgba)}function selectiveBridgeObject(fields,referenceObject){if(referenceObject!==null&&_typeof$1(referenceObject)==="object"){var objectTo=_Object$create$1(referenceObject);for(var i2=0;i2<fields.length;i2++){if(Object.prototype.hasOwnProperty.call(referenceObject,fields[i2])){if(_typeof$1(referenceObject[fields[i2]])=="object"){objectTo[fields[i2]]=bridgeObject(referenceObject[fields[i2]])}}}return objectTo}else{return null}}function bridgeObject(referenceObject){if(referenceObject===null||_typeof$1(referenceObject)!=="object"){return null}if(referenceObject instanceof Element){return referenceObject}var objectTo=_Object$create$1(referenceObject);for(var i2 in referenceObject){if(Object.prototype.hasOwnProperty.call(referenceObject,i2)){if(_typeof$1(referenceObject[i2])=="object"){objectTo[i2]=bridgeObject(referenceObject[i2])}}}return objectTo}function insertSort(a,compare){for(var i2=0;i2<a.length;i2++){var k=a[i2];var j=void 0;for(j=i2;j>0&&compare(k,a[j-1])<0;j--){a[j]=a[j-1]}a[j]=k}return a}function mergeOptions(mergeTarget,options,option2){var globalOptions=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};var isPresent=function isPresent2(obj){return obj!==null&&obj!==void 0};var isObject2=function isObject3(obj){return obj!==null&&_typeof$1(obj)==="object"};var isEmpty=function isEmpty2(obj){for(var x in obj){if(Object.prototype.hasOwnProperty.call(obj,x)){return false}}return true};if(!isObject2(mergeTarget)){throw new Error("Parameter mergeTarget must be an object")}if(!isObject2(options)){throw new Error("Parameter options must be an object")}if(!isPresent(option2)){throw new Error("Parameter option must have a value")}if(!isObject2(globalOptions)){throw new Error("Parameter globalOptions must be an object")}var doMerge=function doMerge2(target,options2,option3){if(!isObject2(target[option3])){target[option3]={}}var src=options2[option3];var dst=target[option3];for(var prop in src){if(Object.prototype.hasOwnProperty.call(src,prop)){dst[prop]=src[prop]}}};var srcOption=options[option2];var globalPassed=isObject2(globalOptions)&&!isEmpty(globalOptions);var globalOption=globalPassed?globalOptions[option2]:void 0;var globalEnabled=globalOption?globalOption.enabled:void 0;if(srcOption===void 0){return}if(typeof srcOption==="boolean"){if(!isObject2(mergeTarget[option2])){mergeTarget[option2]={}}mergeTarget[option2].enabled=srcOption;return}if(srcOption===null&&!isObject2(mergeTarget[option2])){if(isPresent(globalOption)){mergeTarget[option2]=_Object$create$1(globalOption)}else{return}}if(!isObject2(srcOption)){return}var enabled=true;if(srcOption.enabled!==void 0){enabled=srcOption.enabled}else{if(globalEnabled!==void 0){enabled=globalOption.enabled}}doMerge(mergeTarget,options,option2);mergeTarget[option2].enabled=enabled}function binarySearchCustom(orderedItems,comparator,field,field2){var maxIterations=1e4;var iteration=0;var low2=0;var high=orderedItems.length-1;while(low2<=high&&iteration<maxIterations){var middle=Math.floor((low2+high)/2);var item=orderedItems[middle];var value=field2===void 0?item[field]:item[field][field2];var searchResult=comparator(value);if(searchResult==0){return middle}else if(searchResult==-1){low2=middle+1}else{high=middle-1}iteration++}return-1}function binarySearchValue(orderedItems,target,field,sidePreference,comparator){var maxIterations=1e4;var iteration=0;var low2=0;var high=orderedItems.length-1;var prevValue;var value;var nextValue;var middle;comparator=comparator!=void 0?comparator:function(a,b){return a==b?0:a<b?-1:1};while(low2<=high&&iteration<maxIterations){middle=Math.floor(.5*(high+low2));prevValue=orderedItems[Math.max(0,middle-1)][field];value=orderedItems[middle][field];nextValue=orderedItems[Math.min(orderedItems.length-1,middle+1)][field];if(comparator(value,target)==0){return middle}else if(comparator(prevValue,target)<0&&comparator(value,target)>0){return sidePreference=="before"?Math.max(0,middle-1):middle}else if(comparator(value,target)<0&&comparator(nextValue,target)>0){return sidePreference=="before"?middle:Math.min(orderedItems.length-1,middle+1)}else{if(comparator(value,target)<0){low2=middle+1}else{high=middle-1}}iteration++}return-1}var easingFunctions={linear:function linear(t){return t},easeInQuad:function easeInQuad(t){return t*t},easeOutQuad:function easeOutQuad(t){return t*(2-t)},easeInOutQuad:function easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function easeInCubic(t){return t*t*t},easeOutCubic:function easeOutCubic(t){return--t*t*t+1},easeInOutCubic:function easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function easeInQuart(t){return t*t*t*t},easeOutQuart:function easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart:function easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function easeInQuint(t){return t*t*t*t*t},easeOutQuint:function easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint:function easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function getScrollBarWidth(){var inner=document.createElement("p");inner.style.width="100%";inner.style.height="200px";var outer=document.createElement("div");outer.style.position="absolute";outer.style.top="0px";outer.style.left="0px";outer.style.visibility="hidden";outer.style.width="200px";outer.style.height="150px";outer.style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2){w2=outer.clientWidth}document.body.removeChild(outer);return w1-w2}function topMost(pile,accessors){var candidate;if(!_Array$isArray(accessors)){accessors=[accessors]}var _iterator3=_createForOfIteratorHelper$7(pile),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var member=_step3.value;if(member){candidate=member[accessors[0]];for(var i2=1;i2<accessors.length;i2++){if(candidate){candidate=candidate[accessors[i2]]}}if(typeof candidate!=="undefined"){break}}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return candidate}var htmlColors={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};var ColorPicker$1=(function(){function ColorPicker2(){var pixelRatio=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;_classCallCheck(this,ColorPicker2);this.pixelRatio=pixelRatio;this.generated=false;this.centerCoordinates={x:289/2,y:289/2};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=void 0;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=void 0;this.applied=false;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}_createClass(ColorPicker2,[{key:"insertTo",value:function insertTo(container){if(this.hammer!==void 0){this.hammer.destroy();this.hammer=void 0}this.container=container;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function setUpdateCallback(callback){if(typeof callback==="function"){this.updateCallback=callback}else{throw new Error("Function attempted to set as colorPicker update callback is not a function.")}}},{key:"setCloseCallback",value:function setCloseCallback(callback){if(typeof callback==="function"){this.closeCallback=callback}else{throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}}},{key:"_isColorString",value:function _isColorString(color){if(typeof color==="string"){return htmlColors[color]}}},{key:"setColor",value:function setColor(color){var setInitial=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(color==="none"){return}var rgba;var htmlColor=this._isColorString(color);if(htmlColor!==void 0){color=htmlColor}if(isString(color)===true){if(isValidRGB(color)===true){var rgbaArray=color.substr(4).substr(0,color.length-5).split(",");rgba={r:rgbaArray[0],g:rgbaArray[1],b:rgbaArray[2],a:1}}else if(isValidRGBA(color)===true){var _rgbaArray=color.substr(5).substr(0,color.length-6).split(",");rgba={r:_rgbaArray[0],g:_rgbaArray[1],b:_rgbaArray[2],a:_rgbaArray[3]}}else if(isValidHex(color)===true){var rgbObj=hexToRGB(color);rgba={r:rgbObj.r,g:rgbObj.g,b:rgbObj.b,a:1}}}else{if(color instanceof Object){if(color.r!==void 0&&color.g!==void 0&&color.b!==void 0){var alpha=color.a!==void 0?color.a:"1.0";rgba={r:color.r,g:color.g,b:color.b,a:alpha}}}}if(rgba===void 0){throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+_JSON$stringify(color))}else{this._setColor(rgba,setInitial)}}},{key:"show",value:function show(){if(this.closeCallback!==void 0){this.closeCallback();this.closeCallback=void 0}this.applied=false;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function _hide(){var _this2=this;var storePrevious=arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;if(storePrevious===true){this.previousColor=_Object$assign({},this.color)}if(this.applied===true){this.updateCallback(this.initialColor)}this.frame.style.display="none";_setTimeout(function(){if(_this2.closeCallback!==void 0){_this2.closeCallback();_this2.closeCallback=void 0}},0)}},{key:"_save",value:function _save(){this.updateCallback(this.color);this.applied=false;this._hide()}},{key:"_apply",value:function _apply(){this.applied=true;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function _loadLast(){if(this.previousColor!==void 0){this.setColor(this.previousColor,false)}else{alert("There is no last color to load...")}}},{key:"_setColor",value:function _setColor(rgba){var setInitial=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(setInitial===true){this.initialColor=_Object$assign({},rgba)}this.color=rgba;var hsv=RGBToHSV(rgba.r,rgba.g,rgba.b);var angleConvert=2*Math.PI;var radius=this.r*hsv.s;var x=this.centerCoordinates.x+radius*Math.sin(angleConvert*hsv.h);var y=this.centerCoordinates.y+radius*Math.cos(angleConvert*hsv.h);this.colorPickerSelector.style.left=x-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=y-.5*this.colorPickerSelector.clientHeight+"px";this._updatePicker(rgba)}},{key:"_setOpacity",value:function _setOpacity(value){this.color.a=value/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function _setBrightness(value){var hsv=RGBToHSV(this.color.r,this.color.g,this.color.b);hsv.v=value/100;var rgba=HSVToRGB(hsv.h,hsv.s,hsv.v);rgba["a"]=this.color.a;this.color=rgba;this._updatePicker()}},{key:"_updatePicker",value:function _updatePicker(){var rgba=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;var hsv=RGBToHSV(rgba.r,rgba.g,rgba.b);var ctx=this.colorPickerCanvas.getContext("2d");if(this.pixelRation===void 0){this.pixelRatio=(window.devicePixelRatio||1)/(ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1)}ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var w=this.colorPickerCanvas.clientWidth;var h=this.colorPickerCanvas.clientHeight;ctx.clearRect(0,0,w,h);ctx.putImageData(this.hueCircle,0,0);ctx.fillStyle="rgba(0,0,0,"+(1-hsv.v)+")";ctx.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);_fillInstanceProperty(ctx).call(ctx);this.brightnessRange.value=100*hsv.v;this.opacityRange.value=100*rgba.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function _setSize(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function _create(){var _context12,_context13,_context14,_context15;this.frame=document.createElement("div");this.frame.className="vis-color-picker";this.colorPickerDiv=document.createElement("div");this.colorPickerSelector=document.createElement("div");this.colorPickerSelector.className="vis-selector";this.colorPickerDiv.appendChild(this.colorPickerSelector);this.colorPickerCanvas=document.createElement("canvas");this.colorPickerDiv.appendChild(this.colorPickerCanvas);if(!this.colorPickerCanvas.getContext){var noCanvas=document.createElement("DIV");noCanvas.style.color="red";noCanvas.style.fontWeight="bold";noCanvas.style.padding="10px";noCanvas.innerText="Error: your browser does not support HTML canvas";this.colorPickerCanvas.appendChild(noCanvas)}else{var ctx=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1);this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range";this.opacityRange.min="0";this.opacityRange.max="100"}catch(err){}this.opacityRange.value="100";this.opacityRange.className="vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range";this.brightnessRange.min="0";this.brightnessRange.max="100"}catch(err){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);var me=this;this.opacityRange.onchange=function(){me._setOpacity(this.value)};this.opacityRange.oninput=function(){me._setOpacity(this.value)};this.brightnessRange.onchange=function(){me._setBrightness(this.value)};this.brightnessRange.oninput=function(){me._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerText="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerText="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerText="new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerText="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerText="cancel";this.cancelButton.onclick=_bindInstanceProperty$1(_context12=this._hide).call(_context12,this,false);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerText="apply";this.applyButton.onclick=_bindInstanceProperty$1(_context13=this._apply).call(_context13,this);this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerText="save";this.saveButton.onclick=_bindInstanceProperty$1(_context14=this._save).call(_context14,this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerText="load last";this.loadButton.onclick=_bindInstanceProperty$1(_context15=this._loadLast).call(_context15,this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function _bindHammer(){var _this3=this;this.drag={};this.pinch={};this.hammer=new Hammer$1(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:true});this.hammer.on("hammer.input",function(event){if(event.isFirst){_this3._moveSelector(event)}});this.hammer.on("tap",function(event){_this3._moveSelector(event)});this.hammer.on("panstart",function(event){_this3._moveSelector(event)});this.hammer.on("panmove",function(event){_this3._moveSelector(event)});this.hammer.on("panend",function(event){_this3._moveSelector(event)})}},{key:"_generateHueCircle",value:function _generateHueCircle(){if(this.generated===false){var ctx=this.colorPickerCanvas.getContext("2d");if(this.pixelRation===void 0){this.pixelRatio=(window.devicePixelRatio||1)/(ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1)}ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var w=this.colorPickerCanvas.clientWidth;var h=this.colorPickerCanvas.clientHeight;ctx.clearRect(0,0,w,h);var x,y,hue,sat;this.centerCoordinates={x:w*.5,y:h*.5};this.r=.49*w;var angleConvert=2*Math.PI/360;var hfac=1/360;var sfac=1/this.r;var rgb;for(hue=0;hue<360;hue++){for(sat=0;sat<this.r;sat++){x=this.centerCoordinates.x+sat*Math.sin(angleConvert*hue);y=this.centerCoordinates.y+sat*Math.cos(angleConvert*hue);rgb=HSVToRGB(hue*hfac,sat*sfac,1);ctx.fillStyle="rgb("+rgb.r+","+rgb.g+","+rgb.b+")";ctx.fillRect(x-.5,y-.5,2,2)}}ctx.strokeStyle="rgba(0,0,0,1)";ctx.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);ctx.stroke();this.hueCircle=ctx.getImageData(0,0,w,h)}this.generated=true}},{key:"_moveSelector",value:function _moveSelector(event){var rect=this.colorPickerDiv.getBoundingClientRect();var left=event.center.x-rect.left;var top=event.center.y-rect.top;var centerY=.5*this.colorPickerDiv.clientHeight;var centerX=.5*this.colorPickerDiv.clientWidth;var x=left-centerX;var y=top-centerY;var angle=Math.atan2(x,y);var radius=.98*Math.min(Math.sqrt(x*x+y*y),centerX);var newTop=Math.cos(angle)*radius+centerY;var newLeft=Math.sin(angle)*radius+centerX;this.colorPickerSelector.style.top=newTop-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=newLeft-.5*this.colorPickerSelector.clientWidth+"px";var h=angle/(2*Math.PI);h=h<0?h+1:h;var s=radius/this.r;var hsv=RGBToHSV(this.color.r,this.color.g,this.color.b);hsv.h=h;hsv.s=s;var rgba=HSVToRGB(hsv.h,hsv.s,hsv.v);rgba["a"]=this.color.a;this.color=rgba;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]);return ColorPicker2})();function wrapInTag(){for(var _len5=arguments.length,rest=new Array(_len5),_key5=0;_key5<_len5;_key5++){rest[_key5]=arguments[_key5]}if(rest.length<1){throw new TypeError("Invalid arguments.")}else if(rest.length===1){return document.createTextNode(rest[0])}else{var element=document.createElement(rest[0]);element.appendChild(wrapInTag.apply(void 0,_toConsumableArray(_sliceInstanceProperty(rest).call(rest,1))));return element}}var Configurator$1=(function(){function Configurator2(parentModule,defaultContainer,configureOptions2){var pixelRatio=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;var hideOption=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return false};_classCallCheck(this,Configurator2);this.parent=parentModule;this.changedOptions=[];this.container=defaultContainer;this.allowCreation=false;this.hideOption=hideOption;this.options={};this.initialized=false;this.popupCounter=0;this.defaultOptions={enabled:false,filter:true,container:void 0,showButton:true};_Object$assign(this.options,this.defaultOptions);this.configureOptions=configureOptions2;this.moduleOptions={};this.domElements=[];this.popupDiv={};this.popupLimit=5;this.popupHistory={};this.colorPicker=new ColorPicker$1(pixelRatio);this.wrapper=void 0}_createClass(Configurator2,[{key:"setOptions",value:function setOptions(options){if(options!==void 0){this.popupHistory={};this._removePopup();var enabled=true;if(typeof options==="string"){this.options.filter=options}else if(_Array$isArray(options)){this.options.filter=options.join()}else if(_typeof$1(options)==="object"){if(options==null){throw new TypeError("options cannot be null")}if(options.container!==void 0){this.options.container=options.container}if(_filterInstanceProperty(options)!==void 0){this.options.filter=_filterInstanceProperty(options)}if(options.showButton!==void 0){this.options.showButton=options.showButton}if(options.enabled!==void 0){enabled=options.enabled}}else if(typeof options==="boolean"){this.options.filter=true;enabled=options}else if(typeof options==="function"){this.options.filter=options;enabled=true}if(_filterInstanceProperty(this.options)===false){enabled=false}this.options.enabled=enabled}this._clean()}},{key:"setModuleOptions",value:function setModuleOptions(moduleOptions){this.moduleOptions=moduleOptions;if(this.options.enabled===true){this._clean();if(this.options.container!==void 0){this.container=this.options.container}this._create()}}},{key:"_create",value:function _create(){this._clean();this.changedOptions=[];var filter2=_filterInstanceProperty(this.options);var counter2=0;var show=false;for(var _option in this.configureOptions){if(Object.prototype.hasOwnProperty.call(this.configureOptions,_option)){this.allowCreation=false;show=false;if(typeof filter2==="function"){show=filter2(_option,[]);show=show||this._handleObject(this.configureOptions[_option],[_option],true)}else if(filter2===true||_indexOfInstanceProperty(filter2).call(filter2,_option)!==-1){show=true}if(show!==false){this.allowCreation=true;if(counter2>0){this._makeItem([])}this._makeHeader(_option);this._handleObject(this.configureOptions[_option],[_option])}counter2++}}this._makeButton();this._push()}},{key:"_push",value:function _push(){this.wrapper=document.createElement("div");this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var i2=0;i2<this.domElements.length;i2++){this.wrapper.appendChild(this.domElements[i2])}this._showPopupIfNeeded()}},{key:"_clean",value:function _clean(){for(var i2=0;i2<this.domElements.length;i2++){this.wrapper.removeChild(this.domElements[i2])}if(this.wrapper!==void 0){this.container.removeChild(this.wrapper);this.wrapper=void 0}this.domElements=[];this._removePopup()}},{key:"_getValue",value:function _getValue(path2){var base=this.moduleOptions;for(var i2=0;i2<path2.length;i2++){if(base[path2[i2]]!==void 0){base=base[path2[i2]]}else{base=void 0;break}}return base}},{key:"_makeItem",value:function _makeItem(path2){if(this.allowCreation===true){var item=document.createElement("div");item.className="vis-configuration vis-config-item vis-config-s"+path2.length;for(var _len6=arguments.length,domElements=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++){domElements[_key6-1]=arguments[_key6]}_forEachInstanceProperty(domElements).call(domElements,function(element){item.appendChild(element)});this.domElements.push(item);return this.domElements.length}return 0}},{key:"_makeHeader",value:function _makeHeader(name){var div=document.createElement("div");div.className="vis-configuration vis-config-header";div.innerText=name;this._makeItem([],div)}},{key:"_makeLabel",value:function _makeLabel(name,path2){var objectLabel=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var div=document.createElement("div");div.className="vis-configuration vis-config-label vis-config-s"+path2.length;if(objectLabel===true){while(div.firstChild){div.removeChild(div.firstChild)}div.appendChild(wrapInTag("i","b",name))}else{div.innerText=name+":"}return div}},{key:"_makeDropdown",value:function _makeDropdown(arr,value,path2){var select=document.createElement("select");select.className="vis-configuration vis-config-select";var selectedValue=0;if(value!==void 0){if(_indexOfInstanceProperty(arr).call(arr,value)!==-1){selectedValue=_indexOfInstanceProperty(arr).call(arr,value)}}for(var i2=0;i2<arr.length;i2++){var _option2=document.createElement("option");_option2.value=arr[i2];if(i2===selectedValue){_option2.selected="selected"}_option2.innerText=arr[i2];select.appendChild(_option2)}var me=this;select.onchange=function(){me._update(this.value,path2)};var label=this._makeLabel(path2[path2.length-1],path2);this._makeItem(path2,label,select)}},{key:"_makeRange",value:function _makeRange(arr,value,path2){var defaultValue=arr[0];var min2=arr[1];var max2=arr[2];var step=arr[3];var range=document.createElement("input");range.className="vis-configuration vis-config-range";try{range.type="range";range.min=min2;range.max=max2}catch(err){}range.step=step;var popupString="";var popupValue=0;if(value!==void 0){var factor=1.2;if(value<0&&value*factor<min2){range.min=Math.ceil(value*factor);popupValue=range.min;popupString="range increased"}else if(value/factor<min2){range.min=Math.ceil(value/factor);popupValue=range.min;popupString="range increased"}if(value*factor>max2&&max2!==1){range.max=Math.ceil(value*factor);popupValue=range.max;popupString="range increased"}range.value=value}else{range.value=defaultValue}var input=document.createElement("input");input.className="vis-configuration vis-config-rangeinput";input.value=range.value;var me=this;range.onchange=function(){input.value=this.value;me._update(Number(this.value),path2)};range.oninput=function(){input.value=this.value};var label=this._makeLabel(path2[path2.length-1],path2);var itemIndex=this._makeItem(path2,label,range,input);if(popupString!==""&&this.popupHistory[itemIndex]!==popupValue){this.popupHistory[itemIndex]=popupValue;this._setupPopup(popupString,itemIndex)}}},{key:"_makeButton",value:function _makeButton(){var _this4=this;if(this.options.showButton===true){var generateButton=document.createElement("div");generateButton.className="vis-configuration vis-config-button";generateButton.innerText="generate options";generateButton.onclick=function(){_this4._printOptions()};generateButton.onmouseover=function(){generateButton.className="vis-configuration vis-config-button hover"};generateButton.onmouseout=function(){generateButton.className="vis-configuration vis-config-button"};this.optionsContainer=document.createElement("div");this.optionsContainer.className="vis-configuration vis-config-option-container";this.domElements.push(this.optionsContainer);this.domElements.push(generateButton)}}},{key:"_setupPopup",value:function _setupPopup(string2,index2){var _this5=this;if(this.initialized===true&&this.allowCreation===true&&this.popupCounter<this.popupLimit){var div=document.createElement("div");div.id="vis-configuration-popup";div.className="vis-configuration-popup";div.innerText=string2;div.onclick=function(){_this5._removePopup()};this.popupCounter+=1;this.popupDiv={html:div,index:index2}}}},{key:"_removePopup",value:function _removePopup(){if(this.popupDiv.html!==void 0){this.popupDiv.html.parentNode.removeChild(this.popupDiv.html);clearTimeout(this.popupDiv.hideTimeout);clearTimeout(this.popupDiv.deleteTimeout);this.popupDiv={}}}},{key:"_showPopupIfNeeded",value:function _showPopupIfNeeded(){var _this6=this;if(this.popupDiv.html!==void 0){var correspondingElement=this.domElements[this.popupDiv.index];var rect=correspondingElement.getBoundingClientRect();this.popupDiv.html.style.left=rect.left+"px";this.popupDiv.html.style.top=rect.top-30+"px";document.body.appendChild(this.popupDiv.html);this.popupDiv.hideTimeout=_setTimeout(function(){_this6.popupDiv.html.style.opacity=0},1500);this.popupDiv.deleteTimeout=_setTimeout(function(){_this6._removePopup()},1800)}}},{key:"_makeCheckbox",value:function _makeCheckbox(defaultValue,value,path2){var checkbox=document.createElement("input");checkbox.type="checkbox";checkbox.className="vis-configuration vis-config-checkbox";checkbox.checked=defaultValue;if(value!==void 0){checkbox.checked=value;if(value!==defaultValue){if(_typeof$1(defaultValue)==="object"){if(value!==defaultValue.enabled){this.changedOptions.push({path:path2,value})}}else{this.changedOptions.push({path:path2,value})}}}var me=this;checkbox.onchange=function(){me._update(this.checked,path2)};var label=this._makeLabel(path2[path2.length-1],path2);this._makeItem(path2,label,checkbox)}},{key:"_makeTextInput",value:function _makeTextInput(defaultValue,value,path2){var checkbox=document.createElement("input");checkbox.type="text";checkbox.className="vis-configuration vis-config-text";checkbox.value=value;if(value!==defaultValue){this.changedOptions.push({path:path2,value})}var me=this;checkbox.onchange=function(){me._update(this.value,path2)};var label=this._makeLabel(path2[path2.length-1],path2);this._makeItem(path2,label,checkbox)}},{key:"_makeColorField",value:function _makeColorField(arr,value,path2){var _this7=this;var defaultColor=arr[1];var div=document.createElement("div");value=value===void 0?defaultColor:value;if(value!=="none"){div.className="vis-configuration vis-config-colorBlock";div.style.backgroundColor=value}else{div.className="vis-configuration vis-config-colorBlock none"}value=value===void 0?defaultColor:value;div.onclick=function(){_this7._showColorPicker(value,div,path2)};var label=this._makeLabel(path2[path2.length-1],path2);this._makeItem(path2,label,div)}},{key:"_showColorPicker",value:function _showColorPicker(value,div,path2){var _this8=this;div.onclick=function(){};this.colorPicker.insertTo(div);this.colorPicker.show();this.colorPicker.setColor(value);this.colorPicker.setUpdateCallback(function(color){var colorString="rgba("+color.r+","+color.g+","+color.b+","+color.a+")";div.style.backgroundColor=colorString;_this8._update(colorString,path2)});this.colorPicker.setCloseCallback(function(){div.onclick=function(){_this8._showColorPicker(value,div,path2)}})}},{key:"_handleObject",value:function _handleObject(obj){var path2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];var checkOnly=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var show=false;var filter2=_filterInstanceProperty(this.options);var visibleInSet=false;for(var subObj in obj){if(Object.prototype.hasOwnProperty.call(obj,subObj)){show=true;var item=obj[subObj];var newPath=copyAndExtendArray(path2,subObj);if(typeof filter2==="function"){show=filter2(subObj,path2);if(show===false){if(!_Array$isArray(item)&&typeof item!=="string"&&typeof item!=="boolean"&&item instanceof Object){this.allowCreation=false;show=this._handleObject(item,newPath,true);this.allowCreation=checkOnly===false}}}if(show!==false){visibleInSet=true;var value=this._getValue(newPath);if(_Array$isArray(item)){this._handleArray(item,value,newPath)}else if(typeof item==="string"){this._makeTextInput(item,value,newPath)}else if(typeof item==="boolean"){this._makeCheckbox(item,value,newPath)}else if(item instanceof Object){if(!this.hideOption(path2,subObj,this.moduleOptions)){if(item.enabled!==void 0){var enabledPath=copyAndExtendArray(newPath,"enabled");var enabledValue=this._getValue(enabledPath);if(enabledValue===true){var label=this._makeLabel(subObj,newPath,true);this._makeItem(newPath,label);visibleInSet=this._handleObject(item,newPath)||visibleInSet}else{this._makeCheckbox(item,enabledValue,newPath)}}else{var _label=this._makeLabel(subObj,newPath,true);this._makeItem(newPath,_label);visibleInSet=this._handleObject(item,newPath)||visibleInSet}}}else{console.error("dont know how to handle",item,subObj,newPath)}}}}return visibleInSet}},{key:"_handleArray",value:function _handleArray(arr,value,path2){if(typeof arr[0]==="string"&&arr[0]==="color"){this._makeColorField(arr,value,path2);if(arr[1]!==value){this.changedOptions.push({path:path2,value})}}else if(typeof arr[0]==="string"){this._makeDropdown(arr,value,path2);if(arr[0]!==value){this.changedOptions.push({path:path2,value})}}else if(typeof arr[0]==="number"){this._makeRange(arr,value,path2);if(arr[0]!==value){this.changedOptions.push({path:path2,value:Number(value)})}}}},{key:"_update",value:function _update(value,path2){var options=this._constructOptions(value,path2);if(this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit){this.parent.body.emitter.emit("configChange",options)}this.initialized=true;this.parent.setOptions(options)}},{key:"_constructOptions",value:function _constructOptions(value,path2){var optionsObj=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var pointer=optionsObj;value=value==="true"?true:value;value=value==="false"?false:value;for(var i2=0;i2<path2.length;i2++){if(path2[i2]!=="global"){if(pointer[path2[i2]]===void 0){pointer[path2[i2]]={}}if(i2!==path2.length-1){pointer=pointer[path2[i2]]}else{pointer[path2[i2]]=value}}}return optionsObj}},{key:"_printOptions",value:function _printOptions(){var options=this.getOptions();while(this.optionsContainer.firstChild){this.optionsContainer.removeChild(this.optionsContainer.firstChild)}this.optionsContainer.appendChild(wrapInTag("pre","const options = "+_JSON$stringify(options,null,2)))}},{key:"getOptions",value:function getOptions(){var options={};for(var i2=0;i2<this.changedOptions.length;i2++){this._constructOptions(this.changedOptions[i2].value,this.changedOptions[i2].path,options)}return options}}]);return Configurator2})();var Popup$1=(function(){function Popup2(container,overflowMethod){_classCallCheck(this,Popup2);this.container=container;this.overflowMethod=overflowMethod||"cap";this.x=0;this.y=0;this.padding=5;this.hidden=false;this.frame=document.createElement("div");this.frame.className="vis-tooltip";this.container.appendChild(this.frame)}_createClass(Popup2,[{key:"setPosition",value:function setPosition(x,y){this.x=_parseInt$1(x);this.y=_parseInt$1(y)}},{key:"setText",value:function setText(content){if(content instanceof Element){while(this.frame.firstChild){this.frame.removeChild(this.frame.firstChild)}this.frame.appendChild(content)}else{this.frame.innerText=content}}},{key:"show",value:function show(doShow){if(doShow===void 0){doShow=true}if(doShow===true){var height=this.frame.clientHeight;var width=this.frame.clientWidth;var maxHeight=this.frame.parentNode.clientHeight;var maxWidth=this.frame.parentNode.clientWidth;var left=0,top=0;if(this.overflowMethod=="flip"){var isLeft=false,isTop=true;if(this.y-height<this.padding){isTop=false}if(this.x+width>maxWidth-this.padding){isLeft=true}if(isLeft){left=this.x-width}else{left=this.x}if(isTop){top=this.y-height}else{top=this.y}}else{top=this.y-height;if(top+height+this.padding>maxHeight){top=maxHeight-height-this.padding}if(top<this.padding){top=this.padding}left=this.x;if(left+width+this.padding>maxWidth){left=maxWidth-width-this.padding}if(left<this.padding){left=this.padding}}this.frame.style.left=left+"px";this.frame.style.top=top+"px";this.frame.style.visibility="visible";this.hidden=false}else{this.hide()}}},{key:"hide",value:function hide(){this.hidden=true;this.frame.style.left="0";this.frame.style.top="0";this.frame.style.visibility="hidden"}},{key:"destroy",value:function destroy(){this.frame.parentNode.removeChild(this.frame)}}]);return Popup2})();var errorFound=false;var allOptions$2;var VALIDATOR_PRINT_STYLE$1="background: #FFeeee; color: #dd0000";var Validator$1=(function(){function Validator2(){_classCallCheck(this,Validator2)}_createClass(Validator2,null,[{key:"validate",value:(function validate(options,referenceOptions,subObject){errorFound=false;allOptions$2=referenceOptions;var usedOptions=referenceOptions;if(subObject!==void 0){usedOptions=referenceOptions[subObject]}Validator2.parse(options,usedOptions,[]);return errorFound})},{key:"parse",value:function parse(options,referenceOptions,path2){for(var _option3 in options){if(Object.prototype.hasOwnProperty.call(options,_option3)){Validator2.check(_option3,options,referenceOptions,path2)}}}},{key:"check",value:function check2(option2,options,referenceOptions,path2){if(referenceOptions[option2]===void 0&&referenceOptions.__any__===void 0){Validator2.getSuggestion(option2,referenceOptions,path2);return}var referenceOption=option2;var is_object=true;if(referenceOptions[option2]===void 0&&referenceOptions.__any__!==void 0){referenceOption="__any__";is_object=Validator2.getType(options[option2])==="object"}var refOptionObj=referenceOptions[referenceOption];if(is_object&&refOptionObj.__type__!==void 0){refOptionObj=refOptionObj.__type__}Validator2.checkFields(option2,options,referenceOptions,referenceOption,refOptionObj,path2)}},{key:"checkFields",value:function checkFields(option2,options,referenceOptions,referenceOption,refOptionObj,path2){var log=function log2(message){console.error("%c"+message+Validator2.printLocation(path2,option2),VALIDATOR_PRINT_STYLE$1)};var optionType=Validator2.getType(options[option2]);var refOptionType=refOptionObj[optionType];if(refOptionType!==void 0){if(Validator2.getType(refOptionType)==="array"&&_indexOfInstanceProperty(refOptionType).call(refOptionType,options[option2])===-1){log('Invalid option detected in "'+option2+'". Allowed values are:'+Validator2.print(refOptionType)+' not "'+options[option2]+'". ');errorFound=true}else if(optionType==="object"&&referenceOption!=="__any__"){path2=copyAndExtendArray(path2,option2);Validator2.parse(options[option2],referenceOptions[referenceOption],path2)}}else if(refOptionObj["any"]===void 0){log('Invalid type received for "'+option2+'". Expected: '+Validator2.print(_Object$keys(refOptionObj))+". Received ["+optionType+'] "'+options[option2]+'"');errorFound=true}}},{key:"getType",value:function getType2(object2){var type=_typeof$1(object2);if(type==="object"){if(object2===null){return"null"}if(object2 instanceof Boolean){return"boolean"}if(object2 instanceof Number){return"number"}if(object2 instanceof String){return"string"}if(_Array$isArray(object2)){return"array"}if(object2 instanceof Date){return"date"}if(object2.nodeType!==void 0){return"dom"}if(object2._isAMomentObject===true){return"moment"}return"object"}else if(type==="number"){return"number"}else if(type==="boolean"){return"boolean"}else if(type==="string"){return"string"}else if(type===void 0){return"undefined"}return type}},{key:"getSuggestion",value:function getSuggestion(option2,options,path2){var localSearch=Validator2.findInOptions(option2,options,path2,false);var globalSearch=Validator2.findInOptions(option2,allOptions$2,[],true);var localSearchThreshold=8;var globalSearchThreshold=4;var msg;if(localSearch.indexMatch!==void 0){msg=" in "+Validator2.printLocation(localSearch.path,option2,"")+'Perhaps it was incomplete? Did you mean: "'+localSearch.indexMatch+'"?\n\n'}else if(globalSearch.distance<=globalSearchThreshold&&localSearch.distance>globalSearch.distance){msg=" in "+Validator2.printLocation(localSearch.path,option2,"")+"Perhaps it was misplaced? Matching option found at: "+Validator2.printLocation(globalSearch.path,globalSearch.closestMatch,"")}else if(localSearch.distance<=localSearchThreshold){msg='. Did you mean "'+localSearch.closestMatch+'"?'+Validator2.printLocation(localSearch.path,option2)}else{msg=". Did you mean one of these: "+Validator2.print(_Object$keys(options))+Validator2.printLocation(path2,option2)}console.error('%cUnknown option detected: "'+option2+'"'+msg,VALIDATOR_PRINT_STYLE$1);errorFound=true}},{key:"findInOptions",value:function findInOptions(option2,options,path2){var recursive=arguments.length>3&&arguments[3]!==void 0?arguments[3]:false;var min2=1e9;var closestMatch="";var closestMatchPath=[];var lowerCaseOption=option2.toLowerCase();var indexMatch=void 0;for(var op in options){var distance=void 0;if(options[op].__type__!==void 0&&recursive===true){var result=Validator2.findInOptions(option2,options[op],copyAndExtendArray(path2,op));if(min2>result.distance){closestMatch=result.closestMatch;closestMatchPath=result.path;min2=result.distance;indexMatch=result.indexMatch}}else{var _context16;if(_indexOfInstanceProperty(_context16=op.toLowerCase()).call(_context16,lowerCaseOption)!==-1){indexMatch=op}distance=Validator2.levenshteinDistance(option2,op);if(min2>distance){closestMatch=op;closestMatchPath=copyArray(path2);min2=distance}}}return{closestMatch,path:closestMatchPath,distance:min2,indexMatch}}},{key:"printLocation",value:function printLocation(path2,option2){var prefix=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Problem value found at: \n";var str="\n\n"+prefix+"options = {\n";for(var i2=0;i2<path2.length;i2++){for(var j=0;j<i2+1;j++){str+="  "}str+=path2[i2]+": {\n"}for(var _j=0;_j<path2.length+1;_j++){str+="  "}str+=option2+"\n";for(var _i5=0;_i5<path2.length+1;_i5++){for(var _j2=0;_j2<path2.length-_i5;_j2++){str+="  "}str+="}\n"}return str+"\n\n"}},{key:"print",value:function print(options){return _JSON$stringify(options).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function levenshteinDistance(a,b){if(a.length===0)return b.length;if(b.length===0)return a.length;var matrix=[];var i2;for(i2=0;i2<=b.length;i2++){matrix[i2]=[i2]}var j;for(j=0;j<=a.length;j++){matrix[0][j]=j}for(i2=1;i2<=b.length;i2++){for(j=1;j<=a.length;j++){if(b.charAt(i2-1)==a.charAt(j-1)){matrix[i2][j]=matrix[i2-1][j-1]}else{matrix[i2][j]=Math.min(matrix[i2-1][j-1]+1,Math.min(matrix[i2][j-1]+1,matrix[i2-1][j]+1))}}}return matrix[b.length][a.length]}}]);return Validator2})();var Activator=Activator$1;var ColorPicker=ColorPicker$1;var Configurator=Configurator$1;var Hammer=Hammer$1;var Popup=Popup$1;var VALIDATOR_PRINT_STYLE=VALIDATOR_PRINT_STYLE$1;var Validator=Validator$1;var index$2=Object.freeze({__proto__:null,Activator,Alea,ColorPicker,Configurator,DELETE,HSVToHex,HSVToRGB,Hammer,Popup,RGBToHSV,RGBToHex,VALIDATOR_PRINT_STYLE,Validator,addClassName,addCssText,addEventListener,binarySearchCustom,binarySearchValue,bridgeObject,copyAndExtendArray,copyArray,deepExtend,deepObjectAssign,easingFunctions,equalArray,extend,fillIfDefined,forEach:forEach$4,getAbsoluteLeft,getAbsoluteRight,getAbsoluteTop,getScrollBarWidth,getTarget,getType,hasParent,hexToHSV,hexToRGB,insertSort,isDate,isNumber,isObject:isObject$a,isString,isValidHex,isValidRGB,isValidRGBA,mergeOptions,option,overrideOpacity,parseColor,preventDefault,pureDeepObjectAssign,recursiveDOMDelete,removeClassName,removeCssText,removeEventListener,selectiveBridgeObject,selectiveDeepExtend,selectiveExtend,selectiveNotDeepExtend,throttle,toArray,topMost,updateProperty});function parseDOT(data2){dot=data2;return parseGraph()}var NODE_ATTR_MAPPING={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"};var EDGE_ATTR_MAPPING=_Object$create$1(NODE_ATTR_MAPPING);EDGE_ATTR_MAPPING.color="color.color";EDGE_ATTR_MAPPING.style="dashes";var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3};var DELIMITERS={"{":true,"}":true,"[":true,"]":true,";":true,"=":true,",":true,"->":true,"--":true};var dot="";var index$1=0;var c="";var token="";var tokenType=TOKENTYPE.NULL;function first(){index$1=0;c=dot.charAt(0)}function next(){index$1++;c=dot.charAt(index$1)}function nextPreview(){return dot.charAt(index$1+1)}function isAlphaNumeric(c2){var charCode=c2.charCodeAt(0);if(charCode<47){return charCode===35||charCode===46}if(charCode<59){return charCode>47}if(charCode<91){return charCode>64}if(charCode<96){return charCode===95}if(charCode<123){return charCode>96}return false}function merge$1(a,b){if(!a){a={}}if(b){for(var name in b){if(b.hasOwnProperty(name)){a[name]=b[name]}}}return a}function setValue(obj,path2,value){var keys2=path2.split(".");var o=obj;while(keys2.length){var key=keys2.shift();if(keys2.length){if(!o[key]){o[key]={}}o=o[key]}else{o[key]=value}}}function addNode(graph,node2){var i2,len;var current=null;var graphs=[graph];var root=graph;while(root.parent){graphs.push(root.parent);root=root.parent}if(root.nodes){for(i2=0,len=root.nodes.length;i2<len;i2++){if(node2.id===root.nodes[i2].id){current=root.nodes[i2];break}}}if(!current){current={id:node2.id};if(graph.node){current.attr=merge$1(current.attr,graph.node)}}for(i2=graphs.length-1;i2>=0;i2--){var _context;var g=graphs[i2];if(!g.nodes){g.nodes=[]}if(_indexOfInstanceProperty(_context=g.nodes).call(_context,current)===-1){g.nodes.push(current)}}if(node2.attr){current.attr=merge$1(current.attr,node2.attr)}}function addEdge(graph,edge){if(!graph.edges){graph.edges=[]}graph.edges.push(edge);if(graph.edge){var attr=merge$1({},graph.edge);edge.attr=merge$1(attr,edge.attr)}}function createEdge(graph,from2,to,type,attr){var edge={from:from2,to,type};if(graph.edge){edge.attr=merge$1({},graph.edge)}edge.attr=merge$1(edge.attr||{},attr);if(attr!=null){if(attr.hasOwnProperty("arrows")&&attr["arrows"]!=null){edge["arrows"]={to:{enabled:true,type:attr.arrows.type}};attr["arrows"]=null}}return edge}function getToken(){tokenType=TOKENTYPE.NULL;token="";while(c===" "||c==="	"||c==="\n"||c==="\r"){next()}do{var isComment=false;if(c==="#"){var i2=index$1-1;while(dot.charAt(i2)===" "||dot.charAt(i2)==="	"){i2--}if(dot.charAt(i2)==="\n"||dot.charAt(i2)===""){while(c!=""&&c!="\n"){next()}isComment=true}}if(c==="/"&&nextPreview()==="/"){while(c!=""&&c!="\n"){next()}isComment=true}if(c==="/"&&nextPreview()==="*"){while(c!=""){if(c==="*"&&nextPreview()==="/"){next();next();break}else{next()}}isComment=true}while(c===" "||c==="	"||c==="\n"||c==="\r"){next()}}while(isComment);if(c===""){tokenType=TOKENTYPE.DELIMITER;return}var c2=c+nextPreview();if(DELIMITERS[c2]){tokenType=TOKENTYPE.DELIMITER;token=c2;next();next();return}if(DELIMITERS[c]){tokenType=TOKENTYPE.DELIMITER;token=c;next();return}if(isAlphaNumeric(c)||c==="-"){token+=c;next();while(isAlphaNumeric(c)){token+=c;next()}if(token==="false"){token=false}else if(token==="true"){token=true}else if(!isNaN(Number(token))){token=Number(token)}tokenType=TOKENTYPE.IDENTIFIER;return}if(c==='"'){next();while(c!=""&&(c!='"'||c==='"'&&nextPreview()==='"')){if(c==='"'){token+=c;next()}else if(c==="\\"&&nextPreview()==="n"){token+="\n";next()}else{token+=c}next()}if(c!='"'){throw newSyntaxError('End of string " expected')}next();tokenType=TOKENTYPE.IDENTIFIER;return}tokenType=TOKENTYPE.UNKNOWN;while(c!=""){token+=c;next()}throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}function parseGraph(){var graph={};first();getToken();if(token==="strict"){graph.strict=true;getToken()}if(token==="graph"||token==="digraph"){graph.type=token;getToken()}if(tokenType===TOKENTYPE.IDENTIFIER){graph.id=token;getToken()}if(token!="{"){throw newSyntaxError("Angle bracket { expected")}getToken();parseStatements(graph);if(token!="}"){throw newSyntaxError("Angle bracket } expected")}getToken();if(token!==""){throw newSyntaxError("End of file expected")}getToken();delete graph.node;delete graph.edge;delete graph.graph;return graph}function parseStatements(graph){while(token!==""&&token!="}"){parseStatement(graph);if(token===";"){getToken()}}}function parseStatement(graph){var subgraph=parseSubgraph(graph);if(subgraph){parseEdge(graph,subgraph);return}var attr=parseAttributeStatement(graph);if(attr){return}if(tokenType!=TOKENTYPE.IDENTIFIER){throw newSyntaxError("Identifier expected")}var id2=token;getToken();if(token==="="){getToken();if(tokenType!=TOKENTYPE.IDENTIFIER){throw newSyntaxError("Identifier expected")}graph[id2]=token;getToken()}else{parseNodeStatement(graph,id2)}}function parseSubgraph(graph){var subgraph=null;if(token==="subgraph"){subgraph={};subgraph.type="subgraph";getToken();if(tokenType===TOKENTYPE.IDENTIFIER){subgraph.id=token;getToken()}}if(token==="{"){getToken();if(!subgraph){subgraph={}}subgraph.parent=graph;subgraph.node=graph.node;subgraph.edge=graph.edge;subgraph.graph=graph.graph;parseStatements(subgraph);if(token!="}"){throw newSyntaxError("Angle bracket } expected")}getToken();delete subgraph.node;delete subgraph.edge;delete subgraph.graph;delete subgraph.parent;if(!graph.subgraphs){graph.subgraphs=[]}graph.subgraphs.push(subgraph)}return subgraph}function parseAttributeStatement(graph){if(token==="node"){getToken();graph.node=parseAttributeList();return"node"}else if(token==="edge"){getToken();graph.edge=parseAttributeList();return"edge"}else if(token==="graph"){getToken();graph.graph=parseAttributeList();return"graph"}return null}function parseNodeStatement(graph,id2){var node2={id:id2};var attr=parseAttributeList();if(attr){node2.attr=attr}addNode(graph,node2);parseEdge(graph,id2)}function parseEdge(graph,from2){while(token==="->"||token==="--"){var to;var type=token;getToken();var subgraph=parseSubgraph(graph);if(subgraph){to=subgraph}else{if(tokenType!=TOKENTYPE.IDENTIFIER){throw newSyntaxError("Identifier or subgraph expected")}to=token;addNode(graph,{id:to});getToken()}var attr=parseAttributeList();var edge=createEdge(graph,from2,to,type,attr);addEdge(graph,edge);from2=to}}function parseAttributeList(){var i2;var attr=null;var edgeStyles={dashed:true,solid:false,dotted:[1,5]};var arrowTypes={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"};var attr_list=new Array;var attr_names=new Array;while(token==="["){getToken();attr={};while(token!==""&&token!="]"){if(tokenType!=TOKENTYPE.IDENTIFIER){throw newSyntaxError("Attribute name expected")}var name=token;getToken();if(token!="="){throw newSyntaxError("Equal sign = expected")}getToken();if(tokenType!=TOKENTYPE.IDENTIFIER){throw newSyntaxError("Attribute value expected")}var value=token;if(name==="style"){value=edgeStyles[value]}var arrowType;if(name==="arrowhead"){arrowType=arrowTypes[value];name="arrows";value={to:{enabled:true,type:arrowType}}}if(name==="arrowtail"){arrowType=arrowTypes[value];name="arrows";value={from:{enabled:true,type:arrowType}}}attr_list.push({attr,name,value});attr_names.push(name);getToken();if(token==","){getToken()}}if(token!="]"){throw newSyntaxError("Bracket ] expected")}getToken()}if(_includesInstanceProperty(attr_names).call(attr_names,"dir")){var idx={};idx.arrows={};for(i2=0;i2<attr_list.length;i2++){if(attr_list[i2].name==="arrows"){if(attr_list[i2].value.to!=null){idx.arrows.to=i2}else if(attr_list[i2].value.from!=null){idx.arrows.from=i2}else{throw newSyntaxError("Invalid value of arrows")}}else if(attr_list[i2].name==="dir"){idx.dir=i2}}var dir_type=attr_list[idx.dir].value;if(!_includesInstanceProperty(attr_names).call(attr_names,"arrows")){if(dir_type==="both"){attr_list.push({attr:attr_list[idx.dir].attr,name:"arrows",value:{to:{enabled:true}}});idx.arrows.to=attr_list.length-1;attr_list.push({attr:attr_list[idx.dir].attr,name:"arrows",value:{from:{enabled:true}}});idx.arrows.from=attr_list.length-1}else if(dir_type==="forward"){attr_list.push({attr:attr_list[idx.dir].attr,name:"arrows",value:{to:{enabled:true}}});idx.arrows.to=attr_list.length-1}else if(dir_type==="back"){attr_list.push({attr:attr_list[idx.dir].attr,name:"arrows",value:{from:{enabled:true}}});idx.arrows.from=attr_list.length-1}else if(dir_type==="none"){attr_list.push({attr:attr_list[idx.dir].attr,name:"arrows",value:""});idx.arrows.to=attr_list.length-1}else{throw newSyntaxError('Invalid dir type "'+dir_type+'"')}}var from_type;var to_type;if(dir_type==="both"){if(idx.arrows.to&&idx.arrows.from){to_type=attr_list[idx.arrows.to].value.to.type;from_type=attr_list[idx.arrows.from].value.from.type;attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}};_spliceInstanceProperty(attr_list).call(attr_list,idx.arrows.from,1)}else if(idx.arrows.to){to_type=attr_list[idx.arrows.to].value.to.type;from_type="arrow";attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}else if(idx.arrows.from){to_type="arrow";from_type=attr_list[idx.arrows.from].value.from.type;attr_list[idx.arrows.from]={attr:attr_list[idx.arrows.from].attr,name:attr_list[idx.arrows.from].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}}else if(dir_type==="back"){if(idx.arrows.to&&idx.arrows.from){to_type="";from_type=attr_list[idx.arrows.from].value.from.type;attr_list[idx.arrows.from]={attr:attr_list[idx.arrows.from].attr,name:attr_list[idx.arrows.from].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}else if(idx.arrows.to){to_type="";from_type="arrow";idx.arrows.from=idx.arrows.to;attr_list[idx.arrows.from]={attr:attr_list[idx.arrows.from].attr,name:attr_list[idx.arrows.from].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}else if(idx.arrows.from){to_type="";from_type=attr_list[idx.arrows.from].value.from.type;attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.from].attr,name:attr_list[idx.arrows.from].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}attr_list[idx.arrows.from]={attr:attr_list[idx.arrows.from].attr,name:attr_list[idx.arrows.from].name,value:{from:{enabled:true,type:attr_list[idx.arrows.from].value.from.type}}}}else if(dir_type==="none"){var idx_arrow;if(idx.arrows.to){idx_arrow=idx.arrows.to}else{idx_arrow=idx.arrows.from}attr_list[idx_arrow]={attr:attr_list[idx_arrow].attr,name:attr_list[idx_arrow].name,value:""}}else if(dir_type==="forward"){if(idx.arrows.to&&idx.arrows.from){to_type=attr_list[idx.arrows.to].value.to.type;from_type="";attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}else if(idx.arrows.to){to_type=attr_list[idx.arrows.to].value.to.type;from_type="";attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}else if(idx.arrows.from){to_type="arrow";from_type="";idx.arrows.to=idx.arrows.from;attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:to_type},from:{enabled:true,type:from_type}}}}attr_list[idx.arrows.to]={attr:attr_list[idx.arrows.to].attr,name:attr_list[idx.arrows.to].name,value:{to:{enabled:true,type:attr_list[idx.arrows.to].value.to.type}}}}else{throw newSyntaxError('Invalid dir type "'+dir_type+'"')}_spliceInstanceProperty(attr_list).call(attr_list,idx.dir,1)}var nof_attr_list;if(_includesInstanceProperty(attr_names).call(attr_names,"penwidth")){var tmp_attr_list=[];nof_attr_list=attr_list.length;for(i2=0;i2<nof_attr_list;i2++){if(attr_list[i2].name!=="width"){if(attr_list[i2].name==="penwidth"){attr_list[i2].name="width"}tmp_attr_list.push(attr_list[i2])}}attr_list=tmp_attr_list}nof_attr_list=attr_list.length;for(i2=0;i2<nof_attr_list;i2++){setValue(attr_list[i2].attr,attr_list[i2].name,attr_list[i2].value)}return attr}function newSyntaxError(message){return new SyntaxError(message+', got "'+chop(token,30)+'" (char '+index$1+")")}function chop(text,maxLength){return text.length<=maxLength?text:text.substr(0,27)+"..."}function forEach2(array1,array2,fn){if(_Array$isArray(array1)){_forEachInstanceProperty(array1).call(array1,function(elem1){if(_Array$isArray(array2)){_forEachInstanceProperty(array2).call(array2,function(elem2){fn(elem1,elem2)})}else{fn(elem1,array2)}})}else{if(_Array$isArray(array2)){_forEachInstanceProperty(array2).call(array2,function(elem2){fn(array1,elem2)})}else{fn(array1,array2)}}}function setProp(object2,path2,value){var names=path2.split(".");var prop=names.pop();var obj=object2;for(var i2=0;i2<names.length;i2++){var name=names[i2];if(!(name in obj)){obj[name]={}}obj=obj[name]}obj[prop]=value;return object2}function convertAttr(attr,mapping){var converted={};for(var prop in attr){if(attr.hasOwnProperty(prop)){var visProp=mapping[prop];if(_Array$isArray(visProp)){_forEachInstanceProperty(visProp).call(visProp,function(visPropI){setProp(converted,visPropI,attr[prop])})}else if(typeof visProp==="string"){setProp(converted,visProp,attr[prop])}else{setProp(converted,prop,attr[prop])}}}return converted}function DOTToGraph(data2){var dotData=parseDOT(data2);var graphData={nodes:[],edges:[],options:{}};if(dotData.nodes){var _context2;_forEachInstanceProperty(_context2=dotData.nodes).call(_context2,function(dotNode){var graphNode={id:dotNode.id,label:String(dotNode.label||dotNode.id)};merge$1(graphNode,convertAttr(dotNode.attr,NODE_ATTR_MAPPING));if(graphNode.image){graphNode.shape="image"}graphData.nodes.push(graphNode)})}if(dotData.edges){var _context3;var convertEdge=function convertEdge2(dotEdge){var graphEdge={from:dotEdge.from,to:dotEdge.to};merge$1(graphEdge,convertAttr(dotEdge.attr,EDGE_ATTR_MAPPING));if(graphEdge.arrows==null&&dotEdge.type==="->"){graphEdge.arrows="to"}return graphEdge};_forEachInstanceProperty(_context3=dotData.edges).call(_context3,function(dotEdge){var from2,to;if(dotEdge.from instanceof Object){from2=dotEdge.from.nodes}else{from2={id:dotEdge.from}}if(dotEdge.to instanceof Object){to=dotEdge.to.nodes}else{to={id:dotEdge.to}}if(dotEdge.from instanceof Object&&dotEdge.from.edges){var _context4;_forEachInstanceProperty(_context4=dotEdge.from.edges).call(_context4,function(subEdge){var graphEdge=convertEdge(subEdge);graphData.edges.push(graphEdge)})}forEach2(from2,to,function(from3,to2){var subEdge=createEdge(graphData,from3.id,to2.id,dotEdge.type,dotEdge.attr);var graphEdge=convertEdge(subEdge);graphData.edges.push(graphEdge)});if(dotEdge.to instanceof Object&&dotEdge.to.edges){var _context5;_forEachInstanceProperty(_context5=dotEdge.to.edges).call(_context5,function(subEdge){var graphEdge=convertEdge(subEdge);graphData.edges.push(graphEdge)})}})}if(dotData.attr){graphData.options=dotData.attr}return graphData}var dotparser=Object.freeze({__proto__:null,DOTToGraph,parseDOT});function parseGephi(gephiJSON,optionsObj){var _context;var options={edges:{inheritColor:false},nodes:{fixed:false,parseColor:false}};if(optionsObj!=null){if(optionsObj.fixed!=null){options.nodes.fixed=optionsObj.fixed}if(optionsObj.parseColor!=null){options.nodes.parseColor=optionsObj.parseColor}if(optionsObj.inheritColor!=null){options.edges.inheritColor=optionsObj.inheritColor}}var gEdges=gephiJSON.edges;var vEdges=_mapInstanceProperty(gEdges).call(gEdges,function(gEdge){var vEdge={from:gEdge.source,id:gEdge.id,to:gEdge.target};if(gEdge.attributes!=null){vEdge.attributes=gEdge.attributes}if(gEdge.label!=null){vEdge.label=gEdge.label}if(gEdge.attributes!=null&&gEdge.attributes.title!=null){vEdge.title=gEdge.attributes.title}if(gEdge.type==="Directed"){vEdge.arrows="to"}if(gEdge.color&&options.edges.inheritColor===false){vEdge.color=gEdge.color}return vEdge});var vNodes=_mapInstanceProperty(_context=gephiJSON.nodes).call(_context,function(gNode){var vNode={id:gNode.id,fixed:options.nodes.fixed&&gNode.x!=null&&gNode.y!=null};if(gNode.attributes!=null){vNode.attributes=gNode.attributes}if(gNode.label!=null){vNode.label=gNode.label}if(gNode.size!=null){vNode.size=gNode.size}if(gNode.attributes!=null&&gNode.attributes.title!=null){vNode.title=gNode.attributes.title}if(gNode.title!=null){vNode.title=gNode.title}if(gNode.x!=null){vNode.x=gNode.x}if(gNode.y!=null){vNode.y=gNode.y}if(gNode.color!=null){if(options.nodes.parseColor===true){vNode.color=gNode.color}else{vNode.color={background:gNode.color,border:gNode.color,highlight:{background:gNode.color,border:gNode.color},hover:{background:gNode.color,border:gNode.color}}}}return vNode});return{nodes:vNodes,edges:vEdges}}var gephiParser=Object.freeze({__proto__:null,parseGephi});var en={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"};var de={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"};var es={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"};var it={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"};var nl={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"};var pt={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"};var ru={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "};var cn={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""};var uk={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "};var fr={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"};var cs={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var locales=Object.freeze({__proto__:null,cn,cs,de,en,es,fr,it,nl,pt,ru,uk});function normalizeLanguageCode(locales2,rawCode){try{var _rawCode$split=rawCode.split(/[-_ /]/,2),_rawCode$split2=_slicedToArray(_rawCode$split,2),rawLanguage=_rawCode$split2[0],rawCountry=_rawCode$split2[1];var language=rawLanguage!=null?rawLanguage.toLowerCase():null;var country=rawCountry!=null?rawCountry.toUpperCase():null;if(language&&country){var code=language+"-"+country;if(Object.prototype.hasOwnProperty.call(locales2,code)){return code}else{var _context;console.warn(_concatInstanceProperty(_context="Unknown variant ".concat(country," of language ")).call(_context,language,"."))}}if(language){var _code=language;if(Object.prototype.hasOwnProperty.call(locales2,_code)){return _code}else{console.warn("Unknown language ".concat(language))}}console.warn("Unknown locale ".concat(rawCode,", falling back to English."));return"en"}catch(error){console.error(error);console.warn("Unexpected error while normalizing locale ".concat(rawCode,", falling back to English."));return"en"}}var CachedImage=(function(){function CachedImage2(){_classCallCheck(this,CachedImage2);this.NUM_ITERATIONS=4;this.image=new Image;this.canvas=document.createElement("canvas")}_createClass(CachedImage2,[{key:"init",value:function init(){if(this.initialized())return;this.src=this.image.src;var w=this.image.width;var h=this.image.height;this.width=w;this.height=h;var h2=Math.floor(h/2);var h4=Math.floor(h/4);var h8=Math.floor(h/8);var h16=Math.floor(h/16);var w2=Math.floor(w/2);var w4=Math.floor(w/4);var w8=Math.floor(w/8);var w16=Math.floor(w/16);this.canvas.width=3*w4;this.canvas.height=h2;this.coordinates=[[0,0,w2,h2],[w2,0,w4,h4],[w2,h4,w8,h8],[5*w8,h4,w16,h16]];this._fillMipMap()}},{key:"initialized",value:function initialized(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function _fillMipMap(){var ctx=this.canvas.getContext("2d");var to=this.coordinates[0];ctx.drawImage(this.image,to[0],to[1],to[2],to[3]);for(var iterations=1;iterations<this.NUM_ITERATIONS;iterations++){var from2=this.coordinates[iterations-1];var _to=this.coordinates[iterations];ctx.drawImage(this.canvas,from2[0],from2[1],from2[2],from2[3],_to[0],_to[1],_to[2],_to[3])}}},{key:"drawImageAtPosition",value:function drawImageAtPosition(ctx,factor,left,top,width,height){if(!this.initialized())return;if(factor>2){factor*=.5;var iterations=0;while(factor>2&&iterations<this.NUM_ITERATIONS){factor*=.5;iterations+=1}if(iterations>=this.NUM_ITERATIONS){iterations=this.NUM_ITERATIONS-1}var from2=this.coordinates[iterations];ctx.drawImage(this.canvas,from2[0],from2[1],from2[2],from2[3],left,top,width,height)}else{ctx.drawImage(this.image,left,top,width,height)}}}]);return CachedImage2})();var Images=(function(){function Images2(callback){_classCallCheck(this,Images2);this.images={};this.imageBroken={};this.callback=callback}_createClass(Images2,[{key:"_tryloadBrokenUrl",value:function _tryloadBrokenUrl(url,brokenUrl,imageToLoadBrokenUrlOn){if(url===void 0||imageToLoadBrokenUrlOn===void 0)return;if(brokenUrl===void 0){console.warn("No broken url image defined");return}imageToLoadBrokenUrlOn.image.onerror=function(){console.error("Could not load brokenImage:",brokenUrl)};imageToLoadBrokenUrlOn.image.src=brokenUrl}},{key:"_redrawWithImage",value:function _redrawWithImage(imageToRedrawWith){if(this.callback){this.callback(imageToRedrawWith)}}},{key:"load",value:function load(url,brokenUrl){var _this=this;var cachedImage=this.images[url];if(cachedImage)return cachedImage;var img=new CachedImage;this.images[url]=img;img.image.onload=function(){_this._fixImageCoordinates(img.image);img.init();_this._redrawWithImage(img)};img.image.onerror=function(){console.error("Could not load image:",url);_this._tryloadBrokenUrl(url,brokenUrl,img)};img.image.src=url;return img}},{key:"_fixImageCoordinates",value:function _fixImageCoordinates(imageToCache){if(imageToCache.width===0){document.body.appendChild(imageToCache);imageToCache.width=imageToCache.offsetWidth;imageToCache.height=imageToCache.offsetHeight;document.body.removeChild(imageToCache)}}}]);return Images2})();var internalMetadata={exports:{}};var fails$c=fails$A;var arrayBufferNonExtensible=fails$c(function(){if(typeof ArrayBuffer=="function"){var buffer=new ArrayBuffer(8);if(Object.isExtensible(buffer))Object.defineProperty(buffer,"a",{value:8})}});var fails$b=fails$A;var isObject$9=isObject$m;var classof$4=classofRaw$2;var ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible;var $isExtensible=Object.isExtensible;var FAILS_ON_PRIMITIVES$1=fails$b(function(){$isExtensible(1)});var objectIsExtensible=FAILS_ON_PRIMITIVES$1||ARRAY_BUFFER_NON_EXTENSIBLE?function isExtensible2(it2){if(!isObject$9(it2))return false;if(ARRAY_BUFFER_NON_EXTENSIBLE&&classof$4(it2)==="ArrayBuffer")return false;return $isExtensible?$isExtensible(it2):true}:$isExtensible;var fails$a=fails$A;var freezing=!fails$a(function(){return Object.isExtensible(Object.preventExtensions({}))});var $$t=_export;var uncurryThis$5=functionUncurryThis;var hiddenKeys=hiddenKeys$6;var isObject$8=isObject$m;var hasOwn$7=hasOwnProperty_1;var defineProperty$2=objectDefineProperty.f;var getOwnPropertyNamesModule=objectGetOwnPropertyNames;var getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal;var isExtensible$1=objectIsExtensible;var uid=uid$4;var FREEZING$1=freezing;var REQUIRED=false;var METADATA=uid("meta");var id$1=0;var setMetadata=function(it2){defineProperty$2(it2,METADATA,{value:{objectID:"O"+id$1++,weakData:{}}})};var fastKey$1=function(it2,create2){if(!isObject$8(it2))return typeof it2=="symbol"?it2:(typeof it2=="string"?"S":"P")+it2;if(!hasOwn$7(it2,METADATA)){if(!isExtensible$1(it2))return"F";if(!create2)return"E";setMetadata(it2)}return it2[METADATA].objectID};var getWeakData$1=function(it2,create2){if(!hasOwn$7(it2,METADATA)){if(!isExtensible$1(it2))return true;if(!create2)return false;setMetadata(it2)}return it2[METADATA].weakData};var onFreeze=function(it2){if(FREEZING$1&&REQUIRED&&isExtensible$1(it2)&&!hasOwn$7(it2,METADATA))setMetadata(it2);return it2};var enable=function(){meta.enable=function(){};REQUIRED=true;var getOwnPropertyNames2=getOwnPropertyNamesModule.f;var splice2=uncurryThis$5([].splice);var test2={};test2[METADATA]=1;if(getOwnPropertyNames2(test2).length){getOwnPropertyNamesModule.f=function(it2){var result=getOwnPropertyNames2(it2);for(var i2=0,length2=result.length;i2<length2;i2++){if(result[i2]===METADATA){splice2(result,i2,1);break}}return result};$$t({target:"Object",stat:true,forced:true},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f})}};var meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze};hiddenKeys[METADATA]=true;var internalMetadataExports=internalMetadata.exports;var bind$9=functionBindContext;var call$7=functionCall;var anObject$5=anObject$f;var tryToString$1=tryToString$6;var isArrayIteratorMethod=isArrayIteratorMethod$2;var lengthOfArrayLike$4=lengthOfArrayLike$e;var isPrototypeOf$a=objectIsPrototypeOf;var getIterator$6=getIterator$8;var getIteratorMethod=getIteratorMethod$9;var iteratorClose=iteratorClose$2;var $TypeError$4=TypeError;var Result=function(stopped,result){this.stopped=stopped;this.result=result};var ResultPrototype=Result.prototype;var iterate$8=function(iterable,unboundFunction,options){var that=options&&options.that;var AS_ENTRIES=!!(options&&options.AS_ENTRIES);var IS_RECORD=!!(options&&options.IS_RECORD);var IS_ITERATOR=!!(options&&options.IS_ITERATOR);var INTERRUPTED=!!(options&&options.INTERRUPTED);var fn=bind$9(unboundFunction,that);var iterator2,iterFn,index2,length2,result,next2,step;var stop=function(condition){if(iterator2)iteratorClose(iterator2,"normal",condition);return new Result(true,condition)};var callFn=function(value){if(AS_ENTRIES){anObject$5(value);return INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])}return INTERRUPTED?fn(value,stop):fn(value)};if(IS_RECORD){iterator2=iterable.iterator}else if(IS_ITERATOR){iterator2=iterable}else{iterFn=getIteratorMethod(iterable);if(!iterFn)throw new $TypeError$4(tryToString$1(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index2=0,length2=lengthOfArrayLike$4(iterable);length2>index2;index2++){result=callFn(iterable[index2]);if(result&&isPrototypeOf$a(ResultPrototype,result))return result}return new Result(false)}iterator2=getIterator$6(iterable,iterFn)}next2=IS_RECORD?iterable.next:iterator2.next;while(!(step=call$7(next2,iterator2)).done){try{result=callFn(step.value)}catch(error){iteratorClose(iterator2,"throw",error)}if(typeof result=="object"&&result&&isPrototypeOf$a(ResultPrototype,result))return result}return new Result(false)};var isPrototypeOf$9=objectIsPrototypeOf;var $TypeError$3=TypeError;var anInstance$4=function(it2,Prototype){if(isPrototypeOf$9(Prototype,it2))return it2;throw new $TypeError$3("Incorrect invocation")};var $$s=_export;var global$a=global$s;var InternalMetadataModule$1=internalMetadataExports;var fails$9=fails$A;var createNonEnumerableProperty$3=createNonEnumerableProperty$9;var iterate$7=iterate$8;var anInstance$3=anInstance$4;var isCallable$4=isCallable$m;var isObject$7=isObject$m;var isNullOrUndefined$3=isNullOrUndefined$7;var setToStringTag$1=setToStringTag$7;var defineProperty$1=objectDefineProperty.f;var forEach$3=arrayIteration.forEach;var DESCRIPTORS$5=descriptors;var InternalStateModule$3=internalState;var setInternalState$3=InternalStateModule$3.set;var internalStateGetterFor$2=InternalStateModule$3.getterFor;var collection$3=function(CONSTRUCTOR_NAME,wrapper2,common){var IS_MAP=CONSTRUCTOR_NAME.indexOf("Map")!==-1;var IS_WEAK=CONSTRUCTOR_NAME.indexOf("Weak")!==-1;var ADDER=IS_MAP?"set":"add";var NativeConstructor=global$a[CONSTRUCTOR_NAME];var NativePrototype=NativeConstructor&&NativeConstructor.prototype;var exported={};var Constructor;if(!DESCRIPTORS$5||!isCallable$4(NativeConstructor)||!(IS_WEAK||NativePrototype.forEach&&!fails$9(function(){new NativeConstructor().entries().next()}))){Constructor=common.getConstructor(wrapper2,CONSTRUCTOR_NAME,IS_MAP,ADDER);InternalMetadataModule$1.enable()}else{Constructor=wrapper2(function(target,iterable){setInternalState$3(anInstance$3(target,Prototype),{type:CONSTRUCTOR_NAME,collection:new NativeConstructor});if(!isNullOrUndefined$3(iterable))iterate$7(iterable,target[ADDER],{that:target,AS_ENTRIES:IS_MAP})});var Prototype=Constructor.prototype;var getInternalState2=internalStateGetterFor$2(CONSTRUCTOR_NAME);forEach$3(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(KEY){var IS_ADDER=KEY==="add"||KEY==="set";if(KEY in NativePrototype&&!(IS_WEAK&&KEY==="clear")){createNonEnumerableProperty$3(Prototype,KEY,function(a,b){var collection2=getInternalState2(this).collection;if(!IS_ADDER&&IS_WEAK&&!isObject$7(a))return KEY==="get"?void 0:false;var result=collection2[KEY](a===0?0:a,b);return IS_ADDER?this:result})}});IS_WEAK||defineProperty$1(Prototype,"size",{configurable:true,get:function(){return getInternalState2(this).collection.size}})}setToStringTag$1(Constructor,CONSTRUCTOR_NAME,false,true);exported[CONSTRUCTOR_NAME]=Constructor;$$s({global:true,forced:true},exported);if(!IS_WEAK)common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP);return Constructor};var defineBuiltIn$1=defineBuiltIn$6;var defineBuiltIns$3=function(target,src,options){for(var key in src){if(options&&options.unsafe&&target[key])target[key]=src[key];else defineBuiltIn$1(target,key,src[key],options)}return target};var getBuiltIn$4=getBuiltIn$f;var defineBuiltInAccessor$1=defineBuiltInAccessor$3;var wellKnownSymbol$3=wellKnownSymbol$p;var DESCRIPTORS$4=descriptors;var SPECIES$2=wellKnownSymbol$3("species");var setSpecies$2=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn$4(CONSTRUCTOR_NAME);if(DESCRIPTORS$4&&Constructor&&!Constructor[SPECIES$2]){defineBuiltInAccessor$1(Constructor,SPECIES$2,{configurable:true,get:function(){return this}})}};var create$5=objectCreate;var defineBuiltInAccessor=defineBuiltInAccessor$3;var defineBuiltIns$2=defineBuiltIns$3;var bind$8=functionBindContext;var anInstance$2=anInstance$4;var isNullOrUndefined$2=isNullOrUndefined$7;var iterate$6=iterate$8;var defineIterator=iteratorDefine;var createIterResultObject=createIterResultObject$3;var setSpecies$1=setSpecies$2;var DESCRIPTORS$3=descriptors;var fastKey=internalMetadataExports.fastKey;var InternalStateModule$2=internalState;var setInternalState$2=InternalStateModule$2.set;var internalStateGetterFor$1=InternalStateModule$2.getterFor;var collectionStrong$2={getConstructor:function(wrapper2,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper2(function(that,iterable){anInstance$2(that,Prototype);setInternalState$2(that,{type:CONSTRUCTOR_NAME,index:create$5(null),first:void 0,last:void 0,size:0});if(!DESCRIPTORS$3)that.size=0;if(!isNullOrUndefined$2(iterable))iterate$6(iterable,that[ADDER],{that,AS_ENTRIES:IS_MAP})});var Prototype=Constructor.prototype;var getInternalState2=internalStateGetterFor$1(CONSTRUCTOR_NAME);var define2=function(that,key,value){var state=getInternalState2(that);var entry=getEntry(that,key);var previous,index2;if(entry){entry.value=value}else{state.last=entry={index:index2=fastKey(key,true),key,value,previous:previous=state.last,next:void 0,removed:false};if(!state.first)state.first=entry;if(previous)previous.next=entry;if(DESCRIPTORS$3)state.size++;else that.size++;if(index2!=="F")state.index[index2]=entry}return that};var getEntry=function(that,key){var state=getInternalState2(that);var index2=fastKey(key);var entry;if(index2!=="F")return state.index[index2];for(entry=state.first;entry;entry=entry.next){if(entry.key===key)return entry}};defineBuiltIns$2(Prototype,{clear:function clear2(){var that=this;var state=getInternalState2(that);var data2=state.index;var entry=state.first;while(entry){entry.removed=true;if(entry.previous)entry.previous=entry.previous.next=void 0;delete data2[entry.index];entry=entry.next}state.first=state.last=void 0;if(DESCRIPTORS$3)state.size=0;else that.size=0},"delete":function(key){var that=this;var state=getInternalState2(that);var entry=getEntry(that,key);if(entry){var next2=entry.next;var prev=entry.previous;delete state.index[entry.index];entry.removed=true;if(prev)prev.next=next2;if(next2)next2.previous=prev;if(state.first===entry)state.first=next2;if(state.last===entry)state.last=prev;if(DESCRIPTORS$3)state.size--;else that.size--}return!!entry},forEach:function forEach3(callbackfn){var state=getInternalState2(this);var boundFunction=bind$8(callbackfn,arguments.length>1?arguments[1]:void 0);var entry;while(entry=entry?entry.next:state.first){boundFunction(entry.value,entry.key,this);while(entry&&entry.removed)entry=entry.previous}},has:function has2(key){return!!getEntry(this,key)}});defineBuiltIns$2(Prototype,IS_MAP?{get:function get2(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set2(key,value){return define2(this,key===0?0:key,value)}}:{add:function add(value){return define2(this,value=value===0?0:value,value)}});if(DESCRIPTORS$3)defineBuiltInAccessor(Prototype,"size",{configurable:true,get:function(){return getInternalState2(this).size}});return Constructor},setStrong:function(Constructor,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator";var getInternalCollectionState=internalStateGetterFor$1(CONSTRUCTOR_NAME);var getInternalIteratorState=internalStateGetterFor$1(ITERATOR_NAME);defineIterator(Constructor,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState$2(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind,last:void 0})},function(){var state=getInternalIteratorState(this);var kind=state.kind;var entry=state.last;while(entry&&entry.removed)entry=entry.previous;if(!state.target||!(state.last=entry=entry?entry.next:state.state.first)){state.target=void 0;return createIterResultObject(void 0,true)}if(kind==="keys")return createIterResultObject(entry.key,false);if(kind==="values")return createIterResultObject(entry.value,false);return createIterResultObject([entry.key,entry.value],false)},IS_MAP?"entries":"values",!IS_MAP,true);setSpecies$1(CONSTRUCTOR_NAME)}};var collection$2=collection$3;var collectionStrong$1=collectionStrong$2;collection$2("Map",function(init){return function Map2(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$g=path$A;var map$2=path$g.Map;var parent$I=map$2;var map$1=parent$I;var map=map$1;var _Map=getDefaultExportFromCjs(map);var Groups=(function(){function Groups2(){_classCallCheck(this,Groups2);this.clear();this._defaultIndex=0;this._groupIndex=0;this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:true};_Object$assign(this.options,this.defaultOptions)}_createClass(Groups2,[{key:"setOptions",value:function setOptions(options){var optionFields=["useDefaultGroups"];if(options!==void 0){for(var groupName in options){if(Object.prototype.hasOwnProperty.call(options,groupName)){if(_indexOfInstanceProperty(optionFields).call(optionFields,groupName)===-1){var group=options[groupName];this.add(groupName,group)}}}}}},{key:"clear",value:function clear2(){this._groups=new _Map;this._groupNames=[]}},{key:"get",value:function get2(groupname){var shouldCreate=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;var group=this._groups.get(groupname);if(group===void 0&&shouldCreate){if(this.options.useDefaultGroups===false&&this._groupNames.length>0){var index2=this._groupIndex%this._groupNames.length;++this._groupIndex;group={};group.color=this._groups.get(this._groupNames[index2]);this._groups.set(groupname,group)}else{var _index=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++;group={};group.color=this._defaultGroups[_index];this._groups.set(groupname,group)}}return group}},{key:"add",value:function add(groupName,style){if(!this._groups.has(groupName)){this._groupNames.push(groupName)}this._groups.set(groupName,style);return style}}]);return Groups2})();var $$r=_export;$$r({target:"Number",stat:true},{isNaN:function isNaN2(number2){return number2!==number2}});var path$f=path$A;var isNan$2=path$f.Number.isNaN;var parent$H=isNan$2;var isNan$1=parent$H;var isNan=isNan$1;var _Number$isNaN=getDefaultExportFromCjs(isNan);var global$9=global$s;var globalIsFinite=global$9.isFinite;var numberIsFinite$1=Number.isFinite||function isFinite(it2){return typeof it2=="number"&&globalIsFinite(it2)};var $$q=_export;var numberIsFinite=numberIsFinite$1;$$q({target:"Number",stat:true},{isFinite:numberIsFinite});var path$e=path$A;var _isFinite$2=path$e.Number.isFinite;var parent$G=_isFinite$2;var _isFinite$1=parent$G;var _isFinite=_isFinite$1;var _Number$isFinite=getDefaultExportFromCjs(_isFinite);var $$p=_export;var $some=arrayIteration.some;var arrayMethodIsStrict$3=arrayMethodIsStrict$6;var STRICT_METHOD$2=arrayMethodIsStrict$3("some");$$p({target:"Array",proto:true,forced:!STRICT_METHOD$2},{some:function some2(callbackfn){return $some(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$7=entryVirtual$l;var some$3=entryVirtual$7("Array").some;var isPrototypeOf$8=objectIsPrototypeOf;var method$7=some$3;var ArrayPrototype$7=Array.prototype;var some$2=function(it2){var own=it2.some;return it2===ArrayPrototype$7||isPrototypeOf$8(ArrayPrototype$7,it2)&&own===ArrayPrototype$7.some?method$7:own};var parent$F=some$2;var some$1=parent$F;var some=some$1;var _someInstanceProperty=getDefaultExportFromCjs(some);function _assertThisInitialized(self2){if(self2===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self2}var parent$E=create$7;var create$4=parent$E;var parent$D=create$4;var create$3=parent$D;var create$2=create$3;var _Object$create=getDefaultExportFromCjs(create$2);var $$o=_export;var setPrototypeOf$6=objectSetPrototypeOf;$$o({target:"Object",stat:true},{setPrototypeOf:setPrototypeOf$6});var path$d=path$A;var setPrototypeOf$5=path$d.Object.setPrototypeOf;var parent$C=setPrototypeOf$5;var setPrototypeOf$4=parent$C;var parent$B=setPrototypeOf$4;var setPrototypeOf$3=parent$B;var parent$A=setPrototypeOf$3;var setPrototypeOf$2=parent$A;var setPrototypeOf$1=setPrototypeOf$2;var _Object$setPrototypeOf=getDefaultExportFromCjs(setPrototypeOf$1);var parent$z=bind$d;var bind$7=parent$z;var parent$y=bind$7;var bind$6=parent$y;var bind$5=bind$6;var _bindInstanceProperty=getDefaultExportFromCjs(bind$5);function _setPrototypeOf(o,p){var _context;_setPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(_context=_Object$setPrototypeOf).call(_context):function _setPrototypeOf2(o2,p2){o2.__proto__=p2;return o2};return _setPrototypeOf(o,p)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=_Object$create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});_Object$defineProperty$1(subClass,"prototype",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass)}function _possibleConstructorReturn(self2,call2){if(call2&&(_typeof$1(call2)==="object"||typeof call2==="function")){return call2}else if(call2!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _assertThisInitialized(self2)}var parent$x=getPrototypeOf$6;var getPrototypeOf$4=parent$x;var parent$w=getPrototypeOf$4;var getPrototypeOf$3=parent$w;var getPrototypeOf$2=getPrototypeOf$3;var _Object$getPrototypeOf=getDefaultExportFromCjs(getPrototypeOf$2);function _getPrototypeOf(o){var _context;_getPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(_context=_Object$getPrototypeOf).call(_context):function _getPrototypeOf2(o2){return o2.__proto__||_Object$getPrototypeOf(o2)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){_Object$defineProperty$1(obj,key,{value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var regeneratorRuntime$1={exports:{}};var _typeof={exports:{}};(function(module2){var _Symbol2=symbol$1;var _Symbol$iterator3=iterator$1;function _typeof2(o){"@babel/helpers - typeof";return module2.exports=_typeof2="function"==typeof _Symbol2&&"symbol"==typeof _Symbol$iterator3?function(o2){return typeof o2}:function(o2){return o2&&"function"==typeof _Symbol2&&o2.constructor===_Symbol2&&o2!==_Symbol2.prototype?"symbol":typeof o2},module2.exports.__esModule=true,module2.exports["default"]=module2.exports,_typeof2(o)}module2.exports=_typeof2,module2.exports.__esModule=true,module2.exports["default"]=module2.exports})(_typeof);var _typeofExports=_typeof.exports;var parent$v=forEach$6;var forEach$2=parent$v;var parent$u=forEach$2;var forEach$1=parent$u;var forEach=forEach$1;var hasOwn$6=hasOwnProperty_1;var ownKeys$6=ownKeys$b;var getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor;var definePropertyModule=objectDefineProperty;var copyConstructorProperties$1=function(target,source,exceptions){var keys2=ownKeys$6(source);var defineProperty2=definePropertyModule.f;var getOwnPropertyDescriptor2=getOwnPropertyDescriptorModule$2.f;for(var i2=0;i2<keys2.length;i2++){var key=keys2[i2];if(!hasOwn$6(target,key)&&!(exceptions&&hasOwn$6(exceptions,key))){defineProperty2(target,key,getOwnPropertyDescriptor2(source,key))}}};var isObject$6=isObject$m;var createNonEnumerableProperty$2=createNonEnumerableProperty$9;var installErrorCause$1=function(O,options){if(isObject$6(options)&&"cause"in options){createNonEnumerableProperty$2(O,"cause",options.cause)}};var uncurryThis$4=functionUncurryThis;var $Error$1=Error;var replace=uncurryThis$4("".replace);var TEST=(function(arg){return String(new $Error$1(arg).stack)})("zxcasd");var V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/;var IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST);var errorStackClear=function(stack,dropEntries){if(IS_V8_OR_CHAKRA_STACK&&typeof stack=="string"&&!$Error$1.prepareStackTrace){while(dropEntries--)stack=replace(stack,V8_OR_CHAKRA_STACK_ENTRY,"")}return stack};var fails$8=fails$A;var createPropertyDescriptor$1=createPropertyDescriptor$7;var errorStackInstallable=!fails$8(function(){var error=new Error("a");if(!("stack"in error))return true;Object.defineProperty(error,"stack",createPropertyDescriptor$1(1,7));return error.stack!==7});var createNonEnumerableProperty$1=createNonEnumerableProperty$9;var clearErrorStack=errorStackClear;var ERROR_STACK_INSTALLABLE=errorStackInstallable;var captureStackTrace=Error.captureStackTrace;var errorStackInstall=function(error,C,stack,dropEntries){if(ERROR_STACK_INSTALLABLE){if(captureStackTrace)captureStackTrace(error,C);else createNonEnumerableProperty$1(error,"stack",clearErrorStack(stack,dropEntries))}};var toString$2=toString$b;var normalizeStringArgument$1=function(argument,$default){return argument===void 0?arguments.length<2?"":$default:toString$2(argument)};var $$n=_export;var isPrototypeOf$7=objectIsPrototypeOf;var getPrototypeOf$1=objectGetPrototypeOf$1;var setPrototypeOf=objectSetPrototypeOf;var copyConstructorProperties=copyConstructorProperties$1;var create$1=objectCreate;var createNonEnumerableProperty=createNonEnumerableProperty$9;var createPropertyDescriptor=createPropertyDescriptor$7;var installErrorCause=installErrorCause$1;var installErrorStack=errorStackInstall;var iterate$5=iterate$8;var normalizeStringArgument=normalizeStringArgument$1;var wellKnownSymbol$2=wellKnownSymbol$p;var TO_STRING_TAG=wellKnownSymbol$2("toStringTag");var $Error=Error;var push$2=[].push;var $AggregateError=function AggregateError(errors,message){var isInstance=isPrototypeOf$7(AggregateErrorPrototype,this);var that;if(setPrototypeOf){that=setPrototypeOf(new $Error,isInstance?getPrototypeOf$1(this):AggregateErrorPrototype)}else{that=isInstance?this:create$1(AggregateErrorPrototype);createNonEnumerableProperty(that,TO_STRING_TAG,"Error")}if(message!==void 0)createNonEnumerableProperty(that,"message",normalizeStringArgument(message));installErrorStack(that,$AggregateError,that.stack,1);if(arguments.length>2)installErrorCause(that,arguments[2]);var errorsArray=[];iterate$5(errors,push$2,{that:errorsArray});createNonEnumerableProperty(that,"errors",errorsArray);return that};if(setPrototypeOf)setPrototypeOf($AggregateError,$Error);else copyConstructorProperties($AggregateError,$Error,{name:true});var AggregateErrorPrototype=$AggregateError.prototype=create$1($Error.prototype,{constructor:createPropertyDescriptor(1,$AggregateError),message:createPropertyDescriptor(1,""),name:createPropertyDescriptor(1,"AggregateError")});$$n({global:true},{AggregateError:$AggregateError});var global$8=global$s;var classof$3=classofRaw$2;var engineIsNode=classof$3(global$8.process)==="process";var isConstructor=isConstructor$4;var tryToString=tryToString$6;var $TypeError$2=TypeError;var aConstructor$2=function(argument){if(isConstructor(argument))return argument;throw new $TypeError$2(tryToString(argument)+" is not a constructor")};var anObject$4=anObject$f;var aConstructor$1=aConstructor$2;var isNullOrUndefined$1=isNullOrUndefined$7;var wellKnownSymbol$1=wellKnownSymbol$p;var SPECIES$1=wellKnownSymbol$1("species");var speciesConstructor$2=function(O,defaultConstructor){var C=anObject$4(O).constructor;var S;return C===void 0||isNullOrUndefined$1(S=anObject$4(C)[SPECIES$1])?defaultConstructor:aConstructor$1(S)};var userAgent$4=engineUserAgent;var engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4);var global$7=global$s;var apply$1=functionApply;var bind$4=functionBindContext;var isCallable$3=isCallable$m;var hasOwn$5=hasOwnProperty_1;var fails$7=fails$A;var html=html$2;var arraySlice$1=arraySlice$6;var createElement=documentCreateElement$1;var validateArgumentsLength=validateArgumentsLength$2;var IS_IOS$1=engineIsIos;var IS_NODE$4=engineIsNode;var set$3=global$7.setImmediate;var clear=global$7.clearImmediate;var process$2=global$7.process;var Dispatch=global$7.Dispatch;var Function$1=global$7.Function;var MessageChannel2=global$7.MessageChannel;var String$1=global$7.String;var counter=0;var queue$2={};var ONREADYSTATECHANGE="onreadystatechange";var $location,defer,channel,port;fails$7(function(){$location=global$7.location});var run=function(id2){if(hasOwn$5(queue$2,id2)){var fn=queue$2[id2];delete queue$2[id2];fn()}};var runner=function(id2){return function(){run(id2)}};var eventListener=function(event){run(event.data)};var globalPostMessageDefer=function(id2){global$7.postMessage(String$1(id2),$location.protocol+"//"+$location.host)};if(!set$3||!clear){set$3=function setImmediate2(handler){validateArgumentsLength(arguments.length,1);var fn=isCallable$3(handler)?handler:Function$1(handler);var args2=arraySlice$1(arguments,1);queue$2[++counter]=function(){apply$1(fn,void 0,args2)};defer(counter);return counter};clear=function clearImmediate(id2){delete queue$2[id2]};if(IS_NODE$4){defer=function(id2){process$2.nextTick(runner(id2))}}else if(Dispatch&&Dispatch.now){defer=function(id2){Dispatch.now(runner(id2))}}else if(MessageChannel2&&!IS_IOS$1){channel=new MessageChannel2;port=channel.port2;channel.port1.onmessage=eventListener;defer=bind$4(port.postMessage,port)}else if(global$7.addEventListener&&isCallable$3(global$7.postMessage)&&!global$7.importScripts&&$location&&$location.protocol!=="file:"&&!fails$7(globalPostMessageDefer)){defer=globalPostMessageDefer;global$7.addEventListener("message",eventListener,false)}else if(ONREADYSTATECHANGE in createElement("script")){defer=function(id2){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run(id2)}}}else{defer=function(id2){setTimeout(runner(id2),0)}}}var task$1={set:set$3};var Queue$3=function(){this.head=null;this.tail=null};Queue$3.prototype={add:function(item){var entry={item,next:null};var tail=this.tail;if(tail)tail.next=entry;else this.head=entry;this.tail=entry},get:function(){var entry=this.head;if(entry){var next2=this.head=entry.next;if(next2===null)this.tail=null;return entry.item}}};var queue$1=Queue$3;var userAgent$3=engineUserAgent;var engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$3)&&typeof Pebble!="undefined";var userAgent$2=engineUserAgent;var engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$2);var global$6=global$s;var bind$3=functionBindContext;var getOwnPropertyDescriptor$7=objectGetOwnPropertyDescriptor.f;var macrotask=task$1.set;var Queue$2=queue$1;var IS_IOS=engineIsIos;var IS_IOS_PEBBLE=engineIsIosPebble;var IS_WEBOS_WEBKIT=engineIsWebosWebkit;var IS_NODE$3=engineIsNode;var MutationObserver2=global$6.MutationObserver||global$6.WebKitMutationObserver;var document$2=global$6.document;var process$1=global$6.process;var Promise$1=global$6.Promise;var queueMicrotaskDescriptor=getOwnPropertyDescriptor$7(global$6,"queueMicrotask");var microtask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;var notify$1,toggle,node,promise$5,then;if(!microtask$1){var queue=new Queue$2;var flush=function(){var parent2,fn;if(IS_NODE$3&&(parent2=process$1.domain))parent2.exit();while(fn=queue.get())try{fn()}catch(error){if(queue.head)notify$1();throw error}if(parent2)parent2.enter()};if(!IS_IOS&&!IS_NODE$3&&!IS_WEBOS_WEBKIT&&MutationObserver2&&document$2){toggle=true;node=document$2.createTextNode("");new MutationObserver2(flush).observe(node,{characterData:true});notify$1=function(){node.data=toggle=!toggle}}else if(!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve){promise$5=Promise$1.resolve(void 0);promise$5.constructor=Promise$1;then=bind$3(promise$5.then,promise$5);notify$1=function(){then(flush)}}else if(IS_NODE$3){notify$1=function(){process$1.nextTick(flush)}}else{macrotask=bind$3(macrotask,global$6);notify$1=function(){macrotask(flush)}}microtask$1=function(fn){if(!queue.head)notify$1();queue.add(fn)}}var microtask_1=microtask$1;var hostReportErrors$1=function(a,b){try{arguments.length===1?console.error(a):console.error(a,b)}catch(error){}};var perform$6=function(exec2){try{return{error:false,value:exec2()}}catch(error){return{error:true,value:error}}};var global$5=global$s;var promiseNativeConstructor=global$5.Promise;var engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object";var IS_DENO$1=engineIsDeno;var IS_NODE$2=engineIsNode;var engineIsBrowser=!IS_DENO$1&&!IS_NODE$2&&typeof window=="object"&&typeof document=="object";var global$4=global$s;var NativePromiseConstructor$5=promiseNativeConstructor;var isCallable$2=isCallable$m;var isForced=isForced_1;var inspectSource=inspectSource$2;var wellKnownSymbol=wellKnownSymbol$p;var IS_BROWSER=engineIsBrowser;var IS_DENO=engineIsDeno;var V8_VERSION=engineV8Version;var NativePromisePrototype$2=NativePromiseConstructor$5&&NativePromiseConstructor$5.prototype;var SPECIES=wellKnownSymbol("species");var SUBCLASSING=false;var NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$2(global$4.PromiseRejectionEvent);var FORCED_PROMISE_CONSTRUCTOR$5=isForced("Promise",function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource(NativePromiseConstructor$5);var GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(NativePromiseConstructor$5);if(!GLOBAL_CORE_JS_PROMISE&&V8_VERSION===66)return true;if(!(NativePromisePrototype$2["catch"]&&NativePromisePrototype$2["finally"]))return true;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)){var promise2=new NativePromiseConstructor$5(function(resolve){resolve(1)});var FakePromise=function(exec2){exec2(function(){},function(){})};var constructor=promise2.constructor={};constructor[SPECIES]=FakePromise;SUBCLASSING=promise2.then(function(){})instanceof FakePromise;if(!SUBCLASSING)return true}return!GLOBAL_CORE_JS_PROMISE&&(IS_BROWSER||IS_DENO)&&!NATIVE_PROMISE_REJECTION_EVENT$1});var promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1};var newPromiseCapability$2={};var aCallable$8=aCallable$e;var $TypeError$1=TypeError;var PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==void 0||reject!==void 0)throw new $TypeError$1("Bad Promise constructor");resolve=$$resolve;reject=$$reject});this.resolve=aCallable$8(resolve);this.reject=aCallable$8(reject)};newPromiseCapability$2.f=function(C){return new PromiseCapability(C)};var $$m=_export;var IS_NODE$1=engineIsNode;var global$3=global$s;var call$6=functionCall;var defineBuiltIn=defineBuiltIn$6;var setToStringTag=setToStringTag$7;var setSpecies=setSpecies$2;var aCallable$7=aCallable$e;var isCallable$1=isCallable$m;var isObject$5=isObject$m;var anInstance$1=anInstance$4;var speciesConstructor$1=speciesConstructor$2;var task=task$1.set;var microtask=microtask_1;var hostReportErrors=hostReportErrors$1;var perform$5=perform$6;var Queue$1=queue$1;var InternalStateModule$1=internalState;var NativePromiseConstructor$4=promiseNativeConstructor;var PromiseConstructorDetection=promiseConstructorDetection;var newPromiseCapabilityModule$7=newPromiseCapability$2;var PROMISE="Promise";var FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR;var NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT;var getInternalPromiseState=InternalStateModule$1.getterFor(PROMISE);var setInternalState$1=InternalStateModule$1.set;var NativePromisePrototype$1=NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;var PromiseConstructor=NativePromiseConstructor$4;var PromisePrototype=NativePromisePrototype$1;var TypeError$1=global$3.TypeError;var document$1=global$3.document;var process2=global$3.process;var newPromiseCapability$1=newPromiseCapabilityModule$7.f;var newGenericPromiseCapability=newPromiseCapability$1;var DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$3.dispatchEvent);var UNHANDLED_REJECTION="unhandledrejection";var REJECTION_HANDLED="rejectionhandled";var PENDING=0;var FULFILLED=1;var REJECTED=2;var HANDLED=1;var UNHANDLED=2;var Internal,OwnPromiseCapability,PromiseWrapper;var isThenable=function(it2){var then2;return isObject$5(it2)&&isCallable$1(then2=it2.then)?then2:false};var callReaction=function(reaction,state){var value=state.value;var ok=state.state===FULFILLED;var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then2,exited;try{if(handler){if(!ok){if(state.rejection===UNHANDLED)onHandleUnhandled(state);state.rejection=HANDLED}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain){domain.exit();exited=true}}if(result===reaction.promise){reject(new TypeError$1("Promise-chain cycle"))}else if(then2=isThenable(result)){call$6(then2,result,resolve,reject)}else resolve(result)}else reject(value)}catch(error){if(domain&&!exited)domain.exit();reject(error)}};var notify=function(state,isReject){if(state.notified)return;state.notified=true;microtask(function(){var reactions=state.reactions;var reaction;while(reaction=reactions.get()){callReaction(reaction,state)}state.notified=false;if(isReject&&!state.rejection)onUnhandled(state)})};var dispatchEvent=function(name,promise2,reason){var event,handler;if(DISPATCH_EVENT){event=document$1.createEvent("Event");event.promise=promise2;event.reason=reason;event.initEvent(name,false,true);global$3.dispatchEvent(event)}else event={promise:promise2,reason};if(!NATIVE_PROMISE_REJECTION_EVENT&&(handler=global$3["on"+name]))handler(event);else if(name===UNHANDLED_REJECTION)hostReportErrors("Unhandled promise rejection",reason)};var onUnhandled=function(state){call$6(task,global$3,function(){var promise2=state.facade;var value=state.value;var IS_UNHANDLED=isUnhandled(state);var result;if(IS_UNHANDLED){result=perform$5(function(){if(IS_NODE$1){process2.emit("unhandledRejection",value,promise2)}else dispatchEvent(UNHANDLED_REJECTION,promise2,value)});state.rejection=IS_NODE$1||isUnhandled(state)?UNHANDLED:HANDLED;if(result.error)throw result.value}})};var isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent};var onHandleUnhandled=function(state){call$6(task,global$3,function(){var promise2=state.facade;if(IS_NODE$1){process2.emit("rejectionHandled",promise2)}else dispatchEvent(REJECTION_HANDLED,promise2,state.value)})};var bind$2=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}};var internalReject=function(state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;state.value=value;state.state=REJECTED;notify(state,true)};var internalResolve=function(state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;try{if(state.facade===value)throw new TypeError$1("Promise can't be resolved itself");var then2=isThenable(value);if(then2){microtask(function(){var wrapper2={done:false};try{call$6(then2,value,bind$2(internalResolve,wrapper2,state),bind$2(internalReject,wrapper2,state))}catch(error){internalReject(wrapper2,error,state)}})}else{state.value=value;state.state=FULFILLED;notify(state,false)}}catch(error){internalReject({done:false},error,state)}};if(FORCED_PROMISE_CONSTRUCTOR$4){PromiseConstructor=function Promise2(executor){anInstance$1(this,PromisePrototype);aCallable$7(executor);call$6(Internal,this);var state=getInternalPromiseState(this);try{executor(bind$2(internalResolve,state),bind$2(internalReject,state))}catch(error){internalReject(state,error)}};PromisePrototype=PromiseConstructor.prototype;Internal=function Promise2(executor){setInternalState$1(this,{type:PROMISE,done:false,notified:false,parent:false,reactions:new Queue$1,rejection:false,state:PENDING,value:void 0})};Internal.prototype=defineBuiltIn(PromisePrototype,"then",function then2(onFulfilled,onRejected){var state=getInternalPromiseState(this);var reaction=newPromiseCapability$1(speciesConstructor$1(this,PromiseConstructor));state.parent=true;reaction.ok=isCallable$1(onFulfilled)?onFulfilled:true;reaction.fail=isCallable$1(onRejected)&&onRejected;reaction.domain=IS_NODE$1?process2.domain:void 0;if(state.state===PENDING)state.reactions.add(reaction);else microtask(function(){callReaction(reaction,state)});return reaction.promise});OwnPromiseCapability=function(){var promise2=new Internal;var state=getInternalPromiseState(promise2);this.promise=promise2;this.resolve=bind$2(internalResolve,state);this.reject=bind$2(internalReject,state)};newPromiseCapabilityModule$7.f=newPromiseCapability$1=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}}$$m({global:true,wrap:true,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag(PromiseConstructor,PROMISE,false,true);setSpecies(PROMISE);var NativePromiseConstructor$3=promiseNativeConstructor;var checkCorrectnessOfIteration=checkCorrectnessOfIteration$2;var FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR;var promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration(function(iterable){NativePromiseConstructor$3.all(iterable).then(void 0,function(){})});var $$l=_export;var call$5=functionCall;var aCallable$6=aCallable$e;var newPromiseCapabilityModule$6=newPromiseCapability$2;var perform$4=perform$6;var iterate$4=iterate$8;var PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration;$$l({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{all:function all(iterable){var C=this;var capability=newPromiseCapabilityModule$6.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$4(function(){var $promiseResolve=aCallable$6(C.resolve);var values2=[];var counter2=0;var remaining=1;iterate$4(iterable,function(promise2){var index2=counter2++;var alreadyCalled=false;remaining++;call$5($promiseResolve,C,promise2).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values2[index2]=value;--remaining||resolve(values2)},reject)});--remaining||resolve(values2)});if(result.error)reject(result.value);return capability.promise}});var $$k=_export;var FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR;var NativePromiseConstructor$2=promiseNativeConstructor;NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype;$$k({target:"Promise",proto:true,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:true},{"catch":function(onRejected){return this.then(void 0,onRejected)}});var $$j=_export;var call$4=functionCall;var aCallable$5=aCallable$e;var newPromiseCapabilityModule$5=newPromiseCapability$2;var perform$3=perform$6;var iterate$3=iterate$8;var PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration;$$j({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function race(iterable){var C=this;var capability=newPromiseCapabilityModule$5.f(C);var reject=capability.reject;var result=perform$3(function(){var $promiseResolve=aCallable$5(C.resolve);iterate$3(iterable,function(promise2){call$4($promiseResolve,C,promise2).then(capability.resolve,reject)})});if(result.error)reject(result.value);return capability.promise}});var $$i=_export;var call$3=functionCall;var newPromiseCapabilityModule$4=newPromiseCapability$2;var FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$i({target:"Promise",stat:true,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function reject(r){var capability=newPromiseCapabilityModule$4.f(this);call$3(capability.reject,void 0,r);return capability.promise}});var anObject$3=anObject$f;var isObject$4=isObject$m;var newPromiseCapability=newPromiseCapability$2;var promiseResolve$2=function(C,x){anObject$3(C);if(isObject$4(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise};var $$h=_export;var getBuiltIn$3=getBuiltIn$f;var IS_PURE=isPure;var NativePromiseConstructor$1=promiseNativeConstructor;var FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR;var promiseResolve$1=promiseResolve$2;var PromiseConstructorWrapper=getBuiltIn$3("Promise");var CHECK_WRAPPER=!FORCED_PROMISE_CONSTRUCTOR;$$h({target:"Promise",stat:true,forced:IS_PURE},{resolve:function resolve(x){return promiseResolve$1(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor$1:this,x)}});var $$g=_export;var call$2=functionCall;var aCallable$4=aCallable$e;var newPromiseCapabilityModule$3=newPromiseCapability$2;var perform$2=perform$6;var iterate$2=iterate$8;var PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$g({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{allSettled:function allSettled(iterable){var C=this;var capability=newPromiseCapabilityModule$3.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$2(function(){var promiseResolve2=aCallable$4(C.resolve);var values2=[];var counter2=0;var remaining=1;iterate$2(iterable,function(promise2){var index2=counter2++;var alreadyCalled=false;remaining++;call$2(promiseResolve2,C,promise2).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values2[index2]={status:"fulfilled",value};--remaining||resolve(values2)},function(error){if(alreadyCalled)return;alreadyCalled=true;values2[index2]={status:"rejected",reason:error};--remaining||resolve(values2)})});--remaining||resolve(values2)});if(result.error)reject(result.value);return capability.promise}});var $$f=_export;var call$1=functionCall;var aCallable$3=aCallable$e;var getBuiltIn$2=getBuiltIn$f;var newPromiseCapabilityModule$2=newPromiseCapability$2;var perform$1=perform$6;var iterate$1=iterate$8;var PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;var PROMISE_ANY_ERROR="No one promise resolved";$$f({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function any2(iterable){var C=this;var AggregateError=getBuiltIn$2("AggregateError");var capability=newPromiseCapabilityModule$2.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$1(function(){var promiseResolve2=aCallable$3(C.resolve);var errors=[];var counter2=0;var remaining=1;var alreadyResolved=false;iterate$1(iterable,function(promise2){var index2=counter2++;var alreadyRejected=false;remaining++;call$1(promiseResolve2,C,promise2).then(function(value){if(alreadyRejected||alreadyResolved)return;alreadyResolved=true;resolve(value)},function(error){if(alreadyRejected||alreadyResolved)return;alreadyRejected=true;errors[index2]=error;--remaining||reject(new AggregateError(errors,PROMISE_ANY_ERROR))})});--remaining||reject(new AggregateError(errors,PROMISE_ANY_ERROR))});if(result.error)reject(result.value);return capability.promise}});var $$e=_export;var NativePromiseConstructor=promiseNativeConstructor;var fails$6=fails$A;var getBuiltIn$1=getBuiltIn$f;var isCallable=isCallable$m;var speciesConstructor=speciesConstructor$2;var promiseResolve=promiseResolve$2;var NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;var NON_GENERIC=!!NativePromiseConstructor&&fails$6(function(){NativePromisePrototype["finally"].call({then:function(){}},function(){})});$$e({target:"Promise",proto:true,real:true,forced:NON_GENERIC},{"finally":function(onFinally){var C=speciesConstructor(this,getBuiltIn$1("Promise"));var isFunction=isCallable(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}});var path$c=path$A;var promise$4=path$c.Promise;var parent$t=promise$4;var promise$3=parent$t;var $$d=_export;var newPromiseCapabilityModule$1=newPromiseCapability$2;$$d({target:"Promise",stat:true},{withResolvers:function withResolvers(){var promiseCapability=newPromiseCapabilityModule$1.f(this);return{promise:promiseCapability.promise,resolve:promiseCapability.resolve,reject:promiseCapability.reject}}});var parent$s=promise$3;var promise$2=parent$s;var $$c=_export;var newPromiseCapabilityModule=newPromiseCapability$2;var perform=perform$6;$$c({target:"Promise",stat:true,forced:true},{"try":function(callbackfn){var promiseCapability=newPromiseCapabilityModule.f(this);var result=perform(callbackfn);(result.error?promiseCapability.reject:promiseCapability.resolve)(result.value);return promiseCapability.promise}});var parent$r=promise$2;var promise$1=parent$r;var promise=promise$1;var parent$q=reverse$4;var reverse$2=parent$q;var parent$p=reverse$2;var reverse$1=parent$p;var reverse=reverse$1;(function(module2){var _typeof2=_typeofExports["default"];var _Object$defineProperty2=defineProperty$6;var _Symbol2=symbol$1;var _Object$create2=create$2;var _Object$getPrototypeOf2=getPrototypeOf$2;var _forEachInstanceProperty2=forEach;var _pushInstanceProperty2=push$4;var _Object$setPrototypeOf2=setPrototypeOf$1;var _Promise=promise;var _reverseInstanceProperty2=reverse;var _sliceInstanceProperty2=slice$1;function _regeneratorRuntime2(){module2.exports=_regeneratorRuntime2=function _regeneratorRuntime3(){return e},module2.exports.__esModule=true,module2.exports["default"]=module2.exports;var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=_Object$defineProperty2||function(t2,e2,r2){t2[e2]=r2.value},i2="function"==typeof _Symbol2?_Symbol2:{},a=i2.iterator||"@@iterator",c2=i2.asyncIterator||"@@asyncIterator",u=i2.toStringTag||"@@toStringTag";function define2(t2,e2,r2){return _Object$defineProperty2(t2,e2,{value:r2,enumerable:true,configurable:true,writable:true}),t2[e2]}try{define2({},"")}catch(t2){define2=function define3(t3,e2,r2){return t3[e2]=r2}}function wrap2(t2,e2,r2,n2){var i3=e2&&e2.prototype instanceof Generator?e2:Generator,a2=_Object$create2(i3.prototype),c3=new Context(n2||[]);return o(a2,"_invoke",{value:makeInvokeMethod(t2,r2,c3)}),a2}function tryCatch(t2,e2,r2){try{return{type:"normal",arg:t2.call(e2,r2)}}catch(t3){return{type:"throw",arg:t3}}}e.wrap=wrap2;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define2(p,a,function(){return this});var d=_Object$getPrototypeOf2,v=d&&d(d(values2([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=_Object$create2(p);function defineIteratorMethods(t2){var _context;_forEachInstanceProperty2(_context=["next","throw","return"]).call(_context,function(e2){define2(t2,e2,function(t3){return this._invoke(e2,t3)})})}function AsyncIterator(t2,e2){function invoke(r3,o2,i3,a2){var c3=tryCatch(t2[r3],t2,o2);if("throw"!==c3.type){var u2=c3.arg,h2=u2.value;return h2&&"object"==_typeof2(h2)&&n.call(h2,"__await")?e2.resolve(h2.__await).then(function(t3){invoke("next",t3,i3,a2)},function(t3){invoke("throw",t3,i3,a2)}):e2.resolve(h2).then(function(t3){u2.value=t3,i3(u2)},function(t3){return invoke("throw",t3,i3,a2)})}a2(c3.arg)}var r2;o(this,"_invoke",{value:function value(t3,n2){function callInvokeWithMethodAndArg(){return new e2(function(e3,r3){invoke(t3,n2,e3,r3)})}return r2=r2?r2.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e2,r2,n2){var o2=h;return function(i3,a2){if(o2===f)throw new Error("Generator is already running");if(o2===s){if("throw"===i3)throw a2;return{value:t,done:true}}for(n2.method=i3,n2.arg=a2;;){var c3=n2.delegate;if(c3){var u2=maybeInvokeDelegate(c3,n2);if(u2){if(u2===y)continue;return u2}}if("next"===n2.method)n2.sent=n2._sent=n2.arg;else if("throw"===n2.method){if(o2===h)throw o2=s,n2.arg;n2.dispatchException(n2.arg)}else"return"===n2.method&&n2.abrupt("return",n2.arg);o2=f;var p2=tryCatch(e2,r2,n2);if("normal"===p2.type){if(o2=n2.done?s:l,p2.arg===y)continue;return{value:p2.arg,done:n2.done}}"throw"===p2.type&&(o2=s,n2.method="throw",n2.arg=p2.arg)}}}function maybeInvokeDelegate(e2,r2){var n2=r2.method,o2=e2.iterator[n2];if(o2===t)return r2.delegate=null,"throw"===n2&&e2.iterator["return"]&&(r2.method="return",r2.arg=t,maybeInvokeDelegate(e2,r2),"throw"===r2.method)||"return"!==n2&&(r2.method="throw",r2.arg=new TypeError("The iterator does not provide a '"+n2+"' method")),y;var i3=tryCatch(o2,e2.iterator,r2.arg);if("throw"===i3.type)return r2.method="throw",r2.arg=i3.arg,r2.delegate=null,y;var a2=i3.arg;return a2?a2.done?(r2[e2.resultName]=a2.value,r2.next=e2.nextLoc,"return"!==r2.method&&(r2.method="next",r2.arg=t),r2.delegate=null,y):a2:(r2.method="throw",r2.arg=new TypeError("iterator result is not an object"),r2.delegate=null,y)}function pushTryEntry(t2){var _context2;var e2={tryLoc:t2[0]};1 in t2&&(e2.catchLoc=t2[1]),2 in t2&&(e2.finallyLoc=t2[2],e2.afterLoc=t2[3]),_pushInstanceProperty2(_context2=this.tryEntries).call(_context2,e2)}function resetTryEntry(t2){var e2=t2.completion||{};e2.type="normal",delete e2.arg,t2.completion=e2}function Context(t2){this.tryEntries=[{tryLoc:"root"}],_forEachInstanceProperty2(t2).call(t2,pushTryEntry,this),this.reset(true)}function values2(e2){if(e2||""===e2){var r2=e2[a];if(r2)return r2.call(e2);if("function"==typeof e2.next)return e2;if(!isNaN(e2.length)){var o2=-1,i3=function next2(){for(;++o2<e2.length;)if(n.call(e2,o2))return next2.value=e2[o2],next2.done=false,next2;return next2.value=t,next2.done=true,next2};return i3.next=i3}}throw new TypeError(_typeof2(e2)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:true}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:true}),GeneratorFunction.displayName=define2(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t2){var e2="function"==typeof t2&&t2.constructor;return!!e2&&(e2===GeneratorFunction||"GeneratorFunction"===(e2.displayName||e2.name))},e.mark=function(t2){return _Object$setPrototypeOf2?_Object$setPrototypeOf2(t2,GeneratorFunctionPrototype):(t2.__proto__=GeneratorFunctionPrototype,define2(t2,u,"GeneratorFunction")),t2.prototype=_Object$create2(g),t2},e.awrap=function(t2){return{__await:t2}},defineIteratorMethods(AsyncIterator.prototype),define2(AsyncIterator.prototype,c2,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t2,r2,n2,o2,i3){void 0===i3&&(i3=_Promise);var a2=new AsyncIterator(wrap2(t2,r2,n2,o2),i3);return e.isGeneratorFunction(r2)?a2:a2.next().then(function(t3){return t3.done?t3.value:a2.next()})},defineIteratorMethods(g),define2(g,u,"Generator"),define2(g,a,function(){return this}),define2(g,"toString",function(){return"[object Generator]"}),e.keys=function(t2){var e2=Object(t2),r2=[];for(var n2 in e2)_pushInstanceProperty2(r2).call(r2,n2);return _reverseInstanceProperty2(r2).call(r2),function next2(){for(;r2.length;){var t3=r2.pop();if(t3 in e2)return next2.value=t3,next2.done=false,next2}return next2.done=true,next2}},e.values=values2,Context.prototype={constructor:Context,reset:function reset(e2){var _context3;if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=false,this.delegate=null,this.method="next",this.arg=t,_forEachInstanceProperty2(_context3=this.tryEntries).call(_context3,resetTryEntry),!e2)for(var r2 in this)"t"===r2.charAt(0)&&n.call(this,r2)&&!isNaN(+_sliceInstanceProperty2(r2).call(r2,1))&&(this[r2]=t)},stop:function stop(){this.done=true;var t2=this.tryEntries[0].completion;if("throw"===t2.type)throw t2.arg;return this.rval},dispatchException:function dispatchException(e2){if(this.done)throw e2;var r2=this;function handle(n2,o3){return a2.type="throw",a2.arg=e2,r2.next=n2,o3&&(r2.method="next",r2.arg=t),!!o3}for(var o2=this.tryEntries.length-1;o2>=0;--o2){var i3=this.tryEntries[o2],a2=i3.completion;if("root"===i3.tryLoc)return handle("end");if(i3.tryLoc<=this.prev){var c3=n.call(i3,"catchLoc"),u2=n.call(i3,"finallyLoc");if(c3&&u2){if(this.prev<i3.catchLoc)return handle(i3.catchLoc,true);if(this.prev<i3.finallyLoc)return handle(i3.finallyLoc)}else if(c3){if(this.prev<i3.catchLoc)return handle(i3.catchLoc,true)}else{if(!u2)throw new Error("try statement without catch or finally");if(this.prev<i3.finallyLoc)return handle(i3.finallyLoc)}}}},abrupt:function abrupt(t2,e2){for(var r2=this.tryEntries.length-1;r2>=0;--r2){var o2=this.tryEntries[r2];if(o2.tryLoc<=this.prev&&n.call(o2,"finallyLoc")&&this.prev<o2.finallyLoc){var i3=o2;break}}i3&&("break"===t2||"continue"===t2)&&i3.tryLoc<=e2&&e2<=i3.finallyLoc&&(i3=null);var a2=i3?i3.completion:{};return a2.type=t2,a2.arg=e2,i3?(this.method="next",this.next=i3.finallyLoc,y):this.complete(a2)},complete:function complete(t2,e2){if("throw"===t2.type)throw t2.arg;return"break"===t2.type||"continue"===t2.type?this.next=t2.arg:"return"===t2.type?(this.rval=this.arg=t2.arg,this.method="return",this.next="end"):"normal"===t2.type&&e2&&(this.next=e2),y},finish:function finish(t2){for(var e2=this.tryEntries.length-1;e2>=0;--e2){var r2=this.tryEntries[e2];if(r2.finallyLoc===t2)return this.complete(r2.completion,r2.afterLoc),resetTryEntry(r2),y}},"catch":function _catch(t2){for(var e2=this.tryEntries.length-1;e2>=0;--e2){var r2=this.tryEntries[e2];if(r2.tryLoc===t2){var n2=r2.completion;if("throw"===n2.type){var o2=n2.arg;resetTryEntry(r2)}return o2}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e2,r2,n2){return this.delegate={iterator:values2(e2),resultName:r2,nextLoc:n2},"next"===this.method&&(this.arg=t),y}},e}module2.exports=_regeneratorRuntime2,module2.exports.__esModule=true,module2.exports["default"]=module2.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports;var runtime=regeneratorRuntimeExports();var regenerator=runtime;try{regeneratorRuntime=runtime}catch(accidentalStrictMode){if(typeof window==="object"){window.regeneratorRuntime=runtime}else{Function("r","regeneratorRuntime = r")(runtime)}}var _regeneratorRuntime=getDefaultExportFromCjs(regenerator);var aCallable$2=aCallable$e;var toObject$2=toObject$f;var IndexedObject=indexedObject;var lengthOfArrayLike$3=lengthOfArrayLike$e;var $TypeError=TypeError;var createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aCallable$2(callbackfn);var O=toObject$2(that);var self2=IndexedObject(O);var length2=lengthOfArrayLike$3(O);var index2=IS_RIGHT?length2-1:0;var i2=IS_RIGHT?-1:1;if(argumentsLength<2)while(true){if(index2 in self2){memo=self2[index2];index2+=i2;break}index2+=i2;if(IS_RIGHT?index2<0:length2<=index2){throw new $TypeError("Reduce of empty array with no initial value")}}for(;IS_RIGHT?index2>=0:length2>index2;index2+=i2)if(index2 in self2){memo=callbackfn(memo,self2[index2],index2,O)}return memo}};var arrayReduce={left:createMethod(false)};var $$b=_export;var $reduce=arrayReduce.left;var arrayMethodIsStrict$2=arrayMethodIsStrict$6;var CHROME_VERSION=engineV8Version;var IS_NODE=engineIsNode;var CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83;var FORCED$5=CHROME_BUG||!arrayMethodIsStrict$2("reduce");$$b({target:"Array",proto:true,forced:FORCED$5},{reduce:function reduce2(callbackfn){var length2=arguments.length;return $reduce(this,callbackfn,length2,length2>1?arguments[1]:void 0)}});var entryVirtual$6=entryVirtual$l;var reduce$3=entryVirtual$6("Array").reduce;var isPrototypeOf$6=objectIsPrototypeOf;var method$6=reduce$3;var ArrayPrototype$6=Array.prototype;var reduce$2=function(it2){var own=it2.reduce;return it2===ArrayPrototype$6||isPrototypeOf$6(ArrayPrototype$6,it2)&&own===ArrayPrototype$6.reduce?method$6:own};var parent$o=reduce$2;var reduce$1=parent$o;var reduce=reduce$1;var _reduceInstanceProperty=getDefaultExportFromCjs(reduce);var isArray$1=isArray$f;var lengthOfArrayLike$2=lengthOfArrayLike$e;var doesNotExceedSafeInteger=doesNotExceedSafeInteger$4;var bind$1=functionBindContext;var flattenIntoArray$1=function(target,original,source,sourceLen,start,depth,mapper,thisArg){var targetIndex=start;var sourceIndex=0;var mapFn=mapper?bind$1(mapper,thisArg):false;var element,elementLen;while(sourceIndex<sourceLen){if(sourceIndex in source){element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex];if(depth>0&&isArray$1(element)){elementLen=lengthOfArrayLike$2(element);targetIndex=flattenIntoArray$1(target,original,element,elementLen,targetIndex,depth-1)-1}else{doesNotExceedSafeInteger(targetIndex+1);target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex};var flattenIntoArray_1=flattenIntoArray$1;var $$a=_export;var flattenIntoArray=flattenIntoArray_1;var aCallable$1=aCallable$e;var toObject$1=toObject$f;var lengthOfArrayLike$1=lengthOfArrayLike$e;var arraySpeciesCreate=arraySpeciesCreate$4;$$a({target:"Array",proto:true},{flatMap:function flatMap2(callbackfn){var O=toObject$1(this);var sourceLen=lengthOfArrayLike$1(O);var A;aCallable$1(callbackfn);A=arraySpeciesCreate(O,0);A.length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments.length>1?arguments[1]:void 0);return A}});var entryVirtual$5=entryVirtual$l;var flatMap$3=entryVirtual$5("Array").flatMap;var isPrototypeOf$5=objectIsPrototypeOf;var method$5=flatMap$3;var ArrayPrototype$5=Array.prototype;var flatMap$2=function(it2){var own=it2.flatMap;return it2===ArrayPrototype$5||isPrototypeOf$5(ArrayPrototype$5,it2)&&own===ArrayPrototype$5.flatMap?method$5:own};var parent$n=flatMap$2;var flatMap$1=parent$n;var flatMap=flatMap$1;var _flatMapInstanceProperty=getDefaultExportFromCjs(flatMap);var collection$1=collection$3;var collectionStrong=collectionStrong$2;collection$1("Set",function(init){return function Set2(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$b=path$A;var set$2=path$b.Set;var parent$m=set$2;var set$1=parent$m;var set=set$1;var _Set=getDefaultExportFromCjs(set);var iterator=iterator$4;var _Symbol$iterator2=getDefaultExportFromCjs(iterator);var getIterator$5=getIterator$8;var getIterator_1=getIterator$5;var parent$l=getIterator_1;var getIterator$4=parent$l;var parent$k=getIterator$4;var getIterator$3=parent$k;var parent$j=getIterator$3;var getIterator$2=parent$j;var getIterator$1=getIterator$2;var getIterator=getIterator$1;var _getIterator=getDefaultExportFromCjs(getIterator);var arraySlice=arraySliceSimple;var floor=Math.floor;var mergeSort=function(array2,comparefn){var length2=array2.length;var middle=floor(length2/2);return length2<8?insertionSort(array2,comparefn):merge(array2,mergeSort(arraySlice(array2,0,middle),comparefn),mergeSort(arraySlice(array2,middle),comparefn),comparefn)};var insertionSort=function(array2,comparefn){var length2=array2.length;var i2=1;var element,j;while(i2<length2){j=i2;element=array2[i2];while(j&&comparefn(array2[j-1],element)>0){array2[j]=array2[--j]}if(j!==i2++)array2[j]=element}return array2};var merge=function(array2,left,right,comparefn){var llength=left.length;var rlength=right.length;var lindex=0;var rindex=0;while(lindex<llength||rindex<rlength){array2[lindex+rindex]=lindex<llength&&rindex<rlength?comparefn(left[lindex],right[rindex])<=0?left[lindex++]:right[rindex++]:lindex<llength?left[lindex++]:right[rindex++]}return array2};var arraySort=mergeSort;var userAgent$1=engineUserAgent;var firefox=userAgent$1.match(/firefox\/(\d+)/i);var engineFfVersion=!!firefox&&+firefox[1];var UA=engineUserAgent;var engineIsIeOrEdge=/MSIE|Trident/.test(UA);var userAgent=engineUserAgent;var webkit=userAgent.match(/AppleWebKit\/(\d+)\./);var engineWebkitVersion=!!webkit&&+webkit[1];var $$9=_export;var uncurryThis$3=functionUncurryThis;var aCallable=aCallable$e;var toObject=toObject$f;var lengthOfArrayLike=lengthOfArrayLike$e;var deletePropertyOrThrow=deletePropertyOrThrow$2;var toString$1=toString$b;var fails$5=fails$A;var internalSort=arraySort;var arrayMethodIsStrict$1=arrayMethodIsStrict$6;var FF=engineFfVersion;var IE_OR_EDGE=engineIsIeOrEdge;var V8=engineV8Version;var WEBKIT=engineWebkitVersion;var test=[];var nativeSort=uncurryThis$3(test.sort);var push$1=uncurryThis$3(test.push);var FAILS_ON_UNDEFINED=fails$5(function(){test.sort(void 0)});var FAILS_ON_NULL=fails$5(function(){test.sort(null)});var STRICT_METHOD$1=arrayMethodIsStrict$1("sort");var STABLE_SORT=!fails$5(function(){if(V8)return V8<70;if(FF&&FF>3)return;if(IE_OR_EDGE)return true;if(WEBKIT)return WEBKIT<603;var result="";var code,chr,value,index2;for(code=65;code<76;code++){chr=String.fromCharCode(code);switch(code){case 66:case 69:case 70:case 72:value=3;break;case 68:case 71:value=4;break;default:value=2}for(index2=0;index2<47;index2++){test.push({k:chr+index2,v:value})}}test.sort(function(a,b){return b.v-a.v});for(index2=0;index2<test.length;index2++){chr=test[index2].k.charAt(0);if(result.charAt(result.length-1)!==chr)result+=chr}return result!=="DGBEFHACIJK"});var FORCED$4=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$1||!STABLE_SORT;var getSortCompare=function(comparefn){return function(x,y){if(y===void 0)return-1;if(x===void 0)return 1;if(comparefn!==void 0)return+comparefn(x,y)||0;return toString$1(x)>toString$1(y)?1:-1}};$$9({target:"Array",proto:true,forced:FORCED$4},{sort:function sort2(comparefn){if(comparefn!==void 0)aCallable(comparefn);var array2=toObject(this);if(STABLE_SORT)return comparefn===void 0?nativeSort(array2):nativeSort(array2,comparefn);var items=[];var arrayLength=lengthOfArrayLike(array2);var itemsLength,index2;for(index2=0;index2<arrayLength;index2++){if(index2 in array2)push$1(items,array2[index2])}internalSort(items,getSortCompare(comparefn));itemsLength=lengthOfArrayLike(items);index2=0;while(index2<itemsLength)array2[index2]=items[index2++];while(index2<arrayLength)deletePropertyOrThrow(array2,index2++);return array2}});var entryVirtual$4=entryVirtual$l;var sort$3=entryVirtual$4("Array").sort;var isPrototypeOf$4=objectIsPrototypeOf;var method$4=sort$3;var ArrayPrototype$4=Array.prototype;var sort$2=function(it2){var own=it2.sort;return it2===ArrayPrototype$4||isPrototypeOf$4(ArrayPrototype$4,it2)&&own===ArrayPrototype$4.sort?method$4:own};var parent$i=sort$2;var sort$1=parent$i;var sort=sort$1;var _sortInstanceProperty=getDefaultExportFromCjs(sort);var entryVirtual$3=entryVirtual$l;var keys$3=entryVirtual$3("Array").keys;var parent$h=keys$3;var keys$2=parent$h;var classof$2=classof$f;var hasOwn$4=hasOwnProperty_1;var isPrototypeOf$3=objectIsPrototypeOf;var method$3=keys$2;var ArrayPrototype$3=Array.prototype;var DOMIterables$2={DOMTokenList:true,NodeList:true};var keys$1=function(it2){var own=it2.keys;return it2===ArrayPrototype$3||isPrototypeOf$3(ArrayPrototype$3,it2)&&own===ArrayPrototype$3.keys||hasOwn$4(DOMIterables$2,classof$2(it2))?method$3:own};var keys=keys$1;var _keysInstanceProperty=getDefaultExportFromCjs(keys);var entryVirtual$2=entryVirtual$l;var values$3=entryVirtual$2("Array").values;var parent$g=values$3;var values$2=parent$g;var classof$1=classof$f;var hasOwn$3=hasOwnProperty_1;var isPrototypeOf$2=objectIsPrototypeOf;var method$2=values$2;var ArrayPrototype$2=Array.prototype;var DOMIterables$1={DOMTokenList:true,NodeList:true};var values$1=function(it2){var own=it2.values;return it2===ArrayPrototype$2||isPrototypeOf$2(ArrayPrototype$2,it2)&&own===ArrayPrototype$2.values||hasOwn$3(DOMIterables$1,classof$1(it2))?method$2:own};var values=values$1;var _valuesInstanceProperty=getDefaultExportFromCjs(values);var entryVirtual$1=entryVirtual$l;var entries$3=entryVirtual$1("Array").entries;var parent$f=entries$3;var entries$2=parent$f;var classof=classof$f;var hasOwn$2=hasOwnProperty_1;var isPrototypeOf$1=objectIsPrototypeOf;var method$1=entries$2;var ArrayPrototype$1=Array.prototype;var DOMIterables={DOMTokenList:true,NodeList:true};var entries$1=function(it2){var own=it2.entries;return it2===ArrayPrototype$1||isPrototypeOf$1(ArrayPrototype$1,it2)&&own===ArrayPrototype$1.entries||hasOwn$2(DOMIterables,classof(it2))?method$1:own};var entries=entries$1;var _entriesInstanceProperty=getDefaultExportFromCjs(entries);var defineProperty=defineProperty$9;var _Object$defineProperty=getDefaultExportFromCjs(defineProperty);var $$8=_export;var getBuiltIn=getBuiltIn$f;var apply=functionApply;var bind=functionBind;var aConstructor=aConstructor$2;var anObject$2=anObject$f;var isObject$3=isObject$m;var create=objectCreate;var fails$4=fails$A;var nativeConstruct=getBuiltIn("Reflect","construct");var ObjectPrototype=Object.prototype;var push=[].push;var NEW_TARGET_BUG=fails$4(function(){function F(){}return!(nativeConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!fails$4(function(){nativeConstruct(function(){})});var FORCED$3=NEW_TARGET_BUG||ARGS_BUG;$$8({target:"Reflect",stat:true,forced:FORCED$3,sham:FORCED$3},{construct:function construct2(Target,args2){aConstructor(Target);anObject$2(args2);var newTarget=arguments.length<3?Target:aConstructor(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args2,newTarget);if(Target===newTarget){switch(args2.length){case 0:return new Target;case 1:return new Target(args2[0]);case 2:return new Target(args2[0],args2[1]);case 3:return new Target(args2[0],args2[1],args2[2]);case 4:return new Target(args2[0],args2[1],args2[2],args2[3])}var $args=[null];apply(push,$args,args2);return new(apply(bind,Target,$args))}var proto=newTarget.prototype;var instance=create(isObject$3(proto)?proto:ObjectPrototype);var result=apply(Target,instance,args2);return isObject$3(result)?result:instance}});var path$a=path$A;var construct$2=path$a.Reflect.construct;var parent$e=construct$2;var construct$1=parent$e;var construct=construct$1;var _Reflect$construct=getDefaultExportFromCjs(construct);var path$9=path$A;var getOwnPropertySymbols$2=path$9.Object.getOwnPropertySymbols;var parent$d=getOwnPropertySymbols$2;var getOwnPropertySymbols$1=parent$d;var getOwnPropertySymbols=getOwnPropertySymbols$1;var _Object$getOwnPropertySymbols=getDefaultExportFromCjs(getOwnPropertySymbols);var getOwnPropertyDescriptor$6={exports:{}};var $$7=_export;var fails$3=fails$A;var toIndexedObject$1=toIndexedObject$b;var nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f;var DESCRIPTORS$2=descriptors;var FORCED$2=!DESCRIPTORS$2||fails$3(function(){nativeGetOwnPropertyDescriptor(1)});$$7({target:"Object",stat:true,forced:FORCED$2,sham:!DESCRIPTORS$2},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor2(it2,key){return nativeGetOwnPropertyDescriptor(toIndexedObject$1(it2),key)}});var path$8=path$A;var Object$3=path$8.Object;var getOwnPropertyDescriptor$5=getOwnPropertyDescriptor$6.exports=function getOwnPropertyDescriptor2(it2,key){return Object$3.getOwnPropertyDescriptor(it2,key)};if(Object$3.getOwnPropertyDescriptor.sham)getOwnPropertyDescriptor$5.sham=true;var getOwnPropertyDescriptorExports=getOwnPropertyDescriptor$6.exports;var parent$c=getOwnPropertyDescriptorExports;var getOwnPropertyDescriptor$4=parent$c;var getOwnPropertyDescriptor$3=getOwnPropertyDescriptor$4;var _Object$getOwnPropertyDescriptor$1=getDefaultExportFromCjs(getOwnPropertyDescriptor$3);var $$6=_export;var DESCRIPTORS$1=descriptors;var ownKeys$5=ownKeys$b;var toIndexedObject=toIndexedObject$b;var getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor;var createProperty=createProperty$6;$$6({target:"Object",stat:true,sham:!DESCRIPTORS$1},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors2(object2){var O=toIndexedObject(object2);var getOwnPropertyDescriptor2=getOwnPropertyDescriptorModule$1.f;var keys2=ownKeys$5(O);var result={};var index2=0;var key,descriptor;while(keys2.length>index2){descriptor=getOwnPropertyDescriptor2(O,key=keys2[index2++]);if(descriptor!==void 0)createProperty(result,key,descriptor)}return result}});var path$7=path$A;var getOwnPropertyDescriptors$2=path$7.Object.getOwnPropertyDescriptors;var parent$b=getOwnPropertyDescriptors$2;var getOwnPropertyDescriptors$1=parent$b;var getOwnPropertyDescriptors=getOwnPropertyDescriptors$1;var _Object$getOwnPropertyDescriptors=getDefaultExportFromCjs(getOwnPropertyDescriptors);var defineProperties$4={exports:{}};var $$5=_export;var DESCRIPTORS=descriptors;var defineProperties$3=objectDefineProperties.f;$$5({target:"Object",stat:true,forced:Object.defineProperties!==defineProperties$3,sham:!DESCRIPTORS},{defineProperties:defineProperties$3});var path$6=path$A;var Object$2=path$6.Object;var defineProperties$2=defineProperties$4.exports=function defineProperties2(T,D){return Object$2.defineProperties(T,D)};if(Object$2.defineProperties.sham)defineProperties$2.sham=true;var definePropertiesExports=defineProperties$4.exports;var parent$a=definePropertiesExports;var defineProperties$1=parent$a;var defineProperties=defineProperties$1;var _Object$defineProperties=getDefaultExportFromCjs(defineProperties);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto);if(!getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return getRandomValues(rnds8)}const byteToHex=[];for(let i2=0;i2<256;++i2){byteToHex.push((i2+256).toString(16).slice(1))}function unsafeStringify(arr,offset=0){return byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]}const randomUUID=typeof crypto!=="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(options,buf,offset){if(native.randomUUID&&true&&!options){return native.randomUUID()}options=options||{};const rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;return unsafeStringify(rnds)}var _Symbol$iterator;function ownKeys$4(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor$1(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$4(e){for(var r=1;r<arguments.length;r++){var _context32,_context33;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context32=ownKeys$4(Object(t),true)).call(_context32,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context33=ownKeys$4(Object(t))).call(_context33,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor$1(t,r2))})}return e}function _createSuper$t(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$t();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$t(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}function _createForOfIteratorHelper$6(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$6(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$6(o,minLen){var _context31;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$6(o,minLen);var n=_sliceInstanceProperty(_context31=Object.prototype.toString.call(o)).call(_context31,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(o,minLen)}function _arrayLikeToArray$6(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function createNewDataPipeFrom(from2){return new DataPipeUnderConstruction(from2)}var SimpleDataPipe=(function(){function SimpleDataPipe2(_source,_transformers,_target){var _context,_context2,_context3;_classCallCheck(this,SimpleDataPipe2);_defineProperty(this,"_source",void 0);_defineProperty(this,"_transformers",void 0);_defineProperty(this,"_target",void 0);_defineProperty(this,"_listeners",{add:_bindInstanceProperty$1(_context=this._add).call(_context,this),remove:_bindInstanceProperty$1(_context2=this._remove).call(_context2,this),update:_bindInstanceProperty$1(_context3=this._update).call(_context3,this)});this._source=_source;this._transformers=_transformers;this._target=_target}_createClass(SimpleDataPipe2,[{key:"all",value:function all(){this._target.update(this._transformItems(this._source.get()));return this}},{key:"start",value:function start(){this._source.on("add",this._listeners.add);this._source.on("remove",this._listeners.remove);this._source.on("update",this._listeners.update);return this}},{key:"stop",value:function stop(){this._source.off("add",this._listeners.add);this._source.off("remove",this._listeners.remove);this._source.off("update",this._listeners.update);return this}},{key:"_transformItems",value:function _transformItems(items){var _context4;return _reduceInstanceProperty(_context4=this._transformers).call(_context4,function(items2,transform){return transform(items2)},items)}},{key:"_add",value:function _add(_name,payload){if(payload==null){return}this._target.add(this._transformItems(this._source.get(payload.items)))}},{key:"_update",value:function _update(_name,payload){if(payload==null){return}this._target.update(this._transformItems(this._source.get(payload.items)))}},{key:"_remove",value:function _remove(_name,payload){if(payload==null){return}this._target.remove(this._transformItems(payload.oldData))}}]);return SimpleDataPipe2})();var DataPipeUnderConstruction=(function(){function DataPipeUnderConstruction2(_source){_classCallCheck(this,DataPipeUnderConstruction2);_defineProperty(this,"_source",void 0);_defineProperty(this,"_transformers",[]);this._source=_source}_createClass(DataPipeUnderConstruction2,[{key:"filter",value:function filter2(callback){this._transformers.push(function(input){return _filterInstanceProperty(input).call(input,callback)});return this}},{key:"map",value:function map2(callback){this._transformers.push(function(input){return _mapInstanceProperty(input).call(input,callback)});return this}},{key:"flatMap",value:function flatMap2(callback){this._transformers.push(function(input){return _flatMapInstanceProperty(input).call(input,callback)});return this}},{key:"to",value:function to(target){return new SimpleDataPipe(this._source,this._transformers,target)}}]);return DataPipeUnderConstruction2})();function isId(value){return typeof value==="string"||typeof value==="number"}var Queue=(function(){function Queue2(options){_classCallCheck(this,Queue2);_defineProperty(this,"delay",void 0);_defineProperty(this,"max",void 0);_defineProperty(this,"_queue",[]);_defineProperty(this,"_timeout",null);_defineProperty(this,"_extended",null);this.delay=null;this.max=Infinity;this.setOptions(options)}_createClass(Queue2,[{key:"setOptions",value:function setOptions(options){if(options&&typeof options.delay!=="undefined"){this.delay=options.delay}if(options&&typeof options.max!=="undefined"){this.max=options.max}this._flushIfNeeded()}},{key:"destroy",value:(function destroy(){this.flush();if(this._extended){var object2=this._extended.object;var methods=this._extended.methods;for(var i2=0;i2<methods.length;i2++){var method2=methods[i2];if(method2.original){object2[method2.name]=method2.original}else{delete object2[method2.name]}}this._extended=null}})},{key:"replace",value:function replace2(object2,method2){var me=this;var original=object2[method2];if(!original){throw new Error("Method "+method2+" undefined")}object2[method2]=function(){for(var _len=arguments.length,args2=new Array(_len),_key=0;_key<_len;_key++){args2[_key]=arguments[_key]}me.queue({args:args2,fn:original,context:this})}}},{key:"queue",value:function queue2(entry){if(typeof entry==="function"){this._queue.push({fn:entry})}else{this._queue.push(entry)}this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function _flushIfNeeded(){var _this=this;if(this._queue.length>this.max){this.flush()}if(this._timeout!=null){clearTimeout(this._timeout);this._timeout=null}if(this.queue.length>0&&typeof this.delay==="number"){this._timeout=_setTimeout(function(){_this.flush()},this.delay)}}},{key:"flush",value:function flush2(){var _context5,_context6;_forEachInstanceProperty(_context5=_spliceInstanceProperty(_context6=this._queue).call(_context6,0)).call(_context5,function(entry){entry.fn.apply(entry.context||entry.fn,entry.args||[])})}}],[{key:"extend",value:function extend2(object2,options){var queue2=new Queue2(options);if(object2.flush!==void 0){throw new Error("Target object already has a property flush")}object2.flush=function(){queue2.flush()};var methods=[{name:"flush",original:void 0}];if(options&&options.replace){for(var i2=0;i2<options.replace.length;i2++){var name=options.replace[i2];methods.push({name,original:object2[name]});queue2.replace(object2,name)}}queue2._extended={object:object2,methods};return queue2}}]);return Queue2})();var DataSetPart=(function(){function DataSetPart2(){_classCallCheck(this,DataSetPart2);_defineProperty(this,"_subscribers",{"*":[],add:[],remove:[],update:[]});_defineProperty(this,"subscribe",DataSetPart2.prototype.on);_defineProperty(this,"unsubscribe",DataSetPart2.prototype.off)}_createClass(DataSetPart2,[{key:"_trigger",value:(function _trigger(event,payload,senderId){var _context7,_context8;if(event==="*"){throw new Error("Cannot trigger event *")}_forEachInstanceProperty(_context7=_concatInstanceProperty(_context8=[]).call(_context8,_toConsumableArray(this._subscribers[event]),_toConsumableArray(this._subscribers["*"]))).call(_context7,function(subscriber){subscriber(event,payload,senderId!=null?senderId:null)})})},{key:"on",value:function on(event,callback){if(typeof callback==="function"){this._subscribers[event].push(callback)}}},{key:"off",value:function off(event,callback){var _context9;this._subscribers[event]=_filterInstanceProperty(_context9=this._subscribers[event]).call(_context9,function(subscriber){return subscriber!==callback})}}]);return DataSetPart2})();_Symbol$iterator=_Symbol$iterator2;var DataStream=(function(){function DataStream2(pairs){_classCallCheck(this,DataStream2);_defineProperty(this,"_pairs",void 0);this._pairs=pairs}_createClass(DataStream2,[{key:_Symbol$iterator,value:_regeneratorRuntime.mark(function value(){var _iterator,_step,_step$value,id2,item;return _regeneratorRuntime.wrap(function value$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_iterator=_createForOfIteratorHelper$6(this._pairs);_context10.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context10.next=9;break}_step$value=_slicedToArray(_step.value,2),id2=_step$value[0],item=_step$value[1];_context10.next=7;return[id2,item];case 7:_context10.next=3;break;case 9:_context10.next=14;break;case 11:_context10.prev=11;_context10.t0=_context10["catch"](1);_iterator.e(_context10.t0);case 14:_context10.prev=14;_iterator.f();return _context10.finish(14);case 17:case"end":return _context10.stop()}},value,this,[[1,11,14,17]])})},{key:"entries",value:_regeneratorRuntime.mark(function entries2(){var _iterator2,_step2,_step2$value,id2,item;return _regeneratorRuntime.wrap(function entries$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_iterator2=_createForOfIteratorHelper$6(this._pairs);_context11.prev=1;_iterator2.s();case 3:if((_step2=_iterator2.n()).done){_context11.next=9;break}_step2$value=_slicedToArray(_step2.value,2),id2=_step2$value[0],item=_step2$value[1];_context11.next=7;return[id2,item];case 7:_context11.next=3;break;case 9:_context11.next=14;break;case 11:_context11.prev=11;_context11.t0=_context11["catch"](1);_iterator2.e(_context11.t0);case 14:_context11.prev=14;_iterator2.f();return _context11.finish(14);case 17:case"end":return _context11.stop()}},entries2,this,[[1,11,14,17]])})},{key:"keys",value:_regeneratorRuntime.mark(function keys2(){var _iterator3,_step3,_step3$value,id2;return _regeneratorRuntime.wrap(function keys$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_iterator3=_createForOfIteratorHelper$6(this._pairs);_context12.prev=1;_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context12.next=9;break}_step3$value=_slicedToArray(_step3.value,1),id2=_step3$value[0];_context12.next=7;return id2;case 7:_context12.next=3;break;case 9:_context12.next=14;break;case 11:_context12.prev=11;_context12.t0=_context12["catch"](1);_iterator3.e(_context12.t0);case 14:_context12.prev=14;_iterator3.f();return _context12.finish(14);case 17:case"end":return _context12.stop()}},keys2,this,[[1,11,14,17]])})},{key:"values",value:_regeneratorRuntime.mark(function values2(){var _iterator4,_step4,_step4$value,item;return _regeneratorRuntime.wrap(function values$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_iterator4=_createForOfIteratorHelper$6(this._pairs);_context13.prev=1;_iterator4.s();case 3:if((_step4=_iterator4.n()).done){_context13.next=9;break}_step4$value=_slicedToArray(_step4.value,2),item=_step4$value[1];_context13.next=7;return item;case 7:_context13.next=3;break;case 9:_context13.next=14;break;case 11:_context13.prev=11;_context13.t0=_context13["catch"](1);_iterator4.e(_context13.t0);case 14:_context13.prev=14;_iterator4.f();return _context13.finish(14);case 17:case"end":return _context13.stop()}},values2,this,[[1,11,14,17]])})},{key:"toIdArray",value:function toIdArray(){var _context14;return _mapInstanceProperty(_context14=_toConsumableArray(this._pairs)).call(_context14,function(pair){return pair[0]})}},{key:"toItemArray",value:function toItemArray(){var _context15;return _mapInstanceProperty(_context15=_toConsumableArray(this._pairs)).call(_context15,function(pair){return pair[1]})}},{key:"toEntryArray",value:function toEntryArray(){return _toConsumableArray(this._pairs)}},{key:"toObjectMap",value:function toObjectMap(){var map2=_Object$create$1(null);var _iterator5=_createForOfIteratorHelper$6(this._pairs),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),id2=_step5$value[0],item=_step5$value[1];map2[id2]=item}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return map2}},{key:"toMap",value:function toMap(){return new _Map(this._pairs)}},{key:"toIdSet",value:function toIdSet(){return new _Set(this.toIdArray())}},{key:"toItemSet",value:function toItemSet(){return new _Set(this.toItemArray())}},{key:"cache",value:function cache(){return new DataStream2(_toConsumableArray(this._pairs))}},{key:"distinct",value:function distinct(callback){var set2=new _Set;var _iterator6=_createForOfIteratorHelper$6(this._pairs),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _step6$value=_slicedToArray(_step6.value,2),id2=_step6$value[0],item=_step6$value[1];set2.add(callback(item,id2))}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return set2}},{key:"filter",value:function filter2(callback){var pairs=this._pairs;return new DataStream2(_defineProperty({},_Symbol$iterator2,_regeneratorRuntime.mark(function _callee(){var _iterator7,_step7,_step7$value,id2,item;return _regeneratorRuntime.wrap(function _callee$(_context16){while(1)switch(_context16.prev=_context16.next){case 0:_iterator7=_createForOfIteratorHelper$6(pairs);_context16.prev=1;_iterator7.s();case 3:if((_step7=_iterator7.n()).done){_context16.next=10;break}_step7$value=_slicedToArray(_step7.value,2),id2=_step7$value[0],item=_step7$value[1];if(!callback(item,id2)){_context16.next=8;break}_context16.next=8;return[id2,item];case 8:_context16.next=3;break;case 10:_context16.next=15;break;case 12:_context16.prev=12;_context16.t0=_context16["catch"](1);_iterator7.e(_context16.t0);case 15:_context16.prev=15;_iterator7.f();return _context16.finish(15);case 18:case"end":return _context16.stop()}},_callee,null,[[1,12,15,18]])})))}},{key:"forEach",value:function forEach3(callback){var _iterator8=_createForOfIteratorHelper$6(this._pairs),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _step8$value=_slicedToArray(_step8.value,2),id2=_step8$value[0],item=_step8$value[1];callback(item,id2)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}},{key:"map",value:function map2(callback){var pairs=this._pairs;return new DataStream2(_defineProperty({},_Symbol$iterator2,_regeneratorRuntime.mark(function _callee2(){var _iterator9,_step9,_step9$value,id2,item;return _regeneratorRuntime.wrap(function _callee2$(_context17){while(1)switch(_context17.prev=_context17.next){case 0:_iterator9=_createForOfIteratorHelper$6(pairs);_context17.prev=1;_iterator9.s();case 3:if((_step9=_iterator9.n()).done){_context17.next=9;break}_step9$value=_slicedToArray(_step9.value,2),id2=_step9$value[0],item=_step9$value[1];_context17.next=7;return[id2,callback(item,id2)];case 7:_context17.next=3;break;case 9:_context17.next=14;break;case 11:_context17.prev=11;_context17.t0=_context17["catch"](1);_iterator9.e(_context17.t0);case 14:_context17.prev=14;_iterator9.f();return _context17.finish(14);case 17:case"end":return _context17.stop()}},_callee2,null,[[1,11,14,17]])})))}},{key:"max",value:function max2(callback){var iter=_getIterator(this._pairs);var curr=iter.next();if(curr.done){return null}var maxItem=curr.value[1];var maxValue=callback(curr.value[1],curr.value[0]);while(!(curr=iter.next()).done){var _curr$value=_slicedToArray(curr.value,2),id2=_curr$value[0],item=_curr$value[1];var _value=callback(item,id2);if(_value>maxValue){maxValue=_value;maxItem=item}}return maxItem}},{key:"min",value:function min2(callback){var iter=_getIterator(this._pairs);var curr=iter.next();if(curr.done){return null}var minItem=curr.value[1];var minValue=callback(curr.value[1],curr.value[0]);while(!(curr=iter.next()).done){var _curr$value2=_slicedToArray(curr.value,2),id2=_curr$value2[0],item=_curr$value2[1];var _value2=callback(item,id2);if(_value2<minValue){minValue=_value2;minItem=item}}return minItem}},{key:"reduce",value:function reduce2(callback,accumulator){var _iterator10=_createForOfIteratorHelper$6(this._pairs),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _step10$value=_slicedToArray(_step10.value,2),id2=_step10$value[0],item=_step10$value[1];accumulator=callback(accumulator,item,id2)}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}return accumulator}},{key:"sort",value:function sort2(callback){var _this2=this;return new DataStream2(_defineProperty({},_Symbol$iterator2,function(){var _context18;return _getIterator(_sortInstanceProperty(_context18=_toConsumableArray(_this2._pairs)).call(_context18,function(_ref,_ref2){var _ref3=_slicedToArray(_ref,2),idA=_ref3[0],itemA=_ref3[1];var _ref4=_slicedToArray(_ref2,2),idB=_ref4[0],itemB=_ref4[1];return callback(itemA,itemB,idA,idB)}))}))}}]);return DataStream2})();function ensureFullItem(item,idProp){if(item[idProp]==null){item[idProp]=v4()}return item}var DataSet=(function(_DataSetPart){_inherits(DataSet2,_DataSetPart);var _super=_createSuper$t(DataSet2);function DataSet2(data2,options){var _this3;_classCallCheck(this,DataSet2);_this3=_super.call(this);_defineProperty(_assertThisInitialized(_this3),"flush",void 0);_defineProperty(_assertThisInitialized(_this3),"length",void 0);_defineProperty(_assertThisInitialized(_this3),"_options",void 0);_defineProperty(_assertThisInitialized(_this3),"_data",void 0);_defineProperty(_assertThisInitialized(_this3),"_idProp",void 0);_defineProperty(_assertThisInitialized(_this3),"_queue",null);if(data2&&!_Array$isArray(data2)){options=data2;data2=[]}_this3._options=options||{};_this3._data=new _Map;_this3.length=0;_this3._idProp=_this3._options.fieldId||"id";if(data2&&data2.length){_this3.add(data2)}_this3.setOptions(options);return _this3}_createClass(DataSet2,[{key:"idProp",get:(function get2(){return this._idProp})},{key:"setOptions",value:function setOptions(options){if(options&&options.queue!==void 0){if(options.queue===false){if(this._queue){this._queue.destroy();this._queue=null}}else{if(!this._queue){this._queue=Queue.extend(this,{replace:["add","update","remove"]})}if(options.queue&&_typeof$1(options.queue)==="object"){this._queue.setOptions(options.queue)}}}}},{key:"add",value:function add(data2,senderId){var _this4=this;var addedIds=[];var id2;if(_Array$isArray(data2)){var idsToAdd=_mapInstanceProperty(data2).call(data2,function(d){return d[_this4._idProp]});if(_someInstanceProperty(idsToAdd).call(idsToAdd,function(id3){return _this4._data.has(id3)})){throw new Error("A duplicate id was found in the parameter array.")}for(var i2=0,len=data2.length;i2<len;i2++){id2=this._addItem(data2[i2]);addedIds.push(id2)}}else if(data2&&_typeof$1(data2)==="object"){id2=this._addItem(data2);addedIds.push(id2)}else{throw new Error("Unknown dataType")}if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}return addedIds}},{key:"update",value:function update(data2,senderId){var _this5=this;var addedIds=[];var updatedIds=[];var oldData=[];var updatedData=[];var idProp=this._idProp;var addOrUpdate=function addOrUpdate2(item){var origId=item[idProp];if(origId!=null&&_this5._data.has(origId)){var fullItem=item;var oldItem=_Object$assign({},_this5._data.get(origId));var id2=_this5._updateItem(fullItem);updatedIds.push(id2);updatedData.push(fullItem);oldData.push(oldItem)}else{var _id=_this5._addItem(item);addedIds.push(_id)}};if(_Array$isArray(data2)){for(var i2=0,len=data2.length;i2<len;i2++){if(data2[i2]&&_typeof$1(data2[i2])==="object"){addOrUpdate(data2[i2])}else{console.warn("Ignoring input item, which is not an object at index "+i2)}}}else if(data2&&_typeof$1(data2)==="object"){addOrUpdate(data2)}else{throw new Error("Unknown dataType")}if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}if(updatedIds.length){var props={items:updatedIds,oldData,data:updatedData};this._trigger("update",props,senderId)}return _concatInstanceProperty(addedIds).call(addedIds,updatedIds)}},{key:"updateOnly",value:function updateOnly(data2,senderId){var _context19,_this6=this;if(!_Array$isArray(data2)){data2=[data2]}var updateEventData=_mapInstanceProperty(_context19=_mapInstanceProperty(data2).call(data2,function(update){var oldData=_this6._data.get(update[_this6._idProp]);if(oldData==null){throw new Error("Updating non-existent items is not allowed.")}return{oldData,update}})).call(_context19,function(_ref5){var oldData=_ref5.oldData,update=_ref5.update;var id2=oldData[_this6._idProp];var updatedData=pureDeepObjectAssign(oldData,update);_this6._data.set(id2,updatedData);return{id:id2,oldData,updatedData}});if(updateEventData.length){var props={items:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.id}),oldData:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.oldData}),data:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.updatedData})};this._trigger("update",props,senderId);return props.items}else{return[]}}},{key:"get",value:function get2(first2,second){var id2=void 0;var ids=void 0;var options=void 0;if(isId(first2)){id2=first2;options=second}else if(_Array$isArray(first2)){ids=first2;options=second}else{options=first2}var returnType=options&&options.returnType==="Object"?"Object":"Array";var filter2=options&&_filterInstanceProperty(options);var items=[];var item=void 0;var itemIds=void 0;var itemId=void 0;if(id2!=null){item=this._data.get(id2);if(item&&filter2&&!filter2(item)){item=void 0}}else if(ids!=null){for(var i2=0,len=ids.length;i2<len;i2++){item=this._data.get(ids[i2]);if(item!=null&&(!filter2||filter2(item))){items.push(item)}}}else{var _context20;itemIds=_toConsumableArray(_keysInstanceProperty(_context20=this._data).call(_context20));for(var _i=0,_len2=itemIds.length;_i<_len2;_i++){itemId=itemIds[_i];item=this._data.get(itemId);if(item!=null&&(!filter2||filter2(item))){items.push(item)}}}if(options&&options.order&&id2==void 0){this._sort(items,options.order)}if(options&&options.fields){var fields=options.fields;if(id2!=void 0&&item!=null){item=this._filterFields(item,fields)}else{for(var _i2=0,_len3=items.length;_i2<_len3;_i2++){items[_i2]=this._filterFields(items[_i2],fields)}}}if(returnType=="Object"){var result={};for(var _i3=0,_len4=items.length;_i3<_len4;_i3++){var resultant=items[_i3];var _id2=resultant[this._idProp];result[_id2]=resultant}return result}else{if(id2!=null){var _item;return(_item=item)!==null&&_item!==void 0?_item:null}else{return items}}}},{key:"getIds",value:function getIds(options){var data2=this._data;var filter2=options&&_filterInstanceProperty(options);var order=options&&options.order;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));var ids=[];if(filter2){if(order){var items=[];for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=this._data.get(id2);if(item!=null&&filter2(item)){items.push(item)}}this._sort(items,order);for(var _i4=0,_len5=items.length;_i4<_len5;_i4++){ids.push(items[_i4][this._idProp])}}else{for(var _i5=0,_len6=itemIds.length;_i5<_len6;_i5++){var _id3=itemIds[_i5];var _item2=this._data.get(_id3);if(_item2!=null&&filter2(_item2)){ids.push(_item2[this._idProp])}}}}else{if(order){var _items=[];for(var _i6=0,_len7=itemIds.length;_i6<_len7;_i6++){var _id4=itemIds[_i6];_items.push(data2.get(_id4))}this._sort(_items,order);for(var _i7=0,_len8=_items.length;_i7<_len8;_i7++){ids.push(_items[_i7][this._idProp])}}else{for(var _i8=0,_len9=itemIds.length;_i8<_len9;_i8++){var _id5=itemIds[_i8];var _item3=data2.get(_id5);if(_item3!=null){ids.push(_item3[this._idProp])}}}}return ids}},{key:"getDataSet",value:function getDataSet(){return this}},{key:"forEach",value:function forEach3(callback,options){var filter2=options&&_filterInstanceProperty(options);var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));if(options&&options.order){var items=this.get(options);for(var i2=0,len=items.length;i2<len;i2++){var item=items[i2];var id2=item[this._idProp];callback(item,id2)}}else{for(var _i9=0,_len10=itemIds.length;_i9<_len10;_i9++){var _id6=itemIds[_i9];var _item4=this._data.get(_id6);if(_item4!=null&&(!filter2||filter2(_item4))){callback(_item4,_id6)}}}}},{key:"map",value:function map2(callback,options){var filter2=options&&_filterInstanceProperty(options);var mappedItems=[];var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=this._data.get(id2);if(item!=null&&(!filter2||filter2(item))){mappedItems.push(callback(item,id2))}}if(options&&options.order){this._sort(mappedItems,options.order)}return mappedItems}},{key:"_filterFields",value:function _filterFields(item,fields){var _context21;if(!item){return item}return _reduceInstanceProperty(_context21=_Array$isArray(fields)?fields:_Object$keys(fields)).call(_context21,function(filteredItem,field){filteredItem[field]=item[field];return filteredItem},{})}},{key:"_sort",value:function _sort(items,order){if(typeof order==="string"){var name=order;_sortInstanceProperty(items).call(items,function(a,b){var av=a[name];var bv=b[name];return av>bv?1:av<bv?-1:0})}else if(typeof order==="function"){_sortInstanceProperty(items).call(items,order)}else{throw new TypeError("Order must be a function or a string")}}},{key:"remove",value:function remove(id2,senderId){var removedIds=[];var removedItems=[];var ids=_Array$isArray(id2)?id2:[id2];for(var i2=0,len=ids.length;i2<len;i2++){var item=this._remove(ids[i2]);if(item){var itemId=item[this._idProp];if(itemId!=null){removedIds.push(itemId);removedItems.push(item)}}}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems},senderId)}return removedIds}},{key:"_remove",value:function _remove(id2){var ident;if(isId(id2)){ident=id2}else if(id2&&_typeof$1(id2)==="object"){ident=id2[this._idProp]}if(ident!=null&&this._data.has(ident)){var item=this._data.get(ident)||null;this._data.delete(ident);--this.length;return item}return null}},{key:"clear",value:function clear2(senderId){var _context22;var ids=_toConsumableArray(_keysInstanceProperty(_context22=this._data).call(_context22));var items=[];for(var i2=0,len=ids.length;i2<len;i2++){items.push(this._data.get(ids[i2]))}this._data.clear();this.length=0;this._trigger("remove",{items:ids,oldData:items},senderId);return ids}},{key:"max",value:function max2(field){var _context23;var max3=null;var maxField=null;var _iterator11=_createForOfIteratorHelper$6(_valuesInstanceProperty(_context23=this._data).call(_context23)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var item=_step11.value;var itemField=item[field];if(typeof itemField==="number"&&(maxField==null||itemField>maxField)){max3=item;maxField=itemField}}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}return max3||null}},{key:"min",value:function min2(field){var _context24;var min3=null;var minField=null;var _iterator12=_createForOfIteratorHelper$6(_valuesInstanceProperty(_context24=this._data).call(_context24)),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var item=_step12.value;var itemField=item[field];if(typeof itemField==="number"&&(minField==null||itemField<minField)){min3=item;minField=itemField}}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}return min3||null}},{key:"distinct",value:function distinct(prop){var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));var values2=[];var count=0;for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=data2.get(id2);var _value3=item[prop];var exists=false;for(var j=0;j<count;j++){if(values2[j]==_value3){exists=true;break}}if(!exists&&_value3!==void 0){values2[count]=_value3;count++}}return values2}},{key:"_addItem",value:function _addItem(item){var fullItem=ensureFullItem(item,this._idProp);var id2=fullItem[this._idProp];if(this._data.has(id2)){throw new Error("Cannot add item: item with id "+id2+" already exists")}this._data.set(id2,fullItem);++this.length;return id2}},{key:"_updateItem",value:function _updateItem(update){var id2=update[this._idProp];if(id2==null){throw new Error("Cannot update item: item has no id (item: "+_JSON$stringify(update)+")")}var item=this._data.get(id2);if(!item){throw new Error("Cannot update item: no item with id "+id2+" found")}this._data.set(id2,_objectSpread$4(_objectSpread$4({},item),update));return id2}},{key:"stream",value:function stream(ids){if(ids){var data2=this._data;return new DataStream(_defineProperty({},_Symbol$iterator2,_regeneratorRuntime.mark(function _callee3(){var _iterator13,_step13,id2,item;return _regeneratorRuntime.wrap(function _callee3$(_context25){while(1)switch(_context25.prev=_context25.next){case 0:_iterator13=_createForOfIteratorHelper$6(ids);_context25.prev=1;_iterator13.s();case 3:if((_step13=_iterator13.n()).done){_context25.next=11;break}id2=_step13.value;item=data2.get(id2);if(!(item!=null)){_context25.next=9;break}_context25.next=9;return[id2,item];case 9:_context25.next=3;break;case 11:_context25.next=16;break;case 13:_context25.prev=13;_context25.t0=_context25["catch"](1);_iterator13.e(_context25.t0);case 16:_context25.prev=16;_iterator13.f();return _context25.finish(16);case 19:case"end":return _context25.stop()}},_callee3,null,[[1,13,16,19]])})))}else{var _context26;return new DataStream(_defineProperty({},_Symbol$iterator2,_bindInstanceProperty$1(_context26=_entriesInstanceProperty(this._data)).call(_context26,this._data)))}}}]);return DataSet2})(DataSetPart);var DataView=(function(_DataSetPart2){_inherits(DataView2,_DataSetPart2);var _super2=_createSuper$t(DataView2);function DataView2(data2,options){var _context27;var _this7;_classCallCheck(this,DataView2);_this7=_super2.call(this);_defineProperty(_assertThisInitialized(_this7),"length",0);_defineProperty(_assertThisInitialized(_this7),"_listener",void 0);_defineProperty(_assertThisInitialized(_this7),"_data",void 0);_defineProperty(_assertThisInitialized(_this7),"_ids",new _Set);_defineProperty(_assertThisInitialized(_this7),"_options",void 0);_this7._options=options||{};_this7._listener=_bindInstanceProperty$1(_context27=_this7._onEvent).call(_context27,_assertThisInitialized(_this7));_this7.setData(data2);return _this7}_createClass(DataView2,[{key:"idProp",get:(function get2(){return this.getDataSet().idProp})},{key:"setData",value:function setData(data2){if(this._data){if(this._data.off){this._data.off("*",this._listener)}var ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});var items=this._data.get(ids);this._ids.clear();this.length=0;this._trigger("remove",{items:ids,oldData:items})}if(data2!=null){this._data=data2;var _ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});for(var i2=0,len=_ids.length;i2<len;i2++){var id2=_ids[i2];this._ids.add(id2)}this.length=_ids.length;this._trigger("add",{items:_ids})}else{this._data=new DataSet}if(this._data.on){this._data.on("*",this._listener)}}},{key:"refresh",value:function refresh(){var ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});var oldIds=_toConsumableArray(this._ids);var newIds={};var addedIds=[];var removedIds=[];var removedItems=[];for(var i2=0,len=ids.length;i2<len;i2++){var id2=ids[i2];newIds[id2]=true;if(!this._ids.has(id2)){addedIds.push(id2);this._ids.add(id2)}}for(var _i10=0,_len11=oldIds.length;_i10<_len11;_i10++){var _id7=oldIds[_i10];var item=this._data.get(_id7);if(item==null){console.error("If you see this, report it please.")}else if(!newIds[_id7]){removedIds.push(_id7);removedItems.push(item);this._ids.delete(_id7)}}this.length+=addedIds.length-removedIds.length;if(addedIds.length){this._trigger("add",{items:addedIds})}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems})}}},{key:"get",value:function get2(first2,second){if(this._data==null){return null}var ids=null;var options;if(isId(first2)||_Array$isArray(first2)){ids=first2;options=second}else{options=first2}var viewOptions=_Object$assign({},this._options,options);var thisFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);if(thisFilter&&optionsFilter){viewOptions.filter=function(item){return thisFilter(item)&&optionsFilter(item)}}if(ids==null){return this._data.get(viewOptions)}else{return this._data.get(ids,viewOptions)}}},{key:"getIds",value:function getIds(options){if(this._data.length){var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options!=null?_filterInstanceProperty(options):null;var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}return this._data.getIds({filter:filter2,order:options&&options.order})}else{return[]}}},{key:"forEach",value:function forEach3(callback,options){if(this._data){var _context28;var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}_forEachInstanceProperty(_context28=this._data).call(_context28,callback,{filter:filter2,order:options&&options.order})}}},{key:"map",value:function map2(callback,options){if(this._data){var _context29;var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}return _mapInstanceProperty(_context29=this._data).call(_context29,callback,{filter:filter2,order:options&&options.order})}else{return[]}}},{key:"getDataSet",value:function getDataSet(){return this._data.getDataSet()}},{key:"stream",value:function stream(ids){var _context30;return this._data.stream(ids||_defineProperty({},_Symbol$iterator2,_bindInstanceProperty$1(_context30=_keysInstanceProperty(this._ids)).call(_context30,this._ids)))}},{key:"dispose",value:function dispose(){var _this$_data;if((_this$_data=this._data)!==null&&_this$_data!==void 0&&_this$_data.off){this._data.off("*",this._listener)}var message="This data view has already been disposed of.";var replacement2={get:function get2(){throw new Error(message)},set:function set2(){throw new Error(message)},configurable:false};var _iterator14=_createForOfIteratorHelper$6(_Reflect$ownKeys(DataView2.prototype)),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var key=_step14.value;_Object$defineProperty(this,key,replacement2)}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}}},{key:"_onEvent",value:function _onEvent(event,params,senderId){if(!params||!params.items||!this._data){return}var ids=params.items;var addedIds=[];var updatedIds=[];var removedIds=[];var oldItems=[];var updatedItems=[];var removedItems=[];switch(event){case"add":for(var i2=0,len=ids.length;i2<len;i2++){var id2=ids[i2];var item=this.get(id2);if(item){this._ids.add(id2);addedIds.push(id2)}}break;case"update":for(var _i11=0,_len12=ids.length;_i11<_len12;_i11++){var _id8=ids[_i11];var _item5=this.get(_id8);if(_item5){if(this._ids.has(_id8)){updatedIds.push(_id8);updatedItems.push(params.data[_i11]);oldItems.push(params.oldData[_i11])}else{this._ids.add(_id8);addedIds.push(_id8)}}else{if(this._ids.has(_id8)){this._ids.delete(_id8);removedIds.push(_id8);removedItems.push(params.oldData[_i11])}}}break;case"remove":for(var _i12=0,_len13=ids.length;_i12<_len13;_i12++){var _id9=ids[_i12];if(this._ids.has(_id9)){this._ids.delete(_id9);removedIds.push(_id9);removedItems.push(params.oldData[_i12])}}break}this.length+=addedIds.length-removedIds.length;if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}if(updatedIds.length){this._trigger("update",{items:updatedIds,oldData:oldItems,data:updatedItems},senderId)}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems},senderId)}}}]);return DataView2})(DataSetPart);function isDataSetLike(idProp,v){return _typeof$1(v)==="object"&&v!==null&&idProp===v.idProp&&typeof v.add==="function"&&typeof v.clear==="function"&&typeof v.distinct==="function"&&typeof _forEachInstanceProperty(v)==="function"&&typeof v.get==="function"&&typeof v.getDataSet==="function"&&typeof v.getIds==="function"&&typeof v.length==="number"&&typeof _mapInstanceProperty(v)==="function"&&typeof v.max==="function"&&typeof v.min==="function"&&typeof v.off==="function"&&typeof v.on==="function"&&typeof v.remove==="function"&&typeof v.setOptions==="function"&&typeof v.stream==="function"&&typeof v.update==="function"&&typeof v.updateOnly==="function"}function isDataViewLike(idProp,v){return _typeof$1(v)==="object"&&v!==null&&idProp===v.idProp&&typeof _forEachInstanceProperty(v)==="function"&&typeof v.get==="function"&&typeof v.getDataSet==="function"&&typeof v.getIds==="function"&&typeof v.length==="number"&&typeof _mapInstanceProperty(v)==="function"&&typeof v.off==="function"&&typeof v.on==="function"&&typeof v.stream==="function"&&isDataSetLike(idProp,v.getDataSet())}var index=Object.freeze({__proto__:null,DELETE,DataSet,DataStream,DataView,Queue,createNewDataPipeFrom,isDataSetLike,isDataViewLike});var global$2=global$s;var fails$2=fails$A;var uncurryThis$2=functionUncurryThis;var toString=toString$b;var trim=stringTrim.trim;var whitespaces=whitespaces$3;var charAt=uncurryThis$2("".charAt);var $parseFloat$1=global$2.parseFloat;var Symbol$1=global$2.Symbol;var ITERATOR=Symbol$1&&Symbol$1.iterator;var FORCED$1=1/$parseFloat$1(whitespaces+"-0")!==-Infinity||ITERATOR&&!fails$2(function(){$parseFloat$1(Object(ITERATOR))});var numberParseFloat=FORCED$1?function parseFloat2(string2){var trimmedString=trim(toString(string2));var result=$parseFloat$1(trimmedString);return result===0&&charAt(trimmedString,0)==="-"?-0:result}:$parseFloat$1;var $$4=_export;var $parseFloat=numberParseFloat;$$4({global:true,forced:parseFloat!==$parseFloat},{parseFloat:$parseFloat});var path$5=path$A;var _parseFloat$3=path$5.parseFloat;var parent$9=_parseFloat$3;var _parseFloat$2=parent$9;var _parseFloat=_parseFloat$2;var _parseFloat$1=getDefaultExportFromCjs(_parseFloat);var $$3=_export;var fails$1=fails$A;var getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f;var FAILS_ON_PRIMITIVES=fails$1(function(){return!Object.getOwnPropertyNames(1)});$$3({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:getOwnPropertyNames$3});var path$4=path$A;var Object$1=path$4.Object;var getOwnPropertyNames$2=function getOwnPropertyNames2(it2){return Object$1.getOwnPropertyNames(it2)};var parent$8=getOwnPropertyNames$2;var getOwnPropertyNames$1=parent$8;var getOwnPropertyNames=getOwnPropertyNames$1;var _Object$getOwnPropertyNames=getDefaultExportFromCjs(getOwnPropertyNames);function choosify(subOption,pile){var allowed=["node","edge","label"];var value=true;var chosen=topMost(pile,"chosen");if(typeof chosen==="boolean"){value=chosen}else if(_typeof$1(chosen)==="object"){if(_indexOfInstanceProperty(allowed).call(allowed,subOption)===-1){throw new Error("choosify: subOption '"+subOption+"' should be one of '"+allowed.join("', '")+"'")}var chosenEdge=topMost(pile,["chosen",subOption]);if(typeof chosenEdge==="boolean"||typeof chosenEdge==="function"){value=chosenEdge}}return value}function pointInRect(rect,point,rotationPoint){if(rect.width<=0||rect.height<=0){return false}if(rotationPoint!==void 0){var tmp={x:point.x-rotationPoint.x,y:point.y-rotationPoint.y};if(rotationPoint.angle!==0){var angle=-rotationPoint.angle;var tmp2={x:Math.cos(angle)*tmp.x-Math.sin(angle)*tmp.y,y:Math.sin(angle)*tmp.x+Math.cos(angle)*tmp.y};point=tmp2}else{point=tmp}}var right=rect.x+rect.width;var bottom=rect.y+rect.width;return rect.left<point.x&&right>point.x&&rect.top<point.y&&bottom>point.y}function isValidLabel(text){return typeof text==="string"&&text!==""}function getSelfRefCoordinates(ctx,angle,radius,node2){var x=node2.x;var y=node2.y;if(typeof node2.distanceToBorder==="function"){var toBorderDist=node2.distanceToBorder(ctx,angle);var yFromNodeCenter=Math.sin(angle)*toBorderDist;var xFromNodeCenter=Math.cos(angle)*toBorderDist;if(xFromNodeCenter===toBorderDist){x+=toBorderDist;y=node2.y}else if(yFromNodeCenter===toBorderDist){x=node2.x;y-=toBorderDist}else{x+=xFromNodeCenter;y-=yFromNodeCenter}}else if(node2.shape.width>node2.shape.height){x=node2.x+node2.shape.width*.5;y=node2.y-radius}else{x=node2.x+radius;y=node2.y-node2.shape.height*.5}return{x,y}}var LabelAccumulator=(function(){function LabelAccumulator2(measureText){_classCallCheck(this,LabelAccumulator2);this.measureText=measureText;this.current=0;this.width=0;this.height=0;this.lines=[]}_createClass(LabelAccumulator2,[{key:"_add",value:function _add(l,text){var mod=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";if(this.lines[l]===void 0){this.lines[l]={width:0,height:0,blocks:[]}}var tmpText=text;if(text===void 0||text==="")tmpText=" ";var result=this.measureText(tmpText,mod);var block=_Object$assign({},_valuesInstanceProperty(result));block.text=text;block.width=result.width;block.mod=mod;if(text===void 0||text===""){block.width=0}this.lines[l].blocks.push(block);this.lines[l].width+=block.width}},{key:"curWidth",value:function curWidth(){var line=this.lines[this.current];if(line===void 0)return 0;return line.width}},{key:"append",value:function append(text){var mod=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,text,mod)}},{key:"newLine",value:function newLine(text){var mod=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,text,mod);this.current++}},{key:"determineLineHeights",value:function determineLineHeights(){for(var k=0;k<this.lines.length;k++){var line=this.lines[k];var height=0;if(line.blocks!==void 0){for(var l=0;l<line.blocks.length;l++){var block=line.blocks[l];if(height<block.height){height=block.height}}}line.height=height}}},{key:"determineLabelSize",value:function determineLabelSize(){var width=0;var height=0;for(var k=0;k<this.lines.length;k++){var line=this.lines[k];if(line.width>width){width=line.width}height+=line.height}this.width=width;this.height=height}},{key:"removeEmptyBlocks",value:function removeEmptyBlocks(){var tmpLines=[];for(var k=0;k<this.lines.length;k++){var line=this.lines[k];if(line.blocks.length===0)continue;if(k===this.lines.length-1){if(line.width===0)continue}var tmpLine={};_Object$assign(tmpLine,line);tmpLine.blocks=[];var firstEmptyBlock=void 0;var tmpBlocks=[];for(var l=0;l<line.blocks.length;l++){var block=line.blocks[l];if(block.width!==0){tmpBlocks.push(block)}else{if(firstEmptyBlock===void 0){firstEmptyBlock=block}}}if(tmpBlocks.length===0&&firstEmptyBlock!==void 0){tmpBlocks.push(firstEmptyBlock)}tmpLine.blocks=tmpBlocks;tmpLines.push(tmpLine)}return tmpLines}},{key:"finalize",value:function finalize(){this.determineLineHeights();this.determineLabelSize();var tmpLines=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:tmpLines}}}]);return LabelAccumulator2})();var tagPattern={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};var MarkupAccumulator=(function(){function MarkupAccumulator2(text){_classCallCheck(this,MarkupAccumulator2);this.text=text;this.bold=false;this.ital=false;this.mono=false;this.spacing=false;this.position=0;this.buffer="";this.modStack=[];this.blocks=[]}_createClass(MarkupAccumulator2,[{key:"mod",value:function mod(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function modName(){if(this.modStack.length===0)return"normal";else if(this.modStack[0]==="mono")return"mono";else{if(this.bold&&this.ital){return"boldital"}else if(this.bold){return"bold"}else if(this.ital){return"ital"}}}},{key:"emitBlock",value:function emitBlock(){if(this.spacing){this.add(" ");this.spacing=false}if(this.buffer.length>0){this.blocks.push({text:this.buffer,mod:this.modName()});this.buffer=""}}},{key:"add",value:function add(text){if(text===" "){this.spacing=true}if(this.spacing){this.buffer+=" ";this.spacing=false}if(text!=" "){this.buffer+=text}}},{key:"parseWS",value:function parseWS(ch){if(/[ \t]/.test(ch)){if(!this.mono){this.spacing=true}else{this.add(ch)}return true}return false}},{key:"setTag",value:function setTag(tagName){this.emitBlock();this[tagName]=true;this.modStack.unshift(tagName)}},{key:"unsetTag",value:function unsetTag(tagName){this.emitBlock();this[tagName]=false;this.modStack.shift()}},{key:"parseStartTag",value:function parseStartTag(tagName,tag){if(!this.mono&&!this[tagName]&&this.match(tag)){this.setTag(tagName);return true}return false}},{key:"match",value:function match2(tag){var advance=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;var _this$prepareRegExp=this.prepareRegExp(tag),_this$prepareRegExp2=_slicedToArray(_this$prepareRegExp,2),regExp=_this$prepareRegExp2[0],length2=_this$prepareRegExp2[1];var matched=regExp.test(this.text.substr(this.position,length2));if(matched&&advance){this.position+=length2-1}return matched}},{key:"parseEndTag",value:function parseEndTag(tagName,tag,nextTag){var checkTag=this.mod()===tagName;if(tagName==="mono"){checkTag=checkTag&&this.mono}else{checkTag=checkTag&&!this.mono}if(checkTag&&this.match(tag)){if(nextTag!==void 0){if(this.position===this.text.length-1||this.match(nextTag,false)){this.unsetTag(tagName)}}else{this.unsetTag(tagName)}return true}return false}},{key:"replace",value:function replace2(tag,value){if(this.match(tag)){this.add(value);this.position+=length-1;return true}return false}},{key:"prepareRegExp",value:function prepareRegExp(tag){var length2;var regExp;if(tag instanceof RegExp){regExp=tag;length2=1}else{var prepared=tagPattern[tag];if(prepared!==void 0){regExp=prepared}else{regExp=new RegExp(tag)}length2=tag.length}return[regExp,length2]}}]);return MarkupAccumulator2})();var LabelSplitter=(function(){function LabelSplitter2(ctx,parent2,selected,hover){var _this=this;_classCallCheck(this,LabelSplitter2);this.ctx=ctx;this.parent=parent2;this.selected=selected;this.hover=hover;var textWidth=function textWidth2(text,mod){if(text===void 0)return 0;var values2=_this.parent.getFormattingValues(ctx,selected,hover,mod);var width=0;if(text!==""){var measure=_this.ctx.measureText(text);width=measure.width}return{width,values:values2}};this.lines=new LabelAccumulator(textWidth)}_createClass(LabelSplitter2,[{key:"process",value:function process22(text){if(!isValidLabel(text)){return this.lines.finalize()}var font=this.parent.fontOptions;text=text.replace(/\r\n/g,"\n");text=text.replace(/\r/g,"\n");var nlLines=String(text).split("\n");var lineCount=nlLines.length;if(font.multi){for(var i2=0;i2<lineCount;i2++){var blocks=this.splitBlocks(nlLines[i2],font.multi);if(blocks===void 0)continue;if(blocks.length===0){this.lines.newLine("");continue}if(font.maxWdt>0){for(var j=0;j<blocks.length;j++){var mod=blocks[j].mod;var _text=blocks[j].text;this.splitStringIntoLines(_text,mod,true)}}else{for(var _j=0;_j<blocks.length;_j++){var _mod=blocks[_j].mod;var _text2=blocks[_j].text;this.lines.append(_text2,_mod)}}this.lines.newLine()}}else{if(font.maxWdt>0){for(var _i=0;_i<lineCount;_i++){this.splitStringIntoLines(nlLines[_i])}}else{for(var _i2=0;_i2<lineCount;_i2++){this.lines.newLine(nlLines[_i2])}}}return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function decodeMarkupSystem(markupSystem){var system="none";if(markupSystem==="markdown"||markupSystem==="md"){system="markdown"}else if(markupSystem===true||markupSystem==="html"){system="html"}return system}},{key:"splitHtmlBlocks",value:function splitHtmlBlocks(text){var s=new MarkupAccumulator(text);var parseEntities=function parseEntities2(ch2){if(/&/.test(ch2)){var parsed2=s.replace(s.text,"&lt;","<")||s.replace(s.text,"&amp;","&");if(!parsed2){s.add("&")}return true}return false};while(s.position<s.text.length){var ch=s.text.charAt(s.position);var parsed=s.parseWS(ch)||/</.test(ch)&&(s.parseStartTag("bold","<b>")||s.parseStartTag("ital","<i>")||s.parseStartTag("mono","<code>")||s.parseEndTag("bold","</b>")||s.parseEndTag("ital","</i>")||s.parseEndTag("mono","</code>"))||parseEntities(ch);if(!parsed){s.add(ch)}s.position++}s.emitBlock();return s.blocks}},{key:"splitMarkdownBlocks",value:function splitMarkdownBlocks(text){var _this2=this;var s=new MarkupAccumulator(text);var beginable=true;var parseOverride=function parseOverride2(ch2){if(/\\/.test(ch2)){if(s.position<_this2.text.length+1){s.position++;ch2=_this2.text.charAt(s.position);if(/ \t/.test(ch2)){s.spacing=true}else{s.add(ch2);beginable=false}}return true}return false};while(s.position<s.text.length){var ch=s.text.charAt(s.position);var parsed=s.parseWS(ch)||parseOverride(ch)||(beginable||s.spacing)&&(s.parseStartTag("bold","*")||s.parseStartTag("ital","_")||s.parseStartTag("mono","`"))||s.parseEndTag("bold","*","afterBold")||s.parseEndTag("ital","_","afterItal")||s.parseEndTag("mono","`","afterMono");if(!parsed){s.add(ch);beginable=false}s.position++}s.emitBlock();return s.blocks}},{key:"splitBlocks",value:function splitBlocks(text,markupSystem){var system=this.decodeMarkupSystem(markupSystem);if(system==="none"){return[{text,mod:"normal"}]}else if(system==="markdown"){return this.splitMarkdownBlocks(text)}else if(system==="html"){return this.splitHtmlBlocks(text)}}},{key:"overMaxWidth",value:function overMaxWidth(text){var width=this.ctx.measureText(text).width;return this.lines.curWidth()+width>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function getLongestFit(words){var text="";var w=0;while(w<words.length){var pre=text===""?"":" ";var newText=text+pre+words[w];if(this.overMaxWidth(newText))break;text=newText;w++}return w}},{key:"getLongestFitWord",value:function getLongestFitWord(words){var w=0;while(w<words.length){if(this.overMaxWidth(_sliceInstanceProperty(words).call(words,0,w)))break;w++}return w}},{key:"splitStringIntoLines",value:function splitStringIntoLines(str){var mod=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";var appendLast=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,mod);str=str.replace(/^( +)/g,"$1\r");str=str.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");var words=str.split("\r");while(words.length>0){var w=this.getLongestFit(words);if(w===0){var word=words[0];var x=this.getLongestFitWord(word);this.lines.newLine(_sliceInstanceProperty(word).call(word,0,x),mod);words[0]=_sliceInstanceProperty(word).call(word,x)}else{var newW=w;if(words[w-1]===" "){w--}else if(words[newW]===" "){newW++}var text=_sliceInstanceProperty(words).call(words,0,w).join("");if(w==words.length&&appendLast){this.lines.append(text,mod)}else{this.lines.newLine(text,mod)}words=_sliceInstanceProperty(words).call(words,newW)}}}}]);return LabelSplitter2})();var multiFontStyle=["bold","ital","boldital","mono"];var Label=(function(){function Label2(body,options){var edgelabel=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;_classCallCheck(this,Label2);this.body=body;this.pointToSelf=false;this.baseSize=void 0;this.fontOptions={};this.setOptions(options);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=edgelabel}_createClass(Label2,[{key:"setOptions",value:function setOptions(options){this.elementOptions=options;this.initFontOptions(options.font);if(isValidLabel(options.label)){this.labelDirty=true}else{options.label=void 0}if(options.font!==void 0&&options.font!==null){if(typeof options.font==="string"){this.baseSize=this.fontOptions.size}else if(_typeof$1(options.font)==="object"){var size=options.font.size;if(size!==void 0){this.baseSize=size}}}}},{key:"initFontOptions",value:function initFontOptions(newFontOptions){var _this=this;forEach$4(multiFontStyle,function(style){_this.fontOptions[style]={}});if(Label2.parseFontString(this.fontOptions,newFontOptions)){this.fontOptions.vadjust=0;return}forEach$4(newFontOptions,function(prop,n){if(prop!==void 0&&prop!==null&&_typeof$1(prop)!=="object"){_this.fontOptions[n]=prop}})}},{key:"constrain",value:(function constrain(pile){var fontOptions={constrainWidth:false,maxWdt:-1,minWdt:-1,constrainHeight:false,minHgt:-1,valign:"middle"};var widthConstraint=topMost(pile,"widthConstraint");if(typeof widthConstraint==="number"){fontOptions.maxWdt=Number(widthConstraint);fontOptions.minWdt=Number(widthConstraint)}else if(_typeof$1(widthConstraint)==="object"){var widthConstraintMaximum=topMost(pile,["widthConstraint","maximum"]);if(typeof widthConstraintMaximum==="number"){fontOptions.maxWdt=Number(widthConstraintMaximum)}var widthConstraintMinimum=topMost(pile,["widthConstraint","minimum"]);if(typeof widthConstraintMinimum==="number"){fontOptions.minWdt=Number(widthConstraintMinimum)}}var heightConstraint=topMost(pile,"heightConstraint");if(typeof heightConstraint==="number"){fontOptions.minHgt=Number(heightConstraint)}else if(_typeof$1(heightConstraint)==="object"){var heightConstraintMinimum=topMost(pile,["heightConstraint","minimum"]);if(typeof heightConstraintMinimum==="number"){fontOptions.minHgt=Number(heightConstraintMinimum)}var heightConstraintValign=topMost(pile,["heightConstraint","valign"]);if(typeof heightConstraintValign==="string"){if(heightConstraintValign==="top"||heightConstraintValign==="bottom"){fontOptions.valign=heightConstraintValign}}}return fontOptions})},{key:"update",value:function update(options,pile){this.setOptions(options,true);this.propagateFonts(pile);deepExtend(this.fontOptions,this.constrain(pile));this.fontOptions.chooser=choosify("label",pile)}},{key:"adjustSizes",value:function adjustSizes(margins){var widthBias=margins?margins.right+margins.left:0;if(this.fontOptions.constrainWidth){this.fontOptions.maxWdt-=widthBias;this.fontOptions.minWdt-=widthBias}var heightBias=margins?margins.top+margins.bottom:0;if(this.fontOptions.constrainHeight){this.fontOptions.minHgt-=heightBias}}},{key:"addFontOptionsToPile",value:function addFontOptionsToPile(dstPile,srcPile){for(var i2=0;i2<srcPile.length;++i2){this.addFontToPile(dstPile,srcPile[i2])}}},{key:"addFontToPile",value:function addFontToPile(pile,options){if(options===void 0)return;if(options.font===void 0||options.font===null)return;var item=options.font;pile.push(item)}},{key:"getBasicOptions",value:function getBasicOptions(pile){var ret={};for(var n=0;n<pile.length;++n){var fontOptions=pile[n];var tmpShorthand={};if(Label2.parseFontString(tmpShorthand,fontOptions)){fontOptions=tmpShorthand}forEach$4(fontOptions,function(opt,name){if(opt===void 0)return;if(Object.prototype.hasOwnProperty.call(ret,name))return;if(_indexOfInstanceProperty(multiFontStyle).call(multiFontStyle,name)!==-1){ret[name]={}}else{ret[name]=opt}})}return ret}},{key:"getFontOption",value:function getFontOption(pile,multiName,option2){var multiFont;for(var n=0;n<pile.length;++n){var fontOptions=pile[n];if(Object.prototype.hasOwnProperty.call(fontOptions,multiName)){multiFont=fontOptions[multiName];if(multiFont===void 0||multiFont===null)continue;var tmpShorthand={};if(Label2.parseFontString(tmpShorthand,multiFont)){multiFont=tmpShorthand}if(Object.prototype.hasOwnProperty.call(multiFont,option2)){return multiFont[option2]}}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,option2)){return this.fontOptions[option2]}throw new Error("Did not find value for multi-font for property: '"+option2+"'")}},{key:"getFontOptions",value:function getFontOptions(pile,multiName){var result={};var optionNames=["color","size","face","mod","vadjust"];for(var i2=0;i2<optionNames.length;++i2){var mod=optionNames[i2];result[mod]=this.getFontOption(pile,multiName,mod)}return result}},{key:"propagateFonts",value:function propagateFonts(pile){var _this2=this;var fontPile=[];this.addFontOptionsToPile(fontPile,pile);this.fontOptions=this.getBasicOptions(fontPile);var _loop=function _loop2(){var mod=multiFontStyle[i2];var modOptions=_this2.fontOptions[mod];var tmpMultiFontOptions=_this2.getFontOptions(fontPile,mod);forEach$4(tmpMultiFontOptions,function(option2,n){modOptions[n]=option2});modOptions.size=Number(modOptions.size);modOptions.vadjust=Number(modOptions.vadjust)};for(var i2=0;i2<multiFontStyle.length;++i2){_loop()}}},{key:"draw",value:function draw(ctx,x,y,selected,hover){var baseline=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;var viewFontSize=this.fontOptions.size*this.body.view.scale;if(this.elementOptions.label&&viewFontSize<this.elementOptions.scaling.label.drawThreshold-1)return;if(viewFontSize>=this.elementOptions.scaling.label.maxVisible){viewFontSize=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale}this.calculateLabelSize(ctx,selected,hover,x,y,baseline);this._drawBackground(ctx);this._drawText(ctx,x,this.size.yLine,baseline,viewFontSize)}},{key:"_drawBackground",value:function _drawBackground(ctx){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){ctx.fillStyle=this.fontOptions.background;var size=this.getSize();ctx.fillRect(size.left,size.top,size.width,size.height)}}},{key:"_drawText",value:function _drawText(ctx,x,y){var baseline=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle";var viewFontSize=arguments.length>4?arguments[4]:void 0;var _this$_setAlignment=this._setAlignment(ctx,x,y,baseline);var _this$_setAlignment2=_slicedToArray(_this$_setAlignment,2);x=_this$_setAlignment2[0];y=_this$_setAlignment2[1];ctx.textAlign="left";x=x-this.size.width/2;if(this.fontOptions.valign&&this.size.height>this.size.labelHeight){if(this.fontOptions.valign==="top"){y-=(this.size.height-this.size.labelHeight)/2}if(this.fontOptions.valign==="bottom"){y+=(this.size.height-this.size.labelHeight)/2}}for(var i2=0;i2<this.lineCount;i2++){var line=this.lines[i2];if(line&&line.blocks){var width=0;if(this.isEdgeLabel||this.fontOptions.align==="center"){width+=(this.size.width-line.width)/2}else if(this.fontOptions.align==="right"){width+=this.size.width-line.width}for(var j=0;j<line.blocks.length;j++){var block=line.blocks[j];ctx.font=block.font;var _this$_getColor=this._getColor(block.color,viewFontSize,block.strokeColor),_this$_getColor2=_slicedToArray(_this$_getColor,2),fontColor=_this$_getColor2[0],strokeColor=_this$_getColor2[1];if(block.strokeWidth>0){ctx.lineWidth=block.strokeWidth;ctx.strokeStyle=strokeColor;ctx.lineJoin="round"}ctx.fillStyle=fontColor;if(block.strokeWidth>0){ctx.strokeText(block.text,x+width,y+block.vadjust)}ctx.fillText(block.text,x+width,y+block.vadjust);width+=block.width}y+=line.height}}}},{key:"_setAlignment",value:function _setAlignment(ctx,x,y,baseline){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===false){x=0;y=0;var lineMargin=2;if(this.fontOptions.align==="top"){ctx.textBaseline="alphabetic";y-=2*lineMargin}else if(this.fontOptions.align==="bottom"){ctx.textBaseline="hanging";y+=2*lineMargin}else{ctx.textBaseline="middle"}}else{ctx.textBaseline=baseline}return[x,y]}},{key:"_getColor",value:function _getColor(color,viewFontSize,initialStrokeColor){var fontColor=color||"#000000";var strokeColor=initialStrokeColor||"#ffffff";if(viewFontSize<=this.elementOptions.scaling.label.drawThreshold){var opacity=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-viewFontSize)));fontColor=overrideOpacity(fontColor,opacity);strokeColor=overrideOpacity(strokeColor,opacity)}return[fontColor,strokeColor]}},{key:"getTextSize",value:function getTextSize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;this._processLabel(ctx,selected,hover);return{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function getSize(){var lineMargin=2;var x=this.size.left;var y=this.size.top-.5*lineMargin;if(this.isEdgeLabel){var x2=-this.size.width*.5;switch(this.fontOptions.align){case"middle":x=x2;y=-this.size.height*.5;break;case"top":x=x2;y=-(this.size.height+lineMargin);break;case"bottom":x=x2;y=lineMargin;break}}var ret={left:x,top:y,width:this.size.width,height:this.size.height};return ret}},{key:"calculateLabelSize",value:function calculateLabelSize(ctx,selected,hover){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;var baseline=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(ctx,selected,hover);this.size.left=x-this.size.width*.5;this.size.top=y-this.size.height*.5;this.size.yLine=y+(1-this.lineCount)*.5*this.fontOptions.size;if(baseline==="hanging"){this.size.top+=.5*this.fontOptions.size;this.size.top+=4;this.size.yLine+=4}}},{key:"getFormattingValues",value:function getFormattingValues(ctx,selected,hover,mod){var getValue=function getValue2(fontOptions,mod2,option2){if(mod2==="normal"){if(option2==="mod")return"";return fontOptions[option2]}if(fontOptions[mod2][option2]!==void 0){return fontOptions[mod2][option2]}else{return fontOptions[option2]}};var values2={color:getValue(this.fontOptions,mod,"color"),size:getValue(this.fontOptions,mod,"size"),face:getValue(this.fontOptions,mod,"face"),mod:getValue(this.fontOptions,mod,"mod"),vadjust:getValue(this.fontOptions,mod,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};if(selected||hover){if(mod==="normal"&&this.fontOptions.chooser===true&&this.elementOptions.labelHighlightBold){values2.mod="bold"}else{if(typeof this.fontOptions.chooser==="function"){this.fontOptions.chooser(values2,this.elementOptions.id,selected,hover)}}}var fontString="";if(values2.mod!==void 0&&values2.mod!==""){fontString+=values2.mod+" "}fontString+=values2.size+"px "+values2.face;ctx.font=fontString.replace(/"/g,"");values2.font=ctx.font;values2.height=values2.size;return values2}},{key:"differentState",value:function differentState(selected,hover){return selected!==this.selectedState||hover!==this.hoverState}},{key:"_processLabelText",value:function _processLabelText(ctx,selected,hover,inText){var splitter=new LabelSplitter(ctx,this,selected,hover);return splitter.process(inText)}},{key:"_processLabel",value:function _processLabel(ctx,selected,hover){if(this.labelDirty===false&&!this.differentState(selected,hover))return;var state=this._processLabelText(ctx,selected,hover,this.elementOptions.label);if(this.fontOptions.minWdt>0&&state.width<this.fontOptions.minWdt){state.width=this.fontOptions.minWdt}this.size.labelHeight=state.height;if(this.fontOptions.minHgt>0&&state.height<this.fontOptions.minHgt){state.height=this.fontOptions.minHgt}this.lines=state.lines;this.lineCount=state.lines.length;this.size.width=state.width;this.size.height=state.height;this.selectedState=selected;this.hoverState=hover;this.labelDirty=false}},{key:"visible",value:function visible(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0){return false}var viewFontSize=this.fontOptions.size*this.body.view.scale;if(viewFontSize<this.elementOptions.scaling.label.drawThreshold-1){return false}return true}}],[{key:"parseFontString",value:function parseFontString(outOptions,inOptions){if(!inOptions||typeof inOptions!=="string")return false;var newOptionsArray=inOptions.split(" ");outOptions.size=+newOptionsArray[0].replace("px","");outOptions.face=newOptionsArray[1];outOptions.color=newOptionsArray[2];return true}}]);return Label2})();var NodeBase=(function(){function NodeBase2(options,body,labelModule){_classCallCheck(this,NodeBase2);this.body=body;this.labelModule=labelModule;this.setOptions(options);this.top=void 0;this.left=void 0;this.height=void 0;this.width=void 0;this.radius=void 0;this.margin=void 0;this.refreshNeeded=true;this.boundingBox={top:0,left:0,right:0,bottom:0}}_createClass(NodeBase2,[{key:"setOptions",value:function setOptions(options){this.options=options}},{key:"_setMargins",value:function _setMargins(labelModule){this.margin={};if(this.options.margin){if(_typeof$1(this.options.margin)=="object"){this.margin.top=this.options.margin.top;this.margin.right=this.options.margin.right;this.margin.bottom=this.options.margin.bottom;this.margin.left=this.options.margin.left}else{this.margin.top=this.options.margin;this.margin.right=this.options.margin;this.margin.bottom=this.options.margin;this.margin.left=this.options.margin}}labelModule.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function _distanceToBorder(ctx,angle){var borderWidth=this.options.borderWidth;if(ctx){this.resize(ctx)}return Math.min(Math.abs(this.width/2/Math.cos(angle)),Math.abs(this.height/2/Math.sin(angle)))+borderWidth}},{key:"enableShadow",value:function enableShadow(ctx,values2){if(values2.shadow){ctx.shadowColor=values2.shadowColor;ctx.shadowBlur=values2.shadowSize;ctx.shadowOffsetX=values2.shadowX;ctx.shadowOffsetY=values2.shadowY}}},{key:"disableShadow",value:function disableShadow(ctx,values2){if(values2.shadow){ctx.shadowColor="rgba(0,0,0,0)";ctx.shadowBlur=0;ctx.shadowOffsetX=0;ctx.shadowOffsetY=0}}},{key:"enableBorderDashes",value:function enableBorderDashes(ctx,values2){if(values2.borderDashes!==false){if(ctx.setLineDash!==void 0){var dashes=values2.borderDashes;if(dashes===true){dashes=[5,15]}ctx.setLineDash(dashes)}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=false;values2.borderDashes=false}}}},{key:"disableBorderDashes",value:function disableBorderDashes(ctx,values2){if(values2.borderDashes!==false){if(ctx.setLineDash!==void 0){ctx.setLineDash([0])}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=false;values2.borderDashes=false}}}},{key:"needsRefresh",value:function needsRefresh(selected,hover){if(this.refreshNeeded===true){this.refreshNeeded=false;return true}return this.width===void 0||this.labelModule.differentState(selected,hover)}},{key:"initContextForDraw",value:function initContextForDraw(ctx,values2){var borderWidth=values2.borderWidth/this.body.view.scale;ctx.lineWidth=Math.min(this.width,borderWidth);ctx.strokeStyle=values2.borderColor;ctx.fillStyle=values2.color}},{key:"performStroke",value:function performStroke(ctx,values2){var borderWidth=values2.borderWidth/this.body.view.scale;ctx.save();if(borderWidth>0){this.enableBorderDashes(ctx,values2);ctx.stroke();this.disableBorderDashes(ctx,values2)}ctx.restore()}},{key:"performFill",value:function performFill(ctx,values2){ctx.save();ctx.fillStyle=values2.color;this.enableShadow(ctx,values2);_fillInstanceProperty(ctx).call(ctx);this.disableShadow(ctx,values2);ctx.restore();this.performStroke(ctx,values2)}},{key:"_addBoundingBoxMargin",value:function _addBoundingBoxMargin(margin){this.boundingBox.left-=margin;this.boundingBox.top-=margin;this.boundingBox.bottom+=margin;this.boundingBox.right+=margin}},{key:"_updateBoundingBox",value:function _updateBoundingBox(x,y,ctx,selected,hover){if(ctx!==void 0){this.resize(ctx,selected,hover)}this.left=x-this.width/2;this.top=y-this.height/2;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y,ctx,selected,hover){this._updateBoundingBox(x,y,ctx,selected,hover)}},{key:"getDimensionsFromLabel",value:function getDimensionsFromLabel(ctx,selected,hover){this.textSize=this.labelModule.getTextSize(ctx,selected,hover);var width=this.textSize.width;var height=this.textSize.height;var DEFAULT_SIZE=14;if(width===0){width=DEFAULT_SIZE;height=DEFAULT_SIZE}return{width,height}}}]);return NodeBase2})();function _createSuper$s(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$s();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$s(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Box$1=(function(_NodeBase){_inherits(Box2,_NodeBase);var _super=_createSuper$s(Box2);function Box2(options,body,labelModule){var _this;_classCallCheck(this,Box2);_this=_super.call(this,options,body,labelModule);_this._setMargins(labelModule);return _this}_createClass(Box2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(selected,hover)){var dimensions=this.getDimensionsFromLabel(ctx,selected,hover);this.width=dimensions.width+this.margin.right+this.margin.left;this.height=dimensions.height+this.margin.top+this.margin.bottom;this.radius=this.width/2}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover);this.left=x-this.width/2;this.top=y-this.height/2;this.initContextForDraw(ctx,values2);drawRoundRect(ctx,this.left,this.top,this.width,this.height,values2.borderRadius);this.performFill(ctx,values2);this.updateBoundingBox(x,y,ctx,selected,hover);this.labelModule.draw(ctx,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,selected,hover)}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y,ctx,selected,hover){this._updateBoundingBox(x,y,ctx,selected,hover);var borderRadius=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(borderRadius)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){if(ctx){this.resize(ctx)}var borderWidth=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(angle)),Math.abs(this.height/2/Math.sin(angle)))+borderWidth}}]);return Box2})(NodeBase);function _createSuper$r(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$r();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$r(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var CircleImageBase=(function(_NodeBase){_inherits(CircleImageBase2,_NodeBase);var _super=_createSuper$r(CircleImageBase2);function CircleImageBase2(options,body,labelModule){var _this;_classCallCheck(this,CircleImageBase2);_this=_super.call(this,options,body,labelModule);_this.labelOffset=0;_this.selected=false;return _this}_createClass(CircleImageBase2,[{key:"setOptions",value:function setOptions(options,imageObj,imageObjAlt){this.options=options;if(!(imageObj===void 0&&imageObjAlt===void 0)){this.setImages(imageObj,imageObjAlt)}}},{key:"setImages",value:function setImages(imageObj,imageObjAlt){if(imageObjAlt&&this.selected){this.imageObj=imageObjAlt;this.imageObjAlt=imageObj}else{this.imageObj=imageObj;this.imageObjAlt=imageObjAlt}}},{key:"switchImages",value:function switchImages(selected){var selection_changed=selected&&!this.selected||!selected&&this.selected;this.selected=selected;if(this.imageObjAlt!==void 0&&selection_changed){var imageTmp=this.imageObj;this.imageObj=this.imageObjAlt;this.imageObjAlt=imageTmp}}},{key:"_getImagePadding",value:function _getImagePadding(){var imgPadding={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var optImgPadding=this.options.imagePadding;if(_typeof$1(optImgPadding)=="object"){imgPadding.top=optImgPadding.top;imgPadding.right=optImgPadding.right;imgPadding.bottom=optImgPadding.bottom;imgPadding.left=optImgPadding.left}else{imgPadding.top=optImgPadding;imgPadding.right=optImgPadding;imgPadding.bottom=optImgPadding;imgPadding.left=optImgPadding}}return imgPadding}},{key:"_resizeImage",value:function _resizeImage(){var width,height;if(this.options.shapeProperties.useImageSize===false){var ratio_width=1;var ratio_height=1;if(this.imageObj.width&&this.imageObj.height){if(this.imageObj.width>this.imageObj.height){ratio_width=this.imageObj.width/this.imageObj.height}else{ratio_height=this.imageObj.height/this.imageObj.width}}width=this.options.size*2*ratio_width;height=this.options.size*2*ratio_height}else{var imgPadding=this._getImagePadding();width=this.imageObj.width+imgPadding.left+imgPadding.right;height=this.imageObj.height+imgPadding.top+imgPadding.bottom}this.width=width;this.height=height;this.radius=.5*this.width}},{key:"_drawRawCircle",value:function _drawRawCircle(ctx,x,y,values2){this.initContextForDraw(ctx,values2);drawCircle(ctx,x,y,values2.size);this.performFill(ctx,values2)}},{key:"_drawImageAtPosition",value:function _drawImageAtPosition(ctx,values2){if(this.imageObj.width!=0){ctx.globalAlpha=values2.opacity!==void 0?values2.opacity:1;this.enableShadow(ctx,values2);var factor=1;if(this.options.shapeProperties.interpolation===true){factor=this.imageObj.width/this.width/this.body.view.scale}var imgPadding=this._getImagePadding();var imgPosLeft=this.left+imgPadding.left;var imgPosTop=this.top+imgPadding.top;var imgWidth=this.width-imgPadding.left-imgPadding.right;var imgHeight=this.height-imgPadding.top-imgPadding.bottom;this.imageObj.drawImageAtPosition(ctx,factor,imgPosLeft,imgPosTop,imgWidth,imgHeight);this.disableShadow(ctx,values2)}}},{key:"_drawImageLabel",value:function _drawImageLabel(ctx,x,y,selected,hover){var offset=0;if(this.height!==void 0){offset=this.height*.5;var labelDimensions=this.labelModule.getTextSize(ctx,selected,hover);if(labelDimensions.lineCount>=1){offset+=labelDimensions.height/2}}var yLabel=y+offset;if(this.options.label){this.labelOffset=offset}this.labelModule.draw(ctx,x,yLabel,selected,hover,"hanging")}}]);return CircleImageBase2})(NodeBase);function _createSuper$q(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$q();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$q(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Circle$1=(function(_CircleImageBase){_inherits(Circle2,_CircleImageBase);var _super=_createSuper$q(Circle2);function Circle2(options,body,labelModule){var _this;_classCallCheck(this,Circle2);_this=_super.call(this,options,body,labelModule);_this._setMargins(labelModule);return _this}_createClass(Circle2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(selected,hover)){var dimensions=this.getDimensionsFromLabel(ctx,selected,hover);var diameter=Math.max(dimensions.width+this.margin.right+this.margin.left,dimensions.height+this.margin.top+this.margin.bottom);this.options.size=diameter/2;this.width=diameter;this.height=diameter;this.radius=this.width/2}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover);this.left=x-this.width/2;this.top=y-this.height/2;this._drawRawCircle(ctx,x,y,values2);this.updateBoundingBox(x,y);this.labelModule.draw(ctx,this.left+this.textSize.width/2+this.margin.left,y,selected,hover)}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y){this.boundingBox.top=y-this.options.size;this.boundingBox.left=x-this.options.size;this.boundingBox.right=x+this.options.size;this.boundingBox.bottom=y+this.options.size}},{key:"distanceToBorder",value:function distanceToBorder(ctx){if(ctx){this.resize(ctx)}return this.width*.5}}]);return Circle2})(CircleImageBase);function _createSuper$p(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$p();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$p(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var CircularImage=(function(_CircleImageBase){_inherits(CircularImage2,_CircleImageBase);var _super=_createSuper$p(CircularImage2);function CircularImage2(options,body,labelModule,imageObj,imageObjAlt){var _this;_classCallCheck(this,CircularImage2);_this=_super.call(this,options,body,labelModule);_this.setImages(imageObj,imageObjAlt);return _this}_createClass(CircularImage2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;var imageAbsent=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(imageAbsent){var diameter=this.options.size*2;this.width=diameter;this.height=diameter;this.radius=.5*this.width;return}if(this.needsRefresh(selected,hover)){this._resizeImage()}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.switchImages(selected);this.resize();var labelX=x,labelY=y;if(this.options.shapeProperties.coordinateOrigin==="top-left"){this.left=x;this.top=y;labelX+=this.width/2;labelY+=this.height/2}else{this.left=x-this.width/2;this.top=y-this.height/2}this._drawRawCircle(ctx,labelX,labelY,values2);ctx.save();ctx.clip();this._drawImageAtPosition(ctx,values2);ctx.restore();this._drawImageLabel(ctx,labelX,labelY,selected,hover);this.updateBoundingBox(x,y)}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y){if(this.options.shapeProperties.coordinateOrigin==="top-left"){this.boundingBox.top=y;this.boundingBox.left=x;this.boundingBox.right=x+this.options.size*2;this.boundingBox.bottom=y+this.options.size*2}else{this.boundingBox.top=y-this.options.size;this.boundingBox.left=x-this.options.size;this.boundingBox.right=x+this.options.size;this.boundingBox.bottom=y+this.options.size}this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function distanceToBorder(ctx){if(ctx){this.resize(ctx)}return this.width*.5}}]);return CircularImage2})(CircleImageBase);function _createSuper$o(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$o();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$o(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var ShapeBase=(function(_NodeBase){_inherits(ShapeBase2,_NodeBase);var _super=_createSuper$o(ShapeBase2);function ShapeBase2(options,body,labelModule){_classCallCheck(this,ShapeBase2);return _super.call(this,options,body,labelModule)}_createClass(ShapeBase2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;var values2=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(selected,hover)){var _this$customSizeWidth,_this$customSizeHeigh;this.labelModule.getTextSize(ctx,selected,hover);var size=2*values2.size;this.width=(_this$customSizeWidth=this.customSizeWidth)!==null&&_this$customSizeWidth!==void 0?_this$customSizeWidth:size;this.height=(_this$customSizeHeigh=this.customSizeHeight)!==null&&_this$customSizeHeigh!==void 0?_this$customSizeHeigh:size;this.radius=.5*this.width}}},{key:"_drawShape",value:function _drawShape(ctx,shape,sizeMultiplier,x,y,selected,hover,values2){var _this=this;this.resize(ctx,selected,hover,values2);this.left=x-this.width/2;this.top=y-this.height/2;this.initContextForDraw(ctx,values2);getShape(shape)(ctx,x,y,values2.size);this.performFill(ctx,values2);if(this.options.icon!==void 0){if(this.options.icon.code!==void 0){ctx.font=(selected?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome");ctx.fillStyle=this.options.icon.color||"black";ctx.textAlign="center";ctx.textBaseline="middle";ctx.fillText(this.options.icon.code,x,y)}}return{drawExternalLabel:function drawExternalLabel(){if(_this.options.label!==void 0){_this.labelModule.calculateLabelSize(ctx,selected,hover,x,y,"hanging");var yLabel=y+.5*_this.height+.5*_this.labelModule.size.height;_this.labelModule.draw(ctx,x,yLabel,selected,hover,"hanging")}_this.updateBoundingBox(x,y)}}}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y){this.boundingBox.top=y-this.options.size;this.boundingBox.left=x-this.options.size;this.boundingBox.right=x+this.options.size;this.boundingBox.bottom=y+this.options.size;if(this.options.label!==void 0&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height)}}}]);return ShapeBase2})(NodeBase);function ownKeys$3(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor$1(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$3(e){for(var r=1;r<arguments.length;r++){var _context,_context2;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context=ownKeys$3(Object(t),true)).call(_context,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context2=ownKeys$3(Object(t))).call(_context2,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor$1(t,r2))})}return e}function _createSuper$n(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$n();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$n(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var CustomShape=(function(_ShapeBase){_inherits(CustomShape2,_ShapeBase);var _super=_createSuper$n(CustomShape2);function CustomShape2(options,body,labelModule,ctxRenderer){var _this;_classCallCheck(this,CustomShape2);_this=_super.call(this,options,body,labelModule,ctxRenderer);_this.ctxRenderer=ctxRenderer;return _this}_createClass(CustomShape2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover,values2);this.left=x-this.width/2;this.top=y-this.height/2;ctx.save();var drawLater=this.ctxRenderer({ctx,id:this.options.id,x,y,state:{selected,hover},style:_objectSpread$3({},values2),label:this.options.label});if(drawLater.drawNode!=null){drawLater.drawNode()}ctx.restore();if(drawLater.drawExternalLabel){var drawExternalLabel=drawLater.drawExternalLabel;drawLater.drawExternalLabel=function(){ctx.save();drawExternalLabel();ctx.restore()}}if(drawLater.nodeDimensions){this.customSizeWidth=drawLater.nodeDimensions.width;this.customSizeHeight=drawLater.nodeDimensions.height}return drawLater}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return CustomShape2})(ShapeBase);function _createSuper$m(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$m();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$m(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Database=(function(_NodeBase){_inherits(Database2,_NodeBase);var _super=_createSuper$m(Database2);function Database2(options,body,labelModule){var _this;_classCallCheck(this,Database2);_this=_super.call(this,options,body,labelModule);_this._setMargins(labelModule);return _this}_createClass(Database2,[{key:"resize",value:function resize(ctx,selected,hover){if(this.needsRefresh(selected,hover)){var dimensions=this.getDimensionsFromLabel(ctx,selected,hover);var size=dimensions.width+this.margin.right+this.margin.left;this.width=size;this.height=size;this.radius=this.width/2}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover);this.left=x-this.width/2;this.top=y-this.height/2;this.initContextForDraw(ctx,values2);drawDatabase(ctx,x-this.width/2,y-this.height/2,this.width,this.height);this.performFill(ctx,values2);this.updateBoundingBox(x,y,ctx,selected,hover);this.labelModule.draw(ctx,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,selected,hover)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Database2})(NodeBase);function _createSuper$l(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$l();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$l(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Diamond$1=(function(_ShapeBase){_inherits(Diamond2,_ShapeBase);var _super=_createSuper$l(Diamond2);function Diamond2(options,body,labelModule){_classCallCheck(this,Diamond2);return _super.call(this,options,body,labelModule)}_createClass(Diamond2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"diamond",4,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Diamond2})(ShapeBase);function _createSuper$k(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$k();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$k(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Dot=(function(_ShapeBase){_inherits(Dot2,_ShapeBase);var _super=_createSuper$k(Dot2);function Dot2(options,body,labelModule){_classCallCheck(this,Dot2);return _super.call(this,options,body,labelModule)}_createClass(Dot2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"circle",2,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx){if(ctx){this.resize(ctx)}return this.options.size}}]);return Dot2})(ShapeBase);function _createSuper$j(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$j();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$j(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Ellipse=(function(_NodeBase){_inherits(Ellipse2,_NodeBase);var _super=_createSuper$j(Ellipse2);function Ellipse2(options,body,labelModule){_classCallCheck(this,Ellipse2);return _super.call(this,options,body,labelModule)}_createClass(Ellipse2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(selected,hover)){var dimensions=this.getDimensionsFromLabel(ctx,selected,hover);this.height=dimensions.height*2;this.width=dimensions.width+dimensions.height;this.radius=.5*this.width}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover);this.left=x-this.width*.5;this.top=y-this.height*.5;this.initContextForDraw(ctx,values2);drawEllipse(ctx,this.left,this.top,this.width,this.height);this.performFill(ctx,values2);this.updateBoundingBox(x,y,ctx,selected,hover);this.labelModule.draw(ctx,x,y,selected,hover)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){if(ctx){this.resize(ctx)}var a=this.width*.5;var b=this.height*.5;var w=Math.sin(angle)*a;var h=Math.cos(angle)*b;return a*b/Math.sqrt(w*w+h*h)}}]);return Ellipse2})(NodeBase);function _createSuper$i(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$i();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$i(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Icon=(function(_NodeBase){_inherits(Icon2,_NodeBase);var _super=_createSuper$i(Icon2);function Icon2(options,body,labelModule){var _this;_classCallCheck(this,Icon2);_this=_super.call(this,options,body,labelModule);_this._setMargins(labelModule);return _this}_createClass(Icon2,[{key:"resize",value:function resize(ctx,selected,hover){if(this.needsRefresh(selected,hover)){this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=this.iconSize.width+this.margin.right+this.margin.left;this.height=this.iconSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){var _this2=this;this.resize(ctx,selected,hover);this.options.icon.size=this.options.icon.size||50;this.left=x-this.width/2;this.top=y-this.height/2;this._icon(ctx,x,y,selected,hover,values2);return{drawExternalLabel:function drawExternalLabel(){if(_this2.options.label!==void 0){var iconTextSpacing=5;_this2.labelModule.draw(ctx,_this2.left+_this2.iconSize.width/2+_this2.margin.left,y+_this2.height/2+iconTextSpacing,selected)}_this2.updateBoundingBox(x,y)}}}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y){this.boundingBox.top=y-this.options.icon.size*.5;this.boundingBox.left=x-this.options.icon.size*.5;this.boundingBox.right=x+this.options.icon.size*.5;this.boundingBox.bottom=y+this.options.icon.size*.5;if(this.options.label!==void 0&&this.labelModule.size.width>0){var iconTextSpacing=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+iconTextSpacing)}}},{key:"_icon",value:function _icon(ctx,x,y,selected,hover,values2){var iconSize=Number(this.options.icon.size);if(this.options.icon.code!==void 0){ctx.font=[this.options.icon.weight!=null?this.options.icon.weight:selected?"bold":"",(this.options.icon.weight!=null&&selected?5:0)+iconSize+"px",this.options.icon.face].join(" ");ctx.fillStyle=this.options.icon.color||"black";ctx.textAlign="center";ctx.textBaseline="middle";this.enableShadow(ctx,values2);ctx.fillText(this.options.icon.code,x,y);this.disableShadow(ctx,values2)}else{console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Icon2})(NodeBase);function _createSuper$h(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$h();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$h(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Image$2=(function(_CircleImageBase){_inherits(Image2,_CircleImageBase);var _super=_createSuper$h(Image2);function Image2(options,body,labelModule,imageObj,imageObjAlt){var _this;_classCallCheck(this,Image2);_this=_super.call(this,options,body,labelModule);_this.setImages(imageObj,imageObjAlt);return _this}_createClass(Image2,[{key:"resize",value:function resize(ctx){var selected=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected;var hover=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;var imageAbsent=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(imageAbsent){var side=this.options.size*2;this.width=side;this.height=side;return}if(this.needsRefresh(selected,hover)){this._resizeImage()}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){ctx.save();this.switchImages(selected);this.resize();var labelX=x,labelY=y;if(this.options.shapeProperties.coordinateOrigin==="top-left"){this.left=x;this.top=y;labelX+=this.width/2;labelY+=this.height/2}else{this.left=x-this.width/2;this.top=y-this.height/2}if(this.options.shapeProperties.useBorderWithImage===true){var neutralborderWidth=this.options.borderWidth;var selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth;var borderWidth=(selected?selectionLineWidth:neutralborderWidth)/this.body.view.scale;ctx.lineWidth=Math.min(this.width,borderWidth);ctx.beginPath();var strokeStyle=selected?this.options.color.highlight.border:hover?this.options.color.hover.border:this.options.color.border;var fillStyle=selected?this.options.color.highlight.background:hover?this.options.color.hover.background:this.options.color.background;if(values2.opacity!==void 0){strokeStyle=overrideOpacity(strokeStyle,values2.opacity);fillStyle=overrideOpacity(fillStyle,values2.opacity)}ctx.strokeStyle=strokeStyle;ctx.fillStyle=fillStyle;ctx.rect(this.left-.5*ctx.lineWidth,this.top-.5*ctx.lineWidth,this.width+ctx.lineWidth,this.height+ctx.lineWidth);_fillInstanceProperty(ctx).call(ctx);this.performStroke(ctx,values2);ctx.closePath()}this._drawImageAtPosition(ctx,values2);this._drawImageLabel(ctx,labelX,labelY,selected,hover);this.updateBoundingBox(x,y);ctx.restore()}},{key:"updateBoundingBox",value:function updateBoundingBox(x,y){this.resize();if(this.options.shapeProperties.coordinateOrigin==="top-left"){this.left=x;this.top=y}else{this.left=x-this.width/2;this.top=y-this.height/2}this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width;if(this.options.label!==void 0&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Image2})(CircleImageBase);function _createSuper$g(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$g();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$g(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Square=(function(_ShapeBase){_inherits(Square2,_ShapeBase);var _super=_createSuper$g(Square2);function Square2(options,body,labelModule){_classCallCheck(this,Square2);return _super.call(this,options,body,labelModule)}_createClass(Square2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"square",2,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Square2})(ShapeBase);function _createSuper$f(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$f();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$f(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Hexagon=(function(_ShapeBase){_inherits(Hexagon2,_ShapeBase);var _super=_createSuper$f(Hexagon2);function Hexagon2(options,body,labelModule){_classCallCheck(this,Hexagon2);return _super.call(this,options,body,labelModule)}_createClass(Hexagon2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"hexagon",4,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Hexagon2})(ShapeBase);function _createSuper$e(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$e();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$e(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Star=(function(_ShapeBase){_inherits(Star2,_ShapeBase);var _super=_createSuper$e(Star2);function Star2(options,body,labelModule){_classCallCheck(this,Star2);return _super.call(this,options,body,labelModule)}_createClass(Star2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"star",4,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Star2})(ShapeBase);function _createSuper$d(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$d();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$d(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Text=(function(_NodeBase){_inherits(Text2,_NodeBase);var _super=_createSuper$d(Text2);function Text2(options,body,labelModule){var _this;_classCallCheck(this,Text2);_this=_super.call(this,options,body,labelModule);_this._setMargins(labelModule);return _this}_createClass(Text2,[{key:"resize",value:function resize(ctx,selected,hover){if(this.needsRefresh(selected,hover)){this.textSize=this.labelModule.getTextSize(ctx,selected,hover);this.width=this.textSize.width+this.margin.right+this.margin.left;this.height=this.textSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){this.resize(ctx,selected,hover);this.left=x-this.width/2;this.top=y-this.height/2;this.enableShadow(ctx,values2);this.labelModule.draw(ctx,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,selected,hover);this.disableShadow(ctx,values2);this.updateBoundingBox(x,y,ctx,selected,hover)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Text2})(NodeBase);function _createSuper$c(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$c();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$c(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Triangle$1=(function(_ShapeBase){_inherits(Triangle2,_ShapeBase);var _super=_createSuper$c(Triangle2);function Triangle2(options,body,labelModule){_classCallCheck(this,Triangle2);return _super.call(this,options,body,labelModule)}_createClass(Triangle2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"triangle",3,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return Triangle2})(ShapeBase);function _createSuper$b(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$b();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$b(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var TriangleDown=(function(_ShapeBase){_inherits(TriangleDown2,_ShapeBase);var _super=_createSuper$b(TriangleDown2);function TriangleDown2(options,body,labelModule){_classCallCheck(this,TriangleDown2);return _super.call(this,options,body,labelModule)}_createClass(TriangleDown2,[{key:"draw",value:function draw(ctx,x,y,selected,hover,values2){return this._drawShape(ctx,"triangleDown",3,x,y,selected,hover,values2)}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this._distanceToBorder(ctx,angle)}}]);return TriangleDown2})(ShapeBase);function ownKeys$2(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor$1(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$2(e){for(var r=1;r<arguments.length;r++){var _context5,_context6;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context5=ownKeys$2(Object(t),true)).call(_context5,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context6=ownKeys$2(Object(t))).call(_context6,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor$1(t,r2))})}return e}var Node=(function(){function Node2(options,body,imagelist,grouplist,globalOptions,defaultOptions){_classCallCheck(this,Node2);this.options=bridgeObject(globalOptions);this.globalOptions=globalOptions;this.defaultOptions=defaultOptions;this.body=body;this.edges=[];this.id=void 0;this.imagelist=imagelist;this.grouplist=grouplist;this.x=void 0;this.y=void 0;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.predefinedPosition=false;this.selected=false;this.hover=false;this.labelModule=new Label(this.body,this.options,false);this.setOptions(options)}_createClass(Node2,[{key:"attachEdge",value:function attachEdge(edge){var _context;if(_indexOfInstanceProperty(_context=this.edges).call(_context,edge)===-1){this.edges.push(edge)}}},{key:"detachEdge",value:function detachEdge(edge){var _context2;var index2=_indexOfInstanceProperty(_context2=this.edges).call(_context2,edge);if(index2!=-1){var _context3;_spliceInstanceProperty(_context3=this.edges).call(_context3,index2,1)}}},{key:"setOptions",value:function setOptions(options){var currentShape=this.options.shape;if(!options){return}if(typeof options.color!=="undefined"){this._localColor=options.color}if(options.id!==void 0){this.id=options.id}if(this.id===void 0){throw new Error("Node must have an id")}Node2.checkMass(options,this.id);if(options.x!==void 0){if(options.x===null){this.x=void 0;this.predefinedPosition=false}else{this.x=_parseInt$1(options.x);this.predefinedPosition=true}}if(options.y!==void 0){if(options.y===null){this.y=void 0;this.predefinedPosition=false}else{this.y=_parseInt$1(options.y);this.predefinedPosition=true}}if(options.size!==void 0){this.baseSize=options.size}if(options.value!==void 0){options.value=_parseFloat$1(options.value)}Node2.parseOptions(this.options,options,true,this.globalOptions,this.grouplist);var pile=[options,this.options,this.defaultOptions];this.chooser=choosify("node",pile);this._load_images();this.updateLabelModule(options);if(options.opacity!==void 0&&Node2.checkOpacity(options.opacity)){this.options.opacity=options.opacity}this.updateShape(currentShape);return options.hidden!==void 0||options.physics!==void 0}},{key:"_load_images",value:function _load_images(){if(this.options.shape==="circularImage"||this.options.shape==="image"){if(this.options.image===void 0){throw new Error("Option image must be defined for node type '"+this.options.shape+"'")}}if(this.options.image===void 0){return}if(this.imagelist===void 0){throw new Error("Internal Error: No images provided")}if(typeof this.options.image==="string"){this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}else{if(this.options.image.unselected===void 0){throw new Error("No unselected image provided")}this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id);if(this.options.image.selected!==void 0){this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}else{this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:(function getFormattingValues(){var values2={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover){if(this.chooser===true){if(this.selected){if(this.options.borderWidthSelected!=null){values2.borderWidth=this.options.borderWidthSelected}else{values2.borderWidth*=2}values2.color=this.options.color.highlight.background;values2.borderColor=this.options.color.highlight.border;values2.shadow=this.options.shadow.enabled}else if(this.hover){values2.color=this.options.color.hover.background;values2.borderColor=this.options.color.hover.border;values2.shadow=this.options.shadow.enabled}}else if(typeof this.chooser==="function"){this.chooser(values2,this.options.id,this.selected,this.hover);if(values2.shadow===false){if(values2.shadowColor!==this.options.shadow.color||values2.shadowSize!==this.options.shadow.size||values2.shadowX!==this.options.shadow.x||values2.shadowY!==this.options.shadow.y){values2.shadow=true}}}}else{values2.shadow=this.options.shadow.enabled}if(this.options.opacity!==void 0){var opacity=this.options.opacity;values2.borderColor=overrideOpacity(values2.borderColor,opacity);values2.color=overrideOpacity(values2.color,opacity);values2.shadowColor=overrideOpacity(values2.shadowColor,opacity)}return values2})},{key:"updateLabelModule",value:function updateLabelModule(options){if(this.options.label===void 0||this.options.label===null){this.options.label=""}Node2.updateGroupOptions(this.options,_objectSpread$2(_objectSpread$2({},options),{},{color:options&&options.color||this._localColor||void 0}),this.grouplist);var currentGroup=this.grouplist.get(this.options.group,false);var pile=[options,this.options,currentGroup,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,pile);if(this.labelModule.baseSize!==void 0){this.baseFontSize=this.labelModule.baseSize}}},{key:"updateShape",value:function updateShape(currentShape){if(currentShape===this.options.shape&&this.shape){this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt)}else{switch(this.options.shape){case"box":this.shape=new Box$1(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Circle$1(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new CircularImage(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new CustomShape(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Database(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Diamond$1(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Dot(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ellipse(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Icon(this.options,this.body,this.labelModule);break;case"image":this.shape=new Image$2(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Square(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Hexagon(this.options,this.body,this.labelModule);break;case"star":this.shape=new Star(this.options,this.body,this.labelModule);break;case"text":this.shape=new Text(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Triangle$1(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new TriangleDown(this.options,this.body,this.labelModule);break;default:this.shape=new Ellipse(this.options,this.body,this.labelModule);break}}this.needsRefresh()}},{key:"select",value:function select(){this.selected=true;this.needsRefresh()}},{key:"unselect",value:function unselect(){this.selected=false;this.needsRefresh()}},{key:"needsRefresh",value:function needsRefresh(){this.shape.refreshNeeded=true}},{key:"getTitle",value:function getTitle(){return this.options.title}},{key:"distanceToBorder",value:function distanceToBorder(ctx,angle){return this.shape.distanceToBorder(ctx,angle)}},{key:"isFixed",value:function isFixed(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function isSelected(){return this.selected}},{key:"getValue",value:function getValue(){return this.options.value}},{key:"getLabelSize",value:function getLabelSize(){return this.labelModule.size()}},{key:"setValueRange",value:function setValueRange(min2,max2,total){if(this.options.value!==void 0){var scale=this.options.scaling.customScalingFunction(min2,max2,total,this.options.value);var sizeDiff=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===true){var fontDiff=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+scale*fontDiff}this.options.size=this.options.scaling.min+scale*sizeDiff}else{this.options.size=this.baseSize;this.options.font.size=this.baseFontSize}this.updateLabelModule()}},{key:"draw",value:function draw(ctx){var values2=this.getFormattingValues();return this.shape.draw(ctx,this.x,this.y,this.selected,this.hover,values2)||{}}},{key:"updateBoundingBox",value:function updateBoundingBox(ctx){this.shape.updateBoundingBox(this.x,this.y,ctx)}},{key:"resize",value:function resize(ctx){var values2=this.getFormattingValues();this.shape.resize(ctx,this.selected,this.hover,values2)}},{key:"getItemsOnPoint",value:function getItemsOnPoint(point){var ret=[];if(this.labelModule.visible()){if(pointInRect(this.labelModule.getSize(),point)){ret.push({nodeId:this.id,labelId:0})}}if(pointInRect(this.shape.boundingBox,point)){ret.push({nodeId:this.id})}return ret}},{key:"isOverlappingWith",value:function isOverlappingWith(obj){return this.shape.left<obj.right&&this.shape.left+this.shape.width>obj.left&&this.shape.top<obj.bottom&&this.shape.top+this.shape.height>obj.top}},{key:"isBoundingBoxOverlappingWith",value:function isBoundingBoxOverlappingWith(obj){return this.shape.boundingBox.left<obj.right&&this.shape.boundingBox.right>obj.left&&this.shape.boundingBox.top<obj.bottom&&this.shape.boundingBox.bottom>obj.top}}],[{key:"checkOpacity",value:function checkOpacity(opacity){return 0<=opacity&&opacity<=1}},{key:"checkCoordinateOrigin",value:function checkCoordinateOrigin(origin){return origin===void 0||origin==="center"||origin==="top-left"}},{key:"updateGroupOptions",value:function updateGroupOptions(parentOptions,newOptions,groupList){var _context4;if(groupList===void 0)return;var group=parentOptions.group;if(newOptions!==void 0&&newOptions.group!==void 0&&group!==newOptions.group){throw new Error("updateGroupOptions: group values in options don't match.")}var hasGroup=typeof group==="number"||typeof group==="string"&&group!="";if(!hasGroup)return;var groupObj=groupList.get(group);if(groupObj.opacity!==void 0&&newOptions.opacity===void 0){if(!Node2.checkOpacity(groupObj.opacity)){console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+groupObj.opacity);groupObj.opacity=void 0}}var skipProperties=_filterInstanceProperty(_context4=_Object$getOwnPropertyNames(newOptions)).call(_context4,function(p){return newOptions[p]!=null});skipProperties.push("font");selectiveNotDeepExtend(skipProperties,parentOptions,groupObj);parentOptions.color=parseColor(parentOptions.color)}},{key:"parseOptions",value:function parseOptions(parentOptions,newOptions){var allowDeletion=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var globalOptions=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};var groupList=arguments.length>4?arguments[4]:void 0;var fields=["color","fixed","shadow"];selectiveNotDeepExtend(fields,parentOptions,newOptions,allowDeletion);Node2.checkMass(newOptions);if(parentOptions.opacity!==void 0){if(!Node2.checkOpacity(parentOptions.opacity)){console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+parentOptions.opacity);parentOptions.opacity=void 0}}if(newOptions.opacity!==void 0){if(!Node2.checkOpacity(newOptions.opacity)){console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+newOptions.opacity);newOptions.opacity=void 0}}if(newOptions.shapeProperties&&!Node2.checkCoordinateOrigin(newOptions.shapeProperties.coordinateOrigin)){console.error("Invalid option for node coordinateOrigin, found: "+newOptions.shapeProperties.coordinateOrigin)}mergeOptions(parentOptions,newOptions,"shadow",globalOptions);if(newOptions.color!==void 0&&newOptions.color!==null){var parsedColor=parseColor(newOptions.color);fillIfDefined(parentOptions.color,parsedColor)}else if(allowDeletion===true&&newOptions.color===null){parentOptions.color=bridgeObject(globalOptions.color)}if(newOptions.fixed!==void 0&&newOptions.fixed!==null){if(typeof newOptions.fixed==="boolean"){parentOptions.fixed.x=newOptions.fixed;parentOptions.fixed.y=newOptions.fixed}else{if(newOptions.fixed.x!==void 0&&typeof newOptions.fixed.x==="boolean"){parentOptions.fixed.x=newOptions.fixed.x}if(newOptions.fixed.y!==void 0&&typeof newOptions.fixed.y==="boolean"){parentOptions.fixed.y=newOptions.fixed.y}}}if(allowDeletion===true&&newOptions.font===null){parentOptions.font=bridgeObject(globalOptions.font)}Node2.updateGroupOptions(parentOptions,newOptions,groupList);if(newOptions.scaling!==void 0){mergeOptions(parentOptions.scaling,newOptions.scaling,"label",globalOptions.scaling)}}},{key:"checkMass",value:function checkMass(options,id2){if(options.mass!==void 0&&options.mass<=0){var strId="";if(id2!==void 0){strId=" in node id: "+id2}console.error("%cNegative or zero mass disallowed"+strId+", setting mass to 1.",VALIDATOR_PRINT_STYLE);options.mass=1}}}]);return Node2})();function _createForOfIteratorHelper$5(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$5(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$5(o,minLen){var _context4;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$5(o,minLen);var n=_sliceInstanceProperty(_context4=Object.prototype.toString.call(o)).call(_context4,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(o,minLen)}function _arrayLikeToArray$5(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var NodesHandler=(function(){function NodesHandler2(body,images,groups,layoutEngine){var _context,_this=this;_classCallCheck(this,NodesHandler2);this.body=body;this.images=images;this.groups=groups;this.layoutEngine=layoutEngine;this.body.functions.createNode=_bindInstanceProperty$1(_context=this.create).call(_context,this);this.nodesListeners={add:function add(event,params){_this.add(params.items)},update:function update(event,params){_this.update(params.items,params.data,params.oldData)},remove:function remove(event,params){_this.remove(params.items)}};this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:false,y:false},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:false,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:false,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:true,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:true,scaling:{min:10,max:30,label:{enabled:false,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function customScalingFunction(min2,max2,total,value){if(max2===min2){return .5}else{var scale=1/(max2-min2);return Math.max(0,(value-min2)*scale)}}},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:false,borderRadius:6,interpolation:true,useImageSize:false,useBorderWithImage:false,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0};if(this.defaultOptions.mass<=0){throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative"}this.options=bridgeObject(this.defaultOptions);this.bindEventListeners()}_createClass(NodesHandler2,[{key:"bindEventListeners",value:function bindEventListeners(){var _context2,_context3,_this2=this;this.body.emitter.on("refreshNodes",_bindInstanceProperty$1(_context2=this.refresh).call(_context2,this));this.body.emitter.on("refresh",_bindInstanceProperty$1(_context3=this.refresh).call(_context3,this));this.body.emitter.on("destroy",function(){forEach$4(_this2.nodesListeners,function(callback,event){if(_this2.body.data.nodes)_this2.body.data.nodes.off(event,callback)});delete _this2.body.functions.createNode;delete _this2.nodesListeners.add;delete _this2.nodesListeners.update;delete _this2.nodesListeners.remove;delete _this2.nodesListeners})}},{key:"setOptions",value:function setOptions(options){if(options!==void 0){Node.parseOptions(this.options,options);if(options.opacity!==void 0){if(_Number$isNaN(options.opacity)||!_Number$isFinite(options.opacity)||options.opacity<0||options.opacity>1){console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+options.opacity)}else{this.options.opacity=options.opacity}}if(options.shape!==void 0){for(var nodeId in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,nodeId)){this.body.nodes[nodeId].updateShape()}}}if(typeof options.font!=="undefined"||typeof options.widthConstraint!=="undefined"||typeof options.heightConstraint!=="undefined"){for(var _i=0,_Object$keys$1=_Object$keys(this.body.nodes);_i<_Object$keys$1.length;_i++){var _nodeId=_Object$keys$1[_i];this.body.nodes[_nodeId].updateLabelModule();this.body.nodes[_nodeId].needsRefresh()}}if(options.size!==void 0){for(var _nodeId2 in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,_nodeId2)){this.body.nodes[_nodeId2].needsRefresh()}}}if(options.hidden!==void 0||options.physics!==void 0){this.body.emitter.emit("_dataChanged")}}}},{key:"setData",value:function setData(nodes){var doNotEmit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var oldNodesData=this.body.data.nodes;if(isDataViewLike("id",nodes)){this.body.data.nodes=nodes}else if(_Array$isArray(nodes)){this.body.data.nodes=new DataSet;this.body.data.nodes.add(nodes)}else if(!nodes){this.body.data.nodes=new DataSet}else{throw new TypeError("Array or DataSet expected")}if(oldNodesData){forEach$4(this.nodesListeners,function(callback,event){oldNodesData.off(event,callback)})}this.body.nodes={};if(this.body.data.nodes){var me=this;forEach$4(this.nodesListeners,function(callback,event){me.body.data.nodes.on(event,callback)});var ids=this.body.data.nodes.getIds();this.add(ids,true)}if(doNotEmit===false){this.body.emitter.emit("_dataChanged")}}},{key:"add",value:function add(ids){var doNotEmit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var id2;var newNodes=[];for(var i2=0;i2<ids.length;i2++){id2=ids[i2];var properties=this.body.data.nodes.get(id2);var node2=this.create(properties);newNodes.push(node2);this.body.nodes[id2]=node2}this.layoutEngine.positionInitially(newNodes);if(doNotEmit===false){this.body.emitter.emit("_dataChanged")}}},{key:"update",value:function update(ids,changedData,oldData){var nodes=this.body.nodes;var dataChanged=false;for(var i2=0;i2<ids.length;i2++){var id2=ids[i2];var node2=nodes[id2];var data2=changedData[i2];if(node2!==void 0){if(node2.setOptions(data2)){dataChanged=true}}else{dataChanged=true;node2=this.create(data2);nodes[id2]=node2}}if(!dataChanged&&oldData!==void 0){dataChanged=_someInstanceProperty(changedData).call(changedData,function(newValue,index2){var oldValue=oldData[index2];return oldValue&&oldValue.level!==newValue.level})}if(dataChanged===true){this.body.emitter.emit("_dataChanged")}else{this.body.emitter.emit("_dataUpdated")}}},{key:"remove",value:function remove(ids){var nodes=this.body.nodes;for(var i2=0;i2<ids.length;i2++){var id2=ids[i2];delete nodes[id2]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function create2(properties){var constructorClass=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Node;return new constructorClass(properties,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function refresh(){var _this3=this;var clearPositions=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;forEach$4(this.body.nodes,function(node2,nodeId){var data2=_this3.body.data.nodes.get(nodeId);if(data2!==void 0){if(clearPositions===true){node2.setOptions({x:null,y:null})}node2.setOptions({fixed:false});node2.setOptions(data2)}})}},{key:"getPositions",value:function getPositions(ids){var dataArray={};if(ids!==void 0){if(_Array$isArray(ids)===true){for(var i2=0;i2<ids.length;i2++){if(this.body.nodes[ids[i2]]!==void 0){var node2=this.body.nodes[ids[i2]];dataArray[ids[i2]]={x:Math.round(node2.x),y:Math.round(node2.y)}}}}else{if(this.body.nodes[ids]!==void 0){var _node=this.body.nodes[ids];dataArray[ids]={x:Math.round(_node.x),y:Math.round(_node.y)}}}}else{for(var _i2=0;_i2<this.body.nodeIndices.length;_i2++){var _node2=this.body.nodes[this.body.nodeIndices[_i2]];dataArray[this.body.nodeIndices[_i2]]={x:Math.round(_node2.x),y:Math.round(_node2.y)}}}return dataArray}},{key:"getPosition",value:function getPosition(id2){if(id2==void 0){throw new TypeError("No id was specified for getPosition method.")}else if(this.body.nodes[id2]==void 0){throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(id2))}else{return{x:Math.round(this.body.nodes[id2].x),y:Math.round(this.body.nodes[id2].y)}}}},{key:"storePositions",value:function storePositions(){var dataArray=[];var dataset=this.body.data.nodes.getDataSet();var _iterator=_createForOfIteratorHelper$5(dataset.get()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var dsNode=_step.value;var id2=dsNode.id;var bodyNode=this.body.nodes[id2];var x=Math.round(bodyNode.x);var y=Math.round(bodyNode.y);if(dsNode.x!==x||dsNode.y!==y){dataArray.push({id:id2,x,y})}}}catch(err){_iterator.e(err)}finally{_iterator.f()}dataset.update(dataArray)}},{key:"getBoundingBox",value:function getBoundingBox(nodeId){if(this.body.nodes[nodeId]!==void 0){return this.body.nodes[nodeId].shape.boundingBox}}},{key:"getConnectedNodes",value:function getConnectedNodes(nodeId,direction){var nodeList=[];if(this.body.nodes[nodeId]!==void 0){var node2=this.body.nodes[nodeId];var nodeObj={};for(var i2=0;i2<node2.edges.length;i2++){var edge=node2.edges[i2];if(direction!=="to"&&edge.toId==node2.id){if(nodeObj[edge.fromId]===void 0){nodeList.push(edge.fromId);nodeObj[edge.fromId]=true}}else if(direction!=="from"&&edge.fromId==node2.id){if(nodeObj[edge.toId]===void 0){nodeList.push(edge.toId);nodeObj[edge.toId]=true}}}}return nodeList}},{key:"getConnectedEdges",value:function getConnectedEdges(nodeId){var edgeList=[];if(this.body.nodes[nodeId]!==void 0){var node2=this.body.nodes[nodeId];for(var i2=0;i2<node2.edges.length;i2++){edgeList.push(node2.edges[i2].id)}}else{console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",nodeId)}return edgeList}},{key:"moveNode",value:function moveNode(nodeId,x,y){var _this4=this;if(this.body.nodes[nodeId]!==void 0){this.body.nodes[nodeId].x=Number(x);this.body.nodes[nodeId].y=Number(y);_setTimeout(function(){_this4.body.emitter.emit("startSimulation")},0)}else{console.error("Node id supplied to moveNode does not exist. Provided: ",nodeId)}}}]);return NodesHandler2})();var hasOwn$1=hasOwnProperty_1;var isDataDescriptor$1=function(descriptor){return descriptor!==void 0&&(hasOwn$1(descriptor,"value")||hasOwn$1(descriptor,"writable"))};var $$2=_export;var call=functionCall;var isObject$2=isObject$m;var anObject$1=anObject$f;var isDataDescriptor=isDataDescriptor$1;var getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor;var getPrototypeOf=objectGetPrototypeOf$1;function get$5(target,propertyKey){var receiver=arguments.length<3?target:arguments[2];var descriptor,prototype;if(anObject$1(target)===receiver)return target[propertyKey];descriptor=getOwnPropertyDescriptorModule.f(target,propertyKey);if(descriptor)return isDataDescriptor(descriptor)?descriptor.value:descriptor.get===void 0?void 0:call(descriptor.get,receiver);if(isObject$2(prototype=getPrototypeOf(target)))return get$5(prototype,propertyKey,receiver)}$$2({target:"Reflect",stat:true},{get:get$5});var path$3=path$A;var get$4=path$3.Reflect.get;var parent$7=get$4;var get$3=parent$7;var parent$6=get$3;var get$2=parent$6;var parent$5=get$2;var get$1=parent$5;var get=get$1;var _Reflect$get=getDefaultExportFromCjs(get);var parent$4=getOwnPropertyDescriptor$4;var getOwnPropertyDescriptor$2=parent$4;var parent$3=getOwnPropertyDescriptor$2;var getOwnPropertyDescriptor$1=parent$3;var getOwnPropertyDescriptor=getOwnPropertyDescriptor$1;var _Object$getOwnPropertyDescriptor=getDefaultExportFromCjs(getOwnPropertyDescriptor);function _superPropBase(object2,property){while(!Object.prototype.hasOwnProperty.call(object2,property)){object2=_getPrototypeOf(object2);if(object2===null)break}return object2}function _get(){if(typeof Reflect!=="undefined"&&_Reflect$get){var _context;_get=_bindInstanceProperty(_context=_Reflect$get).call(_context)}else{_get=function _get2(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=_Object$getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(arguments.length<3?target:receiver)}return desc.value}}return _get.apply(this,arguments)}var $$1=_export;var $hypot=Math.hypot;var abs=Math.abs;var sqrt=Math.sqrt;var FORCED=!!$hypot&&$hypot(Infinity,NaN)!==Infinity;$$1({target:"Math",stat:true,forced:FORCED},{hypot:function hypot2(value1,value2){var sum=0;var i2=0;var aLen=arguments.length;var larg=0;var arg,div;while(i2<aLen){arg=abs(arguments[i2++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg}else if(arg>0){div=arg/larg;sum+=div*div}else sum+=arg}return larg===Infinity?Infinity:larg*sqrt(sum)}});var path$2=path$A;var hypot$2=path$2.Math.hypot;var parent$2=hypot$2;var hypot$1=parent$2;var hypot=hypot$1;var _Math$hypot=getDefaultExportFromCjs(hypot);function _createSuper$a(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$a();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$a(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var EndPoint=(function(){function EndPoint2(){_classCallCheck(this,EndPoint2)}_createClass(EndPoint2,null,[{key:"transform",value:(function transform(points,arrowData){if(!_Array$isArray(points)){points=[points]}var x=arrowData.point.x;var y=arrowData.point.y;var angle=arrowData.angle;var length2=arrowData.length;for(var i2=0;i2<points.length;++i2){var p=points[i2];var xt=p.x*Math.cos(angle)-p.y*Math.sin(angle);var yt=p.x*Math.sin(angle)+p.y*Math.cos(angle);p.x=x+length2*xt;p.y=y+length2*yt}})},{key:"drawPath",value:function drawPath(ctx,points){ctx.beginPath();ctx.moveTo(points[0].x,points[0].y);for(var i2=1;i2<points.length;++i2){ctx.lineTo(points[i2].x,points[i2].y)}ctx.closePath()}}]);return EndPoint2})();var Image$1=(function(_EndPoint){_inherits(Image2,_EndPoint);var _super=_createSuper$a(Image2);function Image2(){_classCallCheck(this,Image2);return _super.apply(this,arguments)}_createClass(Image2,null,[{key:"draw",value:(function draw(ctx,arrowData){if(arrowData.image){ctx.save();ctx.translate(arrowData.point.x,arrowData.point.y);ctx.rotate(Math.PI/2+arrowData.angle);var width=arrowData.imageWidth!=null?arrowData.imageWidth:arrowData.image.width;var height=arrowData.imageHeight!=null?arrowData.imageHeight:arrowData.image.height;arrowData.image.drawImageAtPosition(ctx,1,-width/2,0,width,height);ctx.restore()}return false})}]);return Image2})(EndPoint);var Arrow=(function(_EndPoint2){_inherits(Arrow2,_EndPoint2);var _super2=_createSuper$a(Arrow2);function Arrow2(){_classCallCheck(this,Arrow2);return _super2.apply(this,arguments)}_createClass(Arrow2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Arrow2})(EndPoint);var Crow=(function(){function Crow2(){_classCallCheck(this,Crow2)}_createClass(Crow2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Crow2})();var Curve=(function(){function Curve2(){_classCallCheck(this,Curve2)}_createClass(Curve2,null,[{key:"draw",value:(function draw(ctx,arrowData){var point={x:-.4,y:0};EndPoint.transform(point,arrowData);ctx.strokeStyle=ctx.fillStyle;ctx.fillStyle="rgba(0, 0, 0, 0)";var pi=Math.PI;var startAngle=arrowData.angle-pi/2;var endAngle=arrowData.angle+pi/2;ctx.beginPath();ctx.arc(point.x,point.y,arrowData.length*.4,startAngle,endAngle,false);ctx.stroke();return true})}]);return Curve2})();var InvertedCurve=(function(){function InvertedCurve2(){_classCallCheck(this,InvertedCurve2)}_createClass(InvertedCurve2,null,[{key:"draw",value:(function draw(ctx,arrowData){var point={x:-.3,y:0};EndPoint.transform(point,arrowData);ctx.strokeStyle=ctx.fillStyle;ctx.fillStyle="rgba(0, 0, 0, 0)";var pi=Math.PI;var startAngle=arrowData.angle+pi/2;var endAngle=arrowData.angle+3*pi/2;ctx.beginPath();ctx.arc(point.x,point.y,arrowData.length*.4,startAngle,endAngle,false);ctx.stroke();return true})}]);return InvertedCurve2})();var Triangle=(function(){function Triangle2(){_classCallCheck(this,Triangle2)}_createClass(Triangle2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Triangle2})();var InvertedTriangle=(function(){function InvertedTriangle2(){_classCallCheck(this,InvertedTriangle2)}_createClass(InvertedTriangle2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return InvertedTriangle2})();var Circle=(function(){function Circle2(){_classCallCheck(this,Circle2)}_createClass(Circle2,null,[{key:"draw",value:(function draw(ctx,arrowData){var point={x:-.4,y:0};EndPoint.transform(point,arrowData);drawCircle(ctx,point.x,point.y,arrowData.length*.4);return true})}]);return Circle2})();var Bar=(function(){function Bar2(){_classCallCheck(this,Bar2)}_createClass(Bar2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Bar2})();var Box=(function(){function Box2(){_classCallCheck(this,Box2)}_createClass(Box2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Box2})();var Diamond=(function(){function Diamond2(){_classCallCheck(this,Diamond2)}_createClass(Diamond2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Diamond2})();var Vee=(function(){function Vee2(){_classCallCheck(this,Vee2)}_createClass(Vee2,null,[{key:"draw",value:(function draw(ctx,arrowData){var points=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];EndPoint.transform(points,arrowData);EndPoint.drawPath(ctx,points);return true})}]);return Vee2})();var EndPoints=(function(){function EndPoints2(){_classCallCheck(this,EndPoints2)}_createClass(EndPoints2,null,[{key:"draw",value:(function draw(ctx,arrowData){var type;if(arrowData.type){type=arrowData.type.toLowerCase()}switch(type){case"image":return Image$1.draw(ctx,arrowData);case"circle":return Circle.draw(ctx,arrowData);case"box":return Box.draw(ctx,arrowData);case"crow":return Crow.draw(ctx,arrowData);case"curve":return Curve.draw(ctx,arrowData);case"diamond":return Diamond.draw(ctx,arrowData);case"inv_curve":return InvertedCurve.draw(ctx,arrowData);case"triangle":return Triangle.draw(ctx,arrowData);case"inv_triangle":return InvertedTriangle.draw(ctx,arrowData);case"bar":return Bar.draw(ctx,arrowData);case"vee":return Vee.draw(ctx,arrowData);case"arrow":default:return Arrow.draw(ctx,arrowData)}})}]);return EndPoints2})();function ownKeys$1(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor$1(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var _context2,_context3;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context2=ownKeys$1(Object(t),true)).call(_context2,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context3=ownKeys$1(Object(t))).call(_context3,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor$1(t,r2))})}return e}var EdgeBase=(function(){function EdgeBase2(options,_body,_labelModule){_classCallCheck(this,EdgeBase2);this._body=_body;this._labelModule=_labelModule;this.color={};this.colorDirty=true;this.hoverWidth=1.5;this.selectionWidth=2;this.setOptions(options);this.fromPoint=this.from;this.toPoint=this.to}_createClass(EdgeBase2,[{key:"connect",value:function connect(){this.from=this._body.nodes[this.options.from];this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function cleanup(){return false}},{key:"setOptions",value:function setOptions(options){this.options=options;this.from=this._body.nodes[this.options.from];this.to=this._body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function drawLine(ctx,values2,_selected,_hover){var viaNode=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();ctx.strokeStyle=this.getColor(ctx,values2);ctx.lineWidth=values2.width;if(values2.dashes!==false){this._drawDashedLine(ctx,values2,viaNode)}else{this._drawLine(ctx,values2,viaNode)}}},{key:"_drawLine",value:function _drawLine(ctx,values2,viaNode,fromPoint,toPoint){if(this.from!=this.to){this._line(ctx,values2,viaNode,fromPoint,toPoint)}else{var _this$_getCircleData=this._getCircleData(ctx),_this$_getCircleData2=_slicedToArray(_this$_getCircleData,3),x=_this$_getCircleData2[0],y=_this$_getCircleData2[1],radius=_this$_getCircleData2[2];this._circle(ctx,values2,x,y,radius)}}},{key:"_drawDashedLine",value:function _drawDashedLine(ctx,values2,viaNode,_fromPoint,_toPoint){ctx.lineCap="round";var pattern=_Array$isArray(values2.dashes)?values2.dashes:[5,5];if(ctx.setLineDash!==void 0){ctx.save();ctx.setLineDash(pattern);ctx.lineDashOffset=0;if(this.from!=this.to){this._line(ctx,values2,viaNode)}else{var _this$_getCircleData3=this._getCircleData(ctx),_this$_getCircleData4=_slicedToArray(_this$_getCircleData3,3),x=_this$_getCircleData4[0],y=_this$_getCircleData4[1],radius=_this$_getCircleData4[2];this._circle(ctx,values2,x,y,radius)}ctx.setLineDash([0]);ctx.lineDashOffset=0;ctx.restore()}else{if(this.from!=this.to){drawDashedLine(ctx,this.from.x,this.from.y,this.to.x,this.to.y,pattern)}else{var _this$_getCircleData5=this._getCircleData(ctx),_this$_getCircleData6=_slicedToArray(_this$_getCircleData5,3),_x=_this$_getCircleData6[0],_y=_this$_getCircleData6[1],_radius=_this$_getCircleData6[2];this._circle(ctx,values2,_x,_y,_radius)}this.enableShadow(ctx,values2);ctx.stroke();this.disableShadow(ctx,values2)}}},{key:"findBorderPosition",value:function findBorderPosition(node2,ctx,options){if(this.from!=this.to){return this._findBorderPosition(node2,ctx,options)}else{return this._findBorderPositionCircle(node2,ctx,options)}}},{key:"findBorderPositions",value:function findBorderPositions(ctx){if(this.from!=this.to){return{from:this._findBorderPosition(this.from,ctx),to:this._findBorderPosition(this.to,ctx)}}else{var _context;var _this$_getCircleData$=_sliceInstanceProperty(_context=this._getCircleData(ctx)).call(_context,0,2),_this$_getCircleData$2=_slicedToArray(_this$_getCircleData$,2),x=_this$_getCircleData$2[0],y=_this$_getCircleData$2[1];return{from:this._findBorderPositionCircle(this.from,ctx,{x,y,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,ctx,{x,y,low:.6,high:.8,direction:1})}}}},{key:"_getCircleData",value:function _getCircleData(ctx){var radius=this.options.selfReference.size;if(ctx!==void 0){if(this.from.shape.width===void 0){this.from.shape.resize(ctx)}}var coordinates=getSelfRefCoordinates(ctx,this.options.selfReference.angle,radius,this.from);return[coordinates.x,coordinates.y,radius]}},{key:"_pointOnCircle",value:function _pointOnCircle(x,y,radius,position){var angle=position*2*Math.PI;return{x:x+radius*Math.cos(angle),y:y-radius*Math.sin(angle)}}},{key:"_findBorderPositionCircle",value:function _findBorderPositionCircle(nearNode,ctx,options){var x=options.x;var y=options.y;var low2=options.low;var high=options.high;var direction=options.direction;var maxIterations=10;var radius=this.options.selfReference.size;var threshold=.05;var pos;var middle=(low2+high)*.5;var endPointOffset=0;if(this.options.arrowStrikethrough===true){if(direction===-1){endPointOffset=this.options.endPointOffset.from}else if(direction===1){endPointOffset=this.options.endPointOffset.to}}var iteration=0;do{middle=(low2+high)*.5;pos=this._pointOnCircle(x,y,radius,middle);var angle=Math.atan2(nearNode.y-pos.y,nearNode.x-pos.x);var distanceToBorder=nearNode.distanceToBorder(ctx,angle)+endPointOffset;var distanceToPoint=Math.sqrt(Math.pow(pos.x-nearNode.x,2)+Math.pow(pos.y-nearNode.y,2));var difference=distanceToBorder-distanceToPoint;if(Math.abs(difference)<threshold){break}else if(difference>0){if(direction>0){low2=middle}else{high=middle}}else{if(direction>0){high=middle}else{low2=middle}}++iteration}while(low2<=high&&iteration<maxIterations);return _objectSpread$1(_objectSpread$1({},pos),{},{t:middle})}},{key:"getLineWidth",value:function getLineWidth(selected,hover){if(selected===true){return Math.max(this.selectionWidth,.3/this._body.view.scale)}else if(hover===true){return Math.max(this.hoverWidth,.3/this._body.view.scale)}else{return Math.max(this.options.width,.3/this._body.view.scale)}}},{key:"getColor",value:function getColor(ctx,values2){if(values2.inheritsColor!==false){if(values2.inheritsColor==="both"&&this.from.id!==this.to.id){var grd=ctx.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);var fromColor=this.from.options.color.highlight.border;var toColor=this.to.options.color.highlight.border;if(this.from.selected===false&&this.to.selected===false){fromColor=overrideOpacity(this.from.options.color.border,values2.opacity);toColor=overrideOpacity(this.to.options.color.border,values2.opacity)}else if(this.from.selected===true&&this.to.selected===false){toColor=this.to.options.color.border}else if(this.from.selected===false&&this.to.selected===true){fromColor=this.from.options.color.border}grd.addColorStop(0,fromColor);grd.addColorStop(1,toColor);return grd}if(values2.inheritsColor==="to"){return overrideOpacity(this.to.options.color.border,values2.opacity)}else{return overrideOpacity(this.from.options.color.border,values2.opacity)}}else{return overrideOpacity(values2.color,values2.opacity)}}},{key:"_circle",value:function _circle(ctx,values2,x,y,radius){this.enableShadow(ctx,values2);var angleFrom=0;var angleTo=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var low2=this.options.selfReference.angle;var high=this.options.selfReference.angle+Math.PI;var pointTFrom=this._findBorderPositionCircle(this.from,ctx,{x,y,low:low2,high,direction:-1});var pointTTo=this._findBorderPositionCircle(this.from,ctx,{x,y,low:low2,high,direction:1});angleFrom=Math.atan2(pointTFrom.y-y,pointTFrom.x-x);angleTo=Math.atan2(pointTTo.y-y,pointTTo.x-x)}ctx.beginPath();ctx.arc(x,y,radius,angleFrom,angleTo,false);ctx.stroke();this.disableShadow(ctx,values2)}},{key:"getDistanceToEdge",value:function getDistanceToEdge(x1,y1,x2,y2,x3,y3){if(this.from!=this.to){return this._getDistanceToEdge(x1,y1,x2,y2,x3,y3)}else{var _this$_getCircleData7=this._getCircleData(void 0),_this$_getCircleData8=_slicedToArray(_this$_getCircleData7,3),x=_this$_getCircleData8[0],y=_this$_getCircleData8[1],radius=_this$_getCircleData8[2];var dx=x-x3;var dy=y-y3;return Math.abs(Math.sqrt(dx*dx+dy*dy)-radius)}}},{key:"_getDistanceToLine",value:function _getDistanceToLine(x1,y1,x2,y2,x3,y3){var px=x2-x1;var py=y2-y1;var something=px*px+py*py;var u=((x3-x1)*px+(y3-y1)*py)/something;if(u>1){u=1}else if(u<0){u=0}var x=x1+u*px;var y=y1+u*py;var dx=x-x3;var dy=y-y3;return Math.sqrt(dx*dx+dy*dy)}},{key:"getArrowData",value:function getArrowData(ctx,position,viaNode,_selected,_hover,values2){var angle;var arrowPoint;var node1;var node2;var reversed;var scaleFactor;var type;var lineWidth=values2.width;if(position==="from"){node1=this.from;node2=this.to;reversed=values2.fromArrowScale<0;scaleFactor=Math.abs(values2.fromArrowScale);type=values2.fromArrowType}else if(position==="to"){node1=this.to;node2=this.from;reversed=values2.toArrowScale<0;scaleFactor=Math.abs(values2.toArrowScale);type=values2.toArrowType}else{node1=this.to;node2=this.from;reversed=values2.middleArrowScale<0;scaleFactor=Math.abs(values2.middleArrowScale);type=values2.middleArrowType}var length2=15*scaleFactor+3*lineWidth;if(node1!=node2){var approximateEdgeLength=_Math$hypot(node1.x-node2.x,node1.y-node2.y);var relativeLength=length2/approximateEdgeLength;if(position!=="middle"){if(this.options.smooth.enabled===true){var pointT=this._findBorderPosition(node1,ctx,{via:viaNode});var guidePos=this.getPoint(pointT.t+relativeLength*(position==="from"?1:-1),viaNode);angle=Math.atan2(pointT.y-guidePos.y,pointT.x-guidePos.x);arrowPoint=pointT}else{angle=Math.atan2(node1.y-node2.y,node1.x-node2.x);arrowPoint=this._findBorderPosition(node1,ctx)}}else{var halfLength=(reversed?-relativeLength:relativeLength)/2;var guidePos1=this.getPoint(.5+halfLength,viaNode);var guidePos2=this.getPoint(.5-halfLength,viaNode);angle=Math.atan2(guidePos1.y-guidePos2.y,guidePos1.x-guidePos2.x);arrowPoint=this.getPoint(.5,viaNode)}}else{var _this$_getCircleData9=this._getCircleData(ctx),_this$_getCircleData10=_slicedToArray(_this$_getCircleData9,3),x=_this$_getCircleData10[0],y=_this$_getCircleData10[1],radius=_this$_getCircleData10[2];if(position==="from"){var low2=this.options.selfReference.angle;var high=this.options.selfReference.angle+Math.PI;var _pointT=this._findBorderPositionCircle(this.from,ctx,{x,y,low:low2,high,direction:-1});angle=_pointT.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI;arrowPoint=_pointT}else if(position==="to"){var _low=this.options.selfReference.angle;var _high=this.options.selfReference.angle+Math.PI;var _pointT2=this._findBorderPositionCircle(this.from,ctx,{x,y,low:_low,high:_high,direction:1});angle=_pointT2.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI;arrowPoint=_pointT2}else{var pos=this.options.selfReference.angle/(2*Math.PI);arrowPoint=this._pointOnCircle(x,y,radius,pos);angle=pos*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var xi=arrowPoint.x-length2*.9*Math.cos(angle);var yi=arrowPoint.y-length2*.9*Math.sin(angle);var arrowCore={x:xi,y:yi};return{point:arrowPoint,core:arrowCore,angle,length:length2,type}}},{key:"drawArrowHead",value:function drawArrowHead(ctx,values2,_selected,_hover,arrowData){ctx.strokeStyle=this.getColor(ctx,values2);ctx.fillStyle=ctx.strokeStyle;ctx.lineWidth=values2.width;var canFill=EndPoints.draw(ctx,arrowData);if(canFill){this.enableShadow(ctx,values2);_fillInstanceProperty(ctx).call(ctx);this.disableShadow(ctx,values2)}}},{key:"enableShadow",value:function enableShadow(ctx,values2){if(values2.shadow===true){ctx.shadowColor=values2.shadowColor;ctx.shadowBlur=values2.shadowSize;ctx.shadowOffsetX=values2.shadowX;ctx.shadowOffsetY=values2.shadowY}}},{key:"disableShadow",value:function disableShadow(ctx,values2){if(values2.shadow===true){ctx.shadowColor="rgba(0,0,0,0)";ctx.shadowBlur=0;ctx.shadowOffsetX=0;ctx.shadowOffsetY=0}}},{key:"drawBackground",value:function drawBackground(ctx,values2){if(values2.background!==false){var origCtxAttr={strokeStyle:ctx.strokeStyle,lineWidth:ctx.lineWidth,dashes:ctx.dashes};ctx.strokeStyle=values2.backgroundColor;ctx.lineWidth=values2.backgroundSize;this.setStrokeDashed(ctx,values2.backgroundDashes);ctx.stroke();ctx.strokeStyle=origCtxAttr.strokeStyle;ctx.lineWidth=origCtxAttr.lineWidth;ctx.dashes=origCtxAttr.dashes;this.setStrokeDashed(ctx,values2.dashes)}}},{key:"setStrokeDashed",value:function setStrokeDashed(ctx,dashes){if(dashes!==false){if(ctx.setLineDash!==void 0){var pattern=_Array$isArray(dashes)?dashes:[5,5];ctx.setLineDash(pattern)}else{console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}else{if(ctx.setLineDash!==void 0){ctx.setLineDash([])}else{console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}}}]);return EdgeBase2})();function ownKeys(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor$1(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var _context,_context2;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context=ownKeys(Object(t),true)).call(_context,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context2=ownKeys(Object(t))).call(_context2,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor$1(t,r2))})}return e}function _createSuper$9(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$9();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$9(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var BezierEdgeBase=(function(_EdgeBase){_inherits(BezierEdgeBase2,_EdgeBase);var _super=_createSuper$9(BezierEdgeBase2);function BezierEdgeBase2(options,body,labelModule){_classCallCheck(this,BezierEdgeBase2);return _super.call(this,options,body,labelModule)}_createClass(BezierEdgeBase2,[{key:"_findBorderPositionBezier",value:function _findBorderPositionBezier(nearNode,ctx){var viaNode=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();var maxIterations=10;var threshold=.2;var from2=false;var high=1;var low2=0;var node2=this.to;var pos;var middle;var endPointOffset=this.options.endPointOffset?this.options.endPointOffset.to:0;if(nearNode.id===this.from.id){node2=this.from;from2=true;endPointOffset=this.options.endPointOffset?this.options.endPointOffset.from:0}if(this.options.arrowStrikethrough===false){endPointOffset=0}var iteration=0;do{middle=(low2+high)*.5;pos=this.getPoint(middle,viaNode);var angle=Math.atan2(node2.y-pos.y,node2.x-pos.x);var distanceToBorder=node2.distanceToBorder(ctx,angle)+endPointOffset;var distanceToPoint=Math.sqrt(Math.pow(pos.x-node2.x,2)+Math.pow(pos.y-node2.y,2));var difference=distanceToBorder-distanceToPoint;if(Math.abs(difference)<threshold){break}else if(difference<0){if(from2===false){low2=middle}else{high=middle}}else{if(from2===false){high=middle}else{low2=middle}}++iteration}while(low2<=high&&iteration<maxIterations);return _objectSpread(_objectSpread({},pos),{},{t:middle})}},{key:"_getDistanceToBezierEdge",value:function _getDistanceToBezierEdge(x1,y1,x2,y2,x3,y3,via){var minDistance=1e9;var distance;var i2,t,x,y;var lastX=x1;var lastY=y1;for(i2=1;i2<10;i2++){t=.1*i2;x=Math.pow(1-t,2)*x1+2*t*(1-t)*via.x+Math.pow(t,2)*x2;y=Math.pow(1-t,2)*y1+2*t*(1-t)*via.y+Math.pow(t,2)*y2;if(i2>0){distance=this._getDistanceToLine(lastX,lastY,x,y,x3,y3);minDistance=distance<minDistance?distance:minDistance}lastX=x;lastY=y}return minDistance}},{key:"_bezierCurve",value:function _bezierCurve(ctx,values2,viaNode1,viaNode2){ctx.beginPath();ctx.moveTo(this.fromPoint.x,this.fromPoint.y);if(viaNode1!=null&&viaNode1.x!=null){if(viaNode2!=null&&viaNode2.x!=null){ctx.bezierCurveTo(viaNode1.x,viaNode1.y,viaNode2.x,viaNode2.y,this.toPoint.x,this.toPoint.y)}else{ctx.quadraticCurveTo(viaNode1.x,viaNode1.y,this.toPoint.x,this.toPoint.y)}}else{ctx.lineTo(this.toPoint.x,this.toPoint.y)}this.drawBackground(ctx,values2);this.enableShadow(ctx,values2);ctx.stroke();this.disableShadow(ctx,values2)}},{key:"getViaNode",value:function getViaNode(){return this._getViaCoordinates()}}]);return BezierEdgeBase2})(EdgeBase);function _createSuper$8(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$8();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$8(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var BezierEdgeDynamic=(function(_BezierEdgeBase){_inherits(BezierEdgeDynamic2,_BezierEdgeBase);var _super=_createSuper$8(BezierEdgeDynamic2);function BezierEdgeDynamic2(options,body,labelModule){var _this;_classCallCheck(this,BezierEdgeDynamic2);_this=_super.call(this,options,body,labelModule);_this.via=_this.via;_this._boundFunction=function(){_this.positionBezierNode()};_this._body.emitter.on("_repositionBezierNodes",_this._boundFunction);return _this}_createClass(BezierEdgeDynamic2,[{key:"setOptions",value:function setOptions(options){_get(_getPrototypeOf(BezierEdgeDynamic2.prototype),"setOptions",this).call(this,options);var physicsChange=false;if(this.options.physics!==options.physics){physicsChange=true}this.options=options;this.id=this.options.id;this.from=this._body.nodes[this.options.from];this.to=this._body.nodes[this.options.to];this.setupSupportNode();this.connect();if(physicsChange===true){this.via.setOptions({physics:this.options.physics});this.positionBezierNode()}}},{key:"connect",value:function connect(){this.from=this._body.nodes[this.options.from];this.to=this._body.nodes[this.options.to];if(this.from===void 0||this.to===void 0||this.options.physics===false){this.via.setOptions({physics:false})}else{if(this.from.id===this.to.id){this.via.setOptions({physics:false})}else{this.via.setOptions({physics:true})}}}},{key:"cleanup",value:function cleanup(){this._body.emitter.off("_repositionBezierNodes",this._boundFunction);if(this.via!==void 0){delete this._body.nodes[this.via.id];this.via=void 0;return true}return false}},{key:"setupSupportNode",value:function setupSupportNode(){if(this.via===void 0){var nodeId="edgeId:"+this.id;var node2=this._body.functions.createNode({id:nodeId,shape:"circle",physics:true,hidden:true});this._body.nodes[nodeId]=node2;this.via=node2;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function positionBezierNode(){if(this.via!==void 0&&this.from!==void 0&&this.to!==void 0){this.via.x=.5*(this.from.x+this.to.x);this.via.y=.5*(this.from.y+this.to.y)}else if(this.via!==void 0){this.via.x=0;this.via.y=0}}},{key:"_line",value:function _line(ctx,values2,viaNode){this._bezierCurve(ctx,values2,viaNode)}},{key:"_getViaCoordinates",value:function _getViaCoordinates(){return this.via}},{key:"getViaNode",value:function getViaNode(){return this.via}},{key:"getPoint",value:function getPoint(position){var viaNode=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var _this$_getCircleData=this._getCircleData(),_this$_getCircleData2=_slicedToArray(_this$_getCircleData,3),cx=_this$_getCircleData2[0],cy=_this$_getCircleData2[1],cr=_this$_getCircleData2[2];var a=2*Math.PI*(1-position);return{x:cx+cr*Math.sin(a),y:cy+cr-cr*(1-Math.cos(a))}}else{return{x:Math.pow(1-position,2)*this.fromPoint.x+2*position*(1-position)*viaNode.x+Math.pow(position,2)*this.toPoint.x,y:Math.pow(1-position,2)*this.fromPoint.y+2*position*(1-position)*viaNode.y+Math.pow(position,2)*this.toPoint.y}}}},{key:"_findBorderPosition",value:function _findBorderPosition(nearNode,ctx){return this._findBorderPositionBezier(nearNode,ctx,this.via)}},{key:"_getDistanceToEdge",value:function _getDistanceToEdge(x1,y1,x2,y2,x3,y3){return this._getDistanceToBezierEdge(x1,y1,x2,y2,x3,y3,this.via)}}]);return BezierEdgeDynamic2})(BezierEdgeBase);function _createSuper$7(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$7();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$7(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var BezierEdgeStatic=(function(_BezierEdgeBase){_inherits(BezierEdgeStatic2,_BezierEdgeBase);var _super=_createSuper$7(BezierEdgeStatic2);function BezierEdgeStatic2(options,body,labelModule){_classCallCheck(this,BezierEdgeStatic2);return _super.call(this,options,body,labelModule)}_createClass(BezierEdgeStatic2,[{key:"_line",value:function _line(ctx,values2,viaNode){this._bezierCurve(ctx,values2,viaNode)}},{key:"getViaNode",value:function getViaNode(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function _getViaCoordinates(){var factor=this.options.smooth.roundness;var type=this.options.smooth.type;var dx=Math.abs(this.from.x-this.to.x);var dy=Math.abs(this.from.y-this.to.y);if(type==="discrete"||type==="diagonalCross"){var stepX;var stepY;if(dx<=dy){stepX=stepY=factor*dy}else{stepX=stepY=factor*dx}if(this.from.x>this.to.x){stepX=-stepX}if(this.from.y>=this.to.y){stepY=-stepY}var xVia=this.from.x+stepX;var yVia=this.from.y+stepY;if(type==="discrete"){if(dx<=dy){xVia=dx<factor*dy?this.from.x:xVia}else{yVia=dy<factor*dx?this.from.y:yVia}}return{x:xVia,y:yVia}}else if(type==="straightCross"){var _stepX=(1-factor)*dx;var _stepY=(1-factor)*dy;if(dx<=dy){_stepX=0;if(this.from.y<this.to.y){_stepY=-_stepY}}else{if(this.from.x<this.to.x){_stepX=-_stepX}_stepY=0}return{x:this.to.x+_stepX,y:this.to.y+_stepY}}else if(type==="horizontal"){var _stepX2=(1-factor)*dx;if(this.from.x<this.to.x){_stepX2=-_stepX2}return{x:this.to.x+_stepX2,y:this.from.y}}else if(type==="vertical"){var _stepY2=(1-factor)*dy;if(this.from.y<this.to.y){_stepY2=-_stepY2}return{x:this.from.x,y:this.to.y+_stepY2}}else if(type==="curvedCW"){dx=this.to.x-this.from.x;dy=this.from.y-this.to.y;var radius=Math.sqrt(dx*dx+dy*dy);var pi=Math.PI;var originalAngle=Math.atan2(dy,dx);var myAngle=(originalAngle+(factor*.5+.5)*pi)%(2*pi);return{x:this.from.x+(factor*.5+.5)*radius*Math.sin(myAngle),y:this.from.y+(factor*.5+.5)*radius*Math.cos(myAngle)}}else if(type==="curvedCCW"){dx=this.to.x-this.from.x;dy=this.from.y-this.to.y;var _radius=Math.sqrt(dx*dx+dy*dy);var _pi=Math.PI;var _originalAngle=Math.atan2(dy,dx);var _myAngle=(_originalAngle+(-factor*.5+.5)*_pi)%(2*_pi);return{x:this.from.x+(factor*.5+.5)*_radius*Math.sin(_myAngle),y:this.from.y+(factor*.5+.5)*_radius*Math.cos(_myAngle)}}else{var _stepX3;var _stepY3;if(dx<=dy){_stepX3=_stepY3=factor*dy}else{_stepX3=_stepY3=factor*dx}if(this.from.x>this.to.x){_stepX3=-_stepX3}if(this.from.y>=this.to.y){_stepY3=-_stepY3}var _xVia=this.from.x+_stepX3;var _yVia=this.from.y+_stepY3;if(dx<=dy){if(this.from.x<=this.to.x){_xVia=this.to.x<_xVia?this.to.x:_xVia}else{_xVia=this.to.x>_xVia?this.to.x:_xVia}}else{if(this.from.y>=this.to.y){_yVia=this.to.y>_yVia?this.to.y:_yVia}else{_yVia=this.to.y<_yVia?this.to.y:_yVia}}return{x:_xVia,y:_yVia}}}},{key:"_findBorderPosition",value:function _findBorderPosition(nearNode,ctx){var options=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(nearNode,ctx,options.via)}},{key:"_getDistanceToEdge",value:function _getDistanceToEdge(x1,y1,x2,y2,x3,y3){var viaNode=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(x1,y1,x2,y2,x3,y3,viaNode)}},{key:"getPoint",value:function getPoint(position){var viaNode=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();var t=position;var x=Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*viaNode.x+Math.pow(t,2)*this.toPoint.x;var y=Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*viaNode.y+Math.pow(t,2)*this.toPoint.y;return{x,y}}}]);return BezierEdgeStatic2})(BezierEdgeBase);function _createSuper$6(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$6();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$6(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var CubicBezierEdgeBase=(function(_BezierEdgeBase){_inherits(CubicBezierEdgeBase2,_BezierEdgeBase);var _super=_createSuper$6(CubicBezierEdgeBase2);function CubicBezierEdgeBase2(options,body,labelModule){_classCallCheck(this,CubicBezierEdgeBase2);return _super.call(this,options,body,labelModule)}_createClass(CubicBezierEdgeBase2,[{key:"_getDistanceToBezierEdge2",value:function _getDistanceToBezierEdge2(x1,y1,x2,y2,x3,y3,via1,via2){var minDistance=1e9;var lastX=x1;var lastY=y1;var vec=[0,0,0,0];for(var i2=1;i2<10;i2++){var t=.1*i2;vec[0]=Math.pow(1-t,3);vec[1]=3*t*Math.pow(1-t,2);vec[2]=3*Math.pow(t,2)*(1-t);vec[3]=Math.pow(t,3);var x=vec[0]*x1+vec[1]*via1.x+vec[2]*via2.x+vec[3]*x2;var y=vec[0]*y1+vec[1]*via1.y+vec[2]*via2.y+vec[3]*y2;if(i2>0){var distance=this._getDistanceToLine(lastX,lastY,x,y,x3,y3);minDistance=distance<minDistance?distance:minDistance}lastX=x;lastY=y}return minDistance}}]);return CubicBezierEdgeBase2})(BezierEdgeBase);function _createSuper$5(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$5();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$5(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var CubicBezierEdge=(function(_CubicBezierEdgeBase){_inherits(CubicBezierEdge2,_CubicBezierEdgeBase);var _super=_createSuper$5(CubicBezierEdge2);function CubicBezierEdge2(options,body,labelModule){_classCallCheck(this,CubicBezierEdge2);return _super.call(this,options,body,labelModule)}_createClass(CubicBezierEdge2,[{key:"_line",value:function _line(ctx,values2,viaNodes){var via1=viaNodes[0];var via2=viaNodes[1];this._bezierCurve(ctx,values2,via1,via2)}},{key:"_getViaCoordinates",value:function _getViaCoordinates(){var dx=this.from.x-this.to.x;var dy=this.from.y-this.to.y;var x1;var y1;var x2;var y2;var roundness=this.options.smooth.roundness;if((Math.abs(dx)>Math.abs(dy)||this.options.smooth.forceDirection===true||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"){y1=this.from.y;y2=this.to.y;x1=this.from.x-roundness*dx;x2=this.to.x+roundness*dx}else{y1=this.from.y-roundness*dy;y2=this.to.y+roundness*dy;x1=this.from.x;x2=this.to.x}return[{x:x1,y:y1},{x:x2,y:y2}]}},{key:"getViaNode",value:function getViaNode(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function _findBorderPosition(nearNode,ctx){return this._findBorderPositionBezier(nearNode,ctx)}},{key:"_getDistanceToEdge",value:function _getDistanceToEdge(x1,y1,x2,y2,x3,y3){var _ref=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),_ref2=_slicedToArray(_ref,2),via1=_ref2[0],via2=_ref2[1];return this._getDistanceToBezierEdge2(x1,y1,x2,y2,x3,y3,via1,via2)}},{key:"getPoint",value:function getPoint(position){var _ref3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),_ref4=_slicedToArray(_ref3,2),via1=_ref4[0],via2=_ref4[1];var t=position;var vec=[Math.pow(1-t,3),3*t*Math.pow(1-t,2),3*Math.pow(t,2)*(1-t),Math.pow(t,3)];var x=vec[0]*this.fromPoint.x+vec[1]*via1.x+vec[2]*via2.x+vec[3]*this.toPoint.x;var y=vec[0]*this.fromPoint.y+vec[1]*via1.y+vec[2]*via2.y+vec[3]*this.toPoint.y;return{x,y}}}]);return CubicBezierEdge2})(CubicBezierEdgeBase);function _createSuper$4(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$4();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$4(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var StraightEdge=(function(_EdgeBase){_inherits(StraightEdge2,_EdgeBase);var _super=_createSuper$4(StraightEdge2);function StraightEdge2(options,body,labelModule){_classCallCheck(this,StraightEdge2);return _super.call(this,options,body,labelModule)}_createClass(StraightEdge2,[{key:"_line",value:function _line(ctx,values2){ctx.beginPath();ctx.moveTo(this.fromPoint.x,this.fromPoint.y);ctx.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(ctx,values2);ctx.stroke();this.disableShadow(ctx,values2)}},{key:"getViaNode",value:function getViaNode(){return void 0}},{key:"getPoint",value:function getPoint(position){return{x:(1-position)*this.fromPoint.x+position*this.toPoint.x,y:(1-position)*this.fromPoint.y+position*this.toPoint.y}}},{key:"_findBorderPosition",value:function _findBorderPosition(nearNode,ctx){var node1=this.to;var node2=this.from;if(nearNode.id===this.from.id){node1=this.from;node2=this.to}var angle=Math.atan2(node1.y-node2.y,node1.x-node2.x);var dx=node1.x-node2.x;var dy=node1.y-node2.y;var edgeSegmentLength=Math.sqrt(dx*dx+dy*dy);var toBorderDist=nearNode.distanceToBorder(ctx,angle);var toBorderPoint=(edgeSegmentLength-toBorderDist)/edgeSegmentLength;return{x:(1-toBorderPoint)*node2.x+toBorderPoint*node1.x,y:(1-toBorderPoint)*node2.y+toBorderPoint*node1.y,t:0}}},{key:"_getDistanceToEdge",value:function _getDistanceToEdge(x1,y1,x2,y2,x3,y3){return this._getDistanceToLine(x1,y1,x2,y2,x3,y3)}}]);return StraightEdge2})(EdgeBase);var Edge=(function(){function Edge2(options,body,imagelist,globalOptions,defaultOptions){_classCallCheck(this,Edge2);if(body===void 0){throw new Error("No body provided")}this.options=bridgeObject(globalOptions);this.globalOptions=globalOptions;this.defaultOptions=defaultOptions;this.body=body;this.imagelist=imagelist;this.id=void 0;this.fromId=void 0;this.toId=void 0;this.selected=false;this.hover=false;this.labelDirty=true;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.from=void 0;this.to=void 0;this.edgeType=void 0;this.connected=false;this.labelModule=new Label(this.body,this.options,true);this.setOptions(options)}_createClass(Edge2,[{key:"setOptions",value:function setOptions(options){if(!options){return}var affectsLayout=typeof options.physics!=="undefined"&&this.options.physics!==options.physics||typeof options.hidden!=="undefined"&&(this.options.hidden||false)!==(options.hidden||false)||typeof options.from!=="undefined"&&this.options.from!==options.from||typeof options.to!=="undefined"&&this.options.to!==options.to;Edge2.parseOptions(this.options,options,true,this.globalOptions);if(options.id!==void 0){this.id=options.id}if(options.from!==void 0){this.fromId=options.from}if(options.to!==void 0){this.toId=options.to}if(options.title!==void 0){this.title=options.title}if(options.value!==void 0){options.value=_parseFloat$1(options.value)}var pile=[options,this.options,this.defaultOptions];this.chooser=choosify("edge",pile);this.updateLabelModule(options);affectsLayout=this.updateEdgeType()||affectsLayout;this._setInteractionWidths();this.connect();return affectsLayout}},{key:"getFormattingValues",value:(function getFormattingValues(){var toArrow=this.options.arrows.to===true||this.options.arrows.to.enabled===true;var fromArrow=this.options.arrows.from===true||this.options.arrows.from.enabled===true;var middleArrow=this.options.arrows.middle===true||this.options.arrows.middle.enabled===true;var inheritsColor=this.options.color.inherit;var values2={toArrow,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:inheritsColor?void 0:this.options.color.color,inheritsColor,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(this.chooser===true){if(this.selected){var selectedWidth=this.options.selectionWidth;if(typeof selectedWidth==="function"){values2.width=selectedWidth(values2.width)}else if(typeof selectedWidth==="number"){values2.width+=selectedWidth}values2.width=Math.max(values2.width,.3/this.body.view.scale);values2.color=this.options.color.highlight;values2.shadow=this.options.shadow.enabled}else if(this.hover){var hoverWidth=this.options.hoverWidth;if(typeof hoverWidth==="function"){values2.width=hoverWidth(values2.width)}else if(typeof hoverWidth==="number"){values2.width+=hoverWidth}values2.width=Math.max(values2.width,.3/this.body.view.scale);values2.color=this.options.color.hover;values2.shadow=this.options.shadow.enabled}}else if(typeof this.chooser==="function"){this.chooser(values2,this.options.id,this.selected,this.hover);if(values2.color!==void 0){values2.inheritsColor=false}if(values2.shadow===false){if(values2.shadowColor!==this.options.shadow.color||values2.shadowSize!==this.options.shadow.size||values2.shadowX!==this.options.shadow.x||values2.shadowY!==this.options.shadow.y){values2.shadow=true}}}}else{values2.shadow=this.options.shadow.enabled;values2.width=Math.max(values2.width,.3/this.body.view.scale)}return values2})},{key:"updateLabelModule",value:function updateLabelModule(options){var pile=[options,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,pile);if(this.labelModule.baseSize!==void 0){this.baseFontSize=this.labelModule.baseSize}}},{key:"updateEdgeType",value:function updateEdgeType(){var smooth=this.options.smooth;var dataChanged=false;var changeInType=true;if(this.edgeType!==void 0){if(this.edgeType instanceof BezierEdgeDynamic&&smooth.enabled===true&&smooth.type==="dynamic"||this.edgeType instanceof CubicBezierEdge&&smooth.enabled===true&&smooth.type==="cubicBezier"||this.edgeType instanceof BezierEdgeStatic&&smooth.enabled===true&&smooth.type!=="dynamic"&&smooth.type!=="cubicBezier"||this.edgeType instanceof StraightEdge&&smooth.type.enabled===false){changeInType=false}if(changeInType===true){dataChanged=this.cleanup()}}if(changeInType===true){if(smooth.enabled===true){if(smooth.type==="dynamic"){dataChanged=true;this.edgeType=new BezierEdgeDynamic(this.options,this.body,this.labelModule)}else if(smooth.type==="cubicBezier"){this.edgeType=new CubicBezierEdge(this.options,this.body,this.labelModule)}else{this.edgeType=new BezierEdgeStatic(this.options,this.body,this.labelModule)}}else{this.edgeType=new StraightEdge(this.options,this.body,this.labelModule)}}else{this.edgeType.setOptions(this.options)}return dataChanged}},{key:"connect",value:function connect(){this.disconnect();this.from=this.body.nodes[this.fromId]||void 0;this.to=this.body.nodes[this.toId]||void 0;this.connected=this.from!==void 0&&this.to!==void 0;if(this.connected===true){this.from.attachEdge(this);this.to.attachEdge(this)}else{if(this.from){this.from.detachEdge(this)}if(this.to){this.to.detachEdge(this)}}this.edgeType.connect()}},{key:"disconnect",value:function disconnect(){if(this.from){this.from.detachEdge(this);this.from=void 0}if(this.to){this.to.detachEdge(this);this.to=void 0}this.connected=false}},{key:"getTitle",value:function getTitle(){return this.title}},{key:"isSelected",value:function isSelected(){return this.selected}},{key:"getValue",value:function getValue(){return this.options.value}},{key:"setValueRange",value:function setValueRange(min2,max2,total){if(this.options.value!==void 0){var scale=this.options.scaling.customScalingFunction(min2,max2,total,this.options.value);var widthDiff=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===true){var fontDiff=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+scale*fontDiff}this.options.width=this.options.scaling.min+scale*widthDiff}else{this.options.width=this.baseWidth;this.options.font.size=this.baseFontSize}this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function _setInteractionWidths(){if(typeof this.options.hoverWidth==="function"){this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width)}else{this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width}if(typeof this.options.selectionWidth==="function"){this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width)}else{this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}}},{key:"draw",value:function draw(ctx){var values2=this.getFormattingValues();if(values2.hidden){return}var viaNode=this.edgeType.getViaNode();this.edgeType.drawLine(ctx,values2,this.selected,this.hover,viaNode);this.drawLabel(ctx,viaNode)}},{key:"drawArrows",value:function drawArrows(ctx){var values2=this.getFormattingValues();if(values2.hidden){return}var viaNode=this.edgeType.getViaNode();var arrowData={};this.edgeType.fromPoint=this.edgeType.from;this.edgeType.toPoint=this.edgeType.to;if(values2.fromArrow){arrowData.from=this.edgeType.getArrowData(ctx,"from",viaNode,this.selected,this.hover,values2);if(values2.arrowStrikethrough===false)this.edgeType.fromPoint=arrowData.from.core;if(values2.fromArrowSrc){arrowData.from.image=this.imagelist.load(values2.fromArrowSrc)}if(values2.fromArrowImageWidth){arrowData.from.imageWidth=values2.fromArrowImageWidth}if(values2.fromArrowImageHeight){arrowData.from.imageHeight=values2.fromArrowImageHeight}}if(values2.toArrow){arrowData.to=this.edgeType.getArrowData(ctx,"to",viaNode,this.selected,this.hover,values2);if(values2.arrowStrikethrough===false)this.edgeType.toPoint=arrowData.to.core;if(values2.toArrowSrc){arrowData.to.image=this.imagelist.load(values2.toArrowSrc)}if(values2.toArrowImageWidth){arrowData.to.imageWidth=values2.toArrowImageWidth}if(values2.toArrowImageHeight){arrowData.to.imageHeight=values2.toArrowImageHeight}}if(values2.middleArrow){arrowData.middle=this.edgeType.getArrowData(ctx,"middle",viaNode,this.selected,this.hover,values2);if(values2.middleArrowSrc){arrowData.middle.image=this.imagelist.load(values2.middleArrowSrc)}if(values2.middleArrowImageWidth){arrowData.middle.imageWidth=values2.middleArrowImageWidth}if(values2.middleArrowImageHeight){arrowData.middle.imageHeight=values2.middleArrowImageHeight}}if(values2.fromArrow){this.edgeType.drawArrowHead(ctx,values2,this.selected,this.hover,arrowData.from)}if(values2.middleArrow){this.edgeType.drawArrowHead(ctx,values2,this.selected,this.hover,arrowData.middle)}if(values2.toArrow){this.edgeType.drawArrowHead(ctx,values2,this.selected,this.hover,arrowData.to)}}},{key:"drawLabel",value:function drawLabel(ctx,viaNode){if(this.options.label!==void 0){var node1=this.from;var node2=this.to;if(this.labelModule.differentState(this.selected,this.hover)){this.labelModule.getTextSize(ctx,this.selected,this.hover)}var point;if(node1.id!=node2.id){this.labelModule.pointToSelf=false;point=this.edgeType.getPoint(.5,viaNode);ctx.save();var rotationPoint=this._getRotation(ctx);if(rotationPoint.angle!=0){ctx.translate(rotationPoint.x,rotationPoint.y);ctx.rotate(rotationPoint.angle)}this.labelModule.draw(ctx,point.x,point.y,this.selected,this.hover);ctx.restore()}else{this.labelModule.pointToSelf=true;var coordinates=getSelfRefCoordinates(ctx,this.options.selfReference.angle,this.options.selfReference.size,node1);point=this._pointOnCircle(coordinates.x,coordinates.y,this.options.selfReference.size,this.options.selfReference.angle);this.labelModule.draw(ctx,point.x,point.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function getItemsOnPoint(point){var ret=[];if(this.labelModule.visible()){var rotationPoint=this._getRotation();if(pointInRect(this.labelModule.getSize(),point,rotationPoint)){ret.push({edgeId:this.id,labelId:0})}}var obj={left:point.x,top:point.y};if(this.isOverlappingWith(obj)){ret.push({edgeId:this.id})}return ret}},{key:"isOverlappingWith",value:function isOverlappingWith(obj){if(this.connected){var distMax=10;var xFrom=this.from.x;var yFrom=this.from.y;var xTo=this.to.x;var yTo=this.to.y;var xObj=obj.left;var yObj=obj.top;var dist=this.edgeType.getDistanceToEdge(xFrom,yFrom,xTo,yTo,xObj,yObj);return dist<distMax}else{return false}}},{key:"_getRotation",value:function _getRotation(ctx){var viaNode=this.edgeType.getViaNode();var point=this.edgeType.getPoint(.5,viaNode);if(ctx!==void 0){this.labelModule.calculateLabelSize(ctx,this.selected,this.hover,point.x,point.y)}var ret={x:point.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()){return ret}if(this.options.font.align==="horizontal"){return ret}var dy=this.from.y-this.to.y;var dx=this.from.x-this.to.x;var angle=Math.atan2(dy,dx);if(angle<-1&&dx<0||angle>0&&dx<0){angle+=Math.PI}ret.angle=angle;return ret}},{key:"_pointOnCircle",value:function _pointOnCircle(x,y,radius,angle){return{x:x+radius*Math.cos(angle),y:y-radius*Math.sin(angle)}}},{key:"select",value:function select(){this.selected=true}},{key:"unselect",value:function unselect(){this.selected=false}},{key:"cleanup",value:function cleanup(){return this.edgeType.cleanup()}},{key:"remove",value:function remove(){this.cleanup();this.disconnect();delete this.body.edges[this.id]}},{key:"endPointsValid",value:function endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function parseOptions(parentOptions,newOptions){var allowDeletion=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var globalOptions=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};var copyFromGlobals=arguments.length>4&&arguments[4]!==void 0?arguments[4]:false;var fields=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];selectiveDeepExtend(fields,parentOptions,newOptions,allowDeletion);if(newOptions.endPointOffset!==void 0&&newOptions.endPointOffset.from!==void 0){if(_Number$isFinite(newOptions.endPointOffset.from)){parentOptions.endPointOffset.from=newOptions.endPointOffset.from}else{parentOptions.endPointOffset.from=globalOptions.endPointOffset.from!==void 0?globalOptions.endPointOffset.from:0;console.error("endPointOffset.from is not a valid number")}}if(newOptions.endPointOffset!==void 0&&newOptions.endPointOffset.to!==void 0){if(_Number$isFinite(newOptions.endPointOffset.to)){parentOptions.endPointOffset.to=newOptions.endPointOffset.to}else{parentOptions.endPointOffset.to=globalOptions.endPointOffset.to!==void 0?globalOptions.endPointOffset.to:0;console.error("endPointOffset.to is not a valid number")}}if(isValidLabel(newOptions.label)){parentOptions.label=newOptions.label}else if(!isValidLabel(parentOptions.label)){parentOptions.label=void 0}mergeOptions(parentOptions,newOptions,"smooth",globalOptions);mergeOptions(parentOptions,newOptions,"shadow",globalOptions);mergeOptions(parentOptions,newOptions,"background",globalOptions);if(newOptions.dashes!==void 0&&newOptions.dashes!==null){parentOptions.dashes=newOptions.dashes}else if(allowDeletion===true&&newOptions.dashes===null){parentOptions.dashes=_Object$create$1(globalOptions.dashes)}if(newOptions.scaling!==void 0&&newOptions.scaling!==null){if(newOptions.scaling.min!==void 0){parentOptions.scaling.min=newOptions.scaling.min}if(newOptions.scaling.max!==void 0){parentOptions.scaling.max=newOptions.scaling.max}mergeOptions(parentOptions.scaling,newOptions.scaling,"label",globalOptions.scaling)}else if(allowDeletion===true&&newOptions.scaling===null){parentOptions.scaling=_Object$create$1(globalOptions.scaling)}if(newOptions.arrows!==void 0&&newOptions.arrows!==null){if(typeof newOptions.arrows==="string"){var arrows=newOptions.arrows.toLowerCase();parentOptions.arrows.to.enabled=_indexOfInstanceProperty(arrows).call(arrows,"to")!=-1;parentOptions.arrows.middle.enabled=_indexOfInstanceProperty(arrows).call(arrows,"middle")!=-1;parentOptions.arrows.from.enabled=_indexOfInstanceProperty(arrows).call(arrows,"from")!=-1}else if(_typeof$1(newOptions.arrows)==="object"){mergeOptions(parentOptions.arrows,newOptions.arrows,"to",globalOptions.arrows);mergeOptions(parentOptions.arrows,newOptions.arrows,"middle",globalOptions.arrows);mergeOptions(parentOptions.arrows,newOptions.arrows,"from",globalOptions.arrows)}else{throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+_JSON$stringify(newOptions.arrows))}}else if(allowDeletion===true&&newOptions.arrows===null){parentOptions.arrows=_Object$create$1(globalOptions.arrows)}if(newOptions.color!==void 0&&newOptions.color!==null){var fromColor=isString(newOptions.color)?{color:newOptions.color,highlight:newOptions.color,hover:newOptions.color,inherit:false,opacity:1}:newOptions.color;var toColor=parentOptions.color;if(copyFromGlobals){deepExtend(toColor,globalOptions.color,false,allowDeletion)}else{for(var i2 in toColor){if(Object.prototype.hasOwnProperty.call(toColor,i2)){delete toColor[i2]}}}if(isString(toColor)){toColor.color=toColor;toColor.highlight=toColor;toColor.hover=toColor;toColor.inherit=false;if(fromColor.opacity===void 0){toColor.opacity=1}}else{var colorsDefined=false;if(fromColor.color!==void 0){toColor.color=fromColor.color;colorsDefined=true}if(fromColor.highlight!==void 0){toColor.highlight=fromColor.highlight;colorsDefined=true}if(fromColor.hover!==void 0){toColor.hover=fromColor.hover;colorsDefined=true}if(fromColor.inherit!==void 0){toColor.inherit=fromColor.inherit}if(fromColor.opacity!==void 0){toColor.opacity=Math.min(1,Math.max(0,fromColor.opacity))}if(colorsDefined===true){toColor.inherit=false}else{if(toColor.inherit===void 0){toColor.inherit="from"}}}}else if(allowDeletion===true&&newOptions.color===null){parentOptions.color=bridgeObject(globalOptions.color)}if(allowDeletion===true&&newOptions.font===null){parentOptions.font=bridgeObject(globalOptions.font)}if(Object.prototype.hasOwnProperty.call(newOptions,"selfReferenceSize")){console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}");parentOptions.selfReference.size=newOptions.selfReferenceSize}}}]);return Edge2})();var EdgesHandler=(function(){function EdgesHandler2(body,images,groups){var _context,_this=this;_classCallCheck(this,EdgesHandler2);this.body=body;this.images=images;this.groups=groups;this.body.functions.createEdge=_bindInstanceProperty$1(_context=this.create).call(_context,this);this.edgesListeners={add:function add(event,params){_this.add(params.items)},update:function update(event,params){_this.update(params.items)},remove:function remove(event,params){_this.remove(params.items)}};this.options={};this.defaultOptions={arrows:{to:{enabled:false,scaleFactor:1,type:"arrow"},middle:{enabled:false,scaleFactor:1,type:"arrow"},from:{enabled:false,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:true,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:false,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:false,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:false,hoverWidth:1.5,label:void 0,labelHighlightBold:true,length:void 0,physics:true,scaling:{min:1,max:15,label:{enabled:true,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function customScalingFunction(min2,max2,total,value){if(max2===min2){return .5}else{var scale=1/(max2-min2);return Math.max(0,(value-min2)*scale)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:true},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:false,color:"rgba(111,111,111,1)",size:10,dashes:false},smooth:{enabled:true,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0};deepExtend(this.options,this.defaultOptions);this.bindEventListeners()}_createClass(EdgesHandler2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this2=this,_context2,_context3;this.body.emitter.on("_forceDisableDynamicCurves",function(type){var emit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(type==="dynamic"){type="continuous"}var dataChanged=false;for(var edgeId in _this2.body.edges){if(Object.prototype.hasOwnProperty.call(_this2.body.edges,edgeId)){var edge=_this2.body.edges[edgeId];var edgeData=_this2.body.data.edges.get(edgeId);if(edgeData!=null){var smoothOptions=edgeData.smooth;if(smoothOptions!==void 0){if(smoothOptions.enabled===true&&smoothOptions.type==="dynamic"){if(type===void 0){edge.setOptions({smooth:false})}else{edge.setOptions({smooth:{type}})}dataChanged=true}}}}}if(emit===true&&dataChanged===true){_this2.body.emitter.emit("_dataChanged")}});this.body.emitter.on("_dataUpdated",function(){_this2.reconnectEdges()});this.body.emitter.on("refreshEdges",_bindInstanceProperty$1(_context2=this.refresh).call(_context2,this));this.body.emitter.on("refresh",_bindInstanceProperty$1(_context3=this.refresh).call(_context3,this));this.body.emitter.on("destroy",function(){forEach$4(_this2.edgesListeners,function(callback,event){if(_this2.body.data.edges)_this2.body.data.edges.off(event,callback)});delete _this2.body.functions.createEdge;delete _this2.edgesListeners.add;delete _this2.edgesListeners.update;delete _this2.edgesListeners.remove;delete _this2.edgesListeners})}},{key:"setOptions",value:function setOptions(options){if(options!==void 0){Edge.parseOptions(this.options,options,true,this.defaultOptions,true);var dataChanged=false;if(options.smooth!==void 0){for(var edgeId in this.body.edges){if(Object.prototype.hasOwnProperty.call(this.body.edges,edgeId)){dataChanged=this.body.edges[edgeId].updateEdgeType()||dataChanged}}}if(options.font!==void 0){for(var _edgeId in this.body.edges){if(Object.prototype.hasOwnProperty.call(this.body.edges,_edgeId)){this.body.edges[_edgeId].updateLabelModule()}}}if(options.hidden!==void 0||options.physics!==void 0||dataChanged===true){this.body.emitter.emit("_dataChanged")}}}},{key:"setData",value:function setData(edges){var _this3=this;var doNotEmit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var oldEdgesData=this.body.data.edges;if(isDataViewLike("id",edges)){this.body.data.edges=edges}else if(_Array$isArray(edges)){this.body.data.edges=new DataSet;this.body.data.edges.add(edges)}else if(!edges){this.body.data.edges=new DataSet}else{throw new TypeError("Array or DataSet expected")}if(oldEdgesData){forEach$4(this.edgesListeners,function(callback,event){oldEdgesData.off(event,callback)})}this.body.edges={};if(this.body.data.edges){forEach$4(this.edgesListeners,function(callback,event){_this3.body.data.edges.on(event,callback)});var ids=this.body.data.edges.getIds();this.add(ids,true)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");if(doNotEmit===false){this.body.emitter.emit("_dataChanged")}}},{key:"add",value:function add(ids){var doNotEmit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var edges=this.body.edges;var edgesData=this.body.data.edges;for(var i2=0;i2<ids.length;i2++){var id2=ids[i2];var oldEdge=edges[id2];if(oldEdge){oldEdge.disconnect()}var data2=edgesData.get(id2,{showInternalIds:true});edges[id2]=this.create(data2)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");if(doNotEmit===false){this.body.emitter.emit("_dataChanged")}}},{key:"update",value:function update(ids){var edges=this.body.edges;var edgesData=this.body.data.edges;var dataChanged=false;for(var i2=0;i2<ids.length;i2++){var id2=ids[i2];var data2=edgesData.get(id2);var edge=edges[id2];if(edge!==void 0){edge.disconnect();dataChanged=edge.setOptions(data2)||dataChanged;edge.connect()}else{this.body.edges[id2]=this.create(data2);dataChanged=true}}if(dataChanged===true){this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");this.body.emitter.emit("_dataChanged")}else{this.body.emitter.emit("_dataUpdated")}}},{key:"remove",value:function remove(ids){var emit=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(ids.length===0)return;var edges=this.body.edges;forEach$4(ids,function(id2){var edge=edges[id2];if(edge!==void 0){edge.remove()}});if(emit){this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function refresh(){var _this4=this;forEach$4(this.body.edges,function(edge,edgeId){var data2=_this4.body.data.edges.get(edgeId);if(data2!==void 0){edge.setOptions(data2)}})}},{key:"create",value:function create2(properties){return new Edge(properties,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function reconnectEdges(){var id2;var nodes=this.body.nodes;var edges=this.body.edges;for(id2 in nodes){if(Object.prototype.hasOwnProperty.call(nodes,id2)){nodes[id2].edges=[]}}for(id2 in edges){if(Object.prototype.hasOwnProperty.call(edges,id2)){var edge=edges[id2];edge.from=null;edge.to=null;edge.connect()}}}},{key:"getConnectedNodes",value:function getConnectedNodes(edgeId){var nodeList=[];if(this.body.edges[edgeId]!==void 0){var edge=this.body.edges[edgeId];if(edge.fromId!==void 0){nodeList.push(edge.fromId)}if(edge.toId!==void 0){nodeList.push(edge.toId)}}return nodeList}},{key:"_updateState",value:function _updateState(){this._addMissingEdges();this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function _removeInvalidEdges(){var _this5=this;var edgesToDelete=[];forEach$4(this.body.edges,function(edge,id2){var toNode=_this5.body.nodes[edge.toId];var fromNode=_this5.body.nodes[edge.fromId];if(toNode!==void 0&&toNode.isCluster===true||fromNode!==void 0&&fromNode.isCluster===true){return}if(toNode===void 0||fromNode===void 0){edgesToDelete.push(id2)}});this.remove(edgesToDelete,false)}},{key:"_addMissingEdges",value:function _addMissingEdges(){var edgesData=this.body.data.edges;if(edgesData===void 0||edgesData===null){return}var edges=this.body.edges;var addIds=[];_forEachInstanceProperty(edgesData).call(edgesData,function(edgeData,edgeId){var edge=edges[edgeId];if(edge===void 0){addIds.push(edgeId)}});this.add(addIds,true)}}]);return EdgesHandler2})();var BarnesHutSolver=(function(){function BarnesHutSolver2(body,physicsBody,options){_classCallCheck(this,BarnesHutSolver2);this.body=body;this.physicsBody=physicsBody;this.barnesHutTree;this.setOptions(options);this._rng=Alea("BARNES HUT SOLVER")}_createClass(BarnesHutSolver2,[{key:"setOptions",value:function setOptions(options){this.options=options;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var node2;var nodes=this.body.nodes;var nodeIndices=this.physicsBody.physicsNodeIndices;var nodeCount=nodeIndices.length;var barnesHutTree=this._formBarnesHutTree(nodes,nodeIndices);this.barnesHutTree=barnesHutTree;for(var i2=0;i2<nodeCount;i2++){node2=nodes[nodeIndices[i2]];if(node2.options.mass>0){this._getForceContributions(barnesHutTree.root,node2)}}}}},{key:"_getForceContributions",value:function _getForceContributions(parentBranch,node2){this._getForceContribution(parentBranch.children.NW,node2);this._getForceContribution(parentBranch.children.NE,node2);this._getForceContribution(parentBranch.children.SW,node2);this._getForceContribution(parentBranch.children.SE,node2)}},{key:"_getForceContribution",value:function _getForceContribution(parentBranch,node2){if(parentBranch.childrenCount>0){var dx=parentBranch.centerOfMass.x-node2.x;var dy=parentBranch.centerOfMass.y-node2.y;var distance=Math.sqrt(dx*dx+dy*dy);if(distance*parentBranch.calcSize>this.thetaInversed){this._calculateForces(distance,dx,dy,node2,parentBranch)}else{if(parentBranch.childrenCount===4){this._getForceContributions(parentBranch,node2)}else{if(parentBranch.children.data.id!=node2.id){this._calculateForces(distance,dx,dy,node2,parentBranch)}}}}}},{key:"_calculateForces",value:function _calculateForces(distance,dx,dy,node2,parentBranch){if(distance===0){distance=.1;dx=distance}if(this.overlapAvoidanceFactor<1&&node2.shape.radius){distance=Math.max(.1+this.overlapAvoidanceFactor*node2.shape.radius,distance-node2.shape.radius)}var gravityForce=this.options.gravitationalConstant*parentBranch.mass*node2.options.mass/Math.pow(distance,3);var fx=dx*gravityForce;var fy=dy*gravityForce;this.physicsBody.forces[node2.id].x+=fx;this.physicsBody.forces[node2.id].y+=fy}},{key:"_formBarnesHutTree",value:function _formBarnesHutTree(nodes,nodeIndices){var node2;var nodeCount=nodeIndices.length;var minX=nodes[nodeIndices[0]].x;var minY=nodes[nodeIndices[0]].y;var maxX=nodes[nodeIndices[0]].x;var maxY=nodes[nodeIndices[0]].y;for(var i2=1;i2<nodeCount;i2++){var _node=nodes[nodeIndices[i2]];var x=_node.x;var y=_node.y;if(_node.options.mass>0){if(x<minX){minX=x}if(x>maxX){maxX=x}if(y<minY){minY=y}if(y>maxY){maxY=y}}}var sizeDiff=Math.abs(maxX-minX)-Math.abs(maxY-minY);if(sizeDiff>0){minY-=.5*sizeDiff;maxY+=.5*sizeDiff}else{minX+=.5*sizeDiff;maxX-=.5*sizeDiff}var minimumTreeSize=1e-5;var rootSize=Math.max(minimumTreeSize,Math.abs(maxX-minX));var halfRootSize=.5*rootSize;var centerX=.5*(minX+maxX),centerY=.5*(minY+maxY);var barnesHutTree={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:centerX-halfRootSize,maxX:centerX+halfRootSize,minY:centerY-halfRootSize,maxY:centerY+halfRootSize},size:rootSize,calcSize:1/rootSize,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(barnesHutTree.root);for(var _i=0;_i<nodeCount;_i++){node2=nodes[nodeIndices[_i]];if(node2.options.mass>0){this._placeInTree(barnesHutTree.root,node2)}}return barnesHutTree}},{key:"_updateBranchMass",value:function _updateBranchMass(parentBranch,node2){var centerOfMass=parentBranch.centerOfMass;var totalMass=parentBranch.mass+node2.options.mass;var totalMassInv=1/totalMass;centerOfMass.x=centerOfMass.x*parentBranch.mass+node2.x*node2.options.mass;centerOfMass.x*=totalMassInv;centerOfMass.y=centerOfMass.y*parentBranch.mass+node2.y*node2.options.mass;centerOfMass.y*=totalMassInv;parentBranch.mass=totalMass;var biggestSize=Math.max(Math.max(node2.height,node2.radius),node2.width);parentBranch.maxWidth=parentBranch.maxWidth<biggestSize?biggestSize:parentBranch.maxWidth}},{key:"_placeInTree",value:function _placeInTree(parentBranch,node2,skipMassUpdate){if(skipMassUpdate!=true||skipMassUpdate===void 0){this._updateBranchMass(parentBranch,node2)}var range=parentBranch.children.NW.range;var region;if(range.maxX>node2.x){if(range.maxY>node2.y){region="NW"}else{region="SW"}}else{if(range.maxY>node2.y){region="NE"}else{region="SE"}}this._placeInRegion(parentBranch,node2,region)}},{key:"_placeInRegion",value:function _placeInRegion(parentBranch,node2,region){var children=parentBranch.children[region];switch(children.childrenCount){case 0:children.children.data=node2;children.childrenCount=1;this._updateBranchMass(children,node2);break;case 1:if(children.children.data.x===node2.x&&children.children.data.y===node2.y){node2.x+=this._rng();node2.y+=this._rng()}else{this._splitBranch(children);this._placeInTree(children,node2)}break;case 4:this._placeInTree(children,node2);break}}},{key:"_splitBranch",value:function _splitBranch(parentBranch){var containedNode=null;if(parentBranch.childrenCount===1){containedNode=parentBranch.children.data;parentBranch.mass=0;parentBranch.centerOfMass.x=0;parentBranch.centerOfMass.y=0}parentBranch.childrenCount=4;parentBranch.children.data=null;this._insertRegion(parentBranch,"NW");this._insertRegion(parentBranch,"NE");this._insertRegion(parentBranch,"SW");this._insertRegion(parentBranch,"SE");if(containedNode!=null){this._placeInTree(parentBranch,containedNode)}}},{key:"_insertRegion",value:function _insertRegion(parentBranch,region){var minX,maxX,minY,maxY;var childSize=.5*parentBranch.size;switch(region){case"NW":minX=parentBranch.range.minX;maxX=parentBranch.range.minX+childSize;minY=parentBranch.range.minY;maxY=parentBranch.range.minY+childSize;break;case"NE":minX=parentBranch.range.minX+childSize;maxX=parentBranch.range.maxX;minY=parentBranch.range.minY;maxY=parentBranch.range.minY+childSize;break;case"SW":minX=parentBranch.range.minX;maxX=parentBranch.range.minX+childSize;minY=parentBranch.range.minY+childSize;maxY=parentBranch.range.maxY;break;case"SE":minX=parentBranch.range.minX+childSize;maxX=parentBranch.range.maxX;minY=parentBranch.range.minY+childSize;maxY=parentBranch.range.maxY;break}parentBranch.children[region]={centerOfMass:{x:0,y:0},mass:0,range:{minX,maxX,minY,maxY},size:.5*parentBranch.size,calcSize:2*parentBranch.calcSize,children:{data:null},maxWidth:0,level:parentBranch.level+1,childrenCount:0}}},{key:"_debug",value:function _debug(ctx,color){if(this.barnesHutTree!==void 0){ctx.lineWidth=1;this._drawBranch(this.barnesHutTree.root,ctx,color)}}},{key:"_drawBranch",value:function _drawBranch(branch,ctx,color){if(color===void 0){color="#FF0000"}if(branch.childrenCount===4){this._drawBranch(branch.children.NW,ctx);this._drawBranch(branch.children.NE,ctx);this._drawBranch(branch.children.SE,ctx);this._drawBranch(branch.children.SW,ctx)}ctx.strokeStyle=color;ctx.beginPath();ctx.moveTo(branch.range.minX,branch.range.minY);ctx.lineTo(branch.range.maxX,branch.range.minY);ctx.stroke();ctx.beginPath();ctx.moveTo(branch.range.maxX,branch.range.minY);ctx.lineTo(branch.range.maxX,branch.range.maxY);ctx.stroke();ctx.beginPath();ctx.moveTo(branch.range.maxX,branch.range.maxY);ctx.lineTo(branch.range.minX,branch.range.maxY);ctx.stroke();ctx.beginPath();ctx.moveTo(branch.range.minX,branch.range.maxY);ctx.lineTo(branch.range.minX,branch.range.minY);ctx.stroke()}}]);return BarnesHutSolver2})();var RepulsionSolver=(function(){function RepulsionSolver2(body,physicsBody,options){_classCallCheck(this,RepulsionSolver2);this._rng=Alea("REPULSION SOLVER");this.body=body;this.physicsBody=physicsBody;this.setOptions(options)}_createClass(RepulsionSolver2,[{key:"setOptions",value:function setOptions(options){this.options=options}},{key:"solve",value:function solve(){var dx,dy,distance,fx,fy,repulsingForce,node1,node2;var nodes=this.body.nodes;var nodeIndices=this.physicsBody.physicsNodeIndices;var forces=this.physicsBody.forces;var nodeDistance=this.options.nodeDistance;var a=-2/3/nodeDistance;var b=4/3;for(var i2=0;i2<nodeIndices.length-1;i2++){node1=nodes[nodeIndices[i2]];for(var j=i2+1;j<nodeIndices.length;j++){node2=nodes[nodeIndices[j]];dx=node2.x-node1.x;dy=node2.y-node1.y;distance=Math.sqrt(dx*dx+dy*dy);if(distance===0){distance=.1*this._rng();dx=distance}if(distance<2*nodeDistance){if(distance<.5*nodeDistance){repulsingForce=1}else{repulsingForce=a*distance+b}repulsingForce=repulsingForce/distance;fx=dx*repulsingForce;fy=dy*repulsingForce;forces[node1.id].x-=fx;forces[node1.id].y-=fy;forces[node2.id].x+=fx;forces[node2.id].y+=fy}}}}}]);return RepulsionSolver2})();var HierarchicalRepulsionSolver=(function(){function HierarchicalRepulsionSolver2(body,physicsBody,options){_classCallCheck(this,HierarchicalRepulsionSolver2);this.body=body;this.physicsBody=physicsBody;this.setOptions(options)}_createClass(HierarchicalRepulsionSolver2,[{key:"setOptions",value:function setOptions(options){this.options=options;this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function solve(){var nodes=this.body.nodes;var nodeIndices=this.physicsBody.physicsNodeIndices;var forces=this.physicsBody.forces;var nodeDistance=this.options.nodeDistance;for(var i2=0;i2<nodeIndices.length-1;i2++){var node1=nodes[nodeIndices[i2]];for(var j=i2+1;j<nodeIndices.length;j++){var node2=nodes[nodeIndices[j]];if(node1.level===node2.level){var theseNodesDistance=nodeDistance+this.overlapAvoidanceFactor*((node1.shape.radius||0)/2+(node2.shape.radius||0)/2);var dx=node2.x-node1.x;var dy=node2.y-node1.y;var distance=Math.sqrt(dx*dx+dy*dy);var steepness=.05;var repulsingForce=void 0;if(distance<theseNodesDistance){repulsingForce=-Math.pow(steepness*distance,2)+Math.pow(steepness*theseNodesDistance,2)}else{repulsingForce=0}if(distance!==0){repulsingForce=repulsingForce/distance}var fx=dx*repulsingForce;var fy=dy*repulsingForce;forces[node1.id].x-=fx;forces[node1.id].y-=fy;forces[node2.id].x+=fx;forces[node2.id].y+=fy}}}}}]);return HierarchicalRepulsionSolver2})();var SpringSolver=(function(){function SpringSolver2(body,physicsBody,options){_classCallCheck(this,SpringSolver2);this.body=body;this.physicsBody=physicsBody;this.setOptions(options)}_createClass(SpringSolver2,[{key:"setOptions",value:function setOptions(options){this.options=options}},{key:"solve",value:function solve(){var edgeLength,edge;var edgeIndices=this.physicsBody.physicsEdgeIndices;var edges=this.body.edges;var node1,node2,node3;for(var i2=0;i2<edgeIndices.length;i2++){edge=edges[edgeIndices[i2]];if(edge.connected===true&&edge.toId!==edge.fromId){if(this.body.nodes[edge.toId]!==void 0&&this.body.nodes[edge.fromId]!==void 0){if(edge.edgeType.via!==void 0){edgeLength=edge.options.length===void 0?this.options.springLength:edge.options.length;node1=edge.to;node2=edge.edgeType.via;node3=edge.from;this._calculateSpringForce(node1,node2,.5*edgeLength);this._calculateSpringForce(node2,node3,.5*edgeLength)}else{edgeLength=edge.options.length===void 0?this.options.springLength*1.5:edge.options.length;this._calculateSpringForce(edge.from,edge.to,edgeLength)}}}}}},{key:"_calculateSpringForce",value:function _calculateSpringForce(node1,node2,edgeLength){var dx=node1.x-node2.x;var dy=node1.y-node2.y;var distance=Math.max(Math.sqrt(dx*dx+dy*dy),.01);var springForce=this.options.springConstant*(edgeLength-distance)/distance;var fx=dx*springForce;var fy=dy*springForce;if(this.physicsBody.forces[node1.id]!==void 0){this.physicsBody.forces[node1.id].x+=fx;this.physicsBody.forces[node1.id].y+=fy}if(this.physicsBody.forces[node2.id]!==void 0){this.physicsBody.forces[node2.id].x-=fx;this.physicsBody.forces[node2.id].y-=fy}}}]);return SpringSolver2})();var HierarchicalSpringSolver=(function(){function HierarchicalSpringSolver2(body,physicsBody,options){_classCallCheck(this,HierarchicalSpringSolver2);this.body=body;this.physicsBody=physicsBody;this.setOptions(options)}_createClass(HierarchicalSpringSolver2,[{key:"setOptions",value:function setOptions(options){this.options=options}},{key:"solve",value:function solve(){var edgeLength,edge;var dx,dy,fx,fy,springForce,distance;var edges=this.body.edges;var factor=.5;var edgeIndices=this.physicsBody.physicsEdgeIndices;var nodeIndices=this.physicsBody.physicsNodeIndices;var forces=this.physicsBody.forces;for(var i2=0;i2<nodeIndices.length;i2++){var nodeId=nodeIndices[i2];forces[nodeId].springFx=0;forces[nodeId].springFy=0}for(var _i=0;_i<edgeIndices.length;_i++){edge=edges[edgeIndices[_i]];if(edge.connected===true){edgeLength=edge.options.length===void 0?this.options.springLength:edge.options.length;dx=edge.from.x-edge.to.x;dy=edge.from.y-edge.to.y;distance=Math.sqrt(dx*dx+dy*dy);distance=distance===0?.01:distance;springForce=this.options.springConstant*(edgeLength-distance)/distance;fx=dx*springForce;fy=dy*springForce;if(edge.to.level!=edge.from.level){if(forces[edge.toId]!==void 0){forces[edge.toId].springFx-=fx;forces[edge.toId].springFy-=fy}if(forces[edge.fromId]!==void 0){forces[edge.fromId].springFx+=fx;forces[edge.fromId].springFy+=fy}}else{if(forces[edge.toId]!==void 0){forces[edge.toId].x-=factor*fx;forces[edge.toId].y-=factor*fy}if(forces[edge.fromId]!==void 0){forces[edge.fromId].x+=factor*fx;forces[edge.fromId].y+=factor*fy}}}}springForce=1;var springFx,springFy;for(var _i2=0;_i2<nodeIndices.length;_i2++){var _nodeId=nodeIndices[_i2];springFx=Math.min(springForce,Math.max(-springForce,forces[_nodeId].springFx));springFy=Math.min(springForce,Math.max(-springForce,forces[_nodeId].springFy));forces[_nodeId].x+=springFx;forces[_nodeId].y+=springFy}var totalFx=0;var totalFy=0;for(var _i3=0;_i3<nodeIndices.length;_i3++){var _nodeId2=nodeIndices[_i3];totalFx+=forces[_nodeId2].x;totalFy+=forces[_nodeId2].y}var correctionFx=totalFx/nodeIndices.length;var correctionFy=totalFy/nodeIndices.length;for(var _i4=0;_i4<nodeIndices.length;_i4++){var _nodeId3=nodeIndices[_i4];forces[_nodeId3].x-=correctionFx;forces[_nodeId3].y-=correctionFy}}}]);return HierarchicalSpringSolver2})();var CentralGravitySolver=(function(){function CentralGravitySolver2(body,physicsBody,options){_classCallCheck(this,CentralGravitySolver2);this.body=body;this.physicsBody=physicsBody;this.setOptions(options)}_createClass(CentralGravitySolver2,[{key:"setOptions",value:function setOptions(options){this.options=options}},{key:"solve",value:function solve(){var dx,dy,distance,node2;var nodes=this.body.nodes;var nodeIndices=this.physicsBody.physicsNodeIndices;var forces=this.physicsBody.forces;for(var i2=0;i2<nodeIndices.length;i2++){var nodeId=nodeIndices[i2];node2=nodes[nodeId];dx=-node2.x;dy=-node2.y;distance=Math.sqrt(dx*dx+dy*dy);this._calculateForces(distance,dx,dy,forces,node2)}}},{key:"_calculateForces",value:function _calculateForces(distance,dx,dy,forces,node2){var gravityForce=distance===0?0:this.options.centralGravity/distance;forces[node2.id].x=dx*gravityForce;forces[node2.id].y=dy*gravityForce}}]);return CentralGravitySolver2})();function _createSuper$3(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$3();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$3(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var ForceAtlas2BasedRepulsionSolver=(function(_BarnesHutSolver){_inherits(ForceAtlas2BasedRepulsionSolver2,_BarnesHutSolver);var _super=_createSuper$3(ForceAtlas2BasedRepulsionSolver2);function ForceAtlas2BasedRepulsionSolver2(body,physicsBody,options){var _this;_classCallCheck(this,ForceAtlas2BasedRepulsionSolver2);_this=_super.call(this,body,physicsBody,options);_this._rng=Alea("FORCE ATLAS 2 BASED REPULSION SOLVER");return _this}_createClass(ForceAtlas2BasedRepulsionSolver2,[{key:"_calculateForces",value:function _calculateForces(distance,dx,dy,node2,parentBranch){if(distance===0){distance=.1*this._rng();dx=distance}if(this.overlapAvoidanceFactor<1&&node2.shape.radius){distance=Math.max(.1+this.overlapAvoidanceFactor*node2.shape.radius,distance-node2.shape.radius)}var degree=node2.edges.length+1;var gravityForce=this.options.gravitationalConstant*parentBranch.mass*node2.options.mass*degree/Math.pow(distance,2);var fx=dx*gravityForce;var fy=dy*gravityForce;this.physicsBody.forces[node2.id].x+=fx;this.physicsBody.forces[node2.id].y+=fy}}]);return ForceAtlas2BasedRepulsionSolver2})(BarnesHutSolver);function _createSuper$2(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$2();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$2(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var ForceAtlas2BasedCentralGravitySolver=(function(_CentralGravitySolver){_inherits(ForceAtlas2BasedCentralGravitySolver2,_CentralGravitySolver);var _super=_createSuper$2(ForceAtlas2BasedCentralGravitySolver2);function ForceAtlas2BasedCentralGravitySolver2(body,physicsBody,options){_classCallCheck(this,ForceAtlas2BasedCentralGravitySolver2);return _super.call(this,body,physicsBody,options)}_createClass(ForceAtlas2BasedCentralGravitySolver2,[{key:"_calculateForces",value:function _calculateForces(distance,dx,dy,forces,node2){if(distance>0){var degree=node2.edges.length+1;var gravityForce=this.options.centralGravity*degree*node2.options.mass;forces[node2.id].x=dx*gravityForce;forces[node2.id].y=dy*gravityForce}}}]);return ForceAtlas2BasedCentralGravitySolver2})(CentralGravitySolver);var PhysicsEngine=(function(){function PhysicsEngine2(body){_classCallCheck(this,PhysicsEngine2);this.body=body;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=true;this.simulationInterval=1e3/60;this.requiresTimeout=true;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=void 0;this.adaptiveTimestep=false;this.adaptiveTimestepEnabled=false;this.adaptiveCounter=0;this.adaptiveInterval=3;this.stabilized=false;this.startedStabilization=false;this.stabilizationIterations=0;this.ready=false;this.options={};this.defaultOptions={enabled:true,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:true,iterations:1e3,updateInterval:50,onlyDynamicEdges:false,fit:true},timestep:.5,adaptiveTimestep:true,wind:{x:0,y:0}};_Object$assign(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=false;this.bindEventListeners()}_createClass(PhysicsEngine2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this=this;this.body.emitter.on("initPhysics",function(){_this.initPhysics()});this.body.emitter.on("_layoutFailed",function(){_this.layoutFailed=true});this.body.emitter.on("resetPhysics",function(){_this.stopSimulation();_this.ready=false});this.body.emitter.on("disablePhysics",function(){_this.physicsEnabled=false;_this.stopSimulation()});this.body.emitter.on("restorePhysics",function(){_this.setOptions(_this.options);if(_this.ready===true){_this.startSimulation()}});this.body.emitter.on("startSimulation",function(){if(_this.ready===true){_this.startSimulation()}});this.body.emitter.on("stopSimulation",function(){_this.stopSimulation()});this.body.emitter.on("destroy",function(){_this.stopSimulation(false);_this.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){_this.updatePhysicsData()})}},{key:"setOptions",value:function setOptions(options){if(options!==void 0){if(options===false){this.options.enabled=false;this.physicsEnabled=false;this.stopSimulation()}else if(options===true){this.options.enabled=true;this.physicsEnabled=true;this.startSimulation()}else{this.physicsEnabled=true;selectiveNotDeepExtend(["stabilization"],this.options,options);mergeOptions(this.options,options,"stabilization");if(options.enabled===void 0){this.options.enabled=true}if(this.options.enabled===false){this.physicsEnabled=false;this.stopSimulation()}var wind=this.options.wind;if(wind){if(typeof wind.x!=="number"||_Number$isNaN(wind.x)){wind.x=0}if(typeof wind.y!=="number"||_Number$isNaN(wind.y)){wind.y=0}}this.timestep=this.options.timestep}}this.init()}},{key:"init",value:function init(){var options;if(this.options.solver==="forceAtlas2Based"){options=this.options.forceAtlas2Based;this.nodesSolver=new ForceAtlas2BasedRepulsionSolver(this.body,this.physicsBody,options);this.edgesSolver=new SpringSolver(this.body,this.physicsBody,options);this.gravitySolver=new ForceAtlas2BasedCentralGravitySolver(this.body,this.physicsBody,options)}else if(this.options.solver==="repulsion"){options=this.options.repulsion;this.nodesSolver=new RepulsionSolver(this.body,this.physicsBody,options);this.edgesSolver=new SpringSolver(this.body,this.physicsBody,options);this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,options)}else if(this.options.solver==="hierarchicalRepulsion"){options=this.options.hierarchicalRepulsion;this.nodesSolver=new HierarchicalRepulsionSolver(this.body,this.physicsBody,options);this.edgesSolver=new HierarchicalSpringSolver(this.body,this.physicsBody,options);this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,options)}else{options=this.options.barnesHut;this.nodesSolver=new BarnesHutSolver(this.body,this.physicsBody,options);this.edgesSolver=new SpringSolver(this.body,this.physicsBody,options);this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,options)}this.modelOptions=options}},{key:"initPhysics",value:function initPhysics(){if(this.physicsEnabled===true&&this.options.enabled===true){if(this.options.stabilization.enabled===true){this.stabilize()}else{this.stabilized=false;this.ready=true;this.body.emitter.emit("fit",{},this.layoutFailed);this.startSimulation()}}else{this.ready=true;this.body.emitter.emit("fit")}}},{key:"startSimulation",value:function startSimulation(){if(this.physicsEnabled===true&&this.options.enabled===true){this.stabilized=false;this.adaptiveTimestep=false;this.body.emitter.emit("_resizeNodes");if(this.viewFunction===void 0){var _context;this.viewFunction=_bindInstanceProperty$1(_context=this.simulationStep).call(_context,this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}else{this.body.emitter.emit("_redraw")}}},{key:"stopSimulation",value:function stopSimulation(){var emit=arguments.length>0&&arguments[0]!==void 0?arguments[0]:true;this.stabilized=true;if(emit===true){this._emitStabilized()}if(this.viewFunction!==void 0){this.body.emitter.off("initRedraw",this.viewFunction);this.viewFunction=void 0;if(emit===true){this.body.emitter.emit("_stopRendering")}}}},{key:"simulationStep",value:function simulationStep(){var startTime=_Date$now();this.physicsTick();var physicsTime=_Date$now()-startTime;if((physicsTime<.4*this.simulationInterval||this.runDoubleSpeed===true)&&this.stabilized===false){this.physicsTick();this.runDoubleSpeed=true}if(this.stabilized===true){this.stopSimulation()}}},{key:"_emitStabilized",value:function _emitStabilized(){var _this2=this;var amountOfIterations=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;if(this.stabilizationIterations>1||this.startedStabilization===true){_setTimeout(function(){_this2.body.emitter.emit("stabilized",{iterations:amountOfIterations});_this2.startedStabilization=false;_this2.stabilizationIterations=0},0)}}},{key:"physicsStep",value:function physicsStep(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve();this.moveNodes()}},{key:"adjustTimeStep",value:function adjustTimeStep(){var factor=1.2;if(this._evaluateStepQuality()===true){this.timestep=factor*this.timestep}else{if(this.timestep/factor<this.options.timestep){this.timestep=this.options.timestep}else{this.adaptiveCounter=-1;this.timestep=Math.max(this.options.timestep,this.timestep/factor)}}}},{key:"physicsTick",value:function physicsTick(){this._startStabilizing();if(this.stabilized===true)return;if(this.adaptiveTimestep===true&&this.adaptiveTimestepEnabled===true){var doAdaptive=this.adaptiveCounter%this.adaptiveInterval===0;if(doAdaptive){this.timestep=2*this.timestep;this.physicsStep();this.revert();this.timestep=.5*this.timestep;this.physicsStep();this.physicsStep();this.adjustTimeStep()}else{this.physicsStep()}this.adaptiveCounter+=1}else{this.timestep=this.options.timestep;this.physicsStep()}if(this.stabilized===true)this.revert();this.stabilizationIterations++}},{key:"updatePhysicsData",value:function updatePhysicsData(){this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=[];var nodes=this.body.nodes;var edges=this.body.edges;for(var nodeId in nodes){if(Object.prototype.hasOwnProperty.call(nodes,nodeId)){if(nodes[nodeId].options.physics===true){this.physicsBody.physicsNodeIndices.push(nodes[nodeId].id)}}}for(var edgeId in edges){if(Object.prototype.hasOwnProperty.call(edges,edgeId)){if(edges[edgeId].options.physics===true){this.physicsBody.physicsEdgeIndices.push(edges[edgeId].id)}}}for(var i2=0;i2<this.physicsBody.physicsNodeIndices.length;i2++){var _nodeId=this.physicsBody.physicsNodeIndices[i2];this.physicsBody.forces[_nodeId]={x:0,y:0};if(this.physicsBody.velocities[_nodeId]===void 0){this.physicsBody.velocities[_nodeId]={x:0,y:0}}}for(var _nodeId2 in this.physicsBody.velocities){if(nodes[_nodeId2]===void 0){delete this.physicsBody.velocities[_nodeId2]}}}},{key:"revert",value:function revert(){var nodeIds=_Object$keys(this.previousStates);var nodes=this.body.nodes;var velocities=this.physicsBody.velocities;this.referenceState={};for(var i2=0;i2<nodeIds.length;i2++){var nodeId=nodeIds[i2];if(nodes[nodeId]!==void 0){if(nodes[nodeId].options.physics===true){this.referenceState[nodeId]={positions:{x:nodes[nodeId].x,y:nodes[nodeId].y}};velocities[nodeId].x=this.previousStates[nodeId].vx;velocities[nodeId].y=this.previousStates[nodeId].vy;nodes[nodeId].x=this.previousStates[nodeId].x;nodes[nodeId].y=this.previousStates[nodeId].y}}else{delete this.previousStates[nodeId]}}}},{key:"_evaluateStepQuality",value:function _evaluateStepQuality(){var dx,dy,dpos;var nodes=this.body.nodes;var reference=this.referenceState;var posThreshold=.3;for(var nodeId in this.referenceState){if(Object.prototype.hasOwnProperty.call(this.referenceState,nodeId)&&nodes[nodeId]!==void 0){dx=nodes[nodeId].x-reference[nodeId].positions.x;dy=nodes[nodeId].y-reference[nodeId].positions.y;dpos=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2));if(dpos>posThreshold){return false}}}return true}},{key:"moveNodes",value:function moveNodes(){var nodeIndices=this.physicsBody.physicsNodeIndices;var maxNodeVelocity=0;var averageNodeVelocity=0;var velocityAdaptiveThreshold=5;for(var i2=0;i2<nodeIndices.length;i2++){var nodeId=nodeIndices[i2];var nodeVelocity=this._performStep(nodeId);maxNodeVelocity=Math.max(maxNodeVelocity,nodeVelocity);averageNodeVelocity+=nodeVelocity}this.adaptiveTimestepEnabled=averageNodeVelocity/nodeIndices.length<velocityAdaptiveThreshold;this.stabilized=maxNodeVelocity<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function calculateComponentVelocity(v,f,m){var df=this.modelOptions.damping*v;var a=(f-df)/m;v+=a*this.timestep;var maxV=this.options.maxVelocity||1e9;if(Math.abs(v)>maxV){v=v>0?maxV:-maxV}return v}},{key:"_performStep",value:function _performStep(nodeId){var node2=this.body.nodes[nodeId];var force=this.physicsBody.forces[nodeId];if(this.options.wind){force.x+=this.options.wind.x;force.y+=this.options.wind.y}var velocity=this.physicsBody.velocities[nodeId];this.previousStates[nodeId]={x:node2.x,y:node2.y,vx:velocity.x,vy:velocity.y};if(node2.options.fixed.x===false){velocity.x=this.calculateComponentVelocity(velocity.x,force.x,node2.options.mass);node2.x+=velocity.x*this.timestep}else{force.x=0;velocity.x=0}if(node2.options.fixed.y===false){velocity.y=this.calculateComponentVelocity(velocity.y,force.y,node2.options.mass);node2.y+=velocity.y*this.timestep}else{force.y=0;velocity.y=0}var totalVelocity=Math.sqrt(Math.pow(velocity.x,2)+Math.pow(velocity.y,2));return totalVelocity}},{key:"_freezeNodes",value:function _freezeNodes(){var nodes=this.body.nodes;for(var id2 in nodes){if(Object.prototype.hasOwnProperty.call(nodes,id2)){if(nodes[id2].x&&nodes[id2].y){var fixed=nodes[id2].options.fixed;this.freezeCache[id2]={x:fixed.x,y:fixed.y};fixed.x=true;fixed.y=true}}}}},{key:"_restoreFrozenNodes",value:function _restoreFrozenNodes(){var nodes=this.body.nodes;for(var id2 in nodes){if(Object.prototype.hasOwnProperty.call(nodes,id2)){if(this.freezeCache[id2]!==void 0){nodes[id2].options.fixed.x=this.freezeCache[id2].x;nodes[id2].options.fixed.y=this.freezeCache[id2].y}}}this.freezeCache={}}},{key:"stabilize",value:function stabilize(){var _this3=this;var iterations=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof iterations!=="number"){iterations=this.options.stabilization.iterations;console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",iterations)}if(this.physicsBody.physicsNodeIndices.length===0){this.ready=true;return}this.adaptiveTimestep=this.options.adaptiveTimestep;this.body.emitter.emit("_resizeNodes");this.stopSimulation();this.stabilized=false;this.body.emitter.emit("_blockRedraw");this.targetIterations=iterations;if(this.options.stabilization.onlyDynamicEdges===true){this._freezeNodes()}this.stabilizationIterations=0;_setTimeout(function(){return _this3._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function _startStabilizing(){if(this.startedStabilization===true)return false;this.body.emitter.emit("startStabilizing");this.startedStabilization=true;return true}},{key:"_stabilizationBatch",value:function _stabilizationBatch(){var _this4=this;var running=function running2(){return _this4.stabilized===false&&_this4.stabilizationIterations<_this4.targetIterations};var sendProgress=function sendProgress2(){_this4.body.emitter.emit("stabilizationProgress",{iterations:_this4.stabilizationIterations,total:_this4.targetIterations})};if(this._startStabilizing()){sendProgress()}var count=0;while(running()&&count<this.options.stabilization.updateInterval){this.physicsTick();count++}sendProgress();if(running()){var _context2;_setTimeout(_bindInstanceProperty$1(_context2=this._stabilizationBatch).call(_context2,this),0)}else{this._finalizeStabilization()}}},{key:"_finalizeStabilization",value:function _finalizeStabilization(){this.body.emitter.emit("_allowRedraw");if(this.options.stabilization.fit===true){this.body.emitter.emit("fit")}if(this.options.stabilization.onlyDynamicEdges===true){this._restoreFrozenNodes()}this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");if(this.stabilized===true){this._emitStabilized()}else{this.startSimulation()}this.ready=true}},{key:"_drawForces",value:function _drawForces(ctx){for(var i2=0;i2<this.physicsBody.physicsNodeIndices.length;i2++){var index2=this.physicsBody.physicsNodeIndices[i2];var node2=this.body.nodes[index2];var force=this.physicsBody.forces[index2];var factor=20;var colorFactor=.03;var forceSize=Math.sqrt(Math.pow(force.x,2)+Math.pow(force.x,2));var size=Math.min(Math.max(5,forceSize),15);var arrowSize=3*size;var color=HSVToHex((180-Math.min(1,Math.max(0,colorFactor*forceSize))*180)/360,1,1);var point={x:node2.x+factor*force.x,y:node2.y+factor*force.y};ctx.lineWidth=size;ctx.strokeStyle=color;ctx.beginPath();ctx.moveTo(node2.x,node2.y);ctx.lineTo(point.x,point.y);ctx.stroke();var angle=Math.atan2(force.y,force.x);ctx.fillStyle=color;EndPoints.draw(ctx,{type:"arrow",point,angle,length:arrowSize});_fillInstanceProperty(ctx).call(ctx)}}}]);return PhysicsEngine2})();var NetworkUtil=(function(){function NetworkUtil2(){_classCallCheck(this,NetworkUtil2)}_createClass(NetworkUtil2,null,[{key:"getRange",value:function getRange(allNodes){var specificNodes=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];var minY=1e9,maxY=-1e9,minX=1e9,maxX=-1e9,node2;if(specificNodes.length>0){for(var i2=0;i2<specificNodes.length;i2++){node2=allNodes[specificNodes[i2]];if(minX>node2.shape.boundingBox.left){minX=node2.shape.boundingBox.left}if(maxX<node2.shape.boundingBox.right){maxX=node2.shape.boundingBox.right}if(minY>node2.shape.boundingBox.top){minY=node2.shape.boundingBox.top}if(maxY<node2.shape.boundingBox.bottom){maxY=node2.shape.boundingBox.bottom}}}if(minX===1e9&&maxX===-1e9&&minY===1e9&&maxY===-1e9){minY=0,maxY=0,minX=0,maxX=0}return{minX,maxX,minY,maxY}}},{key:"getRangeCore",value:function getRangeCore(allNodes){var specificNodes=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];var minY=1e9,maxY=-1e9,minX=1e9,maxX=-1e9,node2;if(specificNodes.length>0){for(var i2=0;i2<specificNodes.length;i2++){node2=allNodes[specificNodes[i2]];if(minX>node2.x){minX=node2.x}if(maxX<node2.x){maxX=node2.x}if(minY>node2.y){minY=node2.y}if(maxY<node2.y){maxY=node2.y}}}if(minX===1e9&&maxX===-1e9&&minY===1e9&&maxY===-1e9){minY=0,maxY=0,minX=0,maxX=0}return{minX,maxX,minY,maxY}}},{key:"findCenter",value:function findCenter(range){return{x:.5*(range.maxX+range.minX),y:.5*(range.maxY+range.minY)}}},{key:"cloneOptions",value:function cloneOptions(item,type){var clonedOptions={};if(type===void 0||type==="node"){deepExtend(clonedOptions,item.options,true);clonedOptions.x=item.x;clonedOptions.y=item.y;clonedOptions.amountOfConnections=item.edges.length}else{deepExtend(clonedOptions,item.options,true)}return clonedOptions}}]);return NetworkUtil2})();function _createSuper$1(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$1();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$1(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var Cluster=(function(_Node){_inherits(Cluster2,_Node);var _super=_createSuper$1(Cluster2);function Cluster2(options,body,imagelist,grouplist,globalOptions,defaultOptions){var _this;_classCallCheck(this,Cluster2);_this=_super.call(this,options,body,imagelist,grouplist,globalOptions,defaultOptions);_this.isCluster=true;_this.containedNodes={};_this.containedEdges={};return _this}_createClass(Cluster2,[{key:"_openChildCluster",value:function _openChildCluster(childClusterId){var _this2=this;var childCluster=this.body.nodes[childClusterId];if(this.containedNodes[childClusterId]===void 0){throw new Error("node with id: "+childClusterId+" not in current cluster")}if(!childCluster.isCluster){throw new Error("node with id: "+childClusterId+" is not a cluster")}delete this.containedNodes[childClusterId];forEach$4(childCluster.edges,function(edge){delete _this2.containedEdges[edge.id]});forEach$4(childCluster.containedNodes,function(node2,nodeId){_this2.containedNodes[nodeId]=node2});childCluster.containedNodes={};forEach$4(childCluster.containedEdges,function(edge,edgeId){_this2.containedEdges[edgeId]=edge});childCluster.containedEdges={};forEach$4(childCluster.edges,function(clusterEdge){forEach$4(_this2.edges,function(parentClusterEdge){var _context,_context2;var index2=_indexOfInstanceProperty(_context=parentClusterEdge.clusteringEdgeReplacingIds).call(_context,clusterEdge.id);if(index2===-1)return;forEach$4(clusterEdge.clusteringEdgeReplacingIds,function(srcId){parentClusterEdge.clusteringEdgeReplacingIds.push(srcId);_this2.body.edges[srcId].edgeReplacedById=parentClusterEdge.id});_spliceInstanceProperty(_context2=parentClusterEdge.clusteringEdgeReplacingIds).call(_context2,index2,1)})});childCluster.edges=[]}}]);return Cluster2})(Node);var ClusterEngine=(function(){function ClusterEngine2(body){var _this=this;_classCallCheck(this,ClusterEngine2);this.body=body;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};_Object$assign(this.options,this.defaultOptions);this.body.emitter.on("_resetData",function(){_this.clusteredNodes={};_this.clusteredEdges={}})}_createClass(ClusterEngine2,[{key:"clusterByHubsize",value:function clusterByHubsize(hubsize,options){if(hubsize===void 0){hubsize=this._getHubSize()}else if(_typeof$1(hubsize)==="object"){options=this._checkOptions(hubsize);hubsize=this._getHubSize()}var nodesToCluster=[];for(var i2=0;i2<this.body.nodeIndices.length;i2++){var node2=this.body.nodes[this.body.nodeIndices[i2]];if(node2.edges.length>=hubsize){nodesToCluster.push(node2.id)}}for(var _i=0;_i<nodesToCluster.length;_i++){this.clusterByConnection(nodesToCluster[_i],options,true)}this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function cluster(){var _this2=this;var options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var refreshData=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(options.joinCondition===void 0){throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.")}options=this._checkOptions(options);var childNodesObj={};var childEdgesObj={};forEach$4(this.body.nodes,function(node2,nodeId){if(node2.options&&options.joinCondition(node2.options)===true){childNodesObj[nodeId]=node2;forEach$4(node2.edges,function(edge){if(_this2.clusteredEdges[edge.id]===void 0){childEdgesObj[edge.id]=edge}})}});this._cluster(childNodesObj,childEdgesObj,options,refreshData)}},{key:"clusterByEdgeCount",value:function clusterByEdgeCount(edgeCount,options){var _this3=this;var refreshData=arguments.length>2&&arguments[2]!==void 0?arguments[2]:true;options=this._checkOptions(options);var clusters=[];var usedNodes={};var edge,edges,relevantEdgeCount;var _loop=function _loop2(){var childNodesObj={};var childEdgesObj={};var nodeId=_this3.body.nodeIndices[i2];var node2=_this3.body.nodes[nodeId];if(usedNodes[nodeId]===void 0){relevantEdgeCount=0;edges=[];for(var j=0;j<node2.edges.length;j++){edge=node2.edges[j];if(_this3.clusteredEdges[edge.id]===void 0){if(edge.toId!==edge.fromId){relevantEdgeCount++}edges.push(edge)}}if(relevantEdgeCount===edgeCount){var checkJoinCondition=function checkJoinCondition2(node3){if(options.joinCondition===void 0||options.joinCondition===null){return true}var clonedOptions=NetworkUtil.cloneOptions(node3);return options.joinCondition(clonedOptions)};var gatheringSuccessful=true;for(var _j=0;_j<edges.length;_j++){edge=edges[_j];var childNodeId=_this3._getConnectedId(edge,nodeId);if(checkJoinCondition(node2)){childEdgesObj[edge.id]=edge;childNodesObj[nodeId]=node2;childNodesObj[childNodeId]=_this3.body.nodes[childNodeId];usedNodes[nodeId]=true}else{gatheringSuccessful=false;break}}if(_Object$keys(childNodesObj).length>0&&_Object$keys(childEdgesObj).length>0&&gatheringSuccessful===true){var findClusterData=function findClusterData2(){for(var n=0;n<clusters.length;++n){for(var m2 in childNodesObj){if(clusters[n].nodes[m2]!==void 0){return clusters[n]}}}return void 0};var foundCluster=findClusterData();if(foundCluster!==void 0){for(var m in childNodesObj){if(foundCluster.nodes[m]===void 0){foundCluster.nodes[m]=childNodesObj[m]}}for(var _m in childEdgesObj){if(foundCluster.edges[_m]===void 0){foundCluster.edges[_m]=childEdgesObj[_m]}}}else{clusters.push({nodes:childNodesObj,edges:childEdgesObj})}}}}};for(var i2=0;i2<this.body.nodeIndices.length;i2++){_loop()}for(var _i2=0;_i2<clusters.length;_i2++){this._cluster(clusters[_i2].nodes,clusters[_i2].edges,options,false)}if(refreshData===true){this.body.emitter.emit("_dataChanged")}}},{key:"clusterOutliers",value:function clusterOutliers(options){var refreshData=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;this.clusterByEdgeCount(1,options,refreshData)}},{key:"clusterBridges",value:function clusterBridges(options){var refreshData=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;this.clusterByEdgeCount(2,options,refreshData)}},{key:"clusterByConnection",value:function clusterByConnection(nodeId,options){var _context;var refreshData=arguments.length>2&&arguments[2]!==void 0?arguments[2]:true;if(nodeId===void 0){throw new Error("No nodeId supplied to clusterByConnection!")}if(this.body.nodes[nodeId]===void 0){throw new Error("The nodeId given to clusterByConnection does not exist!")}var node2=this.body.nodes[nodeId];options=this._checkOptions(options,node2);if(options.clusterNodeProperties.x===void 0){options.clusterNodeProperties.x=node2.x}if(options.clusterNodeProperties.y===void 0){options.clusterNodeProperties.y=node2.y}if(options.clusterNodeProperties.fixed===void 0){options.clusterNodeProperties.fixed={};options.clusterNodeProperties.fixed.x=node2.options.fixed.x;options.clusterNodeProperties.fixed.y=node2.options.fixed.y}var childNodesObj={};var childEdgesObj={};var parentNodeId=node2.id;var parentClonedOptions=NetworkUtil.cloneOptions(node2);childNodesObj[parentNodeId]=node2;for(var i2=0;i2<node2.edges.length;i2++){var edge=node2.edges[i2];if(this.clusteredEdges[edge.id]===void 0){var childNodeId=this._getConnectedId(edge,parentNodeId);if(this.clusteredNodes[childNodeId]===void 0){if(childNodeId!==parentNodeId){if(options.joinCondition===void 0){childEdgesObj[edge.id]=edge;childNodesObj[childNodeId]=this.body.nodes[childNodeId]}else{var childClonedOptions=NetworkUtil.cloneOptions(this.body.nodes[childNodeId]);if(options.joinCondition(parentClonedOptions,childClonedOptions)===true){childEdgesObj[edge.id]=edge;childNodesObj[childNodeId]=this.body.nodes[childNodeId]}}}else{childEdgesObj[edge.id]=edge}}}}var childNodeIDs=_mapInstanceProperty(_context=_Object$keys(childNodesObj)).call(_context,function(childNode2){return childNodesObj[childNode2].id});for(var childNodeKey in childNodesObj){if(!Object.prototype.hasOwnProperty.call(childNodesObj,childNodeKey))continue;var childNode=childNodesObj[childNodeKey];for(var y=0;y<childNode.edges.length;y++){var childEdge=childNode.edges[y];if(_indexOfInstanceProperty(childNodeIDs).call(childNodeIDs,this._getConnectedId(childEdge,childNode.id))>-1){childEdgesObj[childEdge.id]=childEdge}}}this._cluster(childNodesObj,childEdgesObj,options,refreshData)}},{key:"_createClusterEdges",value:function _createClusterEdges(childNodesObj,childEdgesObj,clusterNodeProperties,clusterEdgeProperties){var edge,childNodeId,childNode,toId,fromId,otherNodeId;var childKeys=_Object$keys(childNodesObj);var createEdges=[];for(var i2=0;i2<childKeys.length;i2++){childNodeId=childKeys[i2];childNode=childNodesObj[childNodeId];for(var j=0;j<childNode.edges.length;j++){edge=childNode.edges[j];if(this.clusteredEdges[edge.id]===void 0){if(edge.toId==edge.fromId){childEdgesObj[edge.id]=edge}else{if(edge.toId==childNodeId){toId=clusterNodeProperties.id;fromId=edge.fromId;otherNodeId=fromId}else{toId=edge.toId;fromId=clusterNodeProperties.id;otherNodeId=toId}}if(childNodesObj[otherNodeId]===void 0){createEdges.push({edge,fromId,toId})}}}}var newEdges=[];var getNewEdge=function getNewEdge2(createdEdge2){for(var _j2=0;_j2<newEdges.length;_j2++){var newEdge2=newEdges[_j2];var matchToDirection=createdEdge2.fromId===newEdge2.fromId&&createdEdge2.toId===newEdge2.toId;var matchFromDirection=createdEdge2.fromId===newEdge2.toId&&createdEdge2.toId===newEdge2.fromId;if(matchToDirection||matchFromDirection){return newEdge2}}return null};for(var _j3=0;_j3<createEdges.length;_j3++){var createdEdge=createEdges[_j3];var _edge=createdEdge.edge;var newEdge=getNewEdge(createdEdge);if(newEdge===null){newEdge=this._createClusteredEdge(createdEdge.fromId,createdEdge.toId,_edge,clusterEdgeProperties);newEdges.push(newEdge)}else{newEdge.clusteringEdgeReplacingIds.push(_edge.id)}this.body.edges[_edge.id].edgeReplacedById=newEdge.id;this._backupEdgeOptions(_edge);_edge.setOptions({physics:false})}}},{key:"_checkOptions",value:function _checkOptions(){var options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(options.clusterEdgeProperties===void 0){options.clusterEdgeProperties={}}if(options.clusterNodeProperties===void 0){options.clusterNodeProperties={}}return options}},{key:"_cluster",value:function _cluster(childNodesObj,childEdgesObj,options){var refreshData=arguments.length>3&&arguments[3]!==void 0?arguments[3]:true;var tmpNodesToRemove=[];for(var nodeId in childNodesObj){if(Object.prototype.hasOwnProperty.call(childNodesObj,nodeId)){if(this.clusteredNodes[nodeId]!==void 0){tmpNodesToRemove.push(nodeId)}}}for(var n=0;n<tmpNodesToRemove.length;++n){delete childNodesObj[tmpNodesToRemove[n]]}if(_Object$keys(childNodesObj).length==0){return}if(_Object$keys(childNodesObj).length==1&&options.clusterNodeProperties.allowSingleNodeCluster!=true){return}var clusterNodeProperties=deepExtend({},options.clusterNodeProperties);if(options.processProperties!==void 0){var childNodesOptions=[];for(var _nodeId in childNodesObj){if(Object.prototype.hasOwnProperty.call(childNodesObj,_nodeId)){var clonedOptions=NetworkUtil.cloneOptions(childNodesObj[_nodeId]);childNodesOptions.push(clonedOptions)}}var childEdgesOptions=[];for(var edgeId in childEdgesObj){if(Object.prototype.hasOwnProperty.call(childEdgesObj,edgeId)){if(edgeId.substr(0,12)!=="clusterEdge:"){var _clonedOptions=NetworkUtil.cloneOptions(childEdgesObj[edgeId],"edge");childEdgesOptions.push(_clonedOptions)}}}clusterNodeProperties=options.processProperties(clusterNodeProperties,childNodesOptions,childEdgesOptions);if(!clusterNodeProperties){throw new Error("The processProperties function does not return properties!")}}if(clusterNodeProperties.id===void 0){clusterNodeProperties.id="cluster:"+v4()}var clusterId=clusterNodeProperties.id;if(clusterNodeProperties.label===void 0){clusterNodeProperties.label="cluster"}var pos=void 0;if(clusterNodeProperties.x===void 0){pos=this._getClusterPosition(childNodesObj);clusterNodeProperties.x=pos.x}if(clusterNodeProperties.y===void 0){if(pos===void 0){pos=this._getClusterPosition(childNodesObj)}clusterNodeProperties.y=pos.y}clusterNodeProperties.id=clusterId;var clusterNode=this.body.functions.createNode(clusterNodeProperties,Cluster);clusterNode.containedNodes=childNodesObj;clusterNode.containedEdges=childEdgesObj;clusterNode.clusterEdgeProperties=options.clusterEdgeProperties;this.body.nodes[clusterNodeProperties.id]=clusterNode;this._clusterEdges(childNodesObj,childEdgesObj,clusterNodeProperties,options.clusterEdgeProperties);clusterNodeProperties.id=void 0;if(refreshData===true){this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function _backupEdgeOptions(edge){if(this.clusteredEdges[edge.id]===void 0){this.clusteredEdges[edge.id]={physics:edge.options.physics}}}},{key:"_restoreEdge",value:function _restoreEdge(edge){var originalOptions=this.clusteredEdges[edge.id];if(originalOptions!==void 0){edge.setOptions({physics:originalOptions.physics});delete this.clusteredEdges[edge.id]}}},{key:"isCluster",value:function isCluster(nodeId){if(this.body.nodes[nodeId]!==void 0){return this.body.nodes[nodeId].isCluster===true}else{console.error("Node does not exist.");return false}}},{key:"_getClusterPosition",value:function _getClusterPosition(childNodesObj){var childKeys=_Object$keys(childNodesObj);var minX=childNodesObj[childKeys[0]].x;var maxX=childNodesObj[childKeys[0]].x;var minY=childNodesObj[childKeys[0]].y;var maxY=childNodesObj[childKeys[0]].y;var node2;for(var i2=1;i2<childKeys.length;i2++){node2=childNodesObj[childKeys[i2]];minX=node2.x<minX?node2.x:minX;maxX=node2.x>maxX?node2.x:maxX;minY=node2.y<minY?node2.y:minY;maxY=node2.y>maxY?node2.y:maxY}return{x:.5*(minX+maxX),y:.5*(minY+maxY)}}},{key:"openCluster",value:function openCluster(clusterNodeId,options){var refreshData=arguments.length>2&&arguments[2]!==void 0?arguments[2]:true;if(clusterNodeId===void 0){throw new Error("No clusterNodeId supplied to openCluster.")}var clusterNode=this.body.nodes[clusterNodeId];if(clusterNode===void 0){throw new Error("The clusterNodeId supplied to openCluster does not exist.")}if(clusterNode.isCluster!==true||clusterNode.containedNodes===void 0||clusterNode.containedEdges===void 0){throw new Error("The node:"+clusterNodeId+" is not a valid cluster.")}var stack=this.findNode(clusterNodeId);var parentIndex=_indexOfInstanceProperty(stack).call(stack,clusterNodeId)-1;if(parentIndex>=0){var parentClusterNodeId=stack[parentIndex];var parentClusterNode=this.body.nodes[parentClusterNodeId];parentClusterNode._openChildCluster(clusterNodeId);delete this.body.nodes[clusterNodeId];if(refreshData===true){this.body.emitter.emit("_dataChanged")}return}var containedNodes=clusterNode.containedNodes;var containedEdges=clusterNode.containedEdges;if(options!==void 0&&options.releaseFunction!==void 0&&typeof options.releaseFunction==="function"){var positions={};var clusterPosition={x:clusterNode.x,y:clusterNode.y};for(var nodeId in containedNodes){if(Object.prototype.hasOwnProperty.call(containedNodes,nodeId)){var containedNode=this.body.nodes[nodeId];positions[nodeId]={x:containedNode.x,y:containedNode.y}}}var newPositions=options.releaseFunction(clusterPosition,positions);for(var _nodeId2 in containedNodes){if(Object.prototype.hasOwnProperty.call(containedNodes,_nodeId2)){var _containedNode=this.body.nodes[_nodeId2];if(newPositions[_nodeId2]!==void 0){_containedNode.x=newPositions[_nodeId2].x===void 0?clusterNode.x:newPositions[_nodeId2].x;_containedNode.y=newPositions[_nodeId2].y===void 0?clusterNode.y:newPositions[_nodeId2].y}}}}else{forEach$4(containedNodes,function(containedNode2){if(containedNode2.options.fixed.x===false){containedNode2.x=clusterNode.x}if(containedNode2.options.fixed.y===false){containedNode2.y=clusterNode.y}})}for(var _nodeId3 in containedNodes){if(Object.prototype.hasOwnProperty.call(containedNodes,_nodeId3)){var _containedNode2=this.body.nodes[_nodeId3];_containedNode2.vx=clusterNode.vx;_containedNode2.vy=clusterNode.vy;_containedNode2.setOptions({physics:true});delete this.clusteredNodes[_nodeId3]}}var edgesToBeDeleted=[];for(var i2=0;i2<clusterNode.edges.length;i2++){edgesToBeDeleted.push(clusterNode.edges[i2])}for(var _i3=0;_i3<edgesToBeDeleted.length;_i3++){var edge=edgesToBeDeleted[_i3];var otherNodeId=this._getConnectedId(edge,clusterNodeId);var otherNode=this.clusteredNodes[otherNodeId];for(var j=0;j<edge.clusteringEdgeReplacingIds.length;j++){var transferId=edge.clusteringEdgeReplacingIds[j];var transferEdge=this.body.edges[transferId];if(transferEdge===void 0)continue;if(otherNode!==void 0){var otherCluster=this.body.nodes[otherNode.clusterId];otherCluster.containedEdges[transferEdge.id]=transferEdge;delete containedEdges[transferEdge.id];var fromId=transferEdge.fromId;var toId=transferEdge.toId;if(transferEdge.toId==otherNodeId){toId=otherNode.clusterId}else{fromId=otherNode.clusterId}this._createClusteredEdge(fromId,toId,transferEdge,otherCluster.clusterEdgeProperties,{hidden:false,physics:true})}else{this._restoreEdge(transferEdge)}}edge.remove()}for(var edgeId in containedEdges){if(Object.prototype.hasOwnProperty.call(containedEdges,edgeId)){this._restoreEdge(containedEdges[edgeId])}}delete this.body.nodes[clusterNodeId];if(refreshData===true){this.body.emitter.emit("_dataChanged")}}},{key:"getNodesInCluster",value:function getNodesInCluster(clusterId){var nodesArray=[];if(this.isCluster(clusterId)===true){var containedNodes=this.body.nodes[clusterId].containedNodes;for(var nodeId in containedNodes){if(Object.prototype.hasOwnProperty.call(containedNodes,nodeId)){nodesArray.push(this.body.nodes[nodeId].id)}}}return nodesArray}},{key:"findNode",value:function findNode(nodeId){var stack=[];var max2=100;var counter2=0;var node2;while(this.clusteredNodes[nodeId]!==void 0&&counter2<max2){node2=this.body.nodes[nodeId];if(node2===void 0)return[];stack.push(node2.id);nodeId=this.clusteredNodes[nodeId].clusterId;counter2++}node2=this.body.nodes[nodeId];if(node2===void 0)return[];stack.push(node2.id);_reverseInstanceProperty(stack).call(stack);return stack}},{key:"updateClusteredNode",value:function updateClusteredNode(clusteredNodeId,newOptions){if(clusteredNodeId===void 0){throw new Error("No clusteredNodeId supplied to updateClusteredNode.")}if(newOptions===void 0){throw new Error("No newOptions supplied to updateClusteredNode.")}if(this.body.nodes[clusteredNodeId]===void 0){throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.")}this.body.nodes[clusteredNodeId].setOptions(newOptions);this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function updateEdge(startEdgeId,newOptions){if(startEdgeId===void 0){throw new Error("No startEdgeId supplied to updateEdge.")}if(newOptions===void 0){throw new Error("No newOptions supplied to updateEdge.")}if(this.body.edges[startEdgeId]===void 0){throw new Error("The startEdgeId supplied to updateEdge does not exist.")}var allEdgeIds=this.getClusteredEdges(startEdgeId);for(var i2=0;i2<allEdgeIds.length;i2++){var edge=this.body.edges[allEdgeIds[i2]];edge.setOptions(newOptions)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function getClusteredEdges(edgeId){var stack=[];var max2=100;var counter2=0;while(edgeId!==void 0&&this.body.edges[edgeId]!==void 0&&counter2<max2){stack.push(this.body.edges[edgeId].id);edgeId=this.body.edges[edgeId].edgeReplacedById;counter2++}_reverseInstanceProperty(stack).call(stack);return stack}},{key:"getBaseEdge",value:function getBaseEdge(clusteredEdgeId){return this.getBaseEdges(clusteredEdgeId)[0]}},{key:"getBaseEdges",value:function getBaseEdges(clusteredEdgeId){var IdsToHandle=[clusteredEdgeId];var doneIds=[];var foundIds=[];var max2=100;var counter2=0;while(IdsToHandle.length>0&&counter2<max2){var nextId=IdsToHandle.pop();if(nextId===void 0)continue;var nextEdge=this.body.edges[nextId];if(nextEdge===void 0)continue;counter2++;var replacingIds=nextEdge.clusteringEdgeReplacingIds;if(replacingIds===void 0){foundIds.push(nextId)}else{for(var i2=0;i2<replacingIds.length;++i2){var replacingId=replacingIds[i2];if(_indexOfInstanceProperty(IdsToHandle).call(IdsToHandle,replacingIds)!==-1||_indexOfInstanceProperty(doneIds).call(doneIds,replacingIds)!==-1){continue}IdsToHandle.push(replacingId)}}doneIds.push(nextId)}return foundIds}},{key:"_getConnectedId",value:function _getConnectedId(edge,nodeId){if(edge.toId!=nodeId){return edge.toId}else if(edge.fromId!=nodeId){return edge.fromId}else{return edge.fromId}}},{key:"_getHubSize",value:function _getHubSize(){var average=0;var averageSquared=0;var hubCounter=0;var largestHub=0;for(var i2=0;i2<this.body.nodeIndices.length;i2++){var node2=this.body.nodes[this.body.nodeIndices[i2]];if(node2.edges.length>largestHub){largestHub=node2.edges.length}average+=node2.edges.length;averageSquared+=Math.pow(node2.edges.length,2);hubCounter+=1}average=average/hubCounter;averageSquared=averageSquared/hubCounter;var variance=averageSquared-Math.pow(average,2);var standardDeviation=Math.sqrt(variance);var hubThreshold=Math.floor(average+2*standardDeviation);if(hubThreshold>largestHub){hubThreshold=largestHub}return hubThreshold}},{key:"_createClusteredEdge",value:function _createClusteredEdge(fromId,toId,baseEdge,clusterEdgeProperties,extraOptions){var clonedOptions=NetworkUtil.cloneOptions(baseEdge,"edge");deepExtend(clonedOptions,clusterEdgeProperties);clonedOptions.from=fromId;clonedOptions.to=toId;clonedOptions.id="clusterEdge:"+v4();if(extraOptions!==void 0){deepExtend(clonedOptions,extraOptions)}var newEdge=this.body.functions.createEdge(clonedOptions);newEdge.clusteringEdgeReplacingIds=[baseEdge.id];newEdge.connect();this.body.edges[newEdge.id]=newEdge;return newEdge}},{key:"_clusterEdges",value:function _clusterEdges(childNodes,childEdges,clusterNode,clusterEdgeProperties){if(childEdges instanceof Edge){var edge=childEdges;var obj={};obj[edge.id]=edge;childEdges=obj}if(childNodes instanceof Node){var node2=childNodes;var _obj={};_obj[node2.id]=node2;childNodes=_obj}if(clusterNode===void 0||clusterNode===null){throw new Error("_clusterEdges: parameter clusterNode required")}if(clusterEdgeProperties===void 0){clusterEdgeProperties=clusterNode.clusterEdgeProperties}this._createClusterEdges(childNodes,childEdges,clusterNode,clusterEdgeProperties);for(var edgeId in childEdges){if(Object.prototype.hasOwnProperty.call(childEdges,edgeId)){if(this.body.edges[edgeId]!==void 0){var _edge2=this.body.edges[edgeId];this._backupEdgeOptions(_edge2);_edge2.setOptions({physics:false})}}}for(var nodeId in childNodes){if(Object.prototype.hasOwnProperty.call(childNodes,nodeId)){this.clusteredNodes[nodeId]={clusterId:clusterNode.id,node:this.body.nodes[nodeId]};this.body.nodes[nodeId].setOptions({physics:false})}}}},{key:"_getClusterNodeForNode",value:function _getClusterNodeForNode(nodeId){if(nodeId===void 0)return void 0;var clusteredNode=this.clusteredNodes[nodeId];if(clusteredNode===void 0)return void 0;var clusterId=clusteredNode.clusterId;if(clusterId===void 0)return void 0;return this.body.nodes[clusterId]}},{key:"_filter",value:function _filter(arr,callback){var ret=[];forEach$4(arr,function(item){if(callback(item)){ret.push(item)}});return ret}},{key:"_updateState",value:function _updateState(){var _this4=this;var nodeId;var deletedNodeIds=[];var deletedEdgeIds={};var eachClusterNode=function eachClusterNode2(callback){forEach$4(_this4.body.nodes,function(node3){if(node3.isCluster===true){callback(node3)}})};for(nodeId in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,nodeId))continue;var node2=this.body.nodes[nodeId];if(node2===void 0){deletedNodeIds.push(nodeId)}}eachClusterNode(function(clusterNode){for(var n2=0;n2<deletedNodeIds.length;n2++){delete clusterNode.containedNodes[deletedNodeIds[n2]]}});for(var n=0;n<deletedNodeIds.length;n++){delete this.clusteredNodes[deletedNodeIds[n]]}forEach$4(this.clusteredEdges,function(edgeId){var edge=_this4.body.edges[edgeId];if(edge===void 0||!edge.endPointsValid()){deletedEdgeIds[edgeId]=edgeId}});eachClusterNode(function(clusterNode){forEach$4(clusterNode.containedEdges,function(edge,edgeId){if(!edge.endPointsValid()&&!deletedEdgeIds[edgeId]){deletedEdgeIds[edgeId]=edgeId}})});forEach$4(this.body.edges,function(edge,edgeId){var isValid=true;var replacedIds=edge.clusteringEdgeReplacingIds;if(replacedIds!==void 0){var numValid=0;forEach$4(replacedIds,function(containedEdgeId){var containedEdge=_this4.body.edges[containedEdgeId];if(containedEdge!==void 0&&containedEdge.endPointsValid()){numValid+=1}});isValid=numValid>0}if(!edge.endPointsValid()||!isValid){deletedEdgeIds[edgeId]=edgeId}});eachClusterNode(function(clusterNode){forEach$4(deletedEdgeIds,function(deletedEdgeId){delete clusterNode.containedEdges[deletedEdgeId];forEach$4(clusterNode.edges,function(edge,m){if(edge.id===deletedEdgeId){clusterNode.edges[m]=null;return}edge.clusteringEdgeReplacingIds=_this4._filter(edge.clusteringEdgeReplacingIds,function(id2){return!deletedEdgeIds[id2]})});clusterNode.edges=_this4._filter(clusterNode.edges,function(item){return item!==null})})});forEach$4(deletedEdgeIds,function(edgeId){delete _this4.clusteredEdges[edgeId]});forEach$4(deletedEdgeIds,function(edgeId){delete _this4.body.edges[edgeId]});var ids=_Object$keys(this.body.edges);forEach$4(ids,function(edgeId){var edge=_this4.body.edges[edgeId];var shouldBeClustered=_this4._isClusteredNode(edge.fromId)||_this4._isClusteredNode(edge.toId);if(shouldBeClustered===_this4._isClusteredEdge(edge.id)){return}if(shouldBeClustered){var clusterFrom=_this4._getClusterNodeForNode(edge.fromId);if(clusterFrom!==void 0){_this4._clusterEdges(_this4.body.nodes[edge.fromId],edge,clusterFrom)}var clusterTo=_this4._getClusterNodeForNode(edge.toId);if(clusterTo!==void 0){_this4._clusterEdges(_this4.body.nodes[edge.toId],edge,clusterTo)}}else{delete _this4._clusterEdges[edgeId];_this4._restoreEdge(edge)}});var changed=false;var continueLoop=true;var _loop2=function _loop22(){var clustersToOpen=[];eachClusterNode(function(clusterNode){var numNodes=_Object$keys(clusterNode.containedNodes).length;var allowSingle=clusterNode.options.allowSingleNodeCluster===true;if(allowSingle&&numNodes<1||!allowSingle&&numNodes<2){clustersToOpen.push(clusterNode.id)}});for(var _n=0;_n<clustersToOpen.length;++_n){_this4.openCluster(clustersToOpen[_n],{},false)}continueLoop=clustersToOpen.length>0;changed=changed||continueLoop};while(continueLoop){_loop2()}if(changed){this._updateState()}}},{key:"_isClusteredNode",value:function _isClusteredNode(nodeId){return this.clusteredNodes[nodeId]!==void 0}},{key:"_isClusteredEdge",value:function _isClusteredEdge(edgeId){return this.clusteredEdges[edgeId]!==void 0}}]);return ClusterEngine2})();function _initRequestAnimationFrame(){var func;if(window!==void 0){func=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame}if(func===void 0){window.requestAnimationFrame=function(callback){callback()}}else{window.requestAnimationFrame=func}}var CanvasRenderer=(function(){function CanvasRenderer2(body,canvas){_classCallCheck(this,CanvasRenderer2);_initRequestAnimationFrame();this.body=body;this.canvas=canvas;this.redrawRequested=false;this.renderTimer=void 0;this.requiresTimeout=true;this.renderingActive=false;this.renderRequests=0;this.allowRedraw=true;this.dragging=false;this.zooming=false;this.options={};this.defaultOptions={hideEdgesOnDrag:false,hideEdgesOnZoom:false,hideNodesOnDrag:false};_Object$assign(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}_createClass(CanvasRenderer2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this=this,_context2;this.body.emitter.on("dragStart",function(){_this.dragging=true});this.body.emitter.on("dragEnd",function(){_this.dragging=false});this.body.emitter.on("zoom",function(){_this.zooming=true;window.clearTimeout(_this.zoomTimeoutId);_this.zoomTimeoutId=_setTimeout(function(){var _context;_this.zooming=false;_bindInstanceProperty$1(_context=_this._requestRedraw).call(_context,_this)()},250)});this.body.emitter.on("_resizeNodes",function(){_this._resizeNodes()});this.body.emitter.on("_redraw",function(){if(_this.renderingActive===false){_this._redraw()}});this.body.emitter.on("_blockRedraw",function(){_this.allowRedraw=false});this.body.emitter.on("_allowRedraw",function(){_this.allowRedraw=true;_this.redrawRequested=false});this.body.emitter.on("_requestRedraw",_bindInstanceProperty$1(_context2=this._requestRedraw).call(_context2,this));this.body.emitter.on("_startRendering",function(){_this.renderRequests+=1;_this.renderingActive=true;_this._startRendering()});this.body.emitter.on("_stopRendering",function(){_this.renderRequests-=1;_this.renderingActive=_this.renderRequests>0;_this.renderTimer=void 0});this.body.emitter.on("destroy",function(){_this.renderRequests=0;_this.allowRedraw=false;_this.renderingActive=false;if(_this.requiresTimeout===true){clearTimeout(_this.renderTimer)}else{window.cancelAnimationFrame(_this.renderTimer)}_this.body.emitter.off()})}},{key:"setOptions",value:function setOptions(options){if(options!==void 0){var fields=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];selectiveDeepExtend(fields,this.options,options)}}},{key:"_requestNextFrame",value:function _requestNextFrame(callback,delay){if(typeof window==="undefined")return;var timer;var myWindow=window;if(this.requiresTimeout===true){timer=_setTimeout(callback,delay)}else{if(myWindow.requestAnimationFrame){timer=myWindow.requestAnimationFrame(callback)}}return timer}},{key:"_startRendering",value:function _startRendering(){if(this.renderingActive===true){if(this.renderTimer===void 0){var _context3;this.renderTimer=this._requestNextFrame(_bindInstanceProperty$1(_context3=this._renderStep).call(_context3,this),this.simulationInterval)}}}},{key:"_renderStep",value:function _renderStep(){if(this.renderingActive===true){this.renderTimer=void 0;if(this.requiresTimeout===true){this._startRendering()}this._redraw();if(this.requiresTimeout===false){this._startRendering()}}}},{key:"redraw",value:function redraw(){this.body.emitter.emit("setSize");this._redraw()}},{key:"_requestRedraw",value:function _requestRedraw(){var _this2=this;if(this.redrawRequested!==true&&this.renderingActive===false&&this.allowRedraw===true){this.redrawRequested=true;this._requestNextFrame(function(){_this2._redraw(false)},0)}}},{key:"_redraw",value:function _redraw(){var hidden=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;if(this.allowRedraw===true){this.body.emitter.emit("initRedraw");this.redrawRequested=false;var drawLater={drawExternalLabels:null};if(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0){this.canvas.setSize()}this.canvas.setTransform();var ctx=this.canvas.getContext();var w=this.canvas.frame.canvas.clientWidth;var h=this.canvas.frame.canvas.clientHeight;ctx.clearRect(0,0,w,h);if(this.canvas.frame.clientWidth===0){return}ctx.save();ctx.translate(this.body.view.translation.x,this.body.view.translation.y);ctx.scale(this.body.view.scale,this.body.view.scale);ctx.beginPath();this.body.emitter.emit("beforeDrawing",ctx);ctx.closePath();if(hidden===false){if((this.dragging===false||this.dragging===true&&this.options.hideEdgesOnDrag===false)&&(this.zooming===false||this.zooming===true&&this.options.hideEdgesOnZoom===false)){this._drawEdges(ctx)}}if(this.dragging===false||this.dragging===true&&this.options.hideNodesOnDrag===false){var _this$_drawNodes=this._drawNodes(ctx,hidden),drawExternalLabels=_this$_drawNodes.drawExternalLabels;drawLater.drawExternalLabels=drawExternalLabels}if(hidden===false){if((this.dragging===false||this.dragging===true&&this.options.hideEdgesOnDrag===false)&&(this.zooming===false||this.zooming===true&&this.options.hideEdgesOnZoom===false)){this._drawArrows(ctx)}}if(drawLater.drawExternalLabels!=null){drawLater.drawExternalLabels()}if(hidden===false){this._drawSelectionBox(ctx)}ctx.beginPath();this.body.emitter.emit("afterDrawing",ctx);ctx.closePath();ctx.restore();if(hidden===true){ctx.clearRect(0,0,w,h)}}}},{key:"_resizeNodes",value:function _resizeNodes(){this.canvas.setTransform();var ctx=this.canvas.getContext();ctx.save();ctx.translate(this.body.view.translation.x,this.body.view.translation.y);ctx.scale(this.body.view.scale,this.body.view.scale);var nodes=this.body.nodes;var node2;for(var nodeId in nodes){if(Object.prototype.hasOwnProperty.call(nodes,nodeId)){node2=nodes[nodeId];node2.resize(ctx);node2.updateBoundingBox(ctx,node2.selected)}}ctx.restore()}},{key:"_drawNodes",value:function _drawNodes(ctx){var alwaysShow=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;var nodes=this.body.nodes;var nodeIndices=this.body.nodeIndices;var node2;var selected=[];var hovered=[];var margin=20;var topLeft=this.canvas.DOMtoCanvas({x:-margin,y:-margin});var bottomRight=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+margin,y:this.canvas.frame.canvas.clientHeight+margin});var viewableArea={top:topLeft.y,left:topLeft.x,bottom:bottomRight.y,right:bottomRight.x};var _drawExternalLabels=[];for(var _i=0;_i<nodeIndices.length;_i++){node2=nodes[nodeIndices[_i]];if(node2.hover){hovered.push(nodeIndices[_i])}else if(node2.isSelected()){selected.push(nodeIndices[_i])}else{if(alwaysShow===true){var drawLater=node2.draw(ctx);if(drawLater.drawExternalLabel!=null){_drawExternalLabels.push(drawLater.drawExternalLabel)}}else if(node2.isBoundingBoxOverlappingWith(viewableArea)===true){var _drawLater=node2.draw(ctx);if(_drawLater.drawExternalLabel!=null){_drawExternalLabels.push(_drawLater.drawExternalLabel)}}else{node2.updateBoundingBox(ctx,node2.selected)}}}var i2;var selectedLength=selected.length;var hoveredLength=hovered.length;for(i2=0;i2<selectedLength;i2++){node2=nodes[selected[i2]];var _drawLater2=node2.draw(ctx);if(_drawLater2.drawExternalLabel!=null){_drawExternalLabels.push(_drawLater2.drawExternalLabel)}}for(i2=0;i2<hoveredLength;i2++){node2=nodes[hovered[i2]];var _drawLater3=node2.draw(ctx);if(_drawLater3.drawExternalLabel!=null){_drawExternalLabels.push(_drawLater3.drawExternalLabel)}}return{drawExternalLabels:function drawExternalLabels(){for(var _i2=0,_drawExternalLabels2=_drawExternalLabels;_i2<_drawExternalLabels2.length;_i2++){var draw=_drawExternalLabels2[_i2];draw()}}}}},{key:"_drawEdges",value:function _drawEdges(ctx){var edges=this.body.edges;var edgeIndices=this.body.edgeIndices;for(var i2=0;i2<edgeIndices.length;i2++){var edge=edges[edgeIndices[i2]];if(edge.connected===true){edge.draw(ctx)}}}},{key:"_drawArrows",value:function _drawArrows(ctx){var edges=this.body.edges;var edgeIndices=this.body.edgeIndices;for(var i2=0;i2<edgeIndices.length;i2++){var edge=edges[edgeIndices[i2]];if(edge.connected===true){edge.drawArrows(ctx)}}}},{key:"_determineBrowserMethod",value:function _determineBrowserMethod(){if(typeof window!=="undefined"){var browserType=navigator.userAgent.toLowerCase();this.requiresTimeout=false;if(_indexOfInstanceProperty(browserType).call(browserType,"msie 9.0")!=-1){this.requiresTimeout=true}else if(_indexOfInstanceProperty(browserType).call(browserType,"safari")!=-1){if(_indexOfInstanceProperty(browserType).call(browserType,"chrome")<=-1){this.requiresTimeout=true}}}else{this.requiresTimeout=true}}},{key:"_drawSelectionBox",value:function _drawSelectionBox(ctx){if(this.body.selectionBox.show){ctx.beginPath();var width=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x;var height=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;ctx.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,width,height);ctx.fillStyle="rgba(151, 194, 252, 0.2)";ctx.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,width,height);ctx.strokeStyle="rgba(151, 194, 252, 1)";ctx.stroke()}else{ctx.closePath()}}}]);return CanvasRenderer2})();var path$1=path$A;var setInterval$1=path$1.setInterval;var setInterval2=setInterval$1;var _setInterval=getDefaultExportFromCjs(setInterval2);function onTouch(hammer,callback){callback.inputHandler=function(event){if(event.isFirst){callback(event)}};hammer.on("hammer.input",callback.inputHandler)}function onRelease(hammer,callback){callback.inputHandler=function(event){if(event.isFinal){callback(event)}};return hammer.on("hammer.input",callback.inputHandler)}var Canvas=(function(){function Canvas2(body){_classCallCheck(this,Canvas2);this.body=body;this.pixelRatio=1;this.cameraState={};this.initialized=false;this.canvasViewCenter={};this._cleanupCallbacks=[];this.options={};this.defaultOptions={autoResize:true,height:"100%",width:"100%"};_Object$assign(this.options,this.defaultOptions);this.bindEventListeners()}_createClass(Canvas2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this=this,_context;this.body.emitter.once("resize",function(obj){if(obj.width!==0){_this.body.view.translation.x=obj.width*.5}if(obj.height!==0){_this.body.view.translation.y=obj.height*.5}});this.body.emitter.on("setSize",_bindInstanceProperty$1(_context=this.setSize).call(_context,this));this.body.emitter.on("destroy",function(){_this.hammerFrame.destroy();_this.hammer.destroy();_this._cleanUp()})}},{key:"setOptions",value:function setOptions(options){var _this2=this;if(options!==void 0){var fields=["width","height","autoResize"];selectiveDeepExtend(fields,this.options,options)}this._cleanUp();if(this.options.autoResize===true){var _context2;if(window.ResizeObserver){var observer=new ResizeObserver(function(){var changed=_this2.setSize();if(changed===true){_this2.body.emitter.emit("_requestRedraw")}});var frame=this.frame;observer.observe(frame);this._cleanupCallbacks.push(function(){observer.unobserve(frame)})}else{var resizeTimer=_setInterval(function(){var changed=_this2.setSize();if(changed===true){_this2.body.emitter.emit("_requestRedraw")}},1e3);this._cleanupCallbacks.push(function(){clearInterval(resizeTimer)})}var resizeFunction=_bindInstanceProperty$1(_context2=this._onResize).call(_context2,this);window.addEventListener("resize",resizeFunction);this._cleanupCallbacks.push(function(){window.removeEventListener("resize",resizeFunction)})}}},{key:"_cleanUp",value:function _cleanUp(){var _context3,_context4,_context5;_forEachInstanceProperty(_context3=_reverseInstanceProperty(_context4=_spliceInstanceProperty(_context5=this._cleanupCallbacks).call(_context5,0)).call(_context4)).call(_context3,function(callback){try{callback()}catch(error){console.error(error)}})}},{key:"_onResize",value:function _onResize(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function _getCameraState(){var pixelRatio=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;if(this.initialized===true){this.cameraState.previousWidth=this.frame.canvas.width/pixelRatio;this.cameraState.previousHeight=this.frame.canvas.height/pixelRatio;this.cameraState.scale=this.body.view.scale;this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/pixelRatio,y:.5*this.frame.canvas.height/pixelRatio})}}},{key:"_setCameraState",value:function _setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var widthRatio=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth;var heightRatio=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;var newScale=this.cameraState.scale;if(widthRatio!=1&&heightRatio!=1){newScale=this.cameraState.scale*.5*(widthRatio+heightRatio)}else if(widthRatio!=1){newScale=this.cameraState.scale*widthRatio}else if(heightRatio!=1){newScale=this.cameraState.scale*heightRatio}this.body.view.scale=newScale;var currentViewCenter=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});var distanceFromCenter={x:currentViewCenter.x-this.cameraState.position.x,y:currentViewCenter.y-this.cameraState.position.y};this.body.view.translation.x+=distanceFromCenter.x*this.body.view.scale;this.body.view.translation.y+=distanceFromCenter.y*this.body.view.scale}}},{key:"_prepareValue",value:function _prepareValue(value){if(typeof value==="number"){return value+"px"}else if(typeof value==="string"){if(_indexOfInstanceProperty(value).call(value,"%")!==-1||_indexOfInstanceProperty(value).call(value,"px")!==-1){return value}else if(_indexOfInstanceProperty(value).call(value,"%")===-1){return value+"px"}}throw new Error("Could not use the value supplied for width or height:"+value)}},{key:"_create",value:function _create(){while(this.body.container.hasChildNodes()){this.body.container.removeChild(this.body.container.firstChild)}this.frame=document.createElement("div");this.frame.className="vis-network";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.tabIndex=0;this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var noCanvas=document.createElement("DIV");noCanvas.style.color="red";noCanvas.style.fontWeight="bold";noCanvas.style.padding="10px";noCanvas.innerText="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(noCanvas)}else{this._setPixelRatio();this.setTransform()}this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function _bindHammer(){var _this3=this;if(this.hammer!==void 0){this.hammer.destroy()}this.drag={};this.pinch={};this.hammer=new Hammer(this.frame.canvas);this.hammer.get("pinch").set({enable:true});this.hammer.get("pan").set({threshold:5,direction:Hammer.DIRECTION_ALL});onTouch(this.hammer,function(event){_this3.body.eventListeners.onTouch(event)});this.hammer.on("tap",function(event){_this3.body.eventListeners.onTap(event)});this.hammer.on("doubletap",function(event){_this3.body.eventListeners.onDoubleTap(event)});this.hammer.on("press",function(event){_this3.body.eventListeners.onHold(event)});this.hammer.on("panstart",function(event){_this3.body.eventListeners.onDragStart(event)});this.hammer.on("panmove",function(event){_this3.body.eventListeners.onDrag(event)});this.hammer.on("panend",function(event){_this3.body.eventListeners.onDragEnd(event)});this.hammer.on("pinch",function(event){_this3.body.eventListeners.onPinch(event)});this.frame.canvas.addEventListener("wheel",function(event){_this3.body.eventListeners.onMouseWheel(event)});this.frame.canvas.addEventListener("mousemove",function(event){_this3.body.eventListeners.onMouseMove(event)});this.frame.canvas.addEventListener("contextmenu",function(event){_this3.body.eventListeners.onContext(event)});this.hammerFrame=new Hammer(this.frame);onRelease(this.hammerFrame,function(event){_this3.body.eventListeners.onRelease(event)})}},{key:"setSize",value:function setSize(){var width=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width;var height=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;width=this._prepareValue(width);height=this._prepareValue(height);var emitEvent=false;var oldWidth=this.frame.canvas.width;var oldHeight=this.frame.canvas.height;var previousRatio=this.pixelRatio;this._setPixelRatio();if(width!=this.options.width||height!=this.options.height||this.frame.style.width!=width||this.frame.style.height!=height){this._getCameraState(previousRatio);this.frame.style.width=width;this.frame.style.height=height;this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.options.width=width;this.options.height=height;this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight};emitEvent=true}else{var newWidth=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);var newHeight=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);if(this.frame.canvas.width!==newWidth||this.frame.canvas.height!==newHeight){this._getCameraState(previousRatio)}if(this.frame.canvas.width!==newWidth){this.frame.canvas.width=newWidth;emitEvent=true}if(this.frame.canvas.height!==newHeight){this.frame.canvas.height=newHeight;emitEvent=true}}if(emitEvent===true){this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(oldWidth/this.pixelRatio),oldHeight:Math.round(oldHeight/this.pixelRatio)});this._setCameraState()}this.initialized=true;return emitEvent}},{key:"getContext",value:function getContext(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function _determinePixelRatio(){var ctx=this.getContext();if(ctx===void 0){throw new Error("Could not get canvax context")}var numerator=1;if(typeof window!=="undefined"){numerator=window.devicePixelRatio||1}var denominator=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;return numerator/denominator}},{key:"_setPixelRatio",value:function _setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function setTransform(){var ctx=this.getContext();if(ctx===void 0){throw new Error("Could not get canvax context")}ctx.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function _XconvertDOMtoCanvas(x){return(x-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function _XconvertCanvasToDOM(x){return x*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function _YconvertDOMtoCanvas(y){return(y-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function _YconvertCanvasToDOM(y){return y*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function canvasToDOM(pos){return{x:this._XconvertCanvasToDOM(pos.x),y:this._YconvertCanvasToDOM(pos.y)}}},{key:"DOMtoCanvas",value:function DOMtoCanvas(pos){return{x:this._XconvertDOMtoCanvas(pos.x),y:this._YconvertDOMtoCanvas(pos.y)}}}]);return Canvas2})();function normalizeFitOptions(rawOptions,allNodeIds){var options=_Object$assign({nodes:allNodeIds,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},rawOptions!==null&&rawOptions!==void 0?rawOptions:{});if(!_Array$isArray(options.nodes)){throw new TypeError("Nodes has to be an array of ids.")}if(options.nodes.length===0){options.nodes=allNodeIds}if(!(typeof options.minZoomLevel==="number"&&options.minZoomLevel>0)){throw new TypeError("Min zoom level has to be a number higher than zero.")}if(!(typeof options.maxZoomLevel==="number"&&options.minZoomLevel<=options.maxZoomLevel)){throw new TypeError("Max zoom level has to be a number higher than min zoom level.")}return options}var View=(function(){function View2(body,canvas){var _context,_this=this,_context2;_classCallCheck(this,View2);this.body=body;this.canvas=canvas;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0;this.touchTime=0;this.viewFunction=void 0;this.body.emitter.on("fit",_bindInstanceProperty$1(_context=this.fit).call(_context,this));this.body.emitter.on("animationFinished",function(){_this.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",_bindInstanceProperty$1(_context2=this.releaseNode).call(_context2,this))}_createClass(View2,[{key:"setOptions",value:function setOptions(){var options=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=options}},{key:"fit",value:function fit(options){var initialZoom=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;options=normalizeFitOptions(options,this.body.nodeIndices);var canvasWidth=this.canvas.frame.canvas.clientWidth;var canvasHeight=this.canvas.frame.canvas.clientHeight;var range;var zoomLevel;if(canvasWidth===0||canvasHeight===0){zoomLevel=1;range=NetworkUtil.getRange(this.body.nodes,options.nodes)}else if(initialZoom===true){var positionDefined=0;for(var nodeId in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,nodeId)){var node2=this.body.nodes[nodeId];if(node2.predefinedPosition===true){positionDefined+=1}}}if(positionDefined>.5*this.body.nodeIndices.length){this.fit(options,false);return}range=NetworkUtil.getRange(this.body.nodes,options.nodes);var numberOfNodes=this.body.nodeIndices.length;zoomLevel=12.662/(numberOfNodes+7.4147)+.0964822;var factor=Math.min(canvasWidth/600,canvasHeight/600);zoomLevel*=factor}else{this.body.emitter.emit("_resizeNodes");range=NetworkUtil.getRange(this.body.nodes,options.nodes);var xDistance=Math.abs(range.maxX-range.minX)*1.1;var yDistance=Math.abs(range.maxY-range.minY)*1.1;var xZoomLevel=canvasWidth/xDistance;var yZoomLevel=canvasHeight/yDistance;zoomLevel=xZoomLevel<=yZoomLevel?xZoomLevel:yZoomLevel}if(zoomLevel>options.maxZoomLevel){zoomLevel=options.maxZoomLevel}else if(zoomLevel<options.minZoomLevel){zoomLevel=options.minZoomLevel}var center=NetworkUtil.findCenter(range);var animationOptions={position:center,scale:zoomLevel,animation:options.animation};this.moveTo(animationOptions)}},{key:"focus",value:function focus(nodeId){var options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[nodeId]!==void 0){var nodePosition={x:this.body.nodes[nodeId].x,y:this.body.nodes[nodeId].y};options.position=nodePosition;options.lockedOnNode=nodeId;this.moveTo(options)}else{console.error("Node: "+nodeId+" cannot be found.")}}},{key:"moveTo",value:function moveTo(options){if(options===void 0){options={};return}if(options.offset!=null){if(options.offset.x!=null){options.offset.x=+options.offset.x;if(!_Number$isFinite(options.offset.x)){throw new TypeError('The option "offset.x" has to be a finite number.')}}else{options.offset.x=0}if(options.offset.y!=null){options.offset.y=+options.offset.y;if(!_Number$isFinite(options.offset.y)){throw new TypeError('The option "offset.y" has to be a finite number.')}}else{options.offset.x=0}}else{options.offset={x:0,y:0}}if(options.position!=null){if(options.position.x!=null){options.position.x=+options.position.x;if(!_Number$isFinite(options.position.x)){throw new TypeError('The option "position.x" has to be a finite number.')}}else{options.position.x=0}if(options.position.y!=null){options.position.y=+options.position.y;if(!_Number$isFinite(options.position.y)){throw new TypeError('The option "position.y" has to be a finite number.')}}else{options.position.x=0}}else{options.position=this.getViewPosition()}if(options.scale!=null){options.scale=+options.scale;if(!(options.scale>0)){throw new TypeError('The option "scale" has to be a number greater than zero.')}}else{options.scale=this.body.view.scale}if(options.animation===void 0){options.animation={duration:0}}if(options.animation===false){options.animation={duration:0}}if(options.animation===true){options.animation={}}if(options.animation.duration===void 0){options.animation.duration=1e3}if(options.animation.easingFunction===void 0){options.animation.easingFunction="easeInOutQuad"}this.animateView(options)}},{key:"animateView",value:function animateView(options){if(options===void 0){return}this.animationEasingFunction=options.animation.easingFunction;this.releaseNode();if(options.locked===true){this.lockedOnNodeId=options.lockedOnNode;this.lockedOnNodeOffset=options.offset}if(this.easingTime!=0){this._transitionRedraw(true)}this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=options.scale;this.body.view.scale=this.targetScale;var viewCenter=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var distanceFromCenter={x:viewCenter.x-options.position.x,y:viewCenter.y-options.position.y};this.targetTranslation={x:this.sourceTranslation.x+distanceFromCenter.x*this.targetScale+options.offset.x,y:this.sourceTranslation.y+distanceFromCenter.y*this.targetScale+options.offset.y};if(options.animation.duration===0){if(this.lockedOnNodeId!=void 0){var _context3;this.viewFunction=_bindInstanceProperty$1(_context3=this._lockedRedraw).call(_context3,this);this.body.emitter.on("initRedraw",this.viewFunction)}else{this.body.view.scale=this.targetScale;this.body.view.translation=this.targetTranslation;this.body.emitter.emit("_requestRedraw")}}else{var _context4;this.animationSpeed=1/(60*options.animation.duration*.001)||1/60;this.animationEasingFunction=options.animation.easingFunction;this.viewFunction=_bindInstanceProperty$1(_context4=this._transitionRedraw).call(_context4,this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function _lockedRedraw(){var nodePosition={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y};var viewCenter=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var distanceFromCenter={x:viewCenter.x-nodePosition.x,y:viewCenter.y-nodePosition.y};var sourceTranslation=this.body.view.translation;var targetTranslation={x:sourceTranslation.x+distanceFromCenter.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:sourceTranslation.y+distanceFromCenter.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=targetTranslation}},{key:"releaseNode",value:function releaseNode(){if(this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0){this.body.emitter.off("initRedraw",this.viewFunction);this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0}}},{key:"_transitionRedraw",value:function _transitionRedraw(){var finished=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.easingTime+=this.animationSpeed;this.easingTime=finished===true?1:this.easingTime;var progress=easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*progress;this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*progress,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*progress};if(this.easingTime>=1){this.body.emitter.off("initRedraw",this.viewFunction);this.easingTime=0;if(this.lockedOnNodeId!=void 0){var _context5;this.viewFunction=_bindInstanceProperty$1(_context5=this._lockedRedraw).call(_context5,this);this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function getScale2(){return this.body.view.scale}},{key:"getViewPosition",value:function getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]);return View2})();function keycharm(options){var preventDefault2=options&&options.preventDefault||false;var container=options&&options.container||window;var _exportFunctions={};var _bound={keydown:{},keyup:{}};var _keys={};var i2;for(i2=97;i2<=122;i2++){_keys[String.fromCharCode(i2)]={code:65+(i2-97),shift:false}}for(i2=65;i2<=90;i2++){_keys[String.fromCharCode(i2)]={code:i2,shift:true}}for(i2=0;i2<=9;i2++){_keys[""+i2]={code:48+i2,shift:false}}for(i2=1;i2<=12;i2++){_keys["F"+i2]={code:111+i2,shift:false}}for(i2=0;i2<=9;i2++){_keys["num"+i2]={code:96+i2,shift:false}}_keys["num*"]={code:106,shift:false};_keys["num+"]={code:107,shift:false};_keys["num-"]={code:109,shift:false};_keys["num/"]={code:111,shift:false};_keys["num."]={code:110,shift:false};_keys["left"]={code:37,shift:false};_keys["up"]={code:38,shift:false};_keys["right"]={code:39,shift:false};_keys["down"]={code:40,shift:false};_keys["space"]={code:32,shift:false};_keys["enter"]={code:13,shift:false};_keys["shift"]={code:16,shift:void 0};_keys["esc"]={code:27,shift:false};_keys["backspace"]={code:8,shift:false};_keys["tab"]={code:9,shift:false};_keys["ctrl"]={code:17,shift:false};_keys["alt"]={code:18,shift:false};_keys["delete"]={code:46,shift:false};_keys["pageup"]={code:33,shift:false};_keys["pagedown"]={code:34,shift:false};_keys["="]={code:187,shift:false};_keys["-"]={code:189,shift:false};_keys["]"]={code:221,shift:false};_keys["["]={code:219,shift:false};var down=function(event){handleEvent(event,"keydown")};var up=function(event){handleEvent(event,"keyup")};var handleEvent=function(event,type){if(_bound[type][event.keyCode]!==void 0){var bound=_bound[type][event.keyCode];for(var i3=0;i3<bound.length;i3++){if(bound[i3].shift===void 0){bound[i3].fn(event)}else if(bound[i3].shift==true&&event.shiftKey==true){bound[i3].fn(event)}else if(bound[i3].shift==false&&event.shiftKey==false){bound[i3].fn(event)}}if(preventDefault2==true){event.preventDefault()}}};_exportFunctions.bind=function(key,callback,type){if(type===void 0){type="keydown"}if(_keys[key]===void 0){throw new Error("unsupported key: "+key)}if(_bound[type][_keys[key].code]===void 0){_bound[type][_keys[key].code]=[]}_bound[type][_keys[key].code].push({fn:callback,shift:_keys[key].shift})};_exportFunctions.bindAll=function(callback,type){if(type===void 0){type="keydown"}for(var key in _keys){if(_keys.hasOwnProperty(key)){_exportFunctions.bind(key,callback,type)}}};_exportFunctions.getKey=function(event){for(var key in _keys){if(_keys.hasOwnProperty(key)){if(event.shiftKey==true&&_keys[key].shift==true&&event.keyCode==_keys[key].code){return key}else if(event.shiftKey==false&&_keys[key].shift==false&&event.keyCode==_keys[key].code){return key}else if(event.keyCode==_keys[key].code&&key=="shift"){return key}}}return"unknown key, currently not supported"};_exportFunctions.unbind=function(key,callback,type){if(type===void 0){type="keydown"}if(_keys[key]===void 0){throw new Error("unsupported key: "+key)}if(callback!==void 0){var newBindings=[];var bound=_bound[type][_keys[key].code];if(bound!==void 0){for(var i3=0;i3<bound.length;i3++){if(!(bound[i3].fn==callback&&bound[i3].shift==_keys[key].shift)){newBindings.push(_bound[type][_keys[key].code][i3])}}}_bound[type][_keys[key].code]=newBindings}else{_bound[type][_keys[key].code]=[]}};_exportFunctions.reset=function(){_bound={keydown:{},keyup:{}}};_exportFunctions.destroy=function(){_bound={keydown:{},keyup:{}};container.removeEventListener("keydown",down,true);container.removeEventListener("keyup",up,true)};container.addEventListener("keydown",down,true);container.addEventListener("keyup",up,true);return _exportFunctions}var keycharm$1=Object.freeze({__proto__:null,default:keycharm});var NavigationHandler=(function(){function NavigationHandler2(body,canvas){var _this=this;_classCallCheck(this,NavigationHandler2);this.body=body;this.canvas=canvas;this.iconsCreated=false;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=false;this.body.emitter.on("activate",function(){_this.activated=true;_this.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){_this.activated=false;_this.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){if(_this.keycharm!==void 0){_this.keycharm.destroy()}});this.options={}}_createClass(NavigationHandler2,[{key:"setOptions",value:function setOptions(options){if(options!==void 0){this.options=options;this.create()}}},{key:"create",value:function create2(){if(this.options.navigationButtons===true){if(this.iconsCreated===false){this.loadNavigationElements()}}else if(this.iconsCreated===true){this.cleanNavigation()}this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function cleanNavigation(){if(this.navigationHammers.length!=0){for(var i2=0;i2<this.navigationHammers.length;i2++){this.navigationHammers[i2].destroy()}this.navigationHammers=[]}if(this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode){this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"])}this.iconsCreated=false}},{key:"loadNavigationElements",value:function loadNavigationElements(){var _this2=this;this.cleanNavigation();this.navigationDOM={};var navigationDivs=["up","down","left","right","zoomIn","zoomOut","zoomExtends"];var navigationDivActions=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div");this.navigationDOM["wrapper"].className="vis-navigation";this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var i2=0;i2<navigationDivs.length;i2++){this.navigationDOM[navigationDivs[i2]]=document.createElement("div");this.navigationDOM[navigationDivs[i2]].className="vis-button vis-"+navigationDivs[i2];this.navigationDOM["wrapper"].appendChild(this.navigationDOM[navigationDivs[i2]]);var hammer=new Hammer(this.navigationDOM[navigationDivs[i2]]);if(navigationDivActions[i2]==="_fit"){var _context;onTouch(hammer,_bindInstanceProperty$1(_context=this._fit).call(_context,this))}else{var _context2;onTouch(hammer,_bindInstanceProperty$1(_context2=this.bindToRedraw).call(_context2,this,navigationDivActions[i2]))}this.navigationHammers.push(hammer)}var hammerFrame=new Hammer(this.canvas.frame);onRelease(hammerFrame,function(){_this2._stopMovement()});this.navigationHammers.push(hammerFrame);this.iconsCreated=true}},{key:"bindToRedraw",value:function bindToRedraw(action){if(this.boundFunctions[action]===void 0){var _context3;this.boundFunctions[action]=_bindInstanceProperty$1(_context3=this[action]).call(_context3,this);this.body.emitter.on("initRedraw",this.boundFunctions[action]);this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function unbindFromRedraw(action){if(this.boundFunctions[action]!==void 0){this.body.emitter.off("initRedraw",this.boundFunctions[action]);this.body.emitter.emit("_stopRendering");delete this.boundFunctions[action]}}},{key:"_fit",value:function _fit(){if(new Date().valueOf()-this.touchTime>700){this.body.emitter.emit("fit",{duration:700});this.touchTime=new Date().valueOf()}}},{key:"_stopMovement",value:function _stopMovement(){for(var boundAction in this.boundFunctions){if(Object.prototype.hasOwnProperty.call(this.boundFunctions,boundAction)){this.body.emitter.off("initRedraw",this.boundFunctions[boundAction]);this.body.emitter.emit("_stopRendering")}}this.boundFunctions={}}},{key:"_moveUp",value:function _moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function _moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function _moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function _moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function _zoomIn(){var scaleOld=this.body.view.scale;var scale=this.body.view.scale*(1+this.options.keyboard.speed.zoom);var translation=this.body.view.translation;var scaleFrac=scale/scaleOld;var tx=(1-scaleFrac)*this.canvas.canvasViewCenter.x+translation.x*scaleFrac;var ty=(1-scaleFrac)*this.canvas.canvasViewCenter.y+translation.y*scaleFrac;this.body.view.scale=scale;this.body.view.translation={x:tx,y:ty};this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function _zoomOut(){var scaleOld=this.body.view.scale;var scale=this.body.view.scale/(1+this.options.keyboard.speed.zoom);var translation=this.body.view.translation;var scaleFrac=scale/scaleOld;var tx=(1-scaleFrac)*this.canvas.canvasViewCenter.x+translation.x*scaleFrac;var ty=(1-scaleFrac)*this.canvas.canvasViewCenter.y+translation.y*scaleFrac;this.body.view.scale=scale;this.body.view.translation={x:tx,y:ty};this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function configureKeyboardBindings(){var _this3=this;if(this.keycharm!==void 0){this.keycharm.destroy()}if(this.options.keyboard.enabled===true){if(this.options.keyboard.bindToWindow===true){this.keycharm=keycharm({container:window,preventDefault:true})}else{this.keycharm=keycharm({container:this.canvas.frame,preventDefault:true})}this.keycharm.reset();if(this.activated===true){var _context4,_context5,_context6,_context7,_context8,_context9,_context10,_context11,_context12,_context13,_context14,_context15,_context16,_context17,_context18,_context19,_context20,_context21,_context22,_context23,_context24,_context25,_context26,_context27;_bindInstanceProperty$1(_context4=this.keycharm).call(_context4,"up",function(){_this3.bindToRedraw("_moveUp")},"keydown");_bindInstanceProperty$1(_context5=this.keycharm).call(_context5,"down",function(){_this3.bindToRedraw("_moveDown")},"keydown");_bindInstanceProperty$1(_context6=this.keycharm).call(_context6,"left",function(){_this3.bindToRedraw("_moveLeft")},"keydown");_bindInstanceProperty$1(_context7=this.keycharm).call(_context7,"right",function(){_this3.bindToRedraw("_moveRight")},"keydown");_bindInstanceProperty$1(_context8=this.keycharm).call(_context8,"=",function(){_this3.bindToRedraw("_zoomIn")},"keydown");_bindInstanceProperty$1(_context9=this.keycharm).call(_context9,"num+",function(){_this3.bindToRedraw("_zoomIn")},"keydown");_bindInstanceProperty$1(_context10=this.keycharm).call(_context10,"num-",function(){_this3.bindToRedraw("_zoomOut")},"keydown");_bindInstanceProperty$1(_context11=this.keycharm).call(_context11,"-",function(){_this3.bindToRedraw("_zoomOut")},"keydown");_bindInstanceProperty$1(_context12=this.keycharm).call(_context12,"[",function(){_this3.bindToRedraw("_zoomOut")},"keydown");_bindInstanceProperty$1(_context13=this.keycharm).call(_context13,"]",function(){_this3.bindToRedraw("_zoomIn")},"keydown");_bindInstanceProperty$1(_context14=this.keycharm).call(_context14,"pageup",function(){_this3.bindToRedraw("_zoomIn")},"keydown");_bindInstanceProperty$1(_context15=this.keycharm).call(_context15,"pagedown",function(){_this3.bindToRedraw("_zoomOut")},"keydown");_bindInstanceProperty$1(_context16=this.keycharm).call(_context16,"up",function(){_this3.unbindFromRedraw("_moveUp")},"keyup");_bindInstanceProperty$1(_context17=this.keycharm).call(_context17,"down",function(){_this3.unbindFromRedraw("_moveDown")},"keyup");_bindInstanceProperty$1(_context18=this.keycharm).call(_context18,"left",function(){_this3.unbindFromRedraw("_moveLeft")},"keyup");_bindInstanceProperty$1(_context19=this.keycharm).call(_context19,"right",function(){_this3.unbindFromRedraw("_moveRight")},"keyup");_bindInstanceProperty$1(_context20=this.keycharm).call(_context20,"=",function(){_this3.unbindFromRedraw("_zoomIn")},"keyup");_bindInstanceProperty$1(_context21=this.keycharm).call(_context21,"num+",function(){_this3.unbindFromRedraw("_zoomIn")},"keyup");_bindInstanceProperty$1(_context22=this.keycharm).call(_context22,"num-",function(){_this3.unbindFromRedraw("_zoomOut")},"keyup");_bindInstanceProperty$1(_context23=this.keycharm).call(_context23,"-",function(){_this3.unbindFromRedraw("_zoomOut")},"keyup");_bindInstanceProperty$1(_context24=this.keycharm).call(_context24,"[",function(){_this3.unbindFromRedraw("_zoomOut")},"keyup");_bindInstanceProperty$1(_context25=this.keycharm).call(_context25,"]",function(){_this3.unbindFromRedraw("_zoomIn")},"keyup");_bindInstanceProperty$1(_context26=this.keycharm).call(_context26,"pageup",function(){_this3.unbindFromRedraw("_zoomIn")},"keyup");_bindInstanceProperty$1(_context27=this.keycharm).call(_context27,"pagedown",function(){_this3.unbindFromRedraw("_zoomOut")},"keyup")}}}}]);return NavigationHandler2})();function _createForOfIteratorHelper$4(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$4(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$4(o,minLen){var _context15;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$4(o,minLen);var n=_sliceInstanceProperty(_context15=Object.prototype.toString.call(o)).call(_context15,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(o,minLen)}function _arrayLikeToArray$4(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var InteractionHandler=(function(){function InteractionHandler2(body,canvas,selectionHandler){var _context,_context2,_context3,_context4,_context5,_context6,_context7,_context8,_context9,_context10,_context11,_context12,_context13;_classCallCheck(this,InteractionHandler2);this.body=body;this.canvas=canvas;this.selectionHandler=selectionHandler;this.navigationHandler=new NavigationHandler(body,canvas);this.body.eventListeners.onTap=_bindInstanceProperty$1(_context=this.onTap).call(_context,this);this.body.eventListeners.onTouch=_bindInstanceProperty$1(_context2=this.onTouch).call(_context2,this);this.body.eventListeners.onDoubleTap=_bindInstanceProperty$1(_context3=this.onDoubleTap).call(_context3,this);this.body.eventListeners.onHold=_bindInstanceProperty$1(_context4=this.onHold).call(_context4,this);this.body.eventListeners.onDragStart=_bindInstanceProperty$1(_context5=this.onDragStart).call(_context5,this);this.body.eventListeners.onDrag=_bindInstanceProperty$1(_context6=this.onDrag).call(_context6,this);this.body.eventListeners.onDragEnd=_bindInstanceProperty$1(_context7=this.onDragEnd).call(_context7,this);this.body.eventListeners.onMouseWheel=_bindInstanceProperty$1(_context8=this.onMouseWheel).call(_context8,this);this.body.eventListeners.onPinch=_bindInstanceProperty$1(_context9=this.onPinch).call(_context9,this);this.body.eventListeners.onMouseMove=_bindInstanceProperty$1(_context10=this.onMouseMove).call(_context10,this);this.body.eventListeners.onRelease=_bindInstanceProperty$1(_context11=this.onRelease).call(_context11,this);this.body.eventListeners.onContext=_bindInstanceProperty$1(_context12=this.onContext).call(_context12,this);this.touchTime=0;this.drag={};this.pinch={};this.popup=void 0;this.popupObj=void 0;this.popupTimer=void 0;this.body.functions.getPointer=_bindInstanceProperty$1(_context13=this.getPointer).call(_context13,this);this.options={};this.defaultOptions={dragNodes:true,dragView:true,hover:false,keyboard:{enabled:false,speed:{x:10,y:10,zoom:.02},bindToWindow:true,autoFocus:true},navigationButtons:false,tooltipDelay:300,zoomView:true,zoomSpeed:1};_Object$assign(this.options,this.defaultOptions);this.bindEventListeners()}_createClass(InteractionHandler2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this=this;this.body.emitter.on("destroy",function(){clearTimeout(_this.popupTimer);delete _this.body.functions.getPointer})}},{key:"setOptions",value:function setOptions(options){if(options!==void 0){var fields=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];selectiveNotDeepExtend(fields,this.options,options);mergeOptions(this.options,options,"keyboard");if(options.tooltip){_Object$assign(this.options.tooltip,options.tooltip);if(options.tooltip.color){this.options.tooltip.color=parseColor(options.tooltip.color)}}}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function getPointer(touch){return{x:touch.x-getAbsoluteLeft(this.canvas.frame.canvas),y:touch.y-getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function onTouch2(event){if(new Date().valueOf()-this.touchTime>50){this.drag.pointer=this.getPointer(event.center);this.drag.pinched=false;this.pinch.scale=this.body.view.scale;this.touchTime=new Date().valueOf()}}},{key:"onTap",value:function onTap(event){var pointer=this.getPointer(event.center);var multiselect=this.selectionHandler.options.multiselect&&(event.changedPointers[0].ctrlKey||event.changedPointers[0].metaKey);this.checkSelectionChanges(pointer,multiselect);this.selectionHandler.commitAndEmit(pointer,event);this.selectionHandler.generateClickEvent("click",event,pointer)}},{key:"onDoubleTap",value:function onDoubleTap(event){var pointer=this.getPointer(event.center);this.selectionHandler.generateClickEvent("doubleClick",event,pointer)}},{key:"onHold",value:function onHold(event){var pointer=this.getPointer(event.center);var multiselect=this.selectionHandler.options.multiselect;this.checkSelectionChanges(pointer,multiselect);this.selectionHandler.commitAndEmit(pointer,event);this.selectionHandler.generateClickEvent("click",event,pointer);this.selectionHandler.generateClickEvent("hold",event,pointer)}},{key:"onRelease",value:function onRelease2(event){if(new Date().valueOf()-this.touchTime>10){var pointer=this.getPointer(event.center);this.selectionHandler.generateClickEvent("release",event,pointer);this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function onContext(event){var pointer=this.getPointer({x:event.clientX,y:event.clientY});this.selectionHandler.generateClickEvent("oncontext",event,pointer)}},{key:"checkSelectionChanges",value:function checkSelectionChanges(pointer){var add=arguments.length>1&&arguments[1]!==void 0?arguments[1]:false;if(add===true){this.selectionHandler.selectAdditionalOnPoint(pointer)}else{this.selectionHandler.selectOnPoint(pointer)}}},{key:"_determineDifference",value:function _determineDifference(firstSet,secondSet){var arrayDiff=function arrayDiff2(firstArr,secondArr){var result=[];for(var i2=0;i2<firstArr.length;i2++){var value=firstArr[i2];if(_indexOfInstanceProperty(secondArr).call(secondArr,value)===-1){result.push(value)}}return result};return{nodes:arrayDiff(firstSet.nodes,secondSet.nodes),edges:arrayDiff(firstSet.edges,secondSet.edges)}}},{key:"onDragStart",value:function onDragStart(event){if(this.drag.dragging){return}if(this.drag.pointer===void 0){this.onTouch(event)}var node2=this.selectionHandler.getNodeAt(this.drag.pointer);this.drag.dragging=true;this.drag.selection=[];this.drag.translation=_Object$assign({},this.body.view.translation);this.drag.nodeId=void 0;if(event.srcEvent.shiftKey){this.body.selectionBox.show=true;var pointer=this.getPointer(event.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(pointer.x),y:this.canvas._YconvertDOMtoCanvas(pointer.y)};this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(pointer.x),y:this.canvas._YconvertDOMtoCanvas(pointer.y)}}else if(node2!==void 0&&this.options.dragNodes===true){this.drag.nodeId=node2.id;if(node2.isSelected()===false){this.selectionHandler.setSelection({nodes:[node2.id]})}this.selectionHandler.generateClickEvent("dragStart",event,this.drag.pointer);var _iterator=_createForOfIteratorHelper$4(this.selectionHandler.getSelectedNodes()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _node=_step.value;var s={id:_node.id,node:_node,x:_node.x,y:_node.y,xFixed:_node.options.fixed.x,yFixed:_node.options.fixed.y};_node.options.fixed.x=true;_node.options.fixed.y=true;this.drag.selection.push(s)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else{this.selectionHandler.generateClickEvent("dragStart",event,this.drag.pointer,void 0,true)}}},{key:"onDrag",value:function onDrag(event){var _this2=this;if(this.drag.pinched===true){return}this.body.emitter.emit("unlockNode");var pointer=this.getPointer(event.center);var selection=this.drag.selection;if(selection&&selection.length&&this.options.dragNodes===true){this.selectionHandler.generateClickEvent("dragging",event,pointer);var deltaX=pointer.x-this.drag.pointer.x;var deltaY=pointer.y-this.drag.pointer.y;_forEachInstanceProperty(selection).call(selection,function(selection2){var node2=selection2.node;if(selection2.xFixed===false){node2.x=_this2.canvas._XconvertDOMtoCanvas(_this2.canvas._XconvertCanvasToDOM(selection2.x)+deltaX)}if(selection2.yFixed===false){node2.y=_this2.canvas._YconvertDOMtoCanvas(_this2.canvas._YconvertCanvasToDOM(selection2.y)+deltaY)}});this.body.emitter.emit("startSimulation")}else{if(event.srcEvent.shiftKey){this.selectionHandler.generateClickEvent("dragging",event,pointer,void 0,true);if(this.drag.pointer===void 0){this.onDragStart(event);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(pointer.x),y:this.canvas._YconvertDOMtoCanvas(pointer.y)};this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===true&&!event.srcEvent.shiftKey){this.selectionHandler.generateClickEvent("dragging",event,pointer,void 0,true);if(this.drag.pointer===void 0){this.onDragStart(event);return}var diffX=pointer.x-this.drag.pointer.x;var diffY=pointer.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+diffX,y:this.drag.translation.y+diffY};this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function onDragEnd(event){var _this3=this;this.drag.dragging=false;if(this.body.selectionBox.show){var _context14;this.body.selectionBox.show=false;var selectionBoxPosition=this.body.selectionBox.position;var selectionBoxPositionMinMax={minX:Math.min(selectionBoxPosition.start.x,selectionBoxPosition.end.x),minY:Math.min(selectionBoxPosition.start.y,selectionBoxPosition.end.y),maxX:Math.max(selectionBoxPosition.start.x,selectionBoxPosition.end.x),maxY:Math.max(selectionBoxPosition.start.y,selectionBoxPosition.end.y)};var toBeSelectedNodes=_filterInstanceProperty(_context14=this.body.nodeIndices).call(_context14,function(nodeId){var node2=_this3.body.nodes[nodeId];return node2.x>=selectionBoxPositionMinMax.minX&&node2.x<=selectionBoxPositionMinMax.maxX&&node2.y>=selectionBoxPositionMinMax.minY&&node2.y<=selectionBoxPositionMinMax.maxY});_forEachInstanceProperty(toBeSelectedNodes).call(toBeSelectedNodes,function(nodeId){return _this3.selectionHandler.selectObject(_this3.body.nodes[nodeId])});var pointer=this.getPointer(event.center);this.selectionHandler.commitAndEmit(pointer,event);this.selectionHandler.generateClickEvent("dragEnd",event,this.getPointer(event.center),void 0,true);this.body.emitter.emit("_requestRedraw")}else{var selection=this.drag.selection;if(selection&&selection.length){_forEachInstanceProperty(selection).call(selection,function(s){s.node.options.fixed.x=s.xFixed;s.node.options.fixed.y=s.yFixed});this.selectionHandler.generateClickEvent("dragEnd",event,this.getPointer(event.center));this.body.emitter.emit("startSimulation")}else{this.selectionHandler.generateClickEvent("dragEnd",event,this.getPointer(event.center),void 0,true);this.body.emitter.emit("_requestRedraw")}}}},{key:"onPinch",value:function onPinch(event){var pointer=this.getPointer(event.center);this.drag.pinched=true;if(this.pinch["scale"]===void 0){this.pinch.scale=1}var scale=this.pinch.scale*event.scale;this.zoom(scale,pointer)}},{key:"zoom",value:function zoom(scale,pointer){if(this.options.zoomView===true){var scaleOld=this.body.view.scale;if(scale<1e-5){scale=1e-5}if(scale>10){scale=10}var preScaleDragPointer=void 0;if(this.drag!==void 0){if(this.drag.dragging===true){preScaleDragPointer=this.canvas.DOMtoCanvas(this.drag.pointer)}}var translation=this.body.view.translation;var scaleFrac=scale/scaleOld;var tx=(1-scaleFrac)*pointer.x+translation.x*scaleFrac;var ty=(1-scaleFrac)*pointer.y+translation.y*scaleFrac;this.body.view.scale=scale;this.body.view.translation={x:tx,y:ty};if(preScaleDragPointer!=void 0){var postScaleDragPointer=this.canvas.canvasToDOM(preScaleDragPointer);this.drag.pointer.x=postScaleDragPointer.x;this.drag.pointer.y=postScaleDragPointer.y}this.body.emitter.emit("_requestRedraw");if(scaleOld<scale){this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer})}else{this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer})}}}},{key:"onMouseWheel",value:function onMouseWheel(event){if(this.options.zoomView===true){if(event.deltaY!==0){var scale=this.body.view.scale;scale*=1+(event.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var pointer=this.getPointer({x:event.clientX,y:event.clientY});this.zoom(scale,pointer)}event.preventDefault()}}},{key:"onMouseMove",value:function onMouseMove(event){var _this4=this;var pointer=this.getPointer({x:event.clientX,y:event.clientY});var popupVisible=false;if(this.popup!==void 0){if(this.popup.hidden===false){this._checkHidePopup(pointer)}if(this.popup.hidden===false){popupVisible=true;this.popup.setPosition(pointer.x+3,pointer.y-5);this.popup.show()}}if(this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===false&&this.options.keyboard.enabled===true){this.canvas.frame.focus()}if(popupVisible===false){if(this.popupTimer!==void 0){clearInterval(this.popupTimer);this.popupTimer=void 0}if(!this.drag.dragging){this.popupTimer=_setTimeout(function(){return _this4._checkShowPopup(pointer)},this.options.tooltipDelay)}}if(this.options.hover===true){this.selectionHandler.hoverObject(event,pointer)}}},{key:"_checkShowPopup",value:function _checkShowPopup(pointer){var x=this.canvas._XconvertDOMtoCanvas(pointer.x);var y=this.canvas._YconvertDOMtoCanvas(pointer.y);var pointerObj={left:x,top:y,right:x,bottom:y};var previousPopupObjId=this.popupObj===void 0?void 0:this.popupObj.id;var nodeUnderCursor=false;var popupType="node";if(this.popupObj===void 0){var nodeIndices=this.body.nodeIndices;var nodes=this.body.nodes;var node2;var overlappingNodes=[];for(var i2=0;i2<nodeIndices.length;i2++){node2=nodes[nodeIndices[i2]];if(node2.isOverlappingWith(pointerObj)===true){nodeUnderCursor=true;if(node2.getTitle()!==void 0){overlappingNodes.push(nodeIndices[i2])}}}if(overlappingNodes.length>0){this.popupObj=nodes[overlappingNodes[overlappingNodes.length-1]];nodeUnderCursor=true}}if(this.popupObj===void 0&&nodeUnderCursor===false){var edgeIndices=this.body.edgeIndices;var edges=this.body.edges;var edge;var overlappingEdges=[];for(var _i=0;_i<edgeIndices.length;_i++){edge=edges[edgeIndices[_i]];if(edge.isOverlappingWith(pointerObj)===true){if(edge.connected===true&&edge.getTitle()!==void 0){overlappingEdges.push(edgeIndices[_i])}}}if(overlappingEdges.length>0){this.popupObj=edges[overlappingEdges[overlappingEdges.length-1]];popupType="edge"}}if(this.popupObj!==void 0){if(this.popupObj.id!==previousPopupObjId){if(this.popup===void 0){this.popup=new Popup(this.canvas.frame)}this.popup.popupTargetType=popupType;this.popup.popupTargetId=this.popupObj.id;this.popup.setPosition(pointer.x+3,pointer.y-5);this.popup.setText(this.popupObj.getTitle());this.popup.show();this.body.emitter.emit("showPopup",this.popupObj.id)}}else{if(this.popup!==void 0){this.popup.hide();this.body.emitter.emit("hidePopup")}}}},{key:"_checkHidePopup",value:function _checkHidePopup(pointer){var pointerObj=this.selectionHandler._pointerToPositionObject(pointer);var stillOnObj=false;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0){stillOnObj=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(pointerObj);if(stillOnObj===true){var overNode=this.selectionHandler.getNodeAt(pointer);stillOnObj=overNode===void 0?false:overNode.id===this.popup.popupTargetId}}}else{if(this.selectionHandler.getNodeAt(pointer)===void 0){if(this.body.edges[this.popup.popupTargetId]!==void 0){stillOnObj=this.body.edges[this.popup.popupTargetId].isOverlappingWith(pointerObj)}}}if(stillOnObj===false){this.popupObj=void 0;this.popup.hide();this.body.emitter.emit("hidePopup")}}}]);return InteractionHandler2})();var uncurryThis$1=functionUncurryThis;var defineBuiltIns$1=defineBuiltIns$3;var getWeakData=internalMetadataExports.getWeakData;var anInstance=anInstance$4;var anObject=anObject$f;var isNullOrUndefined=isNullOrUndefined$7;var isObject$1=isObject$m;var iterate=iterate$8;var ArrayIterationModule=arrayIteration;var hasOwn=hasOwnProperty_1;var InternalStateModule=internalState;var setInternalState=InternalStateModule.set;var internalStateGetterFor=InternalStateModule.getterFor;var find=ArrayIterationModule.find;var findIndex=ArrayIterationModule.findIndex;var splice=uncurryThis$1([].splice);var id=0;var uncaughtFrozenStore=function(state){return state.frozen||(state.frozen=new UncaughtFrozenStore)};var UncaughtFrozenStore=function(){this.entries=[]};var findUncaughtFrozen=function(store2,key){return find(store2.entries,function(it2){return it2[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);if(entry)entry[1]=value;else this.entries.push([key,value])},"delete":function(key){var index2=findIndex(this.entries,function(it2){return it2[0]===key});if(~index2)splice(this.entries,index2,1);return!!~index2}};var collectionWeak$1={getConstructor:function(wrapper2,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper2(function(that,iterable){anInstance(that,Prototype);setInternalState(that,{type:CONSTRUCTOR_NAME,id:id++,frozen:void 0});if(!isNullOrUndefined(iterable))iterate(iterable,that[ADDER],{that,AS_ENTRIES:IS_MAP})});var Prototype=Constructor.prototype;var getInternalState2=internalStateGetterFor(CONSTRUCTOR_NAME);var define2=function(that,key,value){var state=getInternalState2(that);var data2=getWeakData(anObject(key),true);if(data2===true)uncaughtFrozenStore(state).set(key,value);else data2[state.id]=value;return that};defineBuiltIns$1(Prototype,{"delete":function(key){var state=getInternalState2(this);if(!isObject$1(key))return false;var data2=getWeakData(key);if(data2===true)return uncaughtFrozenStore(state)["delete"](key);return data2&&hasOwn(data2,state.id)&&delete data2[state.id]},has:function has2(key){var state=getInternalState2(this);if(!isObject$1(key))return false;var data2=getWeakData(key);if(data2===true)return uncaughtFrozenStore(state).has(key);return data2&&hasOwn(data2,state.id)}});defineBuiltIns$1(Prototype,IS_MAP?{get:function get2(key){var state=getInternalState2(this);if(isObject$1(key)){var data2=getWeakData(key);if(data2===true)return uncaughtFrozenStore(state).get(key);return data2?data2[state.id]:void 0}},set:function set2(key,value){return define2(this,key,value)}}:{add:function add(value){return define2(this,value,true)}});return Constructor}};var FREEZING=freezing;var global$1=global$s;var uncurryThis=functionUncurryThis;var defineBuiltIns=defineBuiltIns$3;var InternalMetadataModule=internalMetadataExports;var collection=collection$3;var collectionWeak=collectionWeak$1;var isObject=isObject$m;var enforceInternalState=internalState.enforce;var fails=fails$A;var NATIVE_WEAK_MAP=weakMapBasicDetection;var $Object=Object;var isArray=Array.isArray;var isExtensible=$Object.isExtensible;var isFrozen=$Object.isFrozen;var isSealed=$Object.isSealed;var freeze=$Object.freeze;var seal=$Object.seal;var FROZEN={};var SEALED={};var IS_IE11=!global$1.ActiveXObject&&"ActiveXObject"in global$1;var InternalWeakMap;var wrapper=function(init){return function WeakMap22(){return init(this,arguments.length?arguments[0]:void 0)}};var $WeakMap=collection("WeakMap",wrapper,collectionWeak);var WeakMapPrototype=$WeakMap.prototype;var nativeSet=uncurryThis(WeakMapPrototype.set);var hasMSEdgeFreezingBug=function(){return FREEZING&&fails(function(){var frozenArray=freeze([]);nativeSet(new $WeakMap,frozenArray,1);return!isFrozen(frozenArray)})};if(NATIVE_WEAK_MAP){if(IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",true);InternalMetadataModule.enable();var nativeDelete=uncurryThis(WeakMapPrototype["delete"]);var nativeHas=uncurryThis(WeakMapPrototype.has);var nativeGet=uncurryThis(WeakMapPrototype.get);defineBuiltIns(WeakMapPrototype,{"delete":function(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);if(!state.frozen)state.frozen=new InternalWeakMap;return nativeDelete(this,key)||state.frozen["delete"](key)}return nativeDelete(this,key)},has:function has2(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);if(!state.frozen)state.frozen=new InternalWeakMap;return nativeHas(this,key)||state.frozen.has(key)}return nativeHas(this,key)},get:function get2(key){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);if(!state.frozen)state.frozen=new InternalWeakMap;return nativeHas(this,key)?nativeGet(this,key):state.frozen.get(key)}return nativeGet(this,key)},set:function set2(key,value){if(isObject(key)&&!isExtensible(key)){var state=enforceInternalState(this);if(!state.frozen)state.frozen=new InternalWeakMap;nativeHas(this,key)?nativeSet(this,key,value):state.frozen.set(key,value)}else nativeSet(this,key,value);return this}})}else if(hasMSEdgeFreezingBug()){defineBuiltIns(WeakMapPrototype,{set:function set2(key,value){var arrayIntegrityLevel;if(isArray(key)){if(isFrozen(key))arrayIntegrityLevel=FROZEN;else if(isSealed(key))arrayIntegrityLevel=SEALED}nativeSet(this,key,value);if(arrayIntegrityLevel===FROZEN)freeze(key);if(arrayIntegrityLevel===SEALED)seal(key);return this}})}}var path=path$A;var weakMap$2=path.WeakMap;var parent$1=weakMap$2;var weakMap$1=parent$1;var weakMap=weakMap$1;var _WeakMap=getDefaultExportFromCjs(weakMap);function __classPrivateFieldGet(receiver,state,kind,f){if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if(typeof state==="function"?receiver!==state||true:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return state.set(receiver,value),value}typeof SuppressedError==="function"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e};function _createForOfIteratorHelper$3(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$3(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$3(o,minLen){var _context2;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$3(o,minLen);var n=_sliceInstanceProperty(_context2=Object.prototype.toString.call(o)).call(_context2,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(o,minLen)}function _arrayLikeToArray$3(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var _SingleTypeSelectionAccumulator_previousSelection,_SingleTypeSelectionAccumulator_selection,_SelectionAccumulator_nodes,_SelectionAccumulator_edges,_SelectionAccumulator_commitHandler;function diffSets(prev,next2){var diff=new _Set;var _iterator=_createForOfIteratorHelper$3(next2),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(!prev.has(item)){diff.add(item)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return diff}var SingleTypeSelectionAccumulator=(function(){function SingleTypeSelectionAccumulator2(){_classCallCheck(this,SingleTypeSelectionAccumulator2);_SingleTypeSelectionAccumulator_previousSelection.set(this,new _Set);_SingleTypeSelectionAccumulator_selection.set(this,new _Set)}_createClass(SingleTypeSelectionAccumulator2,[{key:"size",get:function get2(){return __classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").size}},{key:"add",value:function add(){for(var _len=arguments.length,items=new Array(_len),_key=0;_key<_len;_key++){items[_key]=arguments[_key]}for(var _i=0,_items=items;_i<_items.length;_i++){var item=_items[_i];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").add(item)}}},{key:"delete",value:function _delete(){for(var _len2=arguments.length,items=new Array(_len2),_key2=0;_key2<_len2;_key2++){items[_key2]=arguments[_key2]}for(var _i2=0,_items2=items;_i2<_items2.length;_i2++){var item=_items2[_i2];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").delete(item)}}},{key:"clear",value:function clear2(){__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").clear()}},{key:"getSelection",value:function getSelection(){return _toConsumableArray(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))}},{key:"getChanges",value:function getChanges(){return{added:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))),deleted:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),previous:_toConsumableArray(new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),current:_toConsumableArray(new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f")))}}},{key:"commit",value:function commit(){var changes=this.getChanges();__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_previousSelection,__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"));__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_selection,new _Set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f")));var _iterator2=_createForOfIteratorHelper$3(changes.added),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var item=_step2.value;item.select()}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _iterator3=_createForOfIteratorHelper$3(changes.deleted),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _item=_step3.value;_item.unselect()}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return changes}}]);return SingleTypeSelectionAccumulator2})();_SingleTypeSelectionAccumulator_previousSelection=new _WeakMap,_SingleTypeSelectionAccumulator_selection=new _WeakMap;var SelectionAccumulator=(function(){function SelectionAccumulator2(){var commitHandler=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};_classCallCheck(this,SelectionAccumulator2);_SelectionAccumulator_nodes.set(this,new SingleTypeSelectionAccumulator);_SelectionAccumulator_edges.set(this,new SingleTypeSelectionAccumulator);_SelectionAccumulator_commitHandler.set(this,void 0);__classPrivateFieldSet(this,_SelectionAccumulator_commitHandler,commitHandler)}_createClass(SelectionAccumulator2,[{key:"sizeNodes",get:function get2(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").size}},{key:"sizeEdges",get:function get2(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").size}},{key:"getNodes",value:function getNodes(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").getSelection()}},{key:"getEdges",value:function getEdges(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").getSelection()}},{key:"addNodes",value:function addNodes(){var _classPrivateFieldGe;(_classPrivateFieldGe=__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f")).add.apply(_classPrivateFieldGe,arguments)}},{key:"addEdges",value:function addEdges(){var _classPrivateFieldGe2;(_classPrivateFieldGe2=__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f")).add.apply(_classPrivateFieldGe2,arguments)}},{key:"deleteNodes",value:function deleteNodes(node2){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").delete(node2)}},{key:"deleteEdges",value:function deleteEdges(edge){__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").delete(edge)}},{key:"clear",value:function clear2(){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").clear();__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").clear()}},{key:"commit",value:function commit(){var _classPrivateFieldGe3,_context;var summary={nodes:__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").commit(),edges:__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").commit()};for(var _len3=arguments.length,rest=new Array(_len3),_key3=0;_key3<_len3;_key3++){rest[_key3]=arguments[_key3]}(_classPrivateFieldGe3=__classPrivateFieldGet(this,_SelectionAccumulator_commitHandler,"f")).call.apply(_classPrivateFieldGe3,_concatInstanceProperty(_context=[this,summary]).call(_context,rest));return summary}}]);return SelectionAccumulator2})();_SelectionAccumulator_nodes=new _WeakMap,_SelectionAccumulator_edges=new _WeakMap,_SelectionAccumulator_commitHandler=new _WeakMap;function _createForOfIteratorHelper$2(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$2(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$2(o,minLen){var _context3;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$2(o,minLen);var n=_sliceInstanceProperty(_context3=Object.prototype.toString.call(o)).call(_context3,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(o,minLen)}function _arrayLikeToArray$2(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var SelectionHandler=(function(){function SelectionHandler2(body,canvas){var _this=this;_classCallCheck(this,SelectionHandler2);this.body=body;this.canvas=canvas;this._selectionAccumulator=new SelectionAccumulator;this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:false,selectable:true,selectConnectedEdges:true,hoverConnectedEdges:true};_Object$assign(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){_this.updateSelection()})}_createClass(SelectionHandler2,[{key:"setOptions",value:function setOptions(options){if(options!==void 0){var fields=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];selectiveDeepExtend(fields,this.options,options)}}},{key:"selectOnPoint",value:function selectOnPoint(pointer){var selected=false;if(this.options.selectable===true){var obj=this.getNodeAt(pointer)||this.getEdgeAt(pointer);this.unselectAll();if(obj!==void 0){selected=this.selectObject(obj)}this.body.emitter.emit("_requestRedraw")}return selected}},{key:"selectAdditionalOnPoint",value:function selectAdditionalOnPoint(pointer){var selectionChanged=false;if(this.options.selectable===true){var obj=this.getNodeAt(pointer)||this.getEdgeAt(pointer);if(obj!==void 0){selectionChanged=true;if(obj.isSelected()===true){this.deselectObject(obj)}else{this.selectObject(obj)}this.body.emitter.emit("_requestRedraw")}}return selectionChanged}},{key:"_initBaseEvent",value:function _initBaseEvent(event,pointer){var properties={};properties["pointer"]={DOM:{x:pointer.x,y:pointer.y},canvas:this.canvas.DOMtoCanvas(pointer)};properties["event"]=event;return properties}},{key:"generateClickEvent",value:function generateClickEvent(eventType,event,pointer,oldSelection){var emptySelection=arguments.length>4&&arguments[4]!==void 0?arguments[4]:false;var properties=this._initBaseEvent(event,pointer);if(emptySelection===true){properties.nodes=[];properties.edges=[]}else{var tmp=this.getSelection();properties.nodes=tmp.nodes;properties.edges=tmp.edges}if(oldSelection!==void 0){properties["previousSelection"]=oldSelection}if(eventType=="click"){properties.items=this.getClickedItems(pointer)}if(event.controlEdge!==void 0){properties.controlEdge=event.controlEdge}this.body.emitter.emit(eventType,properties)}},{key:"selectObject",value:function selectObject(obj){var highlightEdges=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(obj!==void 0){if(obj instanceof Node){if(highlightEdges===true){var _this$_selectionAccum;(_this$_selectionAccum=this._selectionAccumulator).addEdges.apply(_this$_selectionAccum,_toConsumableArray(obj.edges))}this._selectionAccumulator.addNodes(obj)}else{this._selectionAccumulator.addEdges(obj)}return true}return false}},{key:"deselectObject",value:function deselectObject(obj){if(obj.isSelected()===true){obj.selected=false;this._removeFromSelection(obj)}}},{key:"_getAllNodesOverlappingWith",value:function _getAllNodesOverlappingWith(object2){var overlappingNodes=[];var nodes=this.body.nodes;for(var i2=0;i2<this.body.nodeIndices.length;i2++){var nodeId=this.body.nodeIndices[i2];if(nodes[nodeId].isOverlappingWith(object2)){overlappingNodes.push(nodeId)}}return overlappingNodes}},{key:"_pointerToPositionObject",value:function _pointerToPositionObject(pointer){var canvasPos=this.canvas.DOMtoCanvas(pointer);return{left:canvasPos.x-1,top:canvasPos.y+1,right:canvasPos.x+1,bottom:canvasPos.y-1}}},{key:"getNodeAt",value:function getNodeAt(pointer){var returnNode=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;var positionObject=this._pointerToPositionObject(pointer);var overlappingNodes=this._getAllNodesOverlappingWith(positionObject);if(overlappingNodes.length>0){if(returnNode===true){return this.body.nodes[overlappingNodes[overlappingNodes.length-1]]}else{return overlappingNodes[overlappingNodes.length-1]}}else{return void 0}}},{key:"_getEdgesOverlappingWith",value:function _getEdgesOverlappingWith(object2,overlappingEdges){var edges=this.body.edges;for(var i2=0;i2<this.body.edgeIndices.length;i2++){var edgeId=this.body.edgeIndices[i2];if(edges[edgeId].isOverlappingWith(object2)){overlappingEdges.push(edgeId)}}}},{key:"_getAllEdgesOverlappingWith",value:function _getAllEdgesOverlappingWith(object2){var overlappingEdges=[];this._getEdgesOverlappingWith(object2,overlappingEdges);return overlappingEdges}},{key:"getEdgeAt",value:function getEdgeAt(pointer){var returnEdge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;var canvasPos=this.canvas.DOMtoCanvas(pointer);var mindist=10;var overlappingEdge=null;var edges=this.body.edges;for(var i2=0;i2<this.body.edgeIndices.length;i2++){var edgeId=this.body.edgeIndices[i2];var edge=edges[edgeId];if(edge.connected){var xFrom=edge.from.x;var yFrom=edge.from.y;var xTo=edge.to.x;var yTo=edge.to.y;var dist=edge.edgeType.getDistanceToEdge(xFrom,yFrom,xTo,yTo,canvasPos.x,canvasPos.y);if(dist<mindist){overlappingEdge=edgeId;mindist=dist}}}if(overlappingEdge!==null){if(returnEdge===true){return this.body.edges[overlappingEdge]}else{return overlappingEdge}}else{return void 0}}},{key:"_addToHover",value:function _addToHover(obj){if(obj instanceof Node){this.hoverObj.nodes[obj.id]=obj}else{this.hoverObj.edges[obj.id]=obj}}},{key:"_removeFromSelection",value:function _removeFromSelection(obj){if(obj instanceof Node){var _this$_selectionAccum2;this._selectionAccumulator.deleteNodes(obj);(_this$_selectionAccum2=this._selectionAccumulator).deleteEdges.apply(_this$_selectionAccum2,_toConsumableArray(obj.edges))}else{this._selectionAccumulator.deleteEdges(obj)}}},{key:"unselectAll",value:function unselectAll(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function _hoverConnectedEdges(node2){for(var i2=0;i2<node2.edges.length;i2++){var edge=node2.edges[i2];edge.hover=true;this._addToHover(edge)}}},{key:"emitBlurEvent",value:function emitBlurEvent(event,pointer,object2){var properties=this._initBaseEvent(event,pointer);if(object2.hover===true){object2.hover=false;if(object2 instanceof Node){properties.node=object2.id;this.body.emitter.emit("blurNode",properties)}else{properties.edge=object2.id;this.body.emitter.emit("blurEdge",properties)}}}},{key:"emitHoverEvent",value:function emitHoverEvent(event,pointer,object2){var properties=this._initBaseEvent(event,pointer);var hoverChanged=false;if(object2.hover===false){object2.hover=true;this._addToHover(object2);hoverChanged=true;if(object2 instanceof Node){properties.node=object2.id;this.body.emitter.emit("hoverNode",properties)}else{properties.edge=object2.id;this.body.emitter.emit("hoverEdge",properties)}}return hoverChanged}},{key:"hoverObject",value:function hoverObject(event,pointer){var object2=this.getNodeAt(pointer);if(object2===void 0){object2=this.getEdgeAt(pointer)}var hoverChanged=false;for(var nodeId in this.hoverObj.nodes){if(Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,nodeId)){if(object2===void 0||object2 instanceof Node&&object2.id!=nodeId||object2 instanceof Edge){this.emitBlurEvent(event,pointer,this.hoverObj.nodes[nodeId]);delete this.hoverObj.nodes[nodeId];hoverChanged=true}}}for(var edgeId in this.hoverObj.edges){if(Object.prototype.hasOwnProperty.call(this.hoverObj.edges,edgeId)){if(hoverChanged===true){this.hoverObj.edges[edgeId].hover=false;delete this.hoverObj.edges[edgeId]}else if(object2===void 0||object2 instanceof Edge&&object2.id!=edgeId||object2 instanceof Node&&!object2.hover){this.emitBlurEvent(event,pointer,this.hoverObj.edges[edgeId]);delete this.hoverObj.edges[edgeId];hoverChanged=true}}}if(object2!==void 0){var hoveredEdgesCount=_Object$keys(this.hoverObj.edges).length;var hoveredNodesCount=_Object$keys(this.hoverObj.nodes).length;var newOnlyHoveredEdge=object2 instanceof Edge&&hoveredEdgesCount===0&&hoveredNodesCount===0;var newOnlyHoveredNode=object2 instanceof Node&&hoveredEdgesCount===0&&hoveredNodesCount===0;if(hoverChanged||newOnlyHoveredEdge||newOnlyHoveredNode){hoverChanged=this.emitHoverEvent(event,pointer,object2)}if(object2 instanceof Node&&this.options.hoverConnectedEdges===true){this._hoverConnectedEdges(object2)}}if(hoverChanged===true){this.body.emitter.emit("_requestRedraw")}}},{key:"commitWithoutEmitting",value:function commitWithoutEmitting(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function commitAndEmit(pointer,event){var selected=false;var selectionChanges=this._selectionAccumulator.commit();var previousSelection={nodes:selectionChanges.nodes.previous,edges:selectionChanges.edges.previous};if(selectionChanges.edges.deleted.length>0){this.generateClickEvent("deselectEdge",event,pointer,previousSelection);selected=true}if(selectionChanges.nodes.deleted.length>0){this.generateClickEvent("deselectNode",event,pointer,previousSelection);selected=true}if(selectionChanges.nodes.added.length>0){this.generateClickEvent("selectNode",event,pointer);selected=true}if(selectionChanges.edges.added.length>0){this.generateClickEvent("selectEdge",event,pointer);selected=true}if(selected===true){this.generateClickEvent("select",event,pointer)}}},{key:"getSelection",value:function getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function getSelectedNodes(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function getSelectedEdges(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function getSelectedNodeIds(){var _context;return _mapInstanceProperty(_context=this._selectionAccumulator.getNodes()).call(_context,function(node2){return node2.id})}},{key:"getSelectedEdgeIds",value:function getSelectedEdgeIds(){var _context2;return _mapInstanceProperty(_context2=this._selectionAccumulator.getEdges()).call(_context2,function(edge){return edge.id})}},{key:"setSelection",value:function setSelection(selection){var options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!selection||!selection.nodes&&!selection.edges){throw new TypeError("Selection must be an object with nodes and/or edges properties")}if(options.unselectAll||options.unselectAll===void 0){this.unselectAll()}if(selection.nodes){var _iterator=_createForOfIteratorHelper$2(selection.nodes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var id2=_step.value;var node2=this.body.nodes[id2];if(!node2){throw new RangeError('Node with id "'+id2+'" not found')}this.selectObject(node2,options.highlightEdges)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}if(selection.edges){var _iterator2=_createForOfIteratorHelper$2(selection.edges),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _id=_step2.value;var edge=this.body.edges[_id];if(!edge){throw new RangeError('Edge with id "'+_id+'" not found')}this.selectObject(edge)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}this.body.emitter.emit("_requestRedraw");this._selectionAccumulator.commit()}},{key:"selectNodes",value:function selectNodes(selection){var highlightEdges=arguments.length>1&&arguments[1]!==void 0?arguments[1]:true;if(!selection||selection.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:selection},{highlightEdges})}},{key:"selectEdges",value:function selectEdges(selection){if(!selection||selection.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:selection})}},{key:"updateSelection",value:function updateSelection(){for(var node2 in this._selectionAccumulator.getNodes()){if(!Object.prototype.hasOwnProperty.call(this.body.nodes,node2.id)){this._selectionAccumulator.deleteNodes(node2)}}for(var edge in this._selectionAccumulator.getEdges()){if(!Object.prototype.hasOwnProperty.call(this.body.edges,edge.id)){this._selectionAccumulator.deleteEdges(edge)}}}},{key:"getClickedItems",value:function getClickedItems(pointer){var point=this.canvas.DOMtoCanvas(pointer);var items=[];var nodeIndices=this.body.nodeIndices;var nodes=this.body.nodes;for(var i2=nodeIndices.length-1;i2>=0;i2--){var node2=nodes[nodeIndices[i2]];var ret=node2.getItemsOnPoint(point);items.push.apply(items,ret)}var edgeIndices=this.body.edgeIndices;var edges=this.body.edges;for(var _i=edgeIndices.length-1;_i>=0;_i--){var edge=edges[edgeIndices[_i]];var _ret=edge.getItemsOnPoint(point);items.push.apply(items,_ret)}return items}}]);return SelectionHandler2})();function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var DirectionInterface=(function(){function DirectionInterface2(){_classCallCheck(this,DirectionInterface2)}_createClass(DirectionInterface2,[{key:"abstract",value:(function abstract(){throw new Error("Can't instantiate abstract class!")})},{key:"fake_use",value:function fake_use(){}},{key:"curveType",value:function curveType(){return this.abstract()}},{key:"getPosition",value:function getPosition(node2){this.fake_use(node2);return this.abstract()}},{key:"setPosition",value:function setPosition(node2,position){var level=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(node2,position,level);this.abstract()}},{key:"getTreeSize",value:function getTreeSize(index2){this.fake_use(index2);return this.abstract()}},{key:"sort",value:function sort2(nodeArray){this.fake_use(nodeArray);this.abstract()}},{key:"fix",value:function fix(node2,level){this.fake_use(node2,level);this.abstract()}},{key:"shift",value:function shift(nodeId,diff){this.fake_use(nodeId,diff);this.abstract()}}]);return DirectionInterface2})();var VerticalStrategy=(function(_DirectionInterface){_inherits(VerticalStrategy2,_DirectionInterface);var _super=_createSuper(VerticalStrategy2);function VerticalStrategy2(layout){var _this;_classCallCheck(this,VerticalStrategy2);_this=_super.call(this);_this.layout=layout;return _this}_createClass(VerticalStrategy2,[{key:"curveType",value:function curveType(){return"horizontal"}},{key:"getPosition",value:function getPosition(node2){return node2.x}},{key:"setPosition",value:function setPosition(node2,position){var level=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(level!==void 0){this.layout.hierarchical.addToOrdering(node2,level)}node2.x=position}},{key:"getTreeSize",value:function getTreeSize(index2){var res=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,index2);return{min:res.min_x,max:res.max_x}}},{key:"sort",value:function sort2(nodeArray){_sortInstanceProperty(nodeArray).call(nodeArray,function(a,b){return a.x-b.x})}},{key:"fix",value:function fix(node2,level){node2.y=this.layout.options.hierarchical.levelSeparation*level;node2.options.fixed.y=true}},{key:"shift",value:function shift(nodeId,diff){this.layout.body.nodes[nodeId].x+=diff}}]);return VerticalStrategy2})(DirectionInterface);var HorizontalStrategy=(function(_DirectionInterface2){_inherits(HorizontalStrategy2,_DirectionInterface2);var _super2=_createSuper(HorizontalStrategy2);function HorizontalStrategy2(layout){var _this2;_classCallCheck(this,HorizontalStrategy2);_this2=_super2.call(this);_this2.layout=layout;return _this2}_createClass(HorizontalStrategy2,[{key:"curveType",value:function curveType(){return"vertical"}},{key:"getPosition",value:function getPosition(node2){return node2.y}},{key:"setPosition",value:function setPosition(node2,position){var level=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(level!==void 0){this.layout.hierarchical.addToOrdering(node2,level)}node2.y=position}},{key:"getTreeSize",value:function getTreeSize(index2){var res=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,index2);return{min:res.min_y,max:res.max_y}}},{key:"sort",value:function sort2(nodeArray){_sortInstanceProperty(nodeArray).call(nodeArray,function(a,b){return a.y-b.y})}},{key:"fix",value:function fix(node2,level){node2.x=this.layout.options.hierarchical.levelSeparation*level;node2.options.fixed.x=true}},{key:"shift",value:function shift(nodeId,diff){this.layout.body.nodes[nodeId].y+=diff}}]);return HorizontalStrategy2})(DirectionInterface);var $=_export;var $every=arrayIteration.every;var arrayMethodIsStrict=arrayMethodIsStrict$6;var STRICT_METHOD=arrayMethodIsStrict("every");$({target:"Array",proto:true,forced:!STRICT_METHOD},{every:function every2(callbackfn){return $every(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var entryVirtual=entryVirtual$l;var every$3=entryVirtual("Array").every;var isPrototypeOf=objectIsPrototypeOf;var method=every$3;var ArrayPrototype=Array.prototype;var every$2=function(it2){var own=it2.every;return it2===ArrayPrototype||isPrototypeOf(ArrayPrototype,it2)&&own===ArrayPrototype.every?method:own};var parent=every$2;var every$1=parent;var every=every$1;var _everyInstanceProperty=getDefaultExportFromCjs(every);function _createForOfIteratorHelper$1(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray$1(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$1(o,minLen){var _context9;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$1(o,minLen);var n=_sliceInstanceProperty(_context9=Object.prototype.toString.call(o)).call(_context9,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(o,minLen)}function _arrayLikeToArray$1(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function fillLevelsByDirectionCyclic(nodes,levels){var edges=new _Set;_forEachInstanceProperty(nodes).call(nodes,function(node2){var _context;_forEachInstanceProperty(_context=node2.edges).call(_context,function(edge){if(edge.connected){edges.add(edge)}})});_forEachInstanceProperty(edges).call(edges,function(edge){var fromId=edge.from.id;var toId=edge.to.id;if(levels[fromId]==null){levels[fromId]=0}if(levels[toId]==null||levels[fromId]>=levels[toId]){levels[toId]=levels[fromId]+1}});return levels}function fillLevelsByDirectionLeaves(nodes){return fillLevelsByDirection(function(node2){var _context2,_context3;return _everyInstanceProperty(_context2=_filterInstanceProperty(_context3=node2.edges).call(_context3,function(edge){return nodes.has(edge.toId)})).call(_context2,function(edge){return edge.to===node2})},function(newLevel,oldLevel){return oldLevel>newLevel},"from",nodes)}function fillLevelsByDirectionRoots(nodes){return fillLevelsByDirection(function(node2){var _context4,_context5;return _everyInstanceProperty(_context4=_filterInstanceProperty(_context5=node2.edges).call(_context5,function(edge){return nodes.has(edge.toId)})).call(_context4,function(edge){return edge.from===node2})},function(newLevel,oldLevel){return oldLevel<newLevel},"to",nodes)}function fillLevelsByDirection(isEntryNode,shouldLevelBeReplaced,direction,nodes){var _context6;var levels=_Object$create$1(null);var limit=_reduceInstanceProperty(_context6=_toConsumableArray(_valuesInstanceProperty(nodes).call(nodes))).call(_context6,function(acc,node2){return acc+1+node2.edges.length},0);var edgeIdProp=direction+"Id";var newLevelDiff=direction==="to"?1:-1;var _iterator=_createForOfIteratorHelper$1(nodes),_step;try{var _loop=function _loop2(){var _step$value=_slicedToArray(_step.value,2),entryNodeId=_step$value[0],entryNode=_step$value[1];if(!nodes.has(entryNodeId)||!isEntryNode(entryNode)){return 0}levels[entryNodeId]=0;var stack=[entryNode];var done=0;var node2;var _loop22=function _loop23(){var _context7,_context8;if(!nodes.has(entryNodeId)){return 0}var newLevel=levels[node2.id]+newLevelDiff;_forEachInstanceProperty(_context7=_filterInstanceProperty(_context8=node2.edges).call(_context8,function(edge){return edge.connected&&edge.to!==edge.from&&edge[direction]!==node2&&nodes.has(edge.toId)&&nodes.has(edge.fromId)})).call(_context7,function(edge){var targetNodeId=edge[edgeIdProp];var oldLevel=levels[targetNodeId];if(oldLevel==null||shouldLevelBeReplaced(newLevel,oldLevel)){levels[targetNodeId]=newLevel;stack.push(edge[direction])}});if(done>limit){return{v:{v:fillLevelsByDirectionCyclic(nodes,levels)}}}else{++done}},_ret2;while(node2=stack.pop()){_ret2=_loop22();if(_ret2===0)continue;if(_ret2)return _ret2.v}},_ret;for(_iterator.s();!(_step=_iterator.n()).done;){_ret=_loop();if(_ret===0)continue;if(_ret)return _ret.v}}catch(err){_iterator.e(err)}finally{_iterator.f()}return levels}var HierarchicalStatus=(function(){function HierarchicalStatus2(){_classCallCheck(this,HierarchicalStatus2);this.childrenReference={};this.parentReference={};this.trees={};this.distributionOrdering={};this.levels={};this.distributionIndex={};this.isTree=false;this.treeIndex=-1}_createClass(HierarchicalStatus2,[{key:"addRelation",value:function addRelation(parentNodeId,childNodeId){if(this.childrenReference[parentNodeId]===void 0){this.childrenReference[parentNodeId]=[]}this.childrenReference[parentNodeId].push(childNodeId);if(this.parentReference[childNodeId]===void 0){this.parentReference[childNodeId]=[]}this.parentReference[childNodeId].push(parentNodeId)}},{key:"checkIfTree",value:function checkIfTree(){for(var i2 in this.parentReference){if(this.parentReference[i2].length>1){this.isTree=false;return}}this.isTree=true}},{key:"numTrees",value:function numTrees(){return this.treeIndex+1}},{key:"setTreeIndex",value:function setTreeIndex(node2,treeId){if(treeId===void 0)return;if(this.trees[node2.id]===void 0){this.trees[node2.id]=treeId;this.treeIndex=Math.max(treeId,this.treeIndex)}}},{key:"ensureLevel",value:function ensureLevel(nodeId){if(this.levels[nodeId]===void 0){this.levels[nodeId]=0}}},{key:"getMaxLevel",value:function getMaxLevel(nodeId){var _this=this;var accumulator={};var _getMaxLevel=function _getMaxLevel2(nodeId2){if(accumulator[nodeId2]!==void 0){return accumulator[nodeId2]}var level=_this.levels[nodeId2];if(_this.childrenReference[nodeId2]){var children=_this.childrenReference[nodeId2];if(children.length>0){for(var i2=0;i2<children.length;i2++){level=Math.max(level,_getMaxLevel2(children[i2]))}}}accumulator[nodeId2]=level;return level};return _getMaxLevel(nodeId)}},{key:"levelDownstream",value:function levelDownstream(nodeA,nodeB){if(this.levels[nodeB.id]===void 0){if(this.levels[nodeA.id]===void 0){this.levels[nodeA.id]=0}this.levels[nodeB.id]=this.levels[nodeA.id]+1}}},{key:"setMinLevelToZero",value:function setMinLevelToZero(nodes){var minLevel=1e9;for(var nodeId in nodes){if(Object.prototype.hasOwnProperty.call(nodes,nodeId)){if(this.levels[nodeId]!==void 0){minLevel=Math.min(this.levels[nodeId],minLevel)}}}for(var _nodeId in nodes){if(Object.prototype.hasOwnProperty.call(nodes,_nodeId)){if(this.levels[_nodeId]!==void 0){this.levels[_nodeId]-=minLevel}}}}},{key:"getTreeSize",value:function getTreeSize(nodes,index2){var min_x=1e9;var max_x=-1e9;var min_y=1e9;var max_y=-1e9;for(var nodeId in this.trees){if(Object.prototype.hasOwnProperty.call(this.trees,nodeId)){if(this.trees[nodeId]===index2){var node2=nodes[nodeId];min_x=Math.min(node2.x,min_x);max_x=Math.max(node2.x,max_x);min_y=Math.min(node2.y,min_y);max_y=Math.max(node2.y,max_y)}}}return{min_x,max_x,min_y,max_y}}},{key:"hasSameParent",value:function hasSameParent(node1,node2){var parents1=this.parentReference[node1.id];var parents2=this.parentReference[node2.id];if(parents1===void 0||parents2===void 0){return false}for(var i2=0;i2<parents1.length;i2++){for(var j=0;j<parents2.length;j++){if(parents1[i2]==parents2[j]){return true}}}return false}},{key:"inSameSubNetwork",value:function inSameSubNetwork(node1,node2){return this.trees[node1.id]===this.trees[node2.id]}},{key:"getLevels",value:function getLevels(){return _Object$keys(this.distributionOrdering)}},{key:"addToOrdering",value:function addToOrdering(node2,level){if(this.distributionOrdering[level]===void 0){this.distributionOrdering[level]=[]}var isPresent=false;var curLevel=this.distributionOrdering[level];for(var n in curLevel){if(curLevel[n]===node2){isPresent=true;break}}if(!isPresent){this.distributionOrdering[level].push(node2);this.distributionIndex[node2.id]=this.distributionOrdering[level].length-1}}}]);return HierarchicalStatus2})();var LayoutEngine=(function(){function LayoutEngine2(body){_classCallCheck(this,LayoutEngine2);this.body=body;this._resetRNG(Math.random()+":"+_Date$now());this.setPhysics=false;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:void 0,improvedLayout:true,clusterThreshold:150,hierarchical:{enabled:false,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:true,edgeMinimization:true,parentCentralization:true,direction:"UD",sortMethod:"hubsize"}};_Object$assign(this.options,this.defaultOptions);this.bindEventListeners()}_createClass(LayoutEngine2,[{key:"bindEventListeners",value:function bindEventListeners(){var _this2=this;this.body.emitter.on("_dataChanged",function(){_this2.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){_this2.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){_this2.setupHierarchicalLayout()});this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(_this2.options.hierarchical.enabled!==true){return}var type=_this2.direction.curveType();_this2.body.emitter.emit("_forceDisableDynamicCurves",type,false)})}},{key:"setOptions",value:function setOptions(options,allOptions2){if(options!==void 0){var hierarchical=this.options.hierarchical;var prevHierarchicalState=hierarchical.enabled;selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,options);mergeOptions(this.options,options,"hierarchical");if(options.randomSeed!==void 0){this._resetRNG(options.randomSeed)}if(hierarchical.enabled===true){if(prevHierarchicalState===true){this.body.emitter.emit("refresh",true)}if(hierarchical.direction==="RL"||hierarchical.direction==="DU"){if(hierarchical.levelSeparation>0){hierarchical.levelSeparation*=-1}}else{if(hierarchical.levelSeparation<0){hierarchical.levelSeparation*=-1}}this.setDirectionStrategy();this.body.emitter.emit("_resetHierarchicalLayout");return this.adaptAllOptionsForHierarchicalLayout(allOptions2)}else{if(prevHierarchicalState===true){this.body.emitter.emit("refresh");return deepExtend(allOptions2,this.optionsBackup)}}}return allOptions2}},{key:"_resetRNG",value:function _resetRNG(seed){this.initialRandomSeed=seed;this._rng=Alea(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function adaptAllOptionsForHierarchicalLayout(allOptions2){if(this.options.hierarchical.enabled===true){var backupPhysics=this.optionsBackup.physics;if(allOptions2.physics===void 0||allOptions2.physics===true){allOptions2.physics={enabled:backupPhysics.enabled===void 0?true:backupPhysics.enabled,solver:"hierarchicalRepulsion"};backupPhysics.enabled=backupPhysics.enabled===void 0?true:backupPhysics.enabled;backupPhysics.solver=backupPhysics.solver||"barnesHut"}else if(_typeof$1(allOptions2.physics)==="object"){backupPhysics.enabled=allOptions2.physics.enabled===void 0?true:allOptions2.physics.enabled;backupPhysics.solver=allOptions2.physics.solver||"barnesHut";allOptions2.physics.solver="hierarchicalRepulsion"}else if(allOptions2.physics!==false){backupPhysics.solver="barnesHut";allOptions2.physics={solver:"hierarchicalRepulsion"}}var type=this.direction.curveType();if(allOptions2.edges===void 0){this.optionsBackup.edges={smooth:{enabled:true,type:"dynamic"}};allOptions2.edges={smooth:false}}else if(allOptions2.edges.smooth===void 0){this.optionsBackup.edges={smooth:{enabled:true,type:"dynamic"}};allOptions2.edges.smooth=false}else{if(typeof allOptions2.edges.smooth==="boolean"){this.optionsBackup.edges={smooth:allOptions2.edges.smooth};allOptions2.edges.smooth={enabled:allOptions2.edges.smooth,type}}else{var smooth=allOptions2.edges.smooth;if(smooth.type!==void 0&&smooth.type!=="dynamic"){type=smooth.type}this.optionsBackup.edges={smooth:{enabled:smooth.enabled===void 0?true:smooth.enabled,type:smooth.type===void 0?"dynamic":smooth.type,roundness:smooth.roundness===void 0?.5:smooth.roundness,forceDirection:smooth.forceDirection===void 0?false:smooth.forceDirection}};allOptions2.edges.smooth={enabled:smooth.enabled===void 0?true:smooth.enabled,type,roundness:smooth.roundness===void 0?.5:smooth.roundness,forceDirection:smooth.forceDirection===void 0?false:smooth.forceDirection}}}this.body.emitter.emit("_forceDisableDynamicCurves",type)}return allOptions2}},{key:"positionInitially",value:function positionInitially(nodesArray){if(this.options.hierarchical.enabled!==true){this._resetRNG(this.initialRandomSeed);var radius=nodesArray.length+50;for(var i2=0;i2<nodesArray.length;i2++){var node2=nodesArray[i2];var angle=2*Math.PI*this._rng();if(node2.x===void 0){node2.x=radius*Math.cos(angle)}if(node2.y===void 0){node2.y=radius*Math.sin(angle)}}}}},{key:"layoutNetwork",value:function layoutNetwork(){if(this.options.hierarchical.enabled!==true&&this.options.improvedLayout===true){var indices=this.body.nodeIndices;var positionDefined=0;for(var i2=0;i2<indices.length;i2++){var node2=this.body.nodes[indices[i2]];if(node2.predefinedPosition===true){positionDefined+=1}}if(positionDefined<.5*indices.length){var MAX_LEVELS=10;var level=0;var clusterThreshold=this.options.clusterThreshold;var clusterOptions={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:false}},clusterEdgeProperties:{label:"",font:{multi:false},smooth:{enabled:false}}};if(indices.length>clusterThreshold){var startLength=indices.length;while(indices.length>clusterThreshold&&level<=MAX_LEVELS){level+=1;var before=indices.length;if(level%3===0){this.body.modules.clustering.clusterBridges(clusterOptions)}else{this.body.modules.clustering.clusterOutliers(clusterOptions)}var after=indices.length;if(before==after&&level%3!==0){this._declusterAll();this.body.emitter.emit("_layoutFailed");console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*startLength)})}if(level>MAX_LEVELS){console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result.")}this.body.modules.kamadaKawai.solve(indices,this.body.edgeIndices,true);this._shiftToCenter();var offset=70;for(var _i=0;_i<indices.length;_i++){var _node=this.body.nodes[indices[_i]];if(_node.predefinedPosition===false){_node.x+=(.5-this._rng())*offset;_node.y+=(.5-this._rng())*offset}}this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function _shiftToCenter(){var range=NetworkUtil.getRangeCore(this.body.nodes,this.body.nodeIndices);var center=NetworkUtil.findCenter(range);for(var i2=0;i2<this.body.nodeIndices.length;i2++){var node2=this.body.nodes[this.body.nodeIndices[i2]];node2.x-=center.x;node2.y-=center.y}}},{key:"_declusterAll",value:function _declusterAll(){var clustersPresent=true;while(clustersPresent===true){clustersPresent=false;for(var i2=0;i2<this.body.nodeIndices.length;i2++){if(this.body.nodes[this.body.nodeIndices[i2]].isCluster===true){clustersPresent=true;this.body.modules.clustering.openCluster(this.body.nodeIndices[i2],{},false)}}if(clustersPresent===true){this.body.emitter.emit("_dataChanged")}}}},{key:"getSeed",value:function getSeed(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function setupHierarchicalLayout(){if(this.options.hierarchical.enabled===true&&this.body.nodeIndices.length>0){var node2,nodeId;var definedLevel=false;var undefinedLevel=false;this.lastNodeOnLevel={};this.hierarchical=new HierarchicalStatus;for(nodeId in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,nodeId)){node2=this.body.nodes[nodeId];if(node2.options.level!==void 0){definedLevel=true;this.hierarchical.levels[nodeId]=node2.options.level}else{undefinedLevel=true}}}if(undefinedLevel===true&&definedLevel===true){throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.")}else{if(undefinedLevel===true){var sortMethod=this.options.hierarchical.sortMethod;if(sortMethod==="hubsize"){this._determineLevelsByHubsize()}else if(sortMethod==="directed"){this._determineLevelsDirected()}else if(sortMethod==="custom"){this._determineLevelsCustomCallback()}}for(var _nodeId2 in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,_nodeId2)){this.hierarchical.ensureLevel(_nodeId2)}}var distribution=this._getDistribution();this._generateMap();this._placeNodesByHierarchy(distribution);this._condenseHierarchy();this._shiftToCenter()}}}},{key:"_condenseHierarchy",value:function _condenseHierarchy(){var _this3=this;var stillShifting=false;var branches={};var shiftTrees=function shiftTrees2(){var treeSizes=getTreeSizes();var shiftBy=0;for(var i2=0;i2<treeSizes.length-1;i2++){var diff=treeSizes[i2].max-treeSizes[i2+1].min;shiftBy+=diff+_this3.options.hierarchical.treeSpacing;shiftTree(i2+1,shiftBy)}};var shiftTree=function shiftTree2(index2,offset){var trees=_this3.hierarchical.trees;for(var nodeId in trees){if(Object.prototype.hasOwnProperty.call(trees,nodeId)){if(trees[nodeId]===index2){_this3.direction.shift(nodeId,offset)}}}};var getTreeSizes=function getTreeSizes2(){var treeWidths=[];for(var i2=0;i2<_this3.hierarchical.numTrees();i2++){treeWidths.push(_this3.direction.getTreeSize(i2))}return treeWidths};var getBranchNodes=function getBranchNodes2(source,map2){if(map2[source.id]){return}map2[source.id]=true;if(_this3.hierarchical.childrenReference[source.id]){var children=_this3.hierarchical.childrenReference[source.id];if(children.length>0){for(var i2=0;i2<children.length;i2++){getBranchNodes2(_this3.body.nodes[children[i2]],map2)}}}};var getBranchBoundary=function getBranchBoundary2(branchMap){var maxLevel=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9;var minSpace=1e9;var maxSpace=1e9;var min2=1e9;var max2=-1e9;for(var branchNode in branchMap){if(Object.prototype.hasOwnProperty.call(branchMap,branchNode)){var node2=_this3.body.nodes[branchNode];var level=_this3.hierarchical.levels[node2.id];var position=_this3.direction.getPosition(node2);var _this3$_getSpaceAroun=_this3._getSpaceAroundNode(node2,branchMap),_this3$_getSpaceAroun2=_slicedToArray(_this3$_getSpaceAroun,2),minSpaceNode=_this3$_getSpaceAroun2[0],maxSpaceNode=_this3$_getSpaceAroun2[1];minSpace=Math.min(minSpaceNode,minSpace);maxSpace=Math.min(maxSpaceNode,maxSpace);if(level<=maxLevel){min2=Math.min(position,min2);max2=Math.max(position,max2)}}}return[min2,max2,minSpace,maxSpace]};var getCollisionLevel=function getCollisionLevel2(node1,node2){var maxLevel1=_this3.hierarchical.getMaxLevel(node1.id);var maxLevel2=_this3.hierarchical.getMaxLevel(node2.id);return Math.min(maxLevel1,maxLevel2)};var shiftElementsCloser=function shiftElementsCloser2(callback,levels,centerParents){var hier=_this3.hierarchical;for(var i2=0;i2<levels.length;i2++){var level=levels[i2];var levelNodes=hier.distributionOrdering[level];if(levelNodes.length>1){for(var j=0;j<levelNodes.length-1;j++){var node1=levelNodes[j];var node2=levelNodes[j+1];if(hier.hasSameParent(node1,node2)&&hier.inSameSubNetwork(node1,node2)){callback(node1,node2,centerParents)}}}}};var branchShiftCallback=function branchShiftCallback2(node1,node2){var centerParent=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var pos1=_this3.direction.getPosition(node1);var pos2=_this3.direction.getPosition(node2);var diffAbs=Math.abs(pos2-pos1);var nodeSpacing=_this3.options.hierarchical.nodeSpacing;if(diffAbs>nodeSpacing){var branchNodes1={};var branchNodes2={};getBranchNodes(node1,branchNodes1);getBranchNodes(node2,branchNodes2);var maxLevel=getCollisionLevel(node1,node2);var branchNodeBoundary1=getBranchBoundary(branchNodes1,maxLevel);var branchNodeBoundary2=getBranchBoundary(branchNodes2,maxLevel);var max1=branchNodeBoundary1[1];var min2=branchNodeBoundary2[0];var minSpace2=branchNodeBoundary2[2];var diffBranch=Math.abs(max1-min2);if(diffBranch>nodeSpacing){var offset=max1-min2+nodeSpacing;if(offset<-minSpace2+nodeSpacing){offset=-minSpace2+nodeSpacing}if(offset<0){_this3._shiftBlock(node2.id,offset);stillShifting=true;if(centerParent===true)_this3._centerParent(node2)}}}};var minimizeEdgeLength=function minimizeEdgeLength2(iterations,node2){var nodeId=node2.id;var allEdges=node2.edges;var nodeLevel=_this3.hierarchical.levels[node2.id];var C2=_this3.options.hierarchical.levelSeparation*_this3.options.hierarchical.levelSeparation;var referenceNodes={};var aboveEdges=[];for(var i2=0;i2<allEdges.length;i2++){var edge=allEdges[i2];if(edge.toId!=edge.fromId){var otherNode=edge.toId==nodeId?edge.from:edge.to;referenceNodes[allEdges[i2].id]=otherNode;if(_this3.hierarchical.levels[otherNode.id]<nodeLevel){aboveEdges.push(edge)}}}var getFx=function getFx2(point,edges){var sum=0;for(var _i2=0;_i2<edges.length;_i2++){if(referenceNodes[edges[_i2].id]!==void 0){var a=_this3.direction.getPosition(referenceNodes[edges[_i2].id])-point;sum+=a/Math.sqrt(a*a+C2)}}return sum};var getDFx=function getDFx2(point,edges){var sum=0;for(var _i3=0;_i3<edges.length;_i3++){if(referenceNodes[edges[_i3].id]!==void 0){var a=_this3.direction.getPosition(referenceNodes[edges[_i3].id])-point;sum-=C2*Math.pow(a*a+C2,-1.5)}}return sum};var getGuess=function getGuess2(iterations2,edges){var guess2=_this3.direction.getPosition(node2);var guessMap={};for(var _i4=0;_i4<iterations2;_i4++){var fx=getFx(guess2,edges);var dfx=getDFx(guess2,edges);var limit=40;var ratio=Math.max(-limit,Math.min(limit,Math.round(fx/dfx)));guess2=guess2-ratio;if(guessMap[guess2]!==void 0){break}guessMap[guess2]=_i4}return guess2};var moveBranch=function moveBranch2(guess2){var nodePosition=_this3.direction.getPosition(node2);if(branches[node2.id]===void 0){var branchNodes={};getBranchNodes(node2,branchNodes);branches[node2.id]=branchNodes}var branchBoundary=getBranchBoundary(branches[node2.id]);var minSpaceBranch=branchBoundary[2];var maxSpaceBranch=branchBoundary[3];var diff=guess2-nodePosition;var branchOffset=0;if(diff>0){branchOffset=Math.min(diff,maxSpaceBranch-_this3.options.hierarchical.nodeSpacing)}else if(diff<0){branchOffset=-Math.min(-diff,minSpaceBranch-_this3.options.hierarchical.nodeSpacing)}if(branchOffset!=0){_this3._shiftBlock(node2.id,branchOffset);stillShifting=true}};var moveNode=function moveNode2(guess2){var nodePosition=_this3.direction.getPosition(node2);var _this3$_getSpaceAroun3=_this3._getSpaceAroundNode(node2),_this3$_getSpaceAroun4=_slicedToArray(_this3$_getSpaceAroun3,2),minSpace=_this3$_getSpaceAroun4[0],maxSpace=_this3$_getSpaceAroun4[1];var diff=guess2-nodePosition;var newPosition=nodePosition;if(diff>0){newPosition=Math.min(nodePosition+(maxSpace-_this3.options.hierarchical.nodeSpacing),guess2)}else if(diff<0){newPosition=Math.max(nodePosition-(minSpace-_this3.options.hierarchical.nodeSpacing),guess2)}if(newPosition!==nodePosition){_this3.direction.setPosition(node2,newPosition);stillShifting=true}};var guess=getGuess(iterations,aboveEdges);moveBranch(guess);guess=getGuess(iterations,allEdges);moveNode(guess)};var minimizeEdgeLengthBottomUp=function minimizeEdgeLengthBottomUp2(iterations){var levels=_this3.hierarchical.getLevels();levels=_reverseInstanceProperty(levels).call(levels);for(var i2=0;i2<iterations;i2++){stillShifting=false;for(var j=0;j<levels.length;j++){var level=levels[j];var levelNodes=_this3.hierarchical.distributionOrdering[level];for(var k=0;k<levelNodes.length;k++){minimizeEdgeLength(1e3,levelNodes[k])}}if(stillShifting!==true){break}}};var shiftBranchesCloserBottomUp=function shiftBranchesCloserBottomUp2(iterations){var levels=_this3.hierarchical.getLevels();levels=_reverseInstanceProperty(levels).call(levels);for(var i2=0;i2<iterations;i2++){stillShifting=false;shiftElementsCloser(branchShiftCallback,levels,true);if(stillShifting!==true){break}}};var centerAllParents=function centerAllParents2(){for(var nodeId in _this3.body.nodes){if(Object.prototype.hasOwnProperty.call(_this3.body.nodes,nodeId))_this3._centerParent(_this3.body.nodes[nodeId])}};var centerAllParentsBottomUp=function centerAllParentsBottomUp2(){var levels=_this3.hierarchical.getLevels();levels=_reverseInstanceProperty(levels).call(levels);for(var i2=0;i2<levels.length;i2++){var level=levels[i2];var levelNodes=_this3.hierarchical.distributionOrdering[level];for(var j=0;j<levelNodes.length;j++){_this3._centerParent(levelNodes[j])}}};if(this.options.hierarchical.blockShifting===true){shiftBranchesCloserBottomUp(5);centerAllParents()}if(this.options.hierarchical.edgeMinimization===true){minimizeEdgeLengthBottomUp(20)}if(this.options.hierarchical.parentCentralization===true){centerAllParentsBottomUp()}shiftTrees()}},{key:"_getSpaceAroundNode",value:function _getSpaceAroundNode(node2,map2){var useMap=true;if(map2===void 0){useMap=false}var level=this.hierarchical.levels[node2.id];if(level!==void 0){var index2=this.hierarchical.distributionIndex[node2.id];var position=this.direction.getPosition(node2);var ordering=this.hierarchical.distributionOrdering[level];var minSpace=1e9;var maxSpace=1e9;if(index2!==0){var prevNode=ordering[index2-1];if(useMap===true&&map2[prevNode.id]===void 0||useMap===false){var prevPos=this.direction.getPosition(prevNode);minSpace=position-prevPos}}if(index2!=ordering.length-1){var nextNode=ordering[index2+1];if(useMap===true&&map2[nextNode.id]===void 0||useMap===false){var nextPos=this.direction.getPosition(nextNode);maxSpace=Math.min(maxSpace,nextPos-position)}}return[minSpace,maxSpace]}else{return[0,0]}}},{key:"_centerParent",value:function _centerParent(node2){if(this.hierarchical.parentReference[node2.id]){var parents=this.hierarchical.parentReference[node2.id];for(var i2=0;i2<parents.length;i2++){var parentId=parents[i2];var parentNode=this.body.nodes[parentId];var children=this.hierarchical.childrenReference[parentId];if(children!==void 0){var newPosition=this._getCenterPosition(children);var position=this.direction.getPosition(parentNode);var _this$_getSpaceAround=this._getSpaceAroundNode(parentNode),_this$_getSpaceAround2=_slicedToArray(_this$_getSpaceAround,2),minSpace=_this$_getSpaceAround2[0],maxSpace=_this$_getSpaceAround2[1];var diff=position-newPosition;if(diff<0&&Math.abs(diff)<maxSpace-this.options.hierarchical.nodeSpacing||diff>0&&Math.abs(diff)<minSpace-this.options.hierarchical.nodeSpacing){this.direction.setPosition(parentNode,newPosition)}}}}}},{key:"_placeNodesByHierarchy",value:function _placeNodesByHierarchy(distribution){this.positionedNodes={};for(var level in distribution){if(Object.prototype.hasOwnProperty.call(distribution,level)){var _context;var nodeArray=_Object$keys(distribution[level]);nodeArray=this._indexArrayToNodes(nodeArray);_sortInstanceProperty(_context=this.direction).call(_context,nodeArray);var handledNodeCount=0;for(var i2=0;i2<nodeArray.length;i2++){var node2=nodeArray[i2];if(this.positionedNodes[node2.id]===void 0){var spacing=this.options.hierarchical.nodeSpacing;var pos=spacing*handledNodeCount;if(handledNodeCount>0){pos=this.direction.getPosition(nodeArray[i2-1])+spacing}this.direction.setPosition(node2,pos,level);this._validatePositionAndContinue(node2,level,pos);handledNodeCount++}}}}}},{key:"_placeBranchNodes",value:function _placeBranchNodes(parentId,parentLevel){var _context2;var childRef=this.hierarchical.childrenReference[parentId];if(childRef===void 0){return}var childNodes=[];for(var i2=0;i2<childRef.length;i2++){childNodes.push(this.body.nodes[childRef[i2]])}_sortInstanceProperty(_context2=this.direction).call(_context2,childNodes);for(var _i5=0;_i5<childNodes.length;_i5++){var childNode=childNodes[_i5];var childNodeLevel=this.hierarchical.levels[childNode.id];if(childNodeLevel>parentLevel&&this.positionedNodes[childNode.id]===void 0){var spacing=this.options.hierarchical.nodeSpacing;var pos=void 0;if(_i5===0){pos=this.direction.getPosition(this.body.nodes[parentId])}else{pos=this.direction.getPosition(childNodes[_i5-1])+spacing}this.direction.setPosition(childNode,pos,childNodeLevel);this._validatePositionAndContinue(childNode,childNodeLevel,pos)}else{return}}var center=this._getCenterPosition(childNodes);this.direction.setPosition(this.body.nodes[parentId],center,parentLevel)}},{key:"_validatePositionAndContinue",value:function _validatePositionAndContinue(node2,level,pos){if(!this.hierarchical.isTree)return;if(this.lastNodeOnLevel[level]!==void 0){var previousPos=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[level]]);if(pos-previousPos<this.options.hierarchical.nodeSpacing){var diff=previousPos+this.options.hierarchical.nodeSpacing-pos;var sharedParent=this._findCommonParent(this.lastNodeOnLevel[level],node2.id);this._shiftBlock(sharedParent.withChild,diff)}}this.lastNodeOnLevel[level]=node2.id;this.positionedNodes[node2.id]=true;this._placeBranchNodes(node2.id,level)}},{key:"_indexArrayToNodes",value:function _indexArrayToNodes(idArray){var array2=[];for(var i2=0;i2<idArray.length;i2++){array2.push(this.body.nodes[idArray[i2]])}return array2}},{key:"_getDistribution",value:function _getDistribution(){var distribution={};var nodeId,node2;for(nodeId in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,nodeId)){node2=this.body.nodes[nodeId];var level=this.hierarchical.levels[nodeId]===void 0?0:this.hierarchical.levels[nodeId];this.direction.fix(node2,level);if(distribution[level]===void 0){distribution[level]={}}distribution[level][nodeId]=node2}}return distribution}},{key:"_getActiveEdges",value:function _getActiveEdges(node2){var _this4=this;var result=[];forEach$4(node2.edges,function(edge){var _context3;if(_indexOfInstanceProperty(_context3=_this4.body.edgeIndices).call(_context3,edge.id)!==-1){result.push(edge)}});return result}},{key:"_getHubSizes",value:function _getHubSizes(){var _this5=this;var hubSizes={};var nodeIds=this.body.nodeIndices;forEach$4(nodeIds,function(nodeId){var node2=_this5.body.nodes[nodeId];var hubSize=_this5._getActiveEdges(node2).length;hubSizes[hubSize]=true});var result=[];forEach$4(hubSizes,function(size){result.push(Number(size))});_sortInstanceProperty(result).call(result,function(a,b){return b-a});return result}},{key:"_determineLevelsByHubsize",value:function _determineLevelsByHubsize(){var _this6=this;var levelDownstream=function levelDownstream2(nodeA,nodeB){_this6.hierarchical.levelDownstream(nodeA,nodeB)};var hubSizes=this._getHubSizes();var _loop=function _loop2(){var hubSize=hubSizes[i2];if(hubSize===0)return 1;forEach$4(_this6.body.nodeIndices,function(nodeId){var node2=_this6.body.nodes[nodeId];if(hubSize===_this6._getActiveEdges(node2).length){_this6._crawlNetwork(levelDownstream,nodeId)}})};for(var i2=0;i2<hubSizes.length;++i2){if(_loop())break}}},{key:"_determineLevelsCustomCallback",value:function _determineLevelsCustomCallback(){var _this7=this;var minLevel=1e5;var customCallback=function customCallback2(nodeA,nodeB,edge){};var levelByDirection=function levelByDirection2(nodeA,nodeB,edge){var levelA=_this7.hierarchical.levels[nodeA.id];if(levelA===void 0){levelA=_this7.hierarchical.levels[nodeA.id]=minLevel}var diff=customCallback(NetworkUtil.cloneOptions(nodeA,"node"),NetworkUtil.cloneOptions(nodeB,"node"),NetworkUtil.cloneOptions(edge,"edge"));_this7.hierarchical.levels[nodeB.id]=levelA+diff};this._crawlNetwork(levelByDirection);this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function _determineLevelsDirected(){var _context4,_this8=this;var nodes=_reduceInstanceProperty(_context4=this.body.nodeIndices).call(_context4,function(acc,id2){acc.set(id2,_this8.body.nodes[id2]);return acc},new _Map);if(this.options.hierarchical.shakeTowards==="roots"){this.hierarchical.levels=fillLevelsByDirectionRoots(nodes)}else{this.hierarchical.levels=fillLevelsByDirectionLeaves(nodes)}this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function _generateMap(){var _this9=this;var fillInRelations=function fillInRelations2(parentNode,childNode){if(_this9.hierarchical.levels[childNode.id]>_this9.hierarchical.levels[parentNode.id]){_this9.hierarchical.addRelation(parentNode.id,childNode.id)}};this._crawlNetwork(fillInRelations);this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function _crawlNetwork(){var _this10=this;var callback=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};var startingNodeId=arguments.length>1?arguments[1]:void 0;var progress={};var crawler=function crawler2(node3,tree){if(progress[node3.id]===void 0){_this10.hierarchical.setTreeIndex(node3,tree);progress[node3.id]=true;var childNode;var edges=_this10._getActiveEdges(node3);for(var i3=0;i3<edges.length;i3++){var edge=edges[i3];if(edge.connected===true){if(edge.toId==node3.id){childNode=edge.from}else{childNode=edge.to}if(node3.id!=childNode.id){callback(node3,childNode,edge);crawler2(childNode,tree)}}}}};if(startingNodeId===void 0){var treeIndex=0;for(var i2=0;i2<this.body.nodeIndices.length;i2++){var nodeId=this.body.nodeIndices[i2];if(progress[nodeId]===void 0){var node2=this.body.nodes[nodeId];crawler(node2,treeIndex);treeIndex+=1}}}else{var _node2=this.body.nodes[startingNodeId];if(_node2===void 0){console.error("Node not found:",startingNodeId);return}crawler(_node2)}}},{key:"_shiftBlock",value:function _shiftBlock(parentId,diff){var _this11=this;var progress={};var shifter=function shifter2(parentId2){if(progress[parentId2]){return}progress[parentId2]=true;_this11.direction.shift(parentId2,diff);var childRef=_this11.hierarchical.childrenReference[parentId2];if(childRef!==void 0){for(var i2=0;i2<childRef.length;i2++){shifter2(childRef[i2])}}};shifter(parentId)}},{key:"_findCommonParent",value:function _findCommonParent(childA,childB){var _this12=this;var parents={};var iterateParents=function iterateParents2(parents2,child){var parentRef=_this12.hierarchical.parentReference[child];if(parentRef!==void 0){for(var i2=0;i2<parentRef.length;i2++){var parent2=parentRef[i2];parents2[parent2]=true;iterateParents2(parents2,parent2)}}};var findParent=function findParent2(parents2,child){var parentRef=_this12.hierarchical.parentReference[child];if(parentRef!==void 0){for(var i2=0;i2<parentRef.length;i2++){var parent2=parentRef[i2];if(parents2[parent2]!==void 0){return{foundParent:parent2,withChild:child}}var branch=findParent2(parents2,parent2);if(branch.foundParent!==null){return branch}}}return{foundParent:null,withChild:child}};iterateParents(parents,childA);return findParent(parents,childB)}},{key:"setDirectionStrategy",value:function setDirectionStrategy(){var isVertical=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";if(isVertical){this.direction=new VerticalStrategy(this)}else{this.direction=new HorizontalStrategy(this)}}},{key:"_getCenterPosition",value:function _getCenterPosition(childNodes){var minPos=1e9;var maxPos=-1e9;for(var i2=0;i2<childNodes.length;i2++){var childNode=void 0;if(childNodes[i2].id!==void 0){childNode=childNodes[i2]}else{var childNodeId=childNodes[i2];childNode=this.body.nodes[childNodeId]}var position=this.direction.getPosition(childNode);minPos=Math.min(minPos,position);maxPos=Math.max(maxPos,position)}return .5*(minPos+maxPos)}}]);return LayoutEngine2})();function _createForOfIteratorHelper(o,allowArrayLike){var it2=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it2){if(_Array$isArray(o)||(it2=_unsupportedIterableToArray(o))||allowArrayLike){if(it2)o=it2;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it2=it2.call(o)},n:function n(){var step=it2.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it2.return!=null)it2.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){var _context32;if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=_sliceInstanceProperty(_context32=Object.prototype.toString.call(o)).call(_context32,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var ManipulationSystem=(function(){function ManipulationSystem2(body,canvas,selectionHandler,interactionHandler){var _this=this,_context,_context2;_classCallCheck(this,ManipulationSystem2);this.body=body;this.canvas=canvas;this.selectionHandler=selectionHandler;this.interactionHandler=interactionHandler;this.editMode=false;this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0;this._domEventListenerCleanupQueue=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.guiEnabled=false;this.inMode=false;this.selectedControlNode=void 0;this.options={};this.defaultOptions={enabled:false,initiallyActive:false,addNode:true,addEdge:true,editNode:void 0,editEdge:true,deleteNode:true,deleteEdge:true,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};_Object$assign(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){_this._clean()});this.body.emitter.on("_dataChanged",_bindInstanceProperty$1(_context=this._restore).call(_context,this));this.body.emitter.on("_resetData",_bindInstanceProperty$1(_context2=this._restore).call(_context2,this))}_createClass(ManipulationSystem2,[{key:"_restore",value:function _restore(){if(this.inMode!==false){if(this.options.initiallyActive===true){this.enableEditMode()}else{this.disableEditMode()}}}},{key:"setOptions",value:function setOptions(options,allOptions2,globalOptions){if(allOptions2!==void 0){if(allOptions2.locale!==void 0){this.options.locale=allOptions2.locale}else{this.options.locale=globalOptions.locale}if(allOptions2.locales!==void 0){this.options.locales=allOptions2.locales}else{this.options.locales=globalOptions.locales}}if(options!==void 0){if(typeof options==="boolean"){this.options.enabled=options}else{this.options.enabled=true;deepExtend(this.options,options)}if(this.options.initiallyActive===true){this.editMode=true}this._setup()}}},{key:"toggleEditMode",value:function toggleEditMode(){if(this.editMode===true){this.disableEditMode()}else{this.enableEditMode()}}},{key:"enableEditMode",value:function enableEditMode(){this.editMode=true;this._clean();if(this.guiEnabled===true){this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";this.editModeDiv.style.display="none";this.showManipulatorToolbar()}}},{key:"disableEditMode",value:function disableEditMode(){this.editMode=false;this._clean();if(this.guiEnabled===true){this.manipulationDiv.style.display="none";this.closeDiv.style.display="none";this.editModeDiv.style.display="block";this._createEditButton()}}},{key:"showManipulatorToolbar",value:function showManipulatorToolbar(){this._clean();this.manipulationDOM={};if(this.guiEnabled===true){var _context3,_context4;this.editMode=true;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var selectedNodeCount=this.selectionHandler.getSelectedNodeCount();var selectedEdgeCount=this.selectionHandler.getSelectedEdgeCount();var selectedTotalCount=selectedNodeCount+selectedEdgeCount;var locale=this.options.locales[this.options.locale];var needSeperator=false;if(this.options.addNode!==false){this._createAddNodeButton(locale);needSeperator=true}if(this.options.addEdge!==false){if(needSeperator===true){this._createSeperator(1)}else{needSeperator=true}this._createAddEdgeButton(locale)}if(selectedNodeCount===1&&typeof this.options.editNode==="function"){if(needSeperator===true){this._createSeperator(2)}else{needSeperator=true}this._createEditNodeButton(locale)}else if(selectedEdgeCount===1&&selectedNodeCount===0&&this.options.editEdge!==false){if(needSeperator===true){this._createSeperator(3)}else{needSeperator=true}this._createEditEdgeButton(locale)}if(selectedTotalCount!==0){if(selectedNodeCount>0&&this.options.deleteNode!==false){if(needSeperator===true){this._createSeperator(4)}this._createDeleteButton(locale)}else if(selectedNodeCount===0&&this.options.deleteEdge!==false){if(needSeperator===true){this._createSeperator(4)}this._createDeleteButton(locale)}}this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(_context3=this.toggleEditMode).call(_context3,this));this._temporaryBindEvent("select",_bindInstanceProperty$1(_context4=this.showManipulatorToolbar).call(_context4,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function addNodeMode(){var _context6;if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="addNode";if(this.guiEnabled===true){var _context5;var locale=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(locale);this._createSeperator();this._createDescription(locale["addDescription"]||this.options.locales["en"]["addDescription"]);this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(_context5=this.toggleEditMode).call(_context5,this))}this._temporaryBindEvent("click",_bindInstanceProperty$1(_context6=this._performAddNode).call(_context6,this))}},{key:"editNode",value:function editNode(){var _this2=this;if(this.editMode!==true){this.enableEditMode()}this._clean();var node2=this.selectionHandler.getSelectedNodes()[0];if(node2!==void 0){this.inMode="editNode";if(typeof this.options.editNode==="function"){if(node2.isCluster!==true){var data2=deepExtend({},node2.options,false);data2.x=node2.x;data2.y=node2.y;if(this.options.editNode.length===2){this.options.editNode(data2,function(finalizedData){if(finalizedData!==null&&finalizedData!==void 0&&_this2.inMode==="editNode"){_this2.body.data.nodes.getDataSet().update(finalizedData)}_this2.showManipulatorToolbar()})}else{throw new Error("The function for edit does not support two arguments (data, callback)")}}else{alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}}else{throw new Error("No function has been configured to handle the editing of nodes.")}}else{this.showManipulatorToolbar()}}},{key:"addEdgeMode",value:function addEdgeMode(){var _context8,_context9,_context10,_context11,_context12;if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="addEdge";if(this.guiEnabled===true){var _context7;var locale=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(locale);this._createSeperator();this._createDescription(locale["edgeDescription"]||this.options.locales["en"]["edgeDescription"]);this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(_context7=this.toggleEditMode).call(_context7,this))}this._temporaryBindUI("onTouch",_bindInstanceProperty$1(_context8=this._handleConnect).call(_context8,this));this._temporaryBindUI("onDragEnd",_bindInstanceProperty$1(_context9=this._finishConnect).call(_context9,this));this._temporaryBindUI("onDrag",_bindInstanceProperty$1(_context10=this._dragControlNode).call(_context10,this));this._temporaryBindUI("onRelease",_bindInstanceProperty$1(_context11=this._finishConnect).call(_context11,this));this._temporaryBindUI("onDragStart",_bindInstanceProperty$1(_context12=this._dragStartEdge).call(_context12,this));this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function editEdgeMode(){if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="editEdge";if(_typeof$1(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag==="function"){this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0];if(this.edgeBeingEditedId!==void 0){var edge=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(edge.from.id,edge.to.id);return}}if(this.guiEnabled===true){var _context13;var locale=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(locale);this._createSeperator();this._createDescription(locale["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]);this._bindElementEvents(this.closeDiv,_bindInstanceProperty$1(_context13=this.toggleEditMode).call(_context13,this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0];if(this.edgeBeingEditedId!==void 0){var _context14,_context15,_context16,_context17;var _edge=this.body.edges[this.edgeBeingEditedId];var controlNodeFrom=this._getNewTargetNode(_edge.from.x,_edge.from.y);var controlNodeTo=this._getNewTargetNode(_edge.to.x,_edge.to.y);this.temporaryIds.nodes.push(controlNodeFrom.id);this.temporaryIds.nodes.push(controlNodeTo.id);this.body.nodes[controlNodeFrom.id]=controlNodeFrom;this.body.nodeIndices.push(controlNodeFrom.id);this.body.nodes[controlNodeTo.id]=controlNodeTo;this.body.nodeIndices.push(controlNodeTo.id);this._temporaryBindUI("onTouch",_bindInstanceProperty$1(_context14=this._controlNodeTouch).call(_context14,this));this._temporaryBindUI("onTap",function(){});this._temporaryBindUI("onHold",function(){});this._temporaryBindUI("onDragStart",_bindInstanceProperty$1(_context15=this._controlNodeDragStart).call(_context15,this));this._temporaryBindUI("onDrag",_bindInstanceProperty$1(_context16=this._controlNodeDrag).call(_context16,this));this._temporaryBindUI("onDragEnd",_bindInstanceProperty$1(_context17=this._controlNodeDragEnd).call(_context17,this));this._temporaryBindUI("onMouseMove",function(){});this._temporaryBindEvent("beforeDrawing",function(ctx){var positions=_edge.edgeType.findBorderPositions(ctx);if(controlNodeFrom.selected===false){controlNodeFrom.x=positions.from.x;controlNodeFrom.y=positions.from.y}if(controlNodeTo.selected===false){controlNodeTo.x=positions.to.x;controlNodeTo.y=positions.to.y}});this.body.emitter.emit("_redraw")}else{this.showManipulatorToolbar()}}},{key:"deleteSelected",value:function deleteSelected(){var _this3=this;if(this.editMode!==true){this.enableEditMode()}this._clean();this.inMode="delete";var selectedNodes=this.selectionHandler.getSelectedNodeIds();var selectedEdges=this.selectionHandler.getSelectedEdgeIds();var deleteFunction=void 0;if(selectedNodes.length>0){for(var i2=0;i2<selectedNodes.length;i2++){if(this.body.nodes[selectedNodes[i2]].isCluster===true){alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);return}}if(typeof this.options.deleteNode==="function"){deleteFunction=this.options.deleteNode}}else if(selectedEdges.length>0){if(typeof this.options.deleteEdge==="function"){deleteFunction=this.options.deleteEdge}}if(typeof deleteFunction==="function"){var data2={nodes:selectedNodes,edges:selectedEdges};if(deleteFunction.length===2){deleteFunction(data2,function(finalizedData){if(finalizedData!==null&&finalizedData!==void 0&&_this3.inMode==="delete"){_this3.body.data.edges.getDataSet().remove(finalizedData.edges);_this3.body.data.nodes.getDataSet().remove(finalizedData.nodes);_this3.body.emitter.emit("startSimulation");_this3.showManipulatorToolbar()}else{_this3.body.emitter.emit("startSimulation");_this3.showManipulatorToolbar()}})}else{throw new Error("The function for delete does not support two arguments (data, callback)")}}else{this.body.data.edges.getDataSet().remove(selectedEdges);this.body.data.nodes.getDataSet().remove(selectedNodes);this.body.emitter.emit("startSimulation");this.showManipulatorToolbar()}}},{key:"_setup",value:function _setup(){if(this.options.enabled===true){this.guiEnabled=true;this._createWrappers();if(this.editMode===false){this._createEditButton()}else{this.showManipulatorToolbar()}}else{this._removeManipulationDOM();this.guiEnabled=false}}},{key:"_createWrappers",value:function _createWrappers(){if(this.manipulationDiv===void 0){this.manipulationDiv=document.createElement("div");this.manipulationDiv.className="vis-manipulation";if(this.editMode===true){this.manipulationDiv.style.display="block"}else{this.manipulationDiv.style.display="none"}this.canvas.frame.appendChild(this.manipulationDiv)}if(this.editModeDiv===void 0){this.editModeDiv=document.createElement("div");this.editModeDiv.className="vis-edit-mode";if(this.editMode===true){this.editModeDiv.style.display="none"}else{this.editModeDiv.style.display="block"}this.canvas.frame.appendChild(this.editModeDiv)}if(this.closeDiv===void 0){var _this$options$locales,_this$options$locales2;this.closeDiv=document.createElement("button");this.closeDiv.className="vis-close";this.closeDiv.setAttribute("aria-label",(_this$options$locales=(_this$options$locales2=this.options.locales[this.options.locale])===null||_this$options$locales2===void 0?void 0:_this$options$locales2["close"])!==null&&_this$options$locales!==void 0?_this$options$locales:this.options.locales["en"]["close"]);this.closeDiv.style.display=this.manipulationDiv.style.display;this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function _getNewTargetNode(x,y){var controlNodeStyle=deepExtend({},this.options.controlNodeStyle);controlNodeStyle.id="targetNode"+v4();controlNodeStyle.hidden=false;controlNodeStyle.physics=false;controlNodeStyle.x=x;controlNodeStyle.y=y;var node2=this.body.functions.createNode(controlNodeStyle);node2.shape.boundingBox={left:x,right:x,top:y,bottom:y};return node2}},{key:"_createEditButton",value:function _createEditButton(){var _context18;this._clean();this.manipulationDOM={};recursiveDOMDelete(this.editModeDiv);var locale=this.options.locales[this.options.locale];var button=this._createButton("editMode","vis-edit vis-edit-mode",locale["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context18=this.toggleEditMode).call(_context18,this))}},{key:"_clean",value:function _clean(){this.inMode=false;if(this.guiEnabled===true){recursiveDOMDelete(this.editModeDiv);recursiveDOMDelete(this.manipulationDiv);this._cleanupDOMEventListeners()}this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function _cleanupDOMEventListeners(){var _context19;var _iterator=_createForOfIteratorHelper(_spliceInstanceProperty(_context19=this._domEventListenerCleanupQueue).call(_context19,0)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var callback=_step.value;callback()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"_removeManipulationDOM",value:function _removeManipulationDOM(){this._clean();recursiveDOMDelete(this.manipulationDiv);recursiveDOMDelete(this.editModeDiv);recursiveDOMDelete(this.closeDiv);if(this.manipulationDiv){this.canvas.frame.removeChild(this.manipulationDiv)}if(this.editModeDiv){this.canvas.frame.removeChild(this.editModeDiv)}if(this.closeDiv){this.canvas.frame.removeChild(this.closeDiv)}this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0}},{key:"_createSeperator",value:function _createSeperator(){var index2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+index2]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+index2].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+index2])}},{key:"_createAddNodeButton",value:function _createAddNodeButton(locale){var _context20;var button=this._createButton("addNode","vis-add",locale["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context20=this.addNodeMode).call(_context20,this))}},{key:"_createAddEdgeButton",value:function _createAddEdgeButton(locale){var _context21;var button=this._createButton("addEdge","vis-connect",locale["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context21=this.addEdgeMode).call(_context21,this))}},{key:"_createEditNodeButton",value:function _createEditNodeButton(locale){var _context22;var button=this._createButton("editNode","vis-edit",locale["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context22=this.editNode).call(_context22,this))}},{key:"_createEditEdgeButton",value:function _createEditEdgeButton(locale){var _context23;var button=this._createButton("editEdge","vis-edit",locale["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context23=this.editEdgeMode).call(_context23,this))}},{key:"_createDeleteButton",value:function _createDeleteButton(locale){var _context24;var deleteBtnClass;if(this.options.rtl){deleteBtnClass="vis-delete-rtl"}else{deleteBtnClass="vis-delete"}var button=this._createButton("delete",deleteBtnClass,locale["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context24=this.deleteSelected).call(_context24,this))}},{key:"_createBackButton",value:function _createBackButton(locale){var _context25;var button=this._createButton("back","vis-back",locale["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(button);this._bindElementEvents(button,_bindInstanceProperty$1(_context25=this.showManipulatorToolbar).call(_context25,this))}},{key:"_createButton",value:function _createButton(id2,className,label){var labelClassName=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";this.manipulationDOM[id2+"Div"]=document.createElement("button");this.manipulationDOM[id2+"Div"].className="vis-button "+className;this.manipulationDOM[id2+"Label"]=document.createElement("div");this.manipulationDOM[id2+"Label"].className=labelClassName;this.manipulationDOM[id2+"Label"].innerText=label;this.manipulationDOM[id2+"Div"].appendChild(this.manipulationDOM[id2+"Label"]);return this.manipulationDOM[id2+"Div"]}},{key:"_createDescription",value:function _createDescription(label){this.manipulationDOM["descriptionLabel"]=document.createElement("div");this.manipulationDOM["descriptionLabel"].className="vis-none";this.manipulationDOM["descriptionLabel"].innerText=label;this.manipulationDiv.appendChild(this.manipulationDOM["descriptionLabel"])}},{key:"_temporaryBindEvent",value:function _temporaryBindEvent(event,newFunction){this.temporaryEventFunctions.push({event,boundFunction:newFunction});this.body.emitter.on(event,newFunction)}},{key:"_temporaryBindUI",value:function _temporaryBindUI(UIfunctionName,newFunction){if(this.body.eventListeners[UIfunctionName]!==void 0){this.temporaryUIFunctions[UIfunctionName]=this.body.eventListeners[UIfunctionName];this.body.eventListeners[UIfunctionName]=newFunction}else{throw new Error("This UI function does not exist. Typo? You tried: "+UIfunctionName+" possible are: "+_JSON$stringify(_Object$keys(this.body.eventListeners)))}}},{key:"_unbindTemporaryUIs",value:function _unbindTemporaryUIs(){for(var functionName2 in this.temporaryUIFunctions){if(Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,functionName2)){this.body.eventListeners[functionName2]=this.temporaryUIFunctions[functionName2];delete this.temporaryUIFunctions[functionName2]}}this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function _unbindTemporaryEvents(){for(var i2=0;i2<this.temporaryEventFunctions.length;i2++){var eventName=this.temporaryEventFunctions[i2].event;var boundFunction=this.temporaryEventFunctions[i2].boundFunction;this.body.emitter.off(eventName,boundFunction)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function _bindElementEvents(domElement,boundFunction){var hammer=new Hammer(domElement,{});onTouch(hammer,boundFunction);this._domEventListenerCleanupQueue.push(function(){hammer.destroy()});var keyupListener=function keyupListener2(_ref){var keyCode=_ref.keyCode,key=_ref.key;if(key==="Enter"||key===" "||keyCode===13||keyCode===32){boundFunction()}};domElement.addEventListener("keyup",keyupListener,false);this._domEventListenerCleanupQueue.push(function(){domElement.removeEventListener("keyup",keyupListener,false)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function _cleanupTemporaryNodesAndEdges(){for(var i2=0;i2<this.temporaryIds.edges.length;i2++){var _context26;this.body.edges[this.temporaryIds.edges[i2]].disconnect();delete this.body.edges[this.temporaryIds.edges[i2]];var indexTempEdge=_indexOfInstanceProperty(_context26=this.body.edgeIndices).call(_context26,this.temporaryIds.edges[i2]);if(indexTempEdge!==-1){var _context27;_spliceInstanceProperty(_context27=this.body.edgeIndices).call(_context27,indexTempEdge,1)}}for(var _i=0;_i<this.temporaryIds.nodes.length;_i++){var _context28;delete this.body.nodes[this.temporaryIds.nodes[_i]];var indexTempNode=_indexOfInstanceProperty(_context28=this.body.nodeIndices).call(_context28,this.temporaryIds.nodes[_i]);if(indexTempNode!==-1){var _context29;_spliceInstanceProperty(_context29=this.body.nodeIndices).call(_context29,indexTempNode,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function _controlNodeTouch(event){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(event.center);this.lastTouch.translation=_Object$assign({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function _controlNodeDragStart(){var pointer=this.lastTouch;var pointerObj=this.selectionHandler._pointerToPositionObject(pointer);var from2=this.body.nodes[this.temporaryIds.nodes[0]];var to=this.body.nodes[this.temporaryIds.nodes[1]];var edge=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var fromSelect=from2.isOverlappingWith(pointerObj);var toSelect=to.isOverlappingWith(pointerObj);if(fromSelect===true){this.selectedControlNode=from2;edge.edgeType.from=from2}else if(toSelect===true){this.selectedControlNode=to;edge.edgeType.to=to}if(this.selectedControlNode!==void 0){this.selectionHandler.selectObject(this.selectedControlNode)}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function _controlNodeDrag(event){this.body.emitter.emit("disablePhysics");var pointer=this.body.functions.getPointer(event.center);var pos=this.canvas.DOMtoCanvas(pointer);if(this.selectedControlNode!==void 0){this.selectedControlNode.x=pos.x;this.selectedControlNode.y=pos.y}else{this.interactionHandler.onDrag(event)}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function _controlNodeDragEnd(event){var pointer=this.body.functions.getPointer(event.center);var pointerObj=this.selectionHandler._pointerToPositionObject(pointer);var edge=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0){return}this.selectionHandler.unselectAll();var overlappingNodeIds=this.selectionHandler._getAllNodesOverlappingWith(pointerObj);var node2=void 0;for(var i2=overlappingNodeIds.length-1;i2>=0;i2--){if(overlappingNodeIds[i2]!==this.selectedControlNode.id){node2=this.body.nodes[overlappingNodeIds[i2]];break}}if(node2!==void 0&&this.selectedControlNode!==void 0){if(node2.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{var from2=this.body.nodes[this.temporaryIds.nodes[0]];if(this.selectedControlNode.id===from2.id){this._performEditEdge(node2.id,edge.to.id)}else{this._performEditEdge(edge.from.id,node2.id)}}}else{edge.updateEdgeType();this.body.emitter.emit("restorePhysics")}this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function _handleConnect(event){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(event.center);this.lastTouch.translation=_Object$assign({},this.body.view.translation);this.interactionHandler.drag.pointer=this.lastTouch;this.interactionHandler.drag.translation=this.lastTouch.translation;var pointer=this.lastTouch;var node2=this.selectionHandler.getNodeAt(pointer);if(node2!==void 0){if(node2.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{var targetNode=this._getNewTargetNode(node2.x,node2.y);this.body.nodes[targetNode.id]=targetNode;this.body.nodeIndices.push(targetNode.id);var connectionEdge=this.body.functions.createEdge({id:"connectionEdge"+v4(),from:node2.id,to:targetNode.id,physics:false,smooth:{enabled:true,type:"continuous",roundness:.5}});this.body.edges[connectionEdge.id]=connectionEdge;this.body.edgeIndices.push(connectionEdge.id);this.temporaryIds.nodes.push(targetNode.id);this.temporaryIds.edges.push(connectionEdge.id)}}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function _dragControlNode(event){var pointer=this.body.functions.getPointer(event.center);var pointerObj=this.selectionHandler._pointerToPositionObject(pointer);var connectFromId=void 0;if(this.temporaryIds.edges[0]!==void 0){connectFromId=this.body.edges[this.temporaryIds.edges[0]].fromId}var overlappingNodeIds=this.selectionHandler._getAllNodesOverlappingWith(pointerObj);var node2=void 0;for(var i2=overlappingNodeIds.length-1;i2>=0;i2--){var _context30;if(_indexOfInstanceProperty(_context30=this.temporaryIds.nodes).call(_context30,overlappingNodeIds[i2])===-1){node2=this.body.nodes[overlappingNodeIds[i2]];break}}event.controlEdge={from:connectFromId,to:node2?node2.id:void 0};this.selectionHandler.generateClickEvent("controlNodeDragging",event,pointer);if(this.temporaryIds.nodes[0]!==void 0){var targetNode=this.body.nodes[this.temporaryIds.nodes[0]];targetNode.x=this.canvas._XconvertDOMtoCanvas(pointer.x);targetNode.y=this.canvas._YconvertDOMtoCanvas(pointer.y);this.body.emitter.emit("_redraw")}else{this.interactionHandler.onDrag(event)}}},{key:"_finishConnect",value:function _finishConnect(event){var pointer=this.body.functions.getPointer(event.center);var pointerObj=this.selectionHandler._pointerToPositionObject(pointer);var connectFromId=void 0;if(this.temporaryIds.edges[0]!==void 0){connectFromId=this.body.edges[this.temporaryIds.edges[0]].fromId}var overlappingNodeIds=this.selectionHandler._getAllNodesOverlappingWith(pointerObj);var node2=void 0;for(var i2=overlappingNodeIds.length-1;i2>=0;i2--){var _context31;if(_indexOfInstanceProperty(_context31=this.temporaryIds.nodes).call(_context31,overlappingNodeIds[i2])===-1){node2=this.body.nodes[overlappingNodeIds[i2]];break}}this._cleanupTemporaryNodesAndEdges();if(node2!==void 0){if(node2.isCluster===true){alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"])}else{if(this.body.nodes[connectFromId]!==void 0&&this.body.nodes[node2.id]!==void 0){this._performAddEdge(connectFromId,node2.id)}}}event.controlEdge={from:connectFromId,to:node2?node2.id:void 0};this.selectionHandler.generateClickEvent("controlNodeDragEnd",event,pointer);this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function _dragStartEdge(event){var pointer=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",event,pointer,void 0,true)}},{key:"_performAddNode",value:function _performAddNode(clickData){var _this4=this;var defaultData={id:v4(),x:clickData.pointer.canvas.x,y:clickData.pointer.canvas.y,label:"new"};if(typeof this.options.addNode==="function"){if(this.options.addNode.length===2){this.options.addNode(defaultData,function(finalizedData){if(finalizedData!==null&&finalizedData!==void 0&&_this4.inMode==="addNode"){_this4.body.data.nodes.getDataSet().add(finalizedData)}_this4.showManipulatorToolbar()})}else{this.showManipulatorToolbar();throw new Error("The function for add does not support two arguments (data,callback)")}}else{this.body.data.nodes.getDataSet().add(defaultData);this.showManipulatorToolbar()}}},{key:"_performAddEdge",value:function _performAddEdge(sourceNodeId,targetNodeId){var _this5=this;var defaultData={from:sourceNodeId,to:targetNodeId};if(typeof this.options.addEdge==="function"){if(this.options.addEdge.length===2){this.options.addEdge(defaultData,function(finalizedData){if(finalizedData!==null&&finalizedData!==void 0&&_this5.inMode==="addEdge"){_this5.body.data.edges.getDataSet().add(finalizedData);_this5.selectionHandler.unselectAll();_this5.showManipulatorToolbar()}})}else{throw new Error("The function for connect does not support two arguments (data,callback)")}}else{this.body.data.edges.getDataSet().add(defaultData);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}},{key:"_performEditEdge",value:function _performEditEdge(sourceNodeId,targetNodeId){var _this6=this;var defaultData={id:this.edgeBeingEditedId,from:sourceNodeId,to:targetNodeId,label:this.body.data.edges.get(this.edgeBeingEditedId).label};var eeFunct=this.options.editEdge;if(_typeof$1(eeFunct)==="object"){eeFunct=eeFunct.editWithoutDrag}if(typeof eeFunct==="function"){if(eeFunct.length===2){eeFunct(defaultData,function(finalizedData){if(finalizedData===null||finalizedData===void 0||_this6.inMode!=="editEdge"){_this6.body.edges[defaultData.id].updateEdgeType();_this6.body.emitter.emit("_redraw");_this6.showManipulatorToolbar()}else{_this6.body.data.edges.getDataSet().update(finalizedData);_this6.selectionHandler.unselectAll();_this6.showManipulatorToolbar()}})}else{throw new Error("The function for edit does not support two arguments (data, callback)")}}else{this.body.data.edges.getDataSet().update(defaultData);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}}]);return ManipulationSystem2})();var string="string";var bool="boolean";var number="number";var array="array";var object="object";var dom="dom";var any="any";var endPoints=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"];var nodeOptions={borderWidth:{number},borderWidthSelected:{number,undefined:"undefined"},brokenImage:{string,undefined:"undefined"},chosen:{label:{boolean:bool,function:"function"},node:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{border:{string},background:{string},highlight:{border:{string},background:{string},__type__:{object,string}},hover:{border:{string},background:{string},__type__:{object,string}},__type__:{object,string}},opacity:{number,undefined:"undefined"},fixed:{x:{boolean:bool},y:{boolean:bool},__type__:{object,boolean:bool}},font:{align:{string},color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},group:{string,number,undefined:"undefined"},heightConstraint:{minimum:{number},valign:{string},__type__:{object,boolean:bool,number}},hidden:{boolean:bool},icon:{face:{string},code:{string},size:{number},color:{string},weight:{string,number},__type__:{object}},id:{string,number},image:{selected:{string,undefined:"undefined"},unselected:{string,undefined:"undefined"},__type__:{object,string}},imagePadding:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},level:{number,undefined:"undefined"},margin:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},mass:{number},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:bool,array},borderRadius:{number},interpolation:{boolean:bool},useImageSize:{boolean:bool},useBorderWithImage:{boolean:bool},coordinateOrigin:{string:["center","top-left"]},__type__:{object}},size:{number},title:{string,dom,undefined:"undefined"},value:{number,undefined:"undefined"},widthConstraint:{minimum:{number},maximum:{number},__type__:{object,boolean:bool,number}},x:{number},y:{number},__type__:{object}};var allOptions={configure:{enabled:{boolean:bool},filter:{boolean:bool,string,array,function:"function"},container:{dom},showButton:{boolean:bool},__type__:{object,boolean:bool,string,array,function:"function"}},edges:{arrows:{to:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageHeight:{number},imageWidth:{number},src:{string},__type__:{object,boolean:bool}},middle:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},from:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},__type__:{string:["from","to","middle"],object}},endPointOffset:{from:{number},to:{number},__type__:{object,number}},arrowStrikethrough:{boolean:bool},background:{enabled:{boolean:bool},color:{string},size:{number},dashes:{boolean:bool,array},__type__:{object,boolean:bool}},chosen:{label:{boolean:bool,function:"function"},edge:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{color:{string},highlight:{string},hover:{string},inherit:{string:["from","to","both"],boolean:bool},opacity:{number},__type__:{object,string}},dashes:{boolean:bool,array},font:{color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},hidden:{boolean:bool},hoverWidth:{function:"function",number},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},length:{number,undefined:"undefined"},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},selectionWidth:{function:"function",number},selfReferenceSize:{number},selfReference:{size:{number},angle:{number},renderBehindTheNode:{boolean:bool},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},smooth:{enabled:{boolean:bool},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number},forceDirection:{string:["horizontal","vertical","none"],boolean:bool},__type__:{object,boolean:bool}},title:{string,undefined:"undefined"},width:{number},widthConstraint:{maximum:{number},__type__:{object,boolean:bool,number}},value:{number,undefined:"undefined"},__type__:{object}},groups:{useDefaultGroups:{boolean:bool},__any__:nodeOptions,__type__:{object}},interaction:{dragNodes:{boolean:bool},dragView:{boolean:bool},hideEdgesOnDrag:{boolean:bool},hideEdgesOnZoom:{boolean:bool},hideNodesOnDrag:{boolean:bool},hover:{boolean:bool},keyboard:{enabled:{boolean:bool},speed:{x:{number},y:{number},zoom:{number},__type__:{object}},bindToWindow:{boolean:bool},autoFocus:{boolean:bool},__type__:{object,boolean:bool}},multiselect:{boolean:bool},navigationButtons:{boolean:bool},selectable:{boolean:bool},selectConnectedEdges:{boolean:bool},hoverConnectedEdges:{boolean:bool},tooltipDelay:{number},zoomView:{boolean:bool},zoomSpeed:{number},__type__:{object}},layout:{randomSeed:{undefined:"undefined",number,string},improvedLayout:{boolean:bool},clusterThreshold:{number},hierarchical:{enabled:{boolean:bool},levelSeparation:{number},nodeSpacing:{number},treeSpacing:{number},blockShifting:{boolean:bool},edgeMinimization:{boolean:bool},parentCentralization:{boolean:bool},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object,boolean:bool}},__type__:{object}},manipulation:{enabled:{boolean:bool},initiallyActive:{boolean:bool},addNode:{boolean:bool,function:"function"},addEdge:{boolean:bool,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object,boolean:bool,function:"function"}},deleteNode:{boolean:bool,function:"function"},deleteEdge:{boolean:bool,function:"function"},controlNodeStyle:nodeOptions,__type__:{object,boolean:bool}},nodes:nodeOptions,physics:{enabled:{boolean:bool},barnesHut:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},forceAtlas2Based:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},repulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},__type__:{object}},hierarchicalRepulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},avoidOverlap:{number},__type__:{object}},maxVelocity:{number},minVelocity:{number},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:bool},iterations:{number},updateInterval:{number},onlyDynamicEdges:{boolean:bool},fit:{boolean:bool},__type__:{object,boolean:bool}},timestep:{number},adaptiveTimestep:{boolean:bool},wind:{x:{number},y:{number},__type__:{object}},__type__:{object,boolean:bool}},autoResize:{boolean:bool},clickToUse:{boolean:bool},locale:{string},locales:{__any__:{any},__type__:{object}},height:{string},width:{string},__type__:{object}};var configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:false,y:false},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:false,labelHighlightBold:true,physics:true,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:false,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:false,borderRadius:[6,0,20,1],interpolation:true,useImageSize:false},size:[25,0,200,1]},edges:{arrows:{to:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:false,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:true,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",true,false],opacity:[1,0,1,.05]},dashes:false,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:false,hoverWidth:[1.5,0,5,.1],labelHighlightBold:true,physics:true,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:true,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:true},shadow:{enabled:false,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:true,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:false,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:true,edgeMinimization:true,parentCentralization:true,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:true,dragView:true,hideEdgesOnDrag:false,hideEdgesOnZoom:false,hideNodesOnDrag:false,hover:false,keyboard:{enabled:false,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:true,autoFocus:true},multiselect:false,navigationButtons:false,selectable:true,selectConnectedEdges:true,hoverConnectedEdges:true,tooltipDelay:[300,0,1e3,25],zoomView:true,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:false,initiallyActive:false},physics:{enabled:true,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}};var configuratorHideOption=function configuratorHideOption2(parentPath,optionName,options){var _context;if(_includesInstanceProperty(parentPath).call(parentPath,"physics")&&_includesInstanceProperty(_context=configureOptions.physics.solver).call(_context,optionName)&&options.physics.solver!==optionName&&optionName!=="wind"){return true}return false};var allOptions$1=Object.freeze({__proto__:null,allOptions,configuratorHideOption,configureOptions});var FloydWarshall=(function(){function FloydWarshall2(){_classCallCheck(this,FloydWarshall2)}_createClass(FloydWarshall2,[{key:"getDistances",value:function getDistances(body,nodesArray,edgesArray){var D_matrix={};var edges=body.edges;for(var i2=0;i2<nodesArray.length;i2++){var node2=nodesArray[i2];var cell={};D_matrix[node2]=cell;for(var j=0;j<nodesArray.length;j++){cell[nodesArray[j]]=i2==j?0:1e9}}for(var _i=0;_i<edgesArray.length;_i++){var edge=edges[edgesArray[_i]];if(edge.connected===true&&D_matrix[edge.fromId]!==void 0&&D_matrix[edge.toId]!==void 0){D_matrix[edge.fromId][edge.toId]=1;D_matrix[edge.toId][edge.fromId]=1}}var nodeCount=nodesArray.length;for(var k=0;k<nodeCount;k++){var knode=nodesArray[k];var kcolm=D_matrix[knode];for(var _i2=0;_i2<nodeCount-1;_i2++){var inode=nodesArray[_i2];var icolm=D_matrix[inode];for(var _j=_i2+1;_j<nodeCount;_j++){var jnode=nodesArray[_j];var jcolm=D_matrix[jnode];var val=Math.min(icolm[jnode],icolm[knode]+kcolm[jnode]);icolm[jnode]=val;jcolm[inode]=val}}}return D_matrix}}]);return FloydWarshall2})();var KamadaKawai=(function(){function KamadaKawai2(body,edgeLength,edgeStrength){_classCallCheck(this,KamadaKawai2);this.body=body;this.springLength=edgeLength;this.springConstant=edgeStrength;this.distanceSolver=new FloydWarshall}_createClass(KamadaKawai2,[{key:"setOptions",value:function setOptions(options){if(options){if(options.springLength){this.springLength=options.springLength}if(options.springConstant){this.springConstant=options.springConstant}}}},{key:"solve",value:function solve(nodesArray,edgesArray){var ignoreClusters=arguments.length>2&&arguments[2]!==void 0?arguments[2]:false;var D_matrix=this.distanceSolver.getDistances(this.body,nodesArray,edgesArray);this._createL_matrix(D_matrix);this._createK_matrix(D_matrix);this._createE_matrix();var threshold=.01;var innerThreshold=1;var iterations=0;var maxIterations=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));var maxInnerIterations=5;var maxEnergy=1e9;var highE_nodeId=0,dE_dx=0,dE_dy=0,delta_m=0,subIterations=0;while(maxEnergy>threshold&&iterations<maxIterations){iterations+=1;var _this$_getHighestEner=this._getHighestEnergyNode(ignoreClusters);var _this$_getHighestEner2=_slicedToArray(_this$_getHighestEner,4);highE_nodeId=_this$_getHighestEner2[0];maxEnergy=_this$_getHighestEner2[1];dE_dx=_this$_getHighestEner2[2];dE_dy=_this$_getHighestEner2[3];delta_m=maxEnergy;subIterations=0;while(delta_m>innerThreshold&&subIterations<maxInnerIterations){subIterations+=1;this._moveNode(highE_nodeId,dE_dx,dE_dy);var _this$_getEnergy=this._getEnergy(highE_nodeId);var _this$_getEnergy2=_slicedToArray(_this$_getEnergy,3);delta_m=_this$_getEnergy2[0];dE_dx=_this$_getEnergy2[1];dE_dy=_this$_getEnergy2[2]}}}},{key:"_getHighestEnergyNode",value:function _getHighestEnergyNode(ignoreClusters){var nodesArray=this.body.nodeIndices;var nodes=this.body.nodes;var maxEnergy=0;var maxEnergyNodeId=nodesArray[0];var dE_dx_max=0,dE_dy_max=0;for(var nodeIdx=0;nodeIdx<nodesArray.length;nodeIdx++){var m=nodesArray[nodeIdx];if(nodes[m].predefinedPosition!==true||nodes[m].isCluster===true&&ignoreClusters===true||nodes[m].options.fixed.x!==true||nodes[m].options.fixed.y!==true){var _this$_getEnergy3=this._getEnergy(m),_this$_getEnergy4=_slicedToArray(_this$_getEnergy3,3),delta_m=_this$_getEnergy4[0],dE_dx=_this$_getEnergy4[1],dE_dy=_this$_getEnergy4[2];if(maxEnergy<delta_m){maxEnergy=delta_m;maxEnergyNodeId=m;dE_dx_max=dE_dx;dE_dy_max=dE_dy}}}return[maxEnergyNodeId,maxEnergy,dE_dx_max,dE_dy_max]}},{key:"_getEnergy",value:function _getEnergy(m){var _this$E_sums$m=_slicedToArray(this.E_sums[m],2),dE_dx=_this$E_sums$m[0],dE_dy=_this$E_sums$m[1];var delta_m=Math.sqrt(Math.pow(dE_dx,2)+Math.pow(dE_dy,2));return[delta_m,dE_dx,dE_dy]}},{key:"_moveNode",value:function _moveNode(m,dE_dx,dE_dy){var nodesArray=this.body.nodeIndices;var nodes=this.body.nodes;var d2E_dx2=0;var d2E_dxdy=0;var d2E_dy2=0;var x_m=nodes[m].x;var y_m=nodes[m].y;var km=this.K_matrix[m];var lm=this.L_matrix[m];for(var iIdx=0;iIdx<nodesArray.length;iIdx++){var i2=nodesArray[iIdx];if(i2!==m){var x_i=nodes[i2].x;var y_i=nodes[i2].y;var kmat=km[i2];var lmat=lm[i2];var denominator=1/Math.pow(Math.pow(x_m-x_i,2)+Math.pow(y_m-y_i,2),1.5);d2E_dx2+=kmat*(1-lmat*Math.pow(y_m-y_i,2)*denominator);d2E_dxdy+=kmat*(lmat*(x_m-x_i)*(y_m-y_i)*denominator);d2E_dy2+=kmat*(1-lmat*Math.pow(x_m-x_i,2)*denominator)}}var A=d2E_dx2,B=d2E_dxdy,C=dE_dx,D=d2E_dy2,E=dE_dy;var dy=(C/A+E/B)/(B/A-D/B);var dx=-(B*dy+C)/A;nodes[m].x+=dx;nodes[m].y+=dy;this._updateE_matrix(m)}},{key:"_createL_matrix",value:function _createL_matrix(D_matrix){var nodesArray=this.body.nodeIndices;var edgeLength=this.springLength;this.L_matrix=[];for(var i2=0;i2<nodesArray.length;i2++){this.L_matrix[nodesArray[i2]]={};for(var j=0;j<nodesArray.length;j++){this.L_matrix[nodesArray[i2]][nodesArray[j]]=edgeLength*D_matrix[nodesArray[i2]][nodesArray[j]]}}}},{key:"_createK_matrix",value:function _createK_matrix(D_matrix){var nodesArray=this.body.nodeIndices;var edgeStrength=this.springConstant;this.K_matrix=[];for(var i2=0;i2<nodesArray.length;i2++){this.K_matrix[nodesArray[i2]]={};for(var j=0;j<nodesArray.length;j++){this.K_matrix[nodesArray[i2]][nodesArray[j]]=edgeStrength*Math.pow(D_matrix[nodesArray[i2]][nodesArray[j]],-2)}}}},{key:"_createE_matrix",value:function _createE_matrix(){var nodesArray=this.body.nodeIndices;var nodes=this.body.nodes;this.E_matrix={};this.E_sums={};for(var mIdx=0;mIdx<nodesArray.length;mIdx++){this.E_matrix[nodesArray[mIdx]]=[]}for(var _mIdx=0;_mIdx<nodesArray.length;_mIdx++){var m=nodesArray[_mIdx];var x_m=nodes[m].x;var y_m=nodes[m].y;var dE_dx=0;var dE_dy=0;for(var iIdx=_mIdx;iIdx<nodesArray.length;iIdx++){var i2=nodesArray[iIdx];if(i2!==m){var x_i=nodes[i2].x;var y_i=nodes[i2].y;var denominator=1/Math.sqrt(Math.pow(x_m-x_i,2)+Math.pow(y_m-y_i,2));this.E_matrix[m][iIdx]=[this.K_matrix[m][i2]*(x_m-x_i-this.L_matrix[m][i2]*(x_m-x_i)*denominator),this.K_matrix[m][i2]*(y_m-y_i-this.L_matrix[m][i2]*(y_m-y_i)*denominator)];this.E_matrix[i2][_mIdx]=this.E_matrix[m][iIdx];dE_dx+=this.E_matrix[m][iIdx][0];dE_dy+=this.E_matrix[m][iIdx][1]}}this.E_sums[m]=[dE_dx,dE_dy]}}},{key:"_updateE_matrix",value:function _updateE_matrix(m){var nodesArray=this.body.nodeIndices;var nodes=this.body.nodes;var colm=this.E_matrix[m];var kcolm=this.K_matrix[m];var lcolm=this.L_matrix[m];var x_m=nodes[m].x;var y_m=nodes[m].y;var dE_dx=0;var dE_dy=0;for(var iIdx=0;iIdx<nodesArray.length;iIdx++){var i2=nodesArray[iIdx];if(i2!==m){var cell=colm[iIdx];var oldDx=cell[0];var oldDy=cell[1];var x_i=nodes[i2].x;var y_i=nodes[i2].y;var denominator=1/Math.sqrt(Math.pow(x_m-x_i,2)+Math.pow(y_m-y_i,2));var dx=kcolm[i2]*(x_m-x_i-lcolm[i2]*(x_m-x_i)*denominator);var dy=kcolm[i2]*(y_m-y_i-lcolm[i2]*(y_m-y_i)*denominator);colm[iIdx]=[dx,dy];dE_dx+=dx;dE_dy+=dy;var sum=this.E_sums[i2];sum[0]+=dx-oldDx;sum[1]+=dy-oldDy}}this.E_sums[m]=[dE_dx,dE_dy]}}]);return KamadaKawai2})();function Network(container,data2,options){var _context,_context2,_context3,_context4,_this=this;if(!(this instanceof Network)){throw new SyntaxError("Constructor must be called with the new operator")}this.options={};this.defaultOptions={locale:"en",locales,clickToUse:false};_Object$assign(this.options,this.defaultOptions);this.body={container,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:_bindInstanceProperty$1(_context=this.on).call(_context,this),off:_bindInstanceProperty$1(_context2=this.off).call(_context2,this),emit:_bindInstanceProperty$1(_context3=this.emit).call(_context3,this),once:_bindInstanceProperty$1(_context4=this.once).call(_context4,this)},eventListeners:{onTap:function onTap(){},onTouch:function onTouch2(){},onDoubleTap:function onDoubleTap(){},onHold:function onHold(){},onDragStart:function onDragStart(){},onDrag:function onDrag(){},onDragEnd:function onDragEnd(){},onMouseWheel:function onMouseWheel(){},onPinch:function onPinch(){},onMouseMove:function onMouseMove(){},onRelease:function onRelease2(){},onContext:function onContext(){}},data:{nodes:null,edges:null},functions:{createNode:function createNode(){},createEdge:function createEdge2(){},getPointer:function getPointer(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:false,position:{start:{x:0,y:0},end:{x:0,y:0}}}};this.bindEventListeners();this.images=new Images(function(){return _this.body.emitter.emit("_requestRedraw")});this.groups=new Groups;this.canvas=new Canvas(this.body);this.selectionHandler=new SelectionHandler(this.body,this.canvas);this.interactionHandler=new InteractionHandler(this.body,this.canvas,this.selectionHandler);this.view=new View(this.body,this.canvas);this.renderer=new CanvasRenderer(this.body,this.canvas);this.physics=new PhysicsEngine(this.body);this.layoutEngine=new LayoutEngine(this.body);this.clustering=new ClusterEngine(this.body);this.manipulation=new ManipulationSystem(this.body,this.canvas,this.selectionHandler,this.interactionHandler);this.nodesHandler=new NodesHandler(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new EdgesHandler(this.body,this.images,this.groups);this.body.modules["kamadaKawai"]=new KamadaKawai(this.body,150,.05);this.body.modules["clustering"]=this.clustering;this.canvas._create();this.setOptions(options);this.setData(data2)}Emitter(Network.prototype);Network.prototype.setOptions=function(options){var _this2=this;if(options===null){options=void 0}if(options!==void 0){var errorFound2=Validator.validate(options,allOptions);if(errorFound2===true){console.error("%cErrors have been found in the supplied options object.",VALIDATOR_PRINT_STYLE)}var fields=["locale","locales","clickToUse"];selectiveDeepExtend(fields,this.options,options);if(options.locale!==void 0){options.locale=normalizeLanguageCode(options.locales||this.options.locales,options.locale)}options=this.layoutEngine.setOptions(options.layout,options);this.canvas.setOptions(options);this.groups.setOptions(options.groups);this.nodesHandler.setOptions(options.nodes);this.edgesHandler.setOptions(options.edges);this.physics.setOptions(options.physics);this.manipulation.setOptions(options.manipulation,options,this.options);this.interactionHandler.setOptions(options.interaction);this.renderer.setOptions(options.interaction);this.selectionHandler.setOptions(options.interaction);if(options.groups!==void 0){this.body.emitter.emit("refreshNodes")}if("configure"in options){if(!this.configurator){this.configurator=new Configurator(this,this.body.container,configureOptions,this.canvas.pixelRatio,configuratorHideOption)}this.configurator.setOptions(options.configure)}if(this.configurator&&this.configurator.options.enabled===true){var networkOptions={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};deepExtend(networkOptions.nodes,this.nodesHandler.options);deepExtend(networkOptions.edges,this.edgesHandler.options);deepExtend(networkOptions.layout,this.layoutEngine.options);deepExtend(networkOptions.interaction,this.selectionHandler.options);deepExtend(networkOptions.interaction,this.renderer.options);deepExtend(networkOptions.interaction,this.interactionHandler.options);deepExtend(networkOptions.manipulation,this.manipulation.options);deepExtend(networkOptions.physics,this.physics.options);deepExtend(networkOptions.global,this.canvas.options);deepExtend(networkOptions.global,this.options);this.configurator.setModuleOptions(networkOptions)}if(options.clickToUse!==void 0){if(options.clickToUse===true){if(this.activator===void 0){this.activator=new Activator(this.canvas.frame);this.activator.on("change",function(){_this2.body.emitter.emit("activate")})}}else{if(this.activator!==void 0){this.activator.destroy();delete this.activator}this.body.emitter.emit("activate")}}else{this.body.emitter.emit("activate")}this.canvas.setSize();this.body.emitter.emit("startSimulation")}};Network.prototype._updateVisibleIndices=function(){var nodes=this.body.nodes;var edges=this.body.edges;this.body.nodeIndices=[];this.body.edgeIndices=[];for(var nodeId in nodes){if(Object.prototype.hasOwnProperty.call(nodes,nodeId)){if(!this.clustering._isClusteredNode(nodeId)&&nodes[nodeId].options.hidden===false){this.body.nodeIndices.push(nodes[nodeId].id)}}}for(var edgeId in edges){if(Object.prototype.hasOwnProperty.call(edges,edgeId)){var edge=edges[edgeId];var fromNode=nodes[edge.fromId];var toNode=nodes[edge.toId];var edgeNodesPresent=fromNode!==void 0&&toNode!==void 0;var isVisible=!this.clustering._isClusteredEdge(edgeId)&&edge.options.hidden===false&&edgeNodesPresent&&fromNode.options.hidden===false&&toNode.options.hidden===false;if(isVisible){this.body.edgeIndices.push(edge.id)}}}};Network.prototype.bindEventListeners=function(){var _this3=this;this.body.emitter.on("_dataChanged",function(){_this3.edgesHandler._updateState();_this3.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){_this3.clustering._updateState();_this3._updateVisibleIndices();_this3._updateValueRange(_this3.body.nodes);_this3._updateValueRange(_this3.body.edges);_this3.body.emitter.emit("startSimulation");_this3.body.emitter.emit("_requestRedraw")})};Network.prototype.setData=function(data2){this.body.emitter.emit("resetPhysics");this.body.emitter.emit("_resetData");this.selectionHandler.unselectAll();if(data2&&data2.dot&&(data2.nodes||data2.edges)){throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.')}this.setOptions(data2&&data2.options);if(data2&&data2.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var dotData=DOTToGraph(data2.dot);this.setData(dotData);return}else if(data2&&data2.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var gephiData=parseGephi(data2.gephi);this.setData(gephiData);return}else{this.nodesHandler.setData(data2&&data2.nodes,true);this.edgesHandler.setData(data2&&data2.edges,true)}this.body.emitter.emit("_dataChanged");this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")};Network.prototype.destroy=function(){this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(var nodeId in this.body.nodes){if(!Object.prototype.hasOwnProperty.call(this.body.nodes,nodeId))continue;delete this.body.nodes[nodeId]}for(var edgeId in this.body.edges){if(!Object.prototype.hasOwnProperty.call(this.body.edges,edgeId))continue;delete this.body.edges[edgeId]}recursiveDOMDelete(this.body.container)};Network.prototype._updateValueRange=function(obj){var id2;var valueMin=void 0;var valueMax=void 0;var valueTotal=0;for(id2 in obj){if(Object.prototype.hasOwnProperty.call(obj,id2)){var value=obj[id2].getValue();if(value!==void 0){valueMin=valueMin===void 0?value:Math.min(value,valueMin);valueMax=valueMax===void 0?value:Math.max(value,valueMax);valueTotal+=value}}}if(valueMin!==void 0&&valueMax!==void 0){for(id2 in obj){if(Object.prototype.hasOwnProperty.call(obj,id2)){obj[id2].setValueRange(valueMin,valueMax,valueTotal)}}}};Network.prototype.isActive=function(){return!this.activator||this.activator.active};Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Network.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Network.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Network.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Network.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Network.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.editNodeMode=function(){console.warn("Deprecated: Please use editNode instead of editNodeMode.");return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Network.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Network.prototype.getConnectedNodes=function(objectId){if(this.body.nodes[objectId]!==void 0){return this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)}else{return this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)}};Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Network.prototype.getNodeAt=function(){var node2=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);if(node2!==void 0&&node2.id!==void 0){return node2.id}return node2};Network.prototype.getEdgeAt=function(){var edge=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);if(edge!==void 0&&edge.id!==void 0){return edge.id}return edge};Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler);this.redraw()};Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Network.prototype.getOptionsFromConfigurator=function(){var options={};if(this.configurator){options=this.configurator.getOptions.apply(this.configurator)}return options};function prepareElements(JSONcontainer){for(var elementType in JSONcontainer){if(Object.prototype.hasOwnProperty.call(JSONcontainer,elementType)){JSONcontainer[elementType].redundant=JSONcontainer[elementType].used;JSONcontainer[elementType].used=[]}}}function cleanupElements(JSONcontainer){for(var elementType in JSONcontainer){if(Object.prototype.hasOwnProperty.call(JSONcontainer,elementType)){if(JSONcontainer[elementType].redundant){for(var i2=0;i2<JSONcontainer[elementType].redundant.length;i2++){JSONcontainer[elementType].redundant[i2].parentNode.removeChild(JSONcontainer[elementType].redundant[i2])}JSONcontainer[elementType].redundant=[]}}}}function resetElements(JSONcontainer){prepareElements(JSONcontainer);cleanupElements(JSONcontainer);prepareElements(JSONcontainer)}function getSVGElement(elementType,JSONcontainer,svgContainer){var element;if(Object.prototype.hasOwnProperty.call(JSONcontainer,elementType)){if(JSONcontainer[elementType].redundant.length>0){element=JSONcontainer[elementType].redundant[0];JSONcontainer[elementType].redundant.shift()}else{element=document.createElementNS("http://www.w3.org/2000/svg",elementType);svgContainer.appendChild(element)}}else{element=document.createElementNS("http://www.w3.org/2000/svg",elementType);JSONcontainer[elementType]={used:[],redundant:[]};svgContainer.appendChild(element)}JSONcontainer[elementType].used.push(element);return element}function getDOMElement(elementType,JSONcontainer,DOMContainer,insertBefore){var element;if(Object.prototype.hasOwnProperty.call(JSONcontainer,elementType)){if(JSONcontainer[elementType].redundant.length>0){element=JSONcontainer[elementType].redundant[0];JSONcontainer[elementType].redundant.shift()}else{element=document.createElement(elementType);if(insertBefore!==void 0){DOMContainer.insertBefore(element,insertBefore)}else{DOMContainer.appendChild(element)}}}else{element=document.createElement(elementType);JSONcontainer[elementType]={used:[],redundant:[]};if(insertBefore!==void 0){DOMContainer.insertBefore(element,insertBefore)}else{DOMContainer.appendChild(element)}}JSONcontainer[elementType].used.push(element);return element}function drawPoint(x,y,groupTemplate,JSONcontainer,svgContainer,labelObj){var point;if(groupTemplate.style=="circle"){point=getSVGElement("circle",JSONcontainer,svgContainer);point.setAttributeNS(null,"cx",x);point.setAttributeNS(null,"cy",y);point.setAttributeNS(null,"r",.5*groupTemplate.size)}else{point=getSVGElement("rect",JSONcontainer,svgContainer);point.setAttributeNS(null,"x",x-.5*groupTemplate.size);point.setAttributeNS(null,"y",y-.5*groupTemplate.size);point.setAttributeNS(null,"width",groupTemplate.size);point.setAttributeNS(null,"height",groupTemplate.size)}if(groupTemplate.styles!==void 0){point.setAttributeNS(null,"style",groupTemplate.styles)}point.setAttributeNS(null,"class",groupTemplate.className+" vis-point");if(labelObj){var label=getSVGElement("text",JSONcontainer,svgContainer);if(labelObj.xOffset){x=x+labelObj.xOffset}if(labelObj.yOffset){y=y+labelObj.yOffset}if(labelObj.content){label.textContent=labelObj.content}if(labelObj.className){label.setAttributeNS(null,"class",labelObj.className+" vis-label")}label.setAttributeNS(null,"x",x);label.setAttributeNS(null,"y",y)}return point}function drawBar(x,y,width,height,className,JSONcontainer,svgContainer,style){if(height!=0){if(height<0){height*=-1;y-=height}var rect=getSVGElement("rect",JSONcontainer,svgContainer);rect.setAttributeNS(null,"x",x-.5*width);rect.setAttributeNS(null,"y",y);rect.setAttributeNS(null,"width",width);rect.setAttributeNS(null,"height",height);rect.setAttributeNS(null,"class",className);if(style){rect.setAttributeNS(null,"style",style)}}}var DOMutil=Object.freeze({__proto__:null,cleanupElements,drawBar,drawPoint,getDOMElement,getSVGElement,prepareElements,resetElements});var network={Images,dotparser,gephiParser,allOptions:allOptions$1,convertDot:DOTToGraph,convertGephi:parseGephi};var indexLegacy=Object.freeze({__proto__:null,DOMutil,DataSet,DataView,Hammer,Network,Queue,data:index,keycharm:keycharm$1,network,util:index$2});exports2.DOMutil=DOMutil;exports2.DataSet=DataSet;exports2.DataView=DataView;exports2.Hammer=Hammer;exports2.Network=Network;exports2.Queue=Queue;exports2.data=index;exports2.default=indexLegacy;exports2.keycharm=keycharm$1;exports2.network=network;exports2.util=index$2;Object.defineProperty(exports2,"__esModule",{value:true})}))})(visNetwork$1,visNetwork$1.exports);return visNetwork$1.exports}var visNetworkExports=requireVisNetwork();var umd$1={exports:{}};var umd=umd$1.exports;var hasRequiredUmd;function requireUmd(){if(hasRequiredUmd)return umd$1.exports;hasRequiredUmd=1;(function(module,exports){(function(global2,factory){factory(exports)})(umd,(function(exports2){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var commonjsGlobal=typeof window!=="undefined"?window:typeof window!=="undefined"?window:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x["default"]:x}var defineProperty$f={exports:{}};var check=function(it){return it&&it.Math===Math&&it};var global$p=check(typeof window=="object"&&window)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||commonjsGlobal||Function("return this")();var fails$u=function(exec2){try{return!!exec2()}catch(error){return true}};var fails$t=fails$u;var functionBindNative=!fails$t(function(){var test2=(function(){}).bind();return typeof test2!="function"||test2.hasOwnProperty("prototype")});var NATIVE_BIND$4=functionBindNative;var FunctionPrototype$4=Function.prototype;var apply$6=FunctionPrototype$4.apply;var call$k=FunctionPrototype$4.call;var functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4?call$k.bind(apply$6):function(){return call$k.apply(apply$6,arguments)});var NATIVE_BIND$3=functionBindNative;var FunctionPrototype$3=Function.prototype;var call$j=FunctionPrototype$3.call;var uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$3.bind.bind(call$j,call$j);var functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(fn){return function(){return call$j.apply(fn,arguments)}};var uncurryThis$q=functionUncurryThis;var toString$9=uncurryThis$q({}.toString);var stringSlice$1=uncurryThis$q("".slice);var classofRaw$2=function(it){return stringSlice$1(toString$9(it),8,-1)};var classofRaw$1=classofRaw$2;var uncurryThis$p=functionUncurryThis;var functionUncurryThisClause=function(fn){if(classofRaw$1(fn)==="Function")return uncurryThis$p(fn)};var documentAll$2=typeof document=="object"&&document.all;var IS_HTMLDDA=typeof documentAll$2=="undefined"&&documentAll$2!==void 0;var documentAll_1={all:documentAll$2,IS_HTMLDDA};var $documentAll$1=documentAll_1;var documentAll$1=$documentAll$1.all;var isCallable$m=$documentAll$1.IS_HTMLDDA?function(argument){return typeof argument=="function"||argument===documentAll$1}:function(argument){return typeof argument=="function"};var objectGetOwnPropertyDescriptor={};var fails$s=fails$u;var descriptors=!fails$s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7});var NATIVE_BIND$2=functionBindNative;var call$i=Function.prototype.call;var functionCall=NATIVE_BIND$2?call$i.bind(call$i):function(){return call$i.apply(call$i,arguments)};var objectPropertyIsEnumerable={};var $propertyIsEnumerable$1={}.propertyIsEnumerable;var getOwnPropertyDescriptor$7=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor$7&&!$propertyIsEnumerable$1.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor$7(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable$1;var createPropertyDescriptor$7=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value}};var uncurryThis$o=functionUncurryThis;var fails$r=fails$u;var classof$f=classofRaw$2;var $Object$4=Object;var split=uncurryThis$o("".split);var indexedObject=fails$r(function(){return!$Object$4("z").propertyIsEnumerable(0)})?function(it){return classof$f(it)==="String"?split(it,""):$Object$4(it)}:$Object$4;var isNullOrUndefined$6=function(it){return it===null||it===void 0};var isNullOrUndefined$5=isNullOrUndefined$6;var $TypeError$g=TypeError;var requireObjectCoercible$3=function(it){if(isNullOrUndefined$5(it))throw new $TypeError$g("Can't call method on "+it);return it};var IndexedObject$3=indexedObject;var requireObjectCoercible$2=requireObjectCoercible$3;var toIndexedObject$a=function(it){return IndexedObject$3(requireObjectCoercible$2(it))};var isCallable$l=isCallable$m;var $documentAll=documentAll_1;var documentAll=$documentAll.all;var isObject$h=$documentAll.IS_HTMLDDA?function(it){return typeof it=="object"?it!==null:isCallable$l(it)||it===documentAll}:function(it){return typeof it=="object"?it!==null:isCallable$l(it)};var path$o={};var path$n=path$o;var global$o=global$p;var isCallable$k=isCallable$m;var aFunction=function(variable){return isCallable$k(variable)?variable:void 0};var getBuiltIn$f=function(namespace,method2){return arguments.length<2?aFunction(path$n[namespace])||aFunction(global$o[namespace]):path$n[namespace]&&path$n[namespace][method2]||global$o[namespace]&&global$o[namespace][method2]};var uncurryThis$n=functionUncurryThis;var objectIsPrototypeOf=uncurryThis$n({}.isPrototypeOf);var engineUserAgent=typeof navigator!="undefined"&&String(navigator.userAgent)||"";var global$n=global$p;var userAgent$5=engineUserAgent;var process$3=global$n.process;var Deno$1=global$n.Deno;var versions=process$3&&process$3.versions||Deno$1&&Deno$1.version;var v8=versions&&versions.v8;var match,version;if(v8){match=v8.split(".");version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])}if(!version&&userAgent$5){match=userAgent$5.match(/Edge\/(\d+)/);if(!match||match[1]>=74){match=userAgent$5.match(/Chrome\/(\d+)/);if(match)version=+match[1]}}var engineV8Version=version;var V8_VERSION$3=engineV8Version;var fails$q=fails$u;var global$m=global$p;var $String$5=global$m.String;var symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$q(function(){var symbol2=Symbol("symbol detection");return!$String$5(symbol2)||!(Object(symbol2)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41});var NATIVE_SYMBOL$5=symbolConstructorDetection;var useSymbolAsUid=NATIVE_SYMBOL$5&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var getBuiltIn$e=getBuiltIn$f;var isCallable$j=isCallable$m;var isPrototypeOf$k=objectIsPrototypeOf;var USE_SYMBOL_AS_UID$1=useSymbolAsUid;var $Object$3=Object;var isSymbol$5=USE_SYMBOL_AS_UID$1?function(it){return typeof it=="symbol"}:function(it){var $Symbol2=getBuiltIn$e("Symbol");return isCallable$j($Symbol2)&&isPrototypeOf$k($Symbol2.prototype,$Object$3(it))};var $String$4=String;var tryToString$6=function(argument){try{return $String$4(argument)}catch(error){return"Object"}};var isCallable$i=isCallable$m;var tryToString$5=tryToString$6;var $TypeError$f=TypeError;var aCallable$e=function(argument){if(isCallable$i(argument))return argument;throw new $TypeError$f(tryToString$5(argument)+" is not a function")};var aCallable$d=aCallable$e;var isNullOrUndefined$4=isNullOrUndefined$6;var getMethod$3=function(V,P){var func=V[P];return isNullOrUndefined$4(func)?void 0:aCallable$d(func)};var call$h=functionCall;var isCallable$h=isCallable$m;var isObject$g=isObject$h;var $TypeError$e=TypeError;var ordinaryToPrimitive$1=function(input,pref){var fn,val;if(pref==="string"&&isCallable$h(fn=input.toString)&&!isObject$g(val=call$h(fn,input)))return val;if(isCallable$h(fn=input.valueOf)&&!isObject$g(val=call$h(fn,input)))return val;if(pref!=="string"&&isCallable$h(fn=input.toString)&&!isObject$g(val=call$h(fn,input)))return val;throw new $TypeError$e("Can't convert object to primitive value")};var shared$7={exports:{}};var isPure=true;var global$l=global$p;var defineProperty$e=Object.defineProperty;var defineGlobalProperty$1=function(key,value){try{defineProperty$e(global$l,key,{value,configurable:true,writable:true})}catch(error){global$l[key]=value}return value};var global$k=global$p;var defineGlobalProperty=defineGlobalProperty$1;var SHARED="__core-js_shared__";var store$3=global$k[SHARED]||defineGlobalProperty(SHARED,{});var sharedStore=store$3;var store$2=sharedStore;(shared$7.exports=function(key,value){return store$2[key]||(store$2[key]=value!==void 0?value:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedExports=shared$7.exports;var requireObjectCoercible$1=requireObjectCoercible$3;var $Object$2=Object;var toObject$e=function(argument){return $Object$2(requireObjectCoercible$1(argument))};var uncurryThis$m=functionUncurryThis;var toObject$d=toObject$e;var hasOwnProperty=uncurryThis$m({}.hasOwnProperty);var hasOwnProperty_1=Object.hasOwn||function hasOwn2(it,key){return hasOwnProperty(toObject$d(it),key)};var uncurryThis$l=functionUncurryThis;var id$1=0;var postfix=Math.random();var toString$8=uncurryThis$l(1 .toString);var uid$4=function(key){return"Symbol("+(key===void 0?"":key)+")_"+toString$8(++id$1+postfix,36)};var global$j=global$p;var shared$6=sharedExports;var hasOwn$j=hasOwnProperty_1;var uid$3=uid$4;var NATIVE_SYMBOL$4=symbolConstructorDetection;var USE_SYMBOL_AS_UID=useSymbolAsUid;var Symbol$3=global$j.Symbol;var WellKnownSymbolsStore$2=shared$6("wks");var createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$3["for"]||Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3;var wellKnownSymbol$n=function(name){if(!hasOwn$j(WellKnownSymbolsStore$2,name)){WellKnownSymbolsStore$2[name]=NATIVE_SYMBOL$4&&hasOwn$j(Symbol$3,name)?Symbol$3[name]:createWellKnownSymbol("Symbol."+name)}return WellKnownSymbolsStore$2[name]};var call$g=functionCall;var isObject$f=isObject$h;var isSymbol$4=isSymbol$5;var getMethod$2=getMethod$3;var ordinaryToPrimitive=ordinaryToPrimitive$1;var wellKnownSymbol$m=wellKnownSymbol$n;var $TypeError$d=TypeError;var TO_PRIMITIVE=wellKnownSymbol$m("toPrimitive");var toPrimitive$6=function(input,pref){if(!isObject$f(input)||isSymbol$4(input))return input;var exoticToPrim=getMethod$2(input,TO_PRIMITIVE);var result;if(exoticToPrim){if(pref===void 0)pref="default";result=call$g(exoticToPrim,input,pref);if(!isObject$f(result)||isSymbol$4(result))return result;throw new $TypeError$d("Can't convert object to primitive value")}if(pref===void 0)pref="number";return ordinaryToPrimitive(input,pref)};var toPrimitive$5=toPrimitive$6;var isSymbol$3=isSymbol$5;var toPropertyKey$4=function(argument){var key=toPrimitive$5(argument,"string");return isSymbol$3(key)?key:key+""};var global$i=global$p;var isObject$e=isObject$h;var document$3=global$i.document;var EXISTS$1=isObject$e(document$3)&&isObject$e(document$3.createElement);var documentCreateElement$1=function(it){return EXISTS$1?document$3.createElement(it):{}};var DESCRIPTORS$h=descriptors;var fails$p=fails$u;var createElement$1=documentCreateElement$1;var ie8DomDefine=!DESCRIPTORS$h&&!fails$p(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!==7});var DESCRIPTORS$g=descriptors;var call$f=functionCall;var propertyIsEnumerableModule$2=objectPropertyIsEnumerable;var createPropertyDescriptor$6=createPropertyDescriptor$7;var toIndexedObject$9=toIndexedObject$a;var toPropertyKey$3=toPropertyKey$4;var hasOwn$i=hasOwnProperty_1;var IE8_DOM_DEFINE$1=ie8DomDefine;var $getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$g?$getOwnPropertyDescriptor$2:function getOwnPropertyDescriptor2(O,P){O=toIndexedObject$9(O);P=toPropertyKey$3(P);if(IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(O,P)}catch(error){}if(hasOwn$i(O,P))return createPropertyDescriptor$6(!call$f(propertyIsEnumerableModule$2.f,O,P),O[P])};var fails$o=fails$u;var isCallable$g=isCallable$m;var replacement=/#|\.prototype\./;var isForced$2=function(feature,detection){var value=data[normalize(feature)];return value===POLYFILL?true:value===NATIVE?false:isCallable$g(detection)?fails$o(detection):!!detection};var normalize=isForced$2.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()};var data=isForced$2.data={};var NATIVE=isForced$2.NATIVE="N";var POLYFILL=isForced$2.POLYFILL="P";var isForced_1=isForced$2;var uncurryThis$k=functionUncurryThisClause;var aCallable$c=aCallable$e;var NATIVE_BIND$1=functionBindNative;var bind$i=uncurryThis$k(uncurryThis$k.bind);var functionBindContext=function(fn,that){aCallable$c(fn);return that===void 0?fn:NATIVE_BIND$1?bind$i(fn,that):function(){return fn.apply(that,arguments)}};var objectDefineProperty={};var DESCRIPTORS$f=descriptors;var fails$n=fails$u;var v8PrototypeDefineBug=DESCRIPTORS$f&&fails$n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:false}).prototype!==42});var isObject$d=isObject$h;var $String$3=String;var $TypeError$c=TypeError;var anObject$d=function(argument){if(isObject$d(argument))return argument;throw new $TypeError$c($String$3(argument)+" is not an object")};var DESCRIPTORS$e=descriptors;var IE8_DOM_DEFINE=ie8DomDefine;var V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug;var anObject$c=anObject$d;var toPropertyKey$2=toPropertyKey$4;var $TypeError$b=TypeError;var $defineProperty$1=Object.defineProperty;var $getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;var ENUMERABLE="enumerable";var CONFIGURABLE$1="configurable";var WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$e?V8_PROTOTYPE_DEFINE_BUG$1?function defineProperty2(O,P,Attributes){anObject$c(O);P=toPropertyKey$2(P);anObject$c(Attributes);if(typeof O==="function"&&P==="prototype"&&"value"in Attributes&&WRITABLE in Attributes&&!Attributes[WRITABLE]){var current=$getOwnPropertyDescriptor$1(O,P);if(current&&current[WRITABLE]){O[P]=Attributes.value;Attributes={configurable:CONFIGURABLE$1 in Attributes?Attributes[CONFIGURABLE$1]:current[CONFIGURABLE$1],enumerable:ENUMERABLE in Attributes?Attributes[ENUMERABLE]:current[ENUMERABLE],writable:false}}}return $defineProperty$1(O,P,Attributes)}:$defineProperty$1:function defineProperty2(O,P,Attributes){anObject$c(O);P=toPropertyKey$2(P);anObject$c(Attributes);if(IE8_DOM_DEFINE)try{return $defineProperty$1(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw new $TypeError$b("Accessors not supported");if("value"in Attributes)O[P]=Attributes.value;return O};var DESCRIPTORS$d=descriptors;var definePropertyModule$4=objectDefineProperty;var createPropertyDescriptor$5=createPropertyDescriptor$7;var createNonEnumerableProperty$9=DESCRIPTORS$d?function(object,key,value){return definePropertyModule$4.f(object,key,createPropertyDescriptor$5(1,value))}:function(object,key,value){object[key]=value;return object};var global$h=global$p;var apply$5=functionApply;var uncurryThis$j=functionUncurryThisClause;var isCallable$f=isCallable$m;var getOwnPropertyDescriptor$6=objectGetOwnPropertyDescriptor.f;var isForced$1=isForced_1;var path$m=path$o;var bind$h=functionBindContext;var createNonEnumerableProperty$8=createNonEnumerableProperty$9;var hasOwn$h=hasOwnProperty_1;var wrapConstructor=function(NativeConstructor){var Wrapper=function(a,b,c){if(this instanceof Wrapper){switch(arguments.length){case 0:return new NativeConstructor;case 1:return new NativeConstructor(a);case 2:return new NativeConstructor(a,b)}return new NativeConstructor(a,b,c)}return apply$5(NativeConstructor,this,arguments)};Wrapper.prototype=NativeConstructor.prototype;return Wrapper};var _export=function(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var PROTO=options.proto;var nativeSource=GLOBAL?global$h:STATIC?global$h[TARGET]:(global$h[TARGET]||{}).prototype;var target=GLOBAL?path$m:path$m[TARGET]||createNonEnumerableProperty$8(path$m,TARGET,{})[TARGET];var targetPrototype=target.prototype;var FORCED2,USE_NATIVE,VIRTUAL_PROTOTYPE;var key,sourceProperty,targetProperty,nativeProperty,resultProperty,descriptor;for(key in source){FORCED2=isForced$1(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced);USE_NATIVE=!FORCED2&&nativeSource&&hasOwn$h(nativeSource,key);targetProperty=target[key];if(USE_NATIVE)if(options.dontCallGetSet){descriptor=getOwnPropertyDescriptor$6(nativeSource,key);nativeProperty=descriptor&&descriptor.value}else nativeProperty=nativeSource[key];sourceProperty=USE_NATIVE&&nativeProperty?nativeProperty:source[key];if(USE_NATIVE&&typeof targetProperty==typeof sourceProperty)continue;if(options.bind&&USE_NATIVE)resultProperty=bind$h(sourceProperty,global$h);else if(options.wrap&&USE_NATIVE)resultProperty=wrapConstructor(sourceProperty);else if(PROTO&&isCallable$f(sourceProperty))resultProperty=uncurryThis$j(sourceProperty);else resultProperty=sourceProperty;if(options.sham||sourceProperty&&sourceProperty.sham||targetProperty&&targetProperty.sham){createNonEnumerableProperty$8(resultProperty,"sham",true)}createNonEnumerableProperty$8(target,key,resultProperty);if(PROTO){VIRTUAL_PROTOTYPE=TARGET+"Prototype";if(!hasOwn$h(path$m,VIRTUAL_PROTOTYPE)){createNonEnumerableProperty$8(path$m,VIRTUAL_PROTOTYPE,{})}createNonEnumerableProperty$8(path$m[VIRTUAL_PROTOTYPE],key,sourceProperty);if(options.real&&targetPrototype&&(FORCED2||!targetPrototype[key])){createNonEnumerableProperty$8(targetPrototype,key,sourceProperty)}}}};var $$P=_export;var DESCRIPTORS$c=descriptors;var defineProperty$d=objectDefineProperty.f;$$P({target:"Object",stat:true,forced:Object.defineProperty!==defineProperty$d,sham:!DESCRIPTORS$c},{defineProperty:defineProperty$d});var path$l=path$o;var Object$4=path$l.Object;var defineProperty$c=defineProperty$f.exports=function defineProperty2(it,key,desc){return Object$4.defineProperty(it,key,desc)};if(Object$4.defineProperty.sham)defineProperty$c.sham=true;var definePropertyExports=defineProperty$f.exports;var parent$18=definePropertyExports;var defineProperty$b=parent$18;var parent$17=defineProperty$b;var defineProperty$a=parent$17;var parent$16=defineProperty$a;var defineProperty$9=parent$16;var defineProperty$8=defineProperty$9;var _Object$defineProperty$1=getDefaultExportFromCjs(defineProperty$8);var classof$e=classofRaw$2;var isArray$e=Array.isArray||function isArray2(argument){return classof$e(argument)==="Array"};var ceil=Math.ceil;var floor$1=Math.floor;var mathTrunc=Math.trunc||function trunc2(x){var n=+x;return(n>0?floor$1:ceil)(n)};var trunc=mathTrunc;var toIntegerOrInfinity$4=function(argument){var number=+argument;return number!==number||number===0?0:trunc(number)};var toIntegerOrInfinity$3=toIntegerOrInfinity$4;var min$2=Math.min;var toLength$1=function(argument){return argument>0?min$2(toIntegerOrInfinity$3(argument),9007199254740991):0};var toLength=toLength$1;var lengthOfArrayLike$d=function(obj){return toLength(obj.length)};var $TypeError$a=TypeError;var MAX_SAFE_INTEGER=9007199254740991;var doesNotExceedSafeInteger$4=function(it){if(it>MAX_SAFE_INTEGER)throw $TypeError$a("Maximum allowed index exceeded");return it};var toPropertyKey$1=toPropertyKey$4;var definePropertyModule$3=objectDefineProperty;var createPropertyDescriptor$4=createPropertyDescriptor$7;var createProperty$6=function(object,key,value){var propertyKey=toPropertyKey$1(key);if(propertyKey in object)definePropertyModule$3.f(object,propertyKey,createPropertyDescriptor$4(0,value));else object[propertyKey]=value};var wellKnownSymbol$l=wellKnownSymbol$n;var TO_STRING_TAG$4=wellKnownSymbol$l("toStringTag");var test$2={};test$2[TO_STRING_TAG$4]="z";var toStringTagSupport=String(test$2)==="[object z]";var TO_STRING_TAG_SUPPORT$2=toStringTagSupport;var isCallable$e=isCallable$m;var classofRaw=classofRaw$2;var wellKnownSymbol$k=wellKnownSymbol$n;var TO_STRING_TAG$3=wellKnownSymbol$k("toStringTag");var $Object$1=Object;var CORRECT_ARGUMENTS=classofRaw((function(){return arguments})())==="Arguments";var tryGet=function(it,key){try{return it[key]}catch(error){}};var classof$d=TO_STRING_TAG_SUPPORT$2?classofRaw:function(it){var O,tag,result;return it===void 0?"Undefined":it===null?"Null":typeof(tag=tryGet(O=$Object$1(it),TO_STRING_TAG$3))=="string"?tag:CORRECT_ARGUMENTS?classofRaw(O):(result=classofRaw(O))==="Object"&&isCallable$e(O.callee)?"Arguments":result};var uncurryThis$i=functionUncurryThis;var isCallable$d=isCallable$m;var store$1=sharedStore;var functionToString=uncurryThis$i(Function.toString);if(!isCallable$d(store$1.inspectSource)){store$1.inspectSource=function(it){return functionToString(it)}}var inspectSource$2=store$1.inspectSource;var uncurryThis$h=functionUncurryThis;var fails$m=fails$u;var isCallable$c=isCallable$m;var classof$c=classof$d;var getBuiltIn$d=getBuiltIn$f;var inspectSource$1=inspectSource$2;var noop=function(){};var empty=[];var construct$4=getBuiltIn$d("Reflect","construct");var constructorRegExp=/^\s*(?:class|function)\b/;var exec$1=uncurryThis$h(constructorRegExp.exec);var INCORRECT_TO_STRING=!constructorRegExp.test(noop);var isConstructorModern=function isConstructor2(argument){if(!isCallable$c(argument))return false;try{construct$4(noop,empty,argument);return true}catch(error){return false}};var isConstructorLegacy=function isConstructor2(argument){if(!isCallable$c(argument))return false;switch(classof$c(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}try{return INCORRECT_TO_STRING||!!exec$1(constructorRegExp,inspectSource$1(argument))}catch(error){return true}};isConstructorLegacy.sham=true;var isConstructor$4=!construct$4||fails$m(function(){var called2;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){called2=true})||called2})?isConstructorLegacy:isConstructorModern;var isArray$d=isArray$e;var isConstructor$3=isConstructor$4;var isObject$c=isObject$h;var wellKnownSymbol$j=wellKnownSymbol$n;var SPECIES$5=wellKnownSymbol$j("species");var $Array$3=Array;var arraySpeciesConstructor$1=function(originalArray){var C;if(isArray$d(originalArray)){C=originalArray.constructor;if(isConstructor$3(C)&&(C===$Array$3||isArray$d(C.prototype)))C=void 0;else if(isObject$c(C)){C=C[SPECIES$5];if(C===null)C=void 0}}return C===void 0?$Array$3:C};var arraySpeciesConstructor=arraySpeciesConstructor$1;var arraySpeciesCreate$4=function(originalArray,length2){return new(arraySpeciesConstructor(originalArray))(length2===0?0:length2)};var fails$l=fails$u;var wellKnownSymbol$i=wellKnownSymbol$n;var V8_VERSION$2=engineV8Version;var SPECIES$4=wellKnownSymbol$i("species");var arrayMethodHasSpeciesSupport$5=function(METHOD_NAME){return V8_VERSION$2>=51||!fails$l(function(){var array=[];var constructor=array.constructor={};constructor[SPECIES$4]=function(){return{foo:1}};return array[METHOD_NAME](Boolean).foo!==1})};var $$O=_export;var fails$k=fails$u;var isArray$c=isArray$e;var isObject$b=isObject$h;var toObject$c=toObject$e;var lengthOfArrayLike$c=lengthOfArrayLike$d;var doesNotExceedSafeInteger$3=doesNotExceedSafeInteger$4;var createProperty$5=createProperty$6;var arraySpeciesCreate$3=arraySpeciesCreate$4;var arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5;var wellKnownSymbol$h=wellKnownSymbol$n;var V8_VERSION$1=engineV8Version;var IS_CONCAT_SPREADABLE=wellKnownSymbol$h("isConcatSpreadable");var IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION$1>=51||!fails$k(function(){var array=[];array[IS_CONCAT_SPREADABLE]=false;return array.concat()[0]!==array});var isConcatSpreadable=function(O){if(!isObject$b(O))return false;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==void 0?!!spreadable:isArray$c(O)};var FORCED$6=!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport$4("concat");$$O({target:"Array",proto:true,forced:FORCED$6},{concat:function concat2(arg){var O=toObject$c(this);var A=arraySpeciesCreate$3(O,0);var n=0;var i2,k,length2,len,E;for(i2=-1,length2=arguments.length;i2<length2;i2++){E=i2===-1?O:arguments[i2];if(isConcatSpreadable(E)){len=lengthOfArrayLike$c(E);doesNotExceedSafeInteger$3(n+len);for(k=0;k<len;k++,n++)if(k in E)createProperty$5(A,n,E[k])}else{doesNotExceedSafeInteger$3(n+1);createProperty$5(A,n++,E)}}A.length=n;return A}});var classof$b=classof$d;var $String$2=String;var toString$7=function(argument){if(classof$b(argument)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$2(argument)};var objectDefineProperties={};var toIntegerOrInfinity$2=toIntegerOrInfinity$4;var max$3=Math.max;var min$1=Math.min;var toAbsoluteIndex$4=function(index2,length2){var integer=toIntegerOrInfinity$2(index2);return integer<0?max$3(integer+length2,0):min$1(integer,length2)};var toIndexedObject$8=toIndexedObject$a;var toAbsoluteIndex$3=toAbsoluteIndex$4;var lengthOfArrayLike$b=lengthOfArrayLike$d;var createMethod$3=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject$8($this);var length2=lengthOfArrayLike$b(O);var index2=toAbsoluteIndex$3(fromIndex,length2);var value;if(IS_INCLUDES&&el!==el)while(length2>index2){value=O[index2++];if(value!==value)return true}else for(;length2>index2;index2++){if((IS_INCLUDES||index2 in O)&&O[index2]===el)return IS_INCLUDES||index2||0}return!IS_INCLUDES&&-1}};var arrayIncludes={indexOf:createMethod$3(false)};var hiddenKeys$6={};var uncurryThis$g=functionUncurryThis;var hasOwn$g=hasOwnProperty_1;var toIndexedObject$7=toIndexedObject$a;var indexOf=arrayIncludes.indexOf;var hiddenKeys$5=hiddenKeys$6;var push$c=uncurryThis$g([].push);var objectKeysInternal=function(object,names){var O=toIndexedObject$7(object);var i2=0;var result=[];var key;for(key in O)!hasOwn$g(hiddenKeys$5,key)&&hasOwn$g(O,key)&&push$c(result,key);while(names.length>i2)if(hasOwn$g(O,key=names[i2++])){~indexOf(result,key)||push$c(result,key)}return result};var enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var internalObjectKeys$1=objectKeysInternal;var enumBugKeys$2=enumBugKeys$3;var objectKeys$3=Object.keys||function keys2(O){return internalObjectKeys$1(O,enumBugKeys$2)};var DESCRIPTORS$b=descriptors;var V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug;var definePropertyModule$2=objectDefineProperty;var anObject$b=anObject$d;var toIndexedObject$6=toIndexedObject$a;var objectKeys$2=objectKeys$3;objectDefineProperties.f=DESCRIPTORS$b&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function defineProperties2(O,Properties){anObject$b(O);var props=toIndexedObject$6(Properties);var keys2=objectKeys$2(Properties);var length2=keys2.length;var index2=0;var key;while(length2>index2)definePropertyModule$2.f(O,key=keys2[index2++],props[key]);return O};var getBuiltIn$c=getBuiltIn$f;var html$2=getBuiltIn$c("document","documentElement");var shared$5=sharedExports;var uid$2=uid$4;var keys$7=shared$5("keys");var sharedKey$4=function(key){return keys$7[key]||(keys$7[key]=uid$2(key))};var anObject$a=anObject$d;var definePropertiesModule$1=objectDefineProperties;var enumBugKeys$1=enumBugKeys$3;var hiddenKeys$4=hiddenKeys$6;var html$1=html$2;var documentCreateElement=documentCreateElement$1;var sharedKey$3=sharedKey$4;var GT=">";var LT="<";var PROTOTYPE$1="prototype";var SCRIPT="script";var IE_PROTO$1=sharedKey$3("IE_PROTO");var EmptyConstructor=function(){};var scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT};var NullProtoObjectViaActiveX=function(activeXDocument2){activeXDocument2.write(scriptTag(""));activeXDocument2.close();var temp=activeXDocument2.parentWindow.Object;activeXDocument2=null;return temp};var NullProtoObjectViaIFrame=function(){var iframe=documentCreateElement("iframe");var JS="java"+SCRIPT+":";var iframeDocument;iframe.style.display="none";html$1.appendChild(iframe);iframe.src=String(JS);iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(scriptTag("document.F=Object"));iframeDocument.close();return iframeDocument.F};var activeXDocument;var NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}NullProtoObject=typeof document!="undefined"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);var length2=enumBugKeys$1.length;while(length2--)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[length2]];return NullProtoObject()};hiddenKeys$4[IE_PROTO$1]=true;var objectCreate=Object.create||function create2(O,Properties){var result;if(O!==null){EmptyConstructor[PROTOTYPE$1]=anObject$a(O);result=new EmptyConstructor;EmptyConstructor[PROTOTYPE$1]=null;result[IE_PROTO$1]=O}else result=NullProtoObject();return Properties===void 0?result:definePropertiesModule$1.f(result,Properties)};var objectGetOwnPropertyNames={};var internalObjectKeys=objectKeysInternal;var enumBugKeys=enumBugKeys$3;var hiddenKeys$3=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function getOwnPropertyNames2(O){return internalObjectKeys(O,hiddenKeys$3)};var objectGetOwnPropertyNamesExternal={};var toAbsoluteIndex$2=toAbsoluteIndex$4;var lengthOfArrayLike$a=lengthOfArrayLike$d;var createProperty$4=createProperty$6;var $Array$2=Array;var max$2=Math.max;var arraySliceSimple=function(O,start,end){var length2=lengthOfArrayLike$a(O);var k=toAbsoluteIndex$2(start,length2);var fin=toAbsoluteIndex$2(end===void 0?length2:end,length2);var result=$Array$2(max$2(fin-k,0));var n=0;for(;k<fin;k++,n++)createProperty$4(result,n,O[k]);result.length=n;return result};var classof$a=classofRaw$2;var toIndexedObject$5=toIndexedObject$a;var $getOwnPropertyNames$1=objectGetOwnPropertyNames.f;var arraySlice$6=arraySliceSimple;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return $getOwnPropertyNames$1(it)}catch(error){return arraySlice$6(windowNames)}};objectGetOwnPropertyNamesExternal.f=function getOwnPropertyNames2(it){return windowNames&&classof$a(it)==="Window"?getWindowNames(it):$getOwnPropertyNames$1(toIndexedObject$5(it))};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var createNonEnumerableProperty$7=createNonEnumerableProperty$9;var defineBuiltIn$6=function(target,key,value,options){if(options&&options.enumerable)target[key]=value;else createNonEnumerableProperty$7(target,key,value);return target};var defineProperty$7=objectDefineProperty;var defineBuiltInAccessor$3=function(target,name,descriptor){return defineProperty$7.f(target,name,descriptor)};var wellKnownSymbolWrapped={};var wellKnownSymbol$g=wellKnownSymbol$n;wellKnownSymbolWrapped.f=wellKnownSymbol$g;var path$k=path$o;var hasOwn$f=hasOwnProperty_1;var wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped;var defineProperty$6=objectDefineProperty.f;var wellKnownSymbolDefine=function(NAME){var Symbol2=path$k.Symbol||(path$k.Symbol={});if(!hasOwn$f(Symbol2,NAME))defineProperty$6(Symbol2,NAME,{value:wrappedWellKnownSymbolModule$1.f(NAME)})};var call$e=functionCall;var getBuiltIn$b=getBuiltIn$f;var wellKnownSymbol$f=wellKnownSymbol$n;var defineBuiltIn$5=defineBuiltIn$6;var symbolDefineToPrimitive=function(){var Symbol2=getBuiltIn$b("Symbol");var SymbolPrototype2=Symbol2&&Symbol2.prototype;var valueOf=SymbolPrototype2&&SymbolPrototype2.valueOf;var TO_PRIMITIVE2=wellKnownSymbol$f("toPrimitive");if(SymbolPrototype2&&!SymbolPrototype2[TO_PRIMITIVE2]){defineBuiltIn$5(SymbolPrototype2,TO_PRIMITIVE2,function(hint){return call$e(valueOf,this)},{})}};var TO_STRING_TAG_SUPPORT$1=toStringTagSupport;var classof$9=classof$d;var objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function toString2(){return"[object "+classof$9(this)+"]"};var TO_STRING_TAG_SUPPORT=toStringTagSupport;var defineProperty$5=objectDefineProperty.f;var createNonEnumerableProperty$6=createNonEnumerableProperty$9;var hasOwn$e=hasOwnProperty_1;var toString$6=objectToString;var wellKnownSymbol$e=wellKnownSymbol$n;var TO_STRING_TAG$2=wellKnownSymbol$e("toStringTag");var setToStringTag$7=function(it,TAG,STATIC,SET_METHOD){if(it){var target=STATIC?it:it.prototype;if(!hasOwn$e(target,TO_STRING_TAG$2)){defineProperty$5(target,TO_STRING_TAG$2,{configurable:true,value:TAG})}if(SET_METHOD&&!TO_STRING_TAG_SUPPORT){createNonEnumerableProperty$6(target,"toString",toString$6)}}};var global$g=global$p;var isCallable$b=isCallable$m;var WeakMap$1=global$g.WeakMap;var weakMapBasicDetection=isCallable$b(WeakMap$1)&&/native code/.test(String(WeakMap$1));var NATIVE_WEAK_MAP=weakMapBasicDetection;var global$f=global$p;var isObject$a=isObject$h;var createNonEnumerableProperty$5=createNonEnumerableProperty$9;var hasOwn$d=hasOwnProperty_1;var shared$4=sharedStore;var sharedKey$2=sharedKey$4;var hiddenKeys$2=hiddenKeys$6;var OBJECT_ALREADY_INITIALIZED="Object already initialized";var TypeError$3=global$f.TypeError;var WeakMap2=global$f.WeakMap;var set$4,get,has;var enforce=function(it){return has(it)?get(it):set$4(it,{})};var getterFor=function(TYPE){return function(it){var state;if(!isObject$a(it)||(state=get(it)).type!==TYPE){throw new TypeError$3("Incompatible receiver, "+TYPE+" required")}return state}};if(NATIVE_WEAK_MAP||shared$4.state){var store=shared$4.state||(shared$4.state=new WeakMap2);store.get=store.get;store.has=store.has;store.set=store.set;set$4=function(it,metadata){if(store.has(it))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);metadata.facade=it;store.set(it,metadata);return metadata};get=function(it){return store.get(it)||{}};has=function(it){return store.has(it)}}else{var STATE=sharedKey$2("state");hiddenKeys$2[STATE]=true;set$4=function(it,metadata){if(hasOwn$d(it,STATE))throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);metadata.facade=it;createNonEnumerableProperty$5(it,STATE,metadata);return metadata};get=function(it){return hasOwn$d(it,STATE)?it[STATE]:{}};has=function(it){return hasOwn$d(it,STATE)}}var internalState={set:set$4,get,has,enforce,getterFor};var bind$g=functionBindContext;var uncurryThis$f=functionUncurryThis;var IndexedObject$2=indexedObject;var toObject$b=toObject$e;var lengthOfArrayLike$9=lengthOfArrayLike$d;var arraySpeciesCreate$2=arraySpeciesCreate$4;var push$b=uncurryThis$f([].push);var createMethod$2=function(TYPE){var IS_MAP=TYPE===1;var IS_FILTER=TYPE===2;var IS_SOME=TYPE===3;var IS_EVERY=TYPE===4;var IS_FIND_INDEX=TYPE===6;var IS_FILTER_REJECT=TYPE===7;var NO_HOLES=TYPE===5||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){var O=toObject$b($this);var self2=IndexedObject$2(O);var boundFunction=bind$g(callbackfn,that);var length2=lengthOfArrayLike$9(self2);var index2=0;var create2=specificCreate||arraySpeciesCreate$2;var target=IS_MAP?create2($this,length2):IS_FILTER||IS_FILTER_REJECT?create2($this,0):void 0;var value,result;for(;length2>index2;index2++)if(NO_HOLES||index2 in self2){value=self2[index2];result=boundFunction(value,index2,O);if(TYPE){if(IS_MAP)target[index2]=result;else if(result)switch(TYPE){case 3:return true;case 5:return value;case 6:return index2;case 2:push$b(target,value)}else switch(TYPE){case 4:return false;case 7:push$b(target,value)}}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};var arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3)};var $$N=_export;var global$e=global$p;var call$d=functionCall;var uncurryThis$e=functionUncurryThis;var DESCRIPTORS$a=descriptors;var NATIVE_SYMBOL$3=symbolConstructorDetection;var fails$j=fails$u;var hasOwn$c=hasOwnProperty_1;var isPrototypeOf$j=objectIsPrototypeOf;var anObject$9=anObject$d;var toIndexedObject$4=toIndexedObject$a;var toPropertyKey=toPropertyKey$4;var $toString=toString$7;var createPropertyDescriptor$3=createPropertyDescriptor$7;var nativeObjectCreate=objectCreate;var objectKeys$1=objectKeys$3;var getOwnPropertyNamesModule$2=objectGetOwnPropertyNames;var getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal;var getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols;var getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor;var definePropertyModule$1=objectDefineProperty;var definePropertiesModule=objectDefineProperties;var propertyIsEnumerableModule$1=objectPropertyIsEnumerable;var defineBuiltIn$4=defineBuiltIn$6;var defineBuiltInAccessor$2=defineBuiltInAccessor$3;var shared$3=sharedExports;var sharedKey$1=sharedKey$4;var hiddenKeys$1=hiddenKeys$6;var uid$1=uid$4;var wellKnownSymbol$d=wellKnownSymbol$n;var wrappedWellKnownSymbolModule=wellKnownSymbolWrapped;var defineWellKnownSymbol$l=wellKnownSymbolDefine;var defineSymbolToPrimitive$1=symbolDefineToPrimitive;var setToStringTag$6=setToStringTag$7;var InternalStateModule$5=internalState;var $forEach$1=arrayIteration.forEach;var HIDDEN=sharedKey$1("hidden");var SYMBOL="Symbol";var PROTOTYPE="prototype";var setInternalState$5=InternalStateModule$5.set;var getInternalState$2=InternalStateModule$5.getterFor(SYMBOL);var ObjectPrototype$2=Object[PROTOTYPE];var $Symbol=global$e.Symbol;var SymbolPrototype=$Symbol&&$Symbol[PROTOTYPE];var RangeError2=global$e.RangeError;var TypeError$2=global$e.TypeError;var QObject=global$e.QObject;var nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$2.f;var nativeDefineProperty=definePropertyModule$1.f;var nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f;var nativePropertyIsEnumerable=propertyIsEnumerableModule$1.f;var push$a=uncurryThis$e([].push);var AllSymbols=shared$3("symbols");var ObjectPrototypeSymbols=shared$3("op-symbols");var WellKnownSymbolsStore$1=shared$3("wks");var USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var fallbackDefineProperty=function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor$1(ObjectPrototype$2,P);if(ObjectPrototypeDescriptor)delete ObjectPrototype$2[P];nativeDefineProperty(O,P,Attributes);if(ObjectPrototypeDescriptor&&O!==ObjectPrototype$2){nativeDefineProperty(ObjectPrototype$2,P,ObjectPrototypeDescriptor)}};var setSymbolDescriptor=DESCRIPTORS$a&&fails$j(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!==7})?fallbackDefineProperty:nativeDefineProperty;var wrap=function(tag,description){var symbol2=AllSymbols[tag]=nativeObjectCreate(SymbolPrototype);setInternalState$5(symbol2,{type:SYMBOL,tag,description});if(!DESCRIPTORS$a)symbol2.description=description;return symbol2};var $defineProperty=function defineProperty2(O,P,Attributes){if(O===ObjectPrototype$2)$defineProperty(ObjectPrototypeSymbols,P,Attributes);anObject$9(O);var key=toPropertyKey(P);anObject$9(Attributes);if(hasOwn$c(AllSymbols,key)){if(!Attributes.enumerable){if(!hasOwn$c(O,HIDDEN))nativeDefineProperty(O,HIDDEN,createPropertyDescriptor$3(1,{}));O[HIDDEN][key]=true}else{if(hasOwn$c(O,HIDDEN)&&O[HIDDEN][key])O[HIDDEN][key]=false;Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor$3(0,false)})}return setSymbolDescriptor(O,key,Attributes)}return nativeDefineProperty(O,key,Attributes)};var $defineProperties=function defineProperties2(O,Properties){anObject$9(O);var properties=toIndexedObject$4(Properties);var keys2=objectKeys$1(properties).concat($getOwnPropertySymbols(properties));$forEach$1(keys2,function(key){if(!DESCRIPTORS$a||call$d($propertyIsEnumerable,properties,key))$defineProperty(O,key,properties[key])});return O};var $create=function create2(O,Properties){return Properties===void 0?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)};var $propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPropertyKey(V);var enumerable=call$d(nativePropertyIsEnumerable,this,P);if(this===ObjectPrototype$2&&hasOwn$c(AllSymbols,P)&&!hasOwn$c(ObjectPrototypeSymbols,P))return false;return enumerable||!hasOwn$c(this,P)||!hasOwn$c(AllSymbols,P)||hasOwn$c(this,HIDDEN)&&this[HIDDEN][P]?enumerable:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor2(O,P){var it=toIndexedObject$4(O);var key=toPropertyKey(P);if(it===ObjectPrototype$2&&hasOwn$c(AllSymbols,key)&&!hasOwn$c(ObjectPrototypeSymbols,key))return;var descriptor=nativeGetOwnPropertyDescriptor$1(it,key);if(descriptor&&hasOwn$c(AllSymbols,key)&&!(hasOwn$c(it,HIDDEN)&&it[HIDDEN][key])){descriptor.enumerable=true}return descriptor};var $getOwnPropertyNames=function getOwnPropertyNames2(O){var names=nativeGetOwnPropertyNames(toIndexedObject$4(O));var result=[];$forEach$1(names,function(key){if(!hasOwn$c(AllSymbols,key)&&!hasOwn$c(hiddenKeys$1,key))push$a(result,key)});return result};var $getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype$2;var names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject$4(O));var result=[];$forEach$1(names,function(key){if(hasOwn$c(AllSymbols,key)&&(!IS_OBJECT_PROTOTYPE||hasOwn$c(ObjectPrototype$2,key))){push$a(result,AllSymbols[key])}});return result};if(!NATIVE_SYMBOL$3){$Symbol=function Symbol2(){if(isPrototypeOf$j(SymbolPrototype,this))throw new TypeError$2("Symbol is not a constructor");var description=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]);var tag=uid$1(description);var setter=function(value){var $this=this===void 0?global$e:this;if($this===ObjectPrototype$2)call$d(setter,ObjectPrototypeSymbols,value);if(hasOwn$c($this,HIDDEN)&&hasOwn$c($this[HIDDEN],tag))$this[HIDDEN][tag]=false;var descriptor=createPropertyDescriptor$3(1,value);try{setSymbolDescriptor($this,tag,descriptor)}catch(error){if(!(error instanceof RangeError2))throw error;fallbackDefineProperty($this,tag,descriptor)}};if(DESCRIPTORS$a&&USE_SETTER)setSymbolDescriptor(ObjectPrototype$2,tag,{configurable:true,set:setter});return wrap(tag,description)};SymbolPrototype=$Symbol[PROTOTYPE];defineBuiltIn$4(SymbolPrototype,"toString",function toString2(){return getInternalState$2(this).tag});defineBuiltIn$4($Symbol,"withoutSetter",function(description){return wrap(uid$1(description),description)});propertyIsEnumerableModule$1.f=$propertyIsEnumerable;definePropertyModule$1.f=$defineProperty;definePropertiesModule.f=$defineProperties;getOwnPropertyDescriptorModule$2.f=$getOwnPropertyDescriptor;getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames;getOwnPropertySymbolsModule$3.f=$getOwnPropertySymbols;wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol$d(name),name)};if(DESCRIPTORS$a){defineBuiltInAccessor$2(SymbolPrototype,"description",{configurable:true,get:function description(){return getInternalState$2(this).description}})}}$$N({global:true,wrap:true,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol});$forEach$1(objectKeys$1(WellKnownSymbolsStore$1),function(name){defineWellKnownSymbol$l(name)});$$N({target:SYMBOL,stat:true,forced:!NATIVE_SYMBOL$3},{useSetter:function(){USE_SETTER=true},useSimple:function(){USE_SETTER=false}});$$N({target:"Object",stat:true,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$a},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$N({target:"Object",stat:true,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames});defineSymbolToPrimitive$1();setToStringTag$6($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=true;var NATIVE_SYMBOL$2=symbolConstructorDetection;var symbolRegistryDetection=NATIVE_SYMBOL$2&&!!Symbol["for"]&&!!Symbol.keyFor;var $$M=_export;var getBuiltIn$a=getBuiltIn$f;var hasOwn$b=hasOwnProperty_1;var toString$5=toString$7;var shared$2=sharedExports;var NATIVE_SYMBOL_REGISTRY$1=symbolRegistryDetection;var StringToSymbolRegistry=shared$2("string-to-symbol-registry");var SymbolToStringRegistry$1=shared$2("symbol-to-string-registry");$$M({target:"Symbol",stat:true,forced:!NATIVE_SYMBOL_REGISTRY$1},{"for":function(key){var string=toString$5(key);if(hasOwn$b(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol2=getBuiltIn$a("Symbol")(string);StringToSymbolRegistry[string]=symbol2;SymbolToStringRegistry$1[symbol2]=string;return symbol2}});var $$L=_export;var hasOwn$a=hasOwnProperty_1;var isSymbol$2=isSymbol$5;var tryToString$4=tryToString$6;var shared$1=sharedExports;var NATIVE_SYMBOL_REGISTRY=symbolRegistryDetection;var SymbolToStringRegistry=shared$1("symbol-to-string-registry");$$L({target:"Symbol",stat:true,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function keyFor2(sym){if(!isSymbol$2(sym))throw new TypeError(tryToString$4(sym)+" is not a symbol");if(hasOwn$a(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]}});var uncurryThis$d=functionUncurryThis;var arraySlice$5=uncurryThis$d([].slice);var uncurryThis$c=functionUncurryThis;var isArray$b=isArray$e;var isCallable$a=isCallable$m;var classof$8=classofRaw$2;var toString$4=toString$7;var push$9=uncurryThis$c([].push);var getJsonReplacerFunction=function(replacer){if(isCallable$a(replacer))return replacer;if(!isArray$b(replacer))return;var rawLength=replacer.length;var keys2=[];for(var i2=0;i2<rawLength;i2++){var element=replacer[i2];if(typeof element=="string")push$9(keys2,element);else if(typeof element=="number"||classof$8(element)==="Number"||classof$8(element)==="String")push$9(keys2,toString$4(element))}var keysLength=keys2.length;var root=true;return function(key,value){if(root){root=false;return value}if(isArray$b(this))return value;for(var j=0;j<keysLength;j++)if(keys2[j]===key)return value}};var $$K=_export;var getBuiltIn$9=getBuiltIn$f;var apply$4=functionApply;var call$c=functionCall;var uncurryThis$b=functionUncurryThis;var fails$i=fails$u;var isCallable$9=isCallable$m;var isSymbol$1=isSymbol$5;var arraySlice$4=arraySlice$5;var getReplacerFunction=getJsonReplacerFunction;var NATIVE_SYMBOL$1=symbolConstructorDetection;var $String$1=String;var $stringify=getBuiltIn$9("JSON","stringify");var exec=uncurryThis$b(/./.exec);var charAt$2=uncurryThis$b("".charAt);var charCodeAt$1=uncurryThis$b("".charCodeAt);var replace$1=uncurryThis$b("".replace);var numberToString=uncurryThis$b(1 .toString);var tester=/[\uD800-\uDFFF]/g;var low=/^[\uD800-\uDBFF]$/;var hi=/^[\uDC00-\uDFFF]$/;var WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$1||fails$i(function(){var symbol2=getBuiltIn$9("Symbol")("stringify detection");return $stringify([symbol2])!=="[null]"||$stringify({a:symbol2})!=="{}"||$stringify(Object(symbol2))!=="{}"});var ILL_FORMED_UNICODE=fails$i(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'});var stringifyWithSymbolsFix=function(it,replacer){var args2=arraySlice$4(arguments);var $replacer=getReplacerFunction(replacer);if(!isCallable$9($replacer)&&(it===void 0||isSymbol$1(it)))return;args2[1]=function(key,value){if(isCallable$9($replacer))value=call$c($replacer,this,$String$1(key),value);if(!isSymbol$1(value))return value};return apply$4($stringify,null,args2)};var fixIllFormed=function(match2,offset,string){var prev=charAt$2(string,offset-1);var next=charAt$2(string,offset+1);if(exec(low,match2)&&!exec(hi,next)||exec(hi,match2)&&!exec(low,prev)){return"\\u"+numberToString(charCodeAt$1(match2,0),16)}return match2};if($stringify){$$K({target:"JSON",stat:true,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function stringify2(it,replacer,space){var args2=arraySlice$4(arguments);var result=apply$4(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,args2);return ILL_FORMED_UNICODE&&typeof result=="string"?replace$1(result,tester,fixIllFormed):result}})}var $$J=_export;var NATIVE_SYMBOL=symbolConstructorDetection;var fails$h=fails$u;var getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols;var toObject$a=toObject$e;var FORCED$5=!NATIVE_SYMBOL||fails$h(function(){getOwnPropertySymbolsModule$2.f(1)});$$J({target:"Object",stat:true,forced:FORCED$5},{getOwnPropertySymbols:function getOwnPropertySymbols2(it){var $getOwnPropertySymbols2=getOwnPropertySymbolsModule$2.f;return $getOwnPropertySymbols2?$getOwnPropertySymbols2(toObject$a(it)):[]}});var defineWellKnownSymbol$k=wellKnownSymbolDefine;defineWellKnownSymbol$k("asyncIterator");var defineWellKnownSymbol$j=wellKnownSymbolDefine;defineWellKnownSymbol$j("hasInstance");var defineWellKnownSymbol$i=wellKnownSymbolDefine;defineWellKnownSymbol$i("isConcatSpreadable");var defineWellKnownSymbol$h=wellKnownSymbolDefine;defineWellKnownSymbol$h("iterator");var defineWellKnownSymbol$g=wellKnownSymbolDefine;defineWellKnownSymbol$g("match");var defineWellKnownSymbol$f=wellKnownSymbolDefine;defineWellKnownSymbol$f("matchAll");var defineWellKnownSymbol$e=wellKnownSymbolDefine;defineWellKnownSymbol$e("replace");var defineWellKnownSymbol$d=wellKnownSymbolDefine;defineWellKnownSymbol$d("search");var defineWellKnownSymbol$c=wellKnownSymbolDefine;defineWellKnownSymbol$c("species");var defineWellKnownSymbol$b=wellKnownSymbolDefine;defineWellKnownSymbol$b("split");var defineWellKnownSymbol$a=wellKnownSymbolDefine;var defineSymbolToPrimitive=symbolDefineToPrimitive;defineWellKnownSymbol$a("toPrimitive");defineSymbolToPrimitive();var getBuiltIn$8=getBuiltIn$f;var defineWellKnownSymbol$9=wellKnownSymbolDefine;var setToStringTag$5=setToStringTag$7;defineWellKnownSymbol$9("toStringTag");setToStringTag$5(getBuiltIn$8("Symbol"),"Symbol");var defineWellKnownSymbol$8=wellKnownSymbolDefine;defineWellKnownSymbol$8("unscopables");var global$d=global$p;var setToStringTag$4=setToStringTag$7;setToStringTag$4(global$d.JSON,"JSON",true);var path$j=path$o;var symbol$5=path$j.Symbol;var iterators={};var DESCRIPTORS$9=descriptors;var hasOwn$9=hasOwnProperty_1;var FunctionPrototype$2=Function.prototype;var getDescriptor=DESCRIPTORS$9&&Object.getOwnPropertyDescriptor;var EXISTS=hasOwn$9(FunctionPrototype$2,"name");var PROPER=EXISTS&&(function something(){}).name==="something";EXISTS&&(!DESCRIPTORS$9||DESCRIPTORS$9&&getDescriptor(FunctionPrototype$2,"name").configurable);var functionName={PROPER};var fails$g=fails$u;var correctPrototypeGetter=!fails$g(function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype});var hasOwn$8=hasOwnProperty_1;var isCallable$8=isCallable$m;var toObject$9=toObject$e;var sharedKey=sharedKey$4;var CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter;var IE_PROTO=sharedKey("IE_PROTO");var $Object=Object;var ObjectPrototype$1=$Object.prototype;var objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER$1?$Object.getPrototypeOf:function(O){var object=toObject$9(O);if(hasOwn$8(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;if(isCallable$8(constructor)&&object instanceof constructor){return constructor.prototype}return object instanceof $Object?ObjectPrototype$1:null};var fails$f=fails$u;var isCallable$7=isCallable$m;var isObject$9=isObject$h;var create$b=objectCreate;var getPrototypeOf$7=objectGetPrototypeOf;var defineBuiltIn$3=defineBuiltIn$6;var wellKnownSymbol$c=wellKnownSymbol$n;var ITERATOR$4=wellKnownSymbol$c("iterator");var BUGGY_SAFARI_ITERATORS$1=false;var IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;if([].keys){arrayIterator=[].keys();if(!("next"in arrayIterator))BUGGY_SAFARI_ITERATORS$1=true;else{PrototypeOfArrayIteratorPrototype=getPrototypeOf$7(getPrototypeOf$7(arrayIterator));if(PrototypeOfArrayIteratorPrototype!==Object.prototype)IteratorPrototype$1=PrototypeOfArrayIteratorPrototype}}var NEW_ITERATOR_PROTOTYPE=!isObject$9(IteratorPrototype$1)||fails$f(function(){var test2={};return IteratorPrototype$1[ITERATOR$4].call(test2)!==test2});if(NEW_ITERATOR_PROTOTYPE)IteratorPrototype$1={};else IteratorPrototype$1=create$b(IteratorPrototype$1);if(!isCallable$7(IteratorPrototype$1[ITERATOR$4])){defineBuiltIn$3(IteratorPrototype$1,ITERATOR$4,function(){return this})}var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1};var IteratorPrototype=iteratorsCore.IteratorPrototype;var create$a=objectCreate;var createPropertyDescriptor$2=createPropertyDescriptor$7;var setToStringTag$3=setToStringTag$7;var Iterators$5=iterators;var returnThis$1=function(){return this};var iteratorCreateConstructor=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){var TO_STRING_TAG2=NAME+" Iterator";IteratorConstructor.prototype=create$a(IteratorPrototype,{next:createPropertyDescriptor$2(+!ENUMERABLE_NEXT,next)});setToStringTag$3(IteratorConstructor,TO_STRING_TAG2,false,true);Iterators$5[TO_STRING_TAG2]=returnThis$1;return IteratorConstructor};var uncurryThis$a=functionUncurryThis;var aCallable$b=aCallable$e;var functionUncurryThisAccessor=function(object,key,method2){try{return uncurryThis$a(aCallable$b(Object.getOwnPropertyDescriptor(object,key)[method2]))}catch(error){}};var isCallable$6=isCallable$m;var $String=String;var $TypeError$9=TypeError;var aPossiblePrototype$1=function(argument){if(typeof argument=="object"||isCallable$6(argument))return argument;throw new $TypeError$9("Can't set "+$String(argument)+" as a prototype")};var uncurryThisAccessor=functionUncurryThisAccessor;var anObject$8=anObject$d;var aPossiblePrototype=aPossiblePrototype$1;var objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?(function(){var CORRECT_SETTER=false;var test2={};var setter;try{setter=uncurryThisAccessor(Object.prototype,"__proto__","set");setter(test2,[]);CORRECT_SETTER=test2 instanceof Array}catch(error){}return function setPrototypeOf2(O,proto){anObject$8(O);aPossiblePrototype(proto);if(CORRECT_SETTER)setter(O,proto);else O.__proto__=proto;return O}})():void 0);var $$I=_export;var call$b=functionCall;var FunctionName=functionName;var createIteratorConstructor=iteratorCreateConstructor;var getPrototypeOf$6=objectGetPrototypeOf;var setToStringTag$2=setToStringTag$7;var defineBuiltIn$2=defineBuiltIn$6;var wellKnownSymbol$b=wellKnownSymbol$n;var Iterators$4=iterators;var IteratorsCore=iteratorsCore;var PROPER_FUNCTION_NAME=FunctionName.PROPER;var BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS;var ITERATOR$3=wellKnownSymbol$b("iterator");var KEYS="keys";var VALUES="values";var ENTRIES="entries";var returnThis=function(){return this};var iteratorDefine=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED2){createIteratorConstructor(IteratorConstructor,NAME,next);var getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function keys2(){return new IteratorConstructor(this,KIND)};case VALUES:return function values2(){return new IteratorConstructor(this,KIND)};case ENTRIES:return function entries2(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}};var TO_STRING_TAG2=NAME+" Iterator";var INCORRECT_VALUES_NAME=false;var IterablePrototype=Iterable.prototype;var nativeIterator=IterablePrototype[ITERATOR$3]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT];var defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT);var anyNativeIterator=NAME==="Array"?IterablePrototype.entries||nativeIterator:nativeIterator;var CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator){CurrentIteratorPrototype=getPrototypeOf$6(anyNativeIterator.call(new Iterable));if(CurrentIteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next){setToStringTag$2(CurrentIteratorPrototype,TO_STRING_TAG2,true,true);Iterators$4[TO_STRING_TAG2]=returnThis}}if(PROPER_FUNCTION_NAME&&DEFAULT===VALUES&&nativeIterator&&nativeIterator.name!==VALUES){{INCORRECT_VALUES_NAME=true;defaultIterator=function values2(){return call$b(nativeIterator,this)}}}if(DEFAULT){methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)};if(FORCED2)for(KEY in methods){if(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype)){defineBuiltIn$2(IterablePrototype,KEY,methods[KEY])}}else $$I({target:NAME,proto:true,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods)}if(FORCED2&&IterablePrototype[ITERATOR$3]!==defaultIterator){defineBuiltIn$2(IterablePrototype,ITERATOR$3,defaultIterator,{})}Iterators$4[NAME]=defaultIterator;return methods};var createIterResultObject$3=function(value,done){return{value,done}};var toIndexedObject$3=toIndexedObject$a;var Iterators$3=iterators;var InternalStateModule$4=internalState;objectDefineProperty.f;var defineIterator$2=iteratorDefine;var createIterResultObject$2=createIterResultObject$3;var ARRAY_ITERATOR="Array Iterator";var setInternalState$4=InternalStateModule$4.set;var getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR);defineIterator$2(Array,"Array",function(iterated,kind){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$3(iterated),index:0,kind})},function(){var state=getInternalState$1(this);var target=state.target;var index2=state.index++;if(!target||index2>=target.length){state.target=void 0;return createIterResultObject$2(void 0,true)}switch(state.kind){case"keys":return createIterResultObject$2(index2,false);case"values":return createIterResultObject$2(target[index2],false)}return createIterResultObject$2([index2,target[index2]],false)},"values");Iterators$3.Arguments=Iterators$3.Array;var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var DOMIterables$4=domIterables;var global$c=global$p;var classof$7=classof$d;var createNonEnumerableProperty$4=createNonEnumerableProperty$9;var Iterators$2=iterators;var wellKnownSymbol$a=wellKnownSymbol$n;var TO_STRING_TAG$1=wellKnownSymbol$a("toStringTag");for(var COLLECTION_NAME in DOMIterables$4){var Collection=global$c[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&classof$7(CollectionPrototype)!==TO_STRING_TAG$1){createNonEnumerableProperty$4(CollectionPrototype,TO_STRING_TAG$1,COLLECTION_NAME)}Iterators$2[COLLECTION_NAME]=Iterators$2.Array}var parent$15=symbol$5;var symbol$4=parent$15;var wellKnownSymbol$9=wellKnownSymbol$n;var defineProperty$4=objectDefineProperty.f;var METADATA$1=wellKnownSymbol$9("metadata");var FunctionPrototype$1=Function.prototype;if(FunctionPrototype$1[METADATA$1]===void 0){defineProperty$4(FunctionPrototype$1,METADATA$1,{value:null})}var defineWellKnownSymbol$7=wellKnownSymbolDefine;defineWellKnownSymbol$7("asyncDispose");var defineWellKnownSymbol$6=wellKnownSymbolDefine;defineWellKnownSymbol$6("dispose");var defineWellKnownSymbol$5=wellKnownSymbolDefine;defineWellKnownSymbol$5("metadata");var parent$14=symbol$4;var symbol$3=parent$14;var getBuiltIn$7=getBuiltIn$f;var uncurryThis$9=functionUncurryThis;var Symbol$2=getBuiltIn$7("Symbol");var keyFor=Symbol$2.keyFor;var thisSymbolValue$1=uncurryThis$9(Symbol$2.prototype.valueOf);var symbolIsRegistered=Symbol$2.isRegisteredSymbol||function isRegisteredSymbol2(value){try{return keyFor(thisSymbolValue$1(value))!==void 0}catch(error){return false}};var $$H=_export;var isRegisteredSymbol$1=symbolIsRegistered;$$H({target:"Symbol",stat:true},{isRegisteredSymbol:isRegisteredSymbol$1});var shared=sharedExports;var getBuiltIn$6=getBuiltIn$f;var uncurryThis$8=functionUncurryThis;var isSymbol=isSymbol$5;var wellKnownSymbol$8=wellKnownSymbol$n;var Symbol$1=getBuiltIn$6("Symbol");var $isWellKnownSymbol=Symbol$1.isWellKnownSymbol;var getOwnPropertyNames=getBuiltIn$6("Object","getOwnPropertyNames");var thisSymbolValue=uncurryThis$8(Symbol$1.prototype.valueOf);var WellKnownSymbolsStore=shared("wks");for(var i=0,symbolKeys=getOwnPropertyNames(Symbol$1),symbolKeysLength=symbolKeys.length;i<symbolKeysLength;i++){try{var symbolKey=symbolKeys[i];if(isSymbol(Symbol$1[symbolKey]))wellKnownSymbol$8(symbolKey)}catch(error){}}var symbolIsWellKnown=function isWellKnownSymbol2(value){if($isWellKnownSymbol&&$isWellKnownSymbol(value))return true;try{var symbol2=thisSymbolValue(value);for(var j=0,keys2=getOwnPropertyNames(WellKnownSymbolsStore),keysLength=keys2.length;j<keysLength;j++){if(WellKnownSymbolsStore[keys2[j]]==symbol2)return true}}catch(error){}return false};var $$G=_export;var isWellKnownSymbol$1=symbolIsWellKnown;$$G({target:"Symbol",stat:true,forced:true},{isWellKnownSymbol:isWellKnownSymbol$1});var defineWellKnownSymbol$4=wellKnownSymbolDefine;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=wellKnownSymbolDefine;defineWellKnownSymbol$3("observable");var $$F=_export;var isRegisteredSymbol=symbolIsRegistered;$$F({target:"Symbol",stat:true},{isRegistered:isRegisteredSymbol});var $$E=_export;var isWellKnownSymbol=symbolIsWellKnown;$$E({target:"Symbol",stat:true,forced:true},{isWellKnown:isWellKnownSymbol});var defineWellKnownSymbol$2=wellKnownSymbolDefine;defineWellKnownSymbol$2("metadataKey");var defineWellKnownSymbol$1=wellKnownSymbolDefine;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=wellKnownSymbolDefine;defineWellKnownSymbol("replaceAll");var parent$13=symbol$3;var symbol$2=parent$13;var symbol$1=symbol$2;var _Symbol$1=getDefaultExportFromCjs(symbol$1);var uncurryThis$7=functionUncurryThis;var toIntegerOrInfinity$1=toIntegerOrInfinity$4;var toString$3=toString$7;var requireObjectCoercible=requireObjectCoercible$3;var charAt$1=uncurryThis$7("".charAt);var charCodeAt=uncurryThis$7("".charCodeAt);var stringSlice=uncurryThis$7("".slice);var createMethod$1=function(CONVERT_TO_STRING){return function($this,pos){var S=toString$3(requireObjectCoercible($this));var position=toIntegerOrInfinity$1(pos);var size=S.length;var first,second;if(position<0||position>=size)return CONVERT_TO_STRING?"":void 0;first=charCodeAt(S,position);return first<55296||first>56319||position+1===size||(second=charCodeAt(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt$1(S,position):first:CONVERT_TO_STRING?stringSlice(S,position,position+2):(first-55296<<10)+(second-56320)+65536}};var stringMultibyte={charAt:createMethod$1(true)};var charAt=stringMultibyte.charAt;var toString$2=toString$7;var InternalStateModule$3=internalState;var defineIterator$1=iteratorDefine;var createIterResultObject$1=createIterResultObject$3;var STRING_ITERATOR="String Iterator";var setInternalState$3=InternalStateModule$3.set;var getInternalState=InternalStateModule$3.getterFor(STRING_ITERATOR);defineIterator$1(String,"String",function(iterated){setInternalState$3(this,{type:STRING_ITERATOR,string:toString$2(iterated),index:0})},function next(){var state=getInternalState(this);var string=state.string;var index2=state.index;var point;if(index2>=string.length)return createIterResultObject$1(void 0,true);point=charAt(string,index2);state.index+=point.length;return createIterResultObject$1(point,false)});var WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped;var iterator$5=WrappedWellKnownSymbolModule$1.f("iterator");var parent$12=iterator$5;var iterator$4=parent$12;var parent$11=iterator$4;var iterator$3=parent$11;var parent$10=iterator$3;var iterator$2=parent$10;var iterator$1=iterator$2;var _Symbol$iterator$1=getDefaultExportFromCjs(iterator$1);function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1="function"==typeof _Symbol$1&&"symbol"==typeof _Symbol$iterator$1?function(o2){return typeof o2}:function(o2){return o2&&"function"==typeof _Symbol$1&&o2.constructor===_Symbol$1&&o2!==_Symbol$1.prototype?"symbol":typeof o2},_typeof$1(o)}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped;var toPrimitive$4=WrappedWellKnownSymbolModule.f("toPrimitive");var parent$$=toPrimitive$4;var toPrimitive$3=parent$$;var parent$_=toPrimitive$3;var toPrimitive$2=parent$_;var parent$Z=toPrimitive$2;var toPrimitive$1=parent$Z;var toPrimitive=toPrimitive$1;var _Symbol$toPrimitive=getDefaultExportFromCjs(toPrimitive);function _toPrimitive(input,hint){if(_typeof$1(input)!=="object"||input===null)return input;var prim=input[_Symbol$toPrimitive];if(prim!==void 0){var res=prim.call(input,hint);if(_typeof$1(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof$1(key)==="symbol"?key:String(key)}function _defineProperties(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;_Object$defineProperty$1(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);_Object$defineProperty$1(Constructor,"prototype",{writable:false});return Constructor}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){_Object$defineProperty$1(obj,key,{value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var uncurryThis$6=functionUncurryThis;var aCallable$a=aCallable$e;var isObject$8=isObject$h;var hasOwn$7=hasOwnProperty_1;var arraySlice$3=arraySlice$5;var NATIVE_BIND=functionBindNative;var $Function=Function;var concat$6=uncurryThis$6([].concat);var join=uncurryThis$6([].join);var factories={};var construct$3=function(C,argsLength,args2){if(!hasOwn$7(factories,argsLength)){var list=[];var i2=0;for(;i2<argsLength;i2++)list[i2]="a["+i2+"]";factories[argsLength]=$Function("C,a","return new C("+join(list,",")+")")}return factories[argsLength](C,args2)};var functionBind=NATIVE_BIND?$Function.bind:function bind2(that){var F=aCallable$a(this);var Prototype=F.prototype;var partArgs=arraySlice$3(arguments,1);var boundFunction=function bound(){var args2=concat$6(partArgs,arraySlice$3(arguments));return this instanceof boundFunction?construct$3(F,args2.length,args2):F.apply(that,args2)};if(isObject$8(Prototype))boundFunction.prototype=Prototype;return boundFunction};var $$D=_export;var bind$f=functionBind;$$D({target:"Function",proto:true,forced:Function.bind!==bind$f},{bind:bind$f});var global$b=global$p;var path$i=path$o;var getBuiltInPrototypeMethod$g=function(CONSTRUCTOR,METHOD){var Namespace=path$i[CONSTRUCTOR+"Prototype"];var pureMethod=Namespace&&Namespace[METHOD];if(pureMethod)return pureMethod;var NativeConstructor=global$b[CONSTRUCTOR];var NativePrototype=NativeConstructor&&NativeConstructor.prototype;return NativePrototype&&NativePrototype[METHOD]};var getBuiltInPrototypeMethod$f=getBuiltInPrototypeMethod$g;var bind$e=getBuiltInPrototypeMethod$f("Function","bind");var isPrototypeOf$i=objectIsPrototypeOf;var method$f=bind$e;var FunctionPrototype=Function.prototype;var bind$d=function(it){var own=it.bind;return it===FunctionPrototype||isPrototypeOf$i(FunctionPrototype,it)&&own===FunctionPrototype.bind?method$f:own};var parent$Y=bind$d;var bind$c=parent$Y;var bind$b=bind$c;var _bindInstanceProperty$1=getDefaultExportFromCjs(bind$b);var aCallable$9=aCallable$e;var toObject$8=toObject$e;var IndexedObject$1=indexedObject;var lengthOfArrayLike$8=lengthOfArrayLike$d;var $TypeError$8=TypeError;var createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aCallable$9(callbackfn);var O=toObject$8(that);var self2=IndexedObject$1(O);var length2=lengthOfArrayLike$8(O);var index2=IS_RIGHT?length2-1:0;var i2=IS_RIGHT?-1:1;if(argumentsLength<2)while(true){if(index2 in self2){memo=self2[index2];index2+=i2;break}index2+=i2;if(IS_RIGHT?index2<0:length2<=index2){throw new $TypeError$8("Reduce of empty array with no initial value")}}for(;IS_RIGHT?index2>=0:length2>index2;index2+=i2)if(index2 in self2){memo=callbackfn(memo,self2[index2],index2,O)}return memo}};var arrayReduce={left:createMethod(false)};var fails$e=fails$u;var arrayMethodIsStrict$4=function(METHOD_NAME,argument){var method2=[][METHOD_NAME];return!!method2&&fails$e(function(){method2.call(null,argument||function(){return 1},1)})};var global$a=global$p;var classof$6=classofRaw$2;var engineIsNode=classof$6(global$a.process)==="process";var $$C=_export;var $reduce=arrayReduce.left;var arrayMethodIsStrict$3=arrayMethodIsStrict$4;var CHROME_VERSION=engineV8Version;var IS_NODE$4=engineIsNode;var CHROME_BUG=!IS_NODE$4&&CHROME_VERSION>79&&CHROME_VERSION<83;var FORCED$4=CHROME_BUG||!arrayMethodIsStrict$3("reduce");$$C({target:"Array",proto:true,forced:FORCED$4},{reduce:function reduce2(callbackfn){var length2=arguments.length;return $reduce(this,callbackfn,length2,length2>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$e=getBuiltInPrototypeMethod$g;var reduce$3=getBuiltInPrototypeMethod$e("Array","reduce");var isPrototypeOf$h=objectIsPrototypeOf;var method$e=reduce$3;var ArrayPrototype$f=Array.prototype;var reduce$2=function(it){var own=it.reduce;return it===ArrayPrototype$f||isPrototypeOf$h(ArrayPrototype$f,it)&&own===ArrayPrototype$f.reduce?method$e:own};var parent$X=reduce$2;var reduce$1=parent$X;var reduce=reduce$1;var _reduceInstanceProperty=getDefaultExportFromCjs(reduce);var $$B=_export;var $filter=arrayIteration.filter;var arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("filter");$$B({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$3},{filter:function filter2(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$d=getBuiltInPrototypeMethod$g;var filter$3=getBuiltInPrototypeMethod$d("Array","filter");var isPrototypeOf$g=objectIsPrototypeOf;var method$d=filter$3;var ArrayPrototype$e=Array.prototype;var filter$2=function(it){var own=it.filter;return it===ArrayPrototype$e||isPrototypeOf$g(ArrayPrototype$e,it)&&own===ArrayPrototype$e.filter?method$d:own};var parent$W=filter$2;var filter$1=parent$W;var filter=filter$1;var _filterInstanceProperty=getDefaultExportFromCjs(filter);var $$A=_export;var $map=arrayIteration.map;var arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$A({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$2},{map:function map2(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$c=getBuiltInPrototypeMethod$g;var map$6=getBuiltInPrototypeMethod$c("Array","map");var isPrototypeOf$f=objectIsPrototypeOf;var method$c=map$6;var ArrayPrototype$d=Array.prototype;var map$5=function(it){var own=it.map;return it===ArrayPrototype$d||isPrototypeOf$f(ArrayPrototype$d,it)&&own===ArrayPrototype$d.map?method$c:own};var parent$V=map$5;var map$4=parent$V;var map$3=map$4;var _mapInstanceProperty=getDefaultExportFromCjs(map$3);var isArray$a=isArray$e;var lengthOfArrayLike$7=lengthOfArrayLike$d;var doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$4;var bind$a=functionBindContext;var flattenIntoArray$1=function(target,original,source,sourceLen,start,depth,mapper,thisArg){var targetIndex=start;var sourceIndex=0;var mapFn=mapper?bind$a(mapper,thisArg):false;var element,elementLen;while(sourceIndex<sourceLen){if(sourceIndex in source){element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex];if(depth>0&&isArray$a(element)){elementLen=lengthOfArrayLike$7(element);targetIndex=flattenIntoArray$1(target,original,element,elementLen,targetIndex,depth-1)-1}else{doesNotExceedSafeInteger$2(targetIndex+1);target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex};var flattenIntoArray_1=flattenIntoArray$1;var $$z=_export;var flattenIntoArray=flattenIntoArray_1;var aCallable$8=aCallable$e;var toObject$7=toObject$e;var lengthOfArrayLike$6=lengthOfArrayLike$d;var arraySpeciesCreate$1=arraySpeciesCreate$4;$$z({target:"Array",proto:true},{flatMap:function flatMap2(callbackfn){var O=toObject$7(this);var sourceLen=lengthOfArrayLike$6(O);var A;aCallable$8(callbackfn);A=arraySpeciesCreate$1(O,0);A.length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments.length>1?arguments[1]:void 0);return A}});var getBuiltInPrototypeMethod$b=getBuiltInPrototypeMethod$g;var flatMap$3=getBuiltInPrototypeMethod$b("Array","flatMap");var isPrototypeOf$e=objectIsPrototypeOf;var method$b=flatMap$3;var ArrayPrototype$c=Array.prototype;var flatMap$2=function(it){var own=it.flatMap;return it===ArrayPrototype$c||isPrototypeOf$e(ArrayPrototype$c,it)&&own===ArrayPrototype$c.flatMap?method$b:own};var parent$U=flatMap$2;var flatMap$1=parent$U;var flatMap=flatMap$1;var _flatMapInstanceProperty=getDefaultExportFromCjs(flatMap);function createNewDataPipeFrom(from2){return new DataPipeUnderConstruction(from2)}var SimpleDataPipe=(function(){function SimpleDataPipe2(_source,_transformers,_target){var _context,_context2,_context3;_classCallCheck(this,SimpleDataPipe2);_defineProperty(this,"_listeners",{add:_bindInstanceProperty$1(_context=this._add).call(_context,this),remove:_bindInstanceProperty$1(_context2=this._remove).call(_context2,this),update:_bindInstanceProperty$1(_context3=this._update).call(_context3,this)});this._source=_source;this._transformers=_transformers;this._target=_target}_createClass(SimpleDataPipe2,[{key:"all",value:function all(){this._target.update(this._transformItems(this._source.get()));return this}},{key:"start",value:function start(){this._source.on("add",this._listeners.add);this._source.on("remove",this._listeners.remove);this._source.on("update",this._listeners.update);return this}},{key:"stop",value:function stop(){this._source.off("add",this._listeners.add);this._source.off("remove",this._listeners.remove);this._source.off("update",this._listeners.update);return this}},{key:"_transformItems",value:function _transformItems(items){var _context4;return _reduceInstanceProperty(_context4=this._transformers).call(_context4,function(items2,transform){return transform(items2)},items)}},{key:"_add",value:function _add(_name,payload){if(payload==null){return}this._target.add(this._transformItems(this._source.get(payload.items)))}},{key:"_update",value:function _update(_name,payload){if(payload==null){return}this._target.update(this._transformItems(this._source.get(payload.items)))}},{key:"_remove",value:function _remove(_name,payload){if(payload==null){return}this._target.remove(this._transformItems(payload.oldData))}}]);return SimpleDataPipe2})();var DataPipeUnderConstruction=(function(){function DataPipeUnderConstruction2(_source){_classCallCheck(this,DataPipeUnderConstruction2);_defineProperty(this,"_transformers",[]);this._source=_source}_createClass(DataPipeUnderConstruction2,[{key:"filter",value:function filter2(callback){this._transformers.push(function(input){return _filterInstanceProperty(input).call(input,callback)});return this}},{key:"map",value:function map2(callback){this._transformers.push(function(input){return _mapInstanceProperty(input).call(input,callback)});return this}},{key:"flatMap",value:function flatMap2(callback){this._transformers.push(function(input){return _flatMapInstanceProperty(input).call(input,callback)});return this}},{key:"to",value:function to(target){return new SimpleDataPipe(this._source,this._transformers,target)}}]);return DataPipeUnderConstruction2})();var componentEmitter={exports:{}};(function(module2){function Emitter2(object){if(object){return mixin(object)}this._callbacks=new Map}function mixin(object){Object.assign(object,Emitter2.prototype);object._callbacks=new Map;return object}Emitter2.prototype.on=function(event,listener){var _a;const callbacks=(_a=this._callbacks.get(event))!=null?_a:[];callbacks.push(listener);this._callbacks.set(event,callbacks);return this};Emitter2.prototype.once=function(event,listener){const on=(...arguments_)=>{this.off(event,on);listener.apply(this,arguments_)};on.fn=listener;this.on(event,on);return this};Emitter2.prototype.off=function(event,listener){if(event===void 0&&listener===void 0){this._callbacks.clear();return this}if(listener===void 0){this._callbacks.delete(event);return this}const callbacks=this._callbacks.get(event);if(callbacks){for(const[index2,callback]of callbacks.entries()){if(callback===listener||callback.fn===listener){callbacks.splice(index2,1);break}}if(callbacks.length===0){this._callbacks.delete(event)}else{this._callbacks.set(event,callbacks)}}return this};Emitter2.prototype.emit=function(event,...arguments_){const callbacks=this._callbacks.get(event);if(callbacks){const callbacksCopy=[...callbacks];for(const callback of callbacksCopy){callback.apply(this,arguments_)}}return this};Emitter2.prototype.listeners=function(event){var _a;return(_a=this._callbacks.get(event))!=null?_a:[]};Emitter2.prototype.listenerCount=function(event){if(event){return this.listeners(event).length}let totalCount=0;for(const callbacks of this._callbacks.values()){totalCount+=callbacks.length}return totalCount};Emitter2.prototype.hasListeners=function(event){return this.listenerCount(event)>0};Emitter2.prototype.addEventListener=Emitter2.prototype.on;Emitter2.prototype.removeListener=Emitter2.prototype.off;Emitter2.prototype.removeEventListener=Emitter2.prototype.off;Emitter2.prototype.removeAllListeners=Emitter2.prototype.off;{module2.exports=Emitter2}})(componentEmitter);var componentEmitterExports=componentEmitter.exports;var Emitter=getDefaultExportFromCjs(componentEmitterExports);function _extends(){_extends=Object.assign||function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}function _assertThisInitialized$1(self2){if(self2===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self2}var assign$4;if(typeof Object.assign!=="function"){assign$4=function assign2(target){if(target===void 0||target===null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);for(var index2=1;index2<arguments.length;index2++){var source=arguments[index2];if(source!==void 0&&source!==null){for(var nextKey in source){if(source.hasOwnProperty(nextKey)){output[nextKey]=source[nextKey]}}}}return output}}else{assign$4=Object.assign}var assign$1$1=assign$4;var VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"];var TEST_ELEMENT=typeof document==="undefined"?{style:{}}:document.createElement("div");var TYPE_FUNCTION="function";var round=Math.round,abs=Math.abs;var now=Date.now;function prefixed(obj,property){var prefix;var prop;var camelProp=property[0].toUpperCase()+property.slice(1);var i2=0;while(i2<VENDOR_PREFIXES.length){prefix=VENDOR_PREFIXES[i2];prop=prefix?prefix+camelProp:property;if(prop in obj){return prop}i2++}return void 0}var win;if(typeof window==="undefined"){win={}}else{win=window}var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction");var NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION){return false}var touchMap={};var cssSupports=win.CSS&&win.CSS.supports;["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(val){return touchMap[val]=cssSupports?win.CSS.supports("touch-action",val):true});return touchMap}var TOUCH_ACTION_COMPUTE="compute";var TOUCH_ACTION_AUTO="auto";var TOUCH_ACTION_MANIPULATION="manipulation";var TOUCH_ACTION_NONE="none";var TOUCH_ACTION_PAN_X="pan-x";var TOUCH_ACTION_PAN_Y="pan-y";var TOUCH_ACTION_MAP=getTouchActionProps();var MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;var SUPPORT_TOUCH="ontouchstart"in win;var SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0;var SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent);var INPUT_TYPE_TOUCH="touch";var INPUT_TYPE_PEN="pen";var INPUT_TYPE_MOUSE="mouse";var INPUT_TYPE_KINECT="kinect";var COMPUTE_INTERVAL=25;var INPUT_START=1;var INPUT_MOVE=2;var INPUT_END=4;var INPUT_CANCEL=8;var DIRECTION_NONE=1;var DIRECTION_LEFT=2;var DIRECTION_RIGHT=4;var DIRECTION_UP=8;var DIRECTION_DOWN=16;var DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT;var DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL;var PROPS_XY=["x","y"];var PROPS_CLIENT_XY=["clientX","clientY"];function each(obj,iterator2,context){var i2;if(!obj){return}if(obj.forEach){obj.forEach(iterator2,context)}else if(obj.length!==void 0){i2=0;while(i2<obj.length){iterator2.call(context,obj[i2],i2,obj);i2++}}else{for(i2 in obj){obj.hasOwnProperty(i2)&&iterator2.call(context,obj[i2],i2,obj)}}}function boolOrFn(val,args2){if(typeof val===TYPE_FUNCTION){return val.apply(args2?args2[0]||void 0:void 0,args2)}return val}function inStr(str,find){return str.indexOf(find)>-1}function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE)){return TOUCH_ACTION_NONE}var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);if(hasPanX&&hasPanY){return TOUCH_ACTION_NONE}if(hasPanX||hasPanY){return hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y}if(inStr(actions,TOUCH_ACTION_MANIPULATION)){return TOUCH_ACTION_MANIPULATION}return TOUCH_ACTION_AUTO}var TouchAction=(function(){function TouchAction2(manager,value){this.manager=manager;this.set(value)}var _proto=TouchAction2.prototype;_proto.set=function set2(value){if(value===TOUCH_ACTION_COMPUTE){value=this.compute()}if(NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[value]){this.manager.element.style[PREFIXED_TOUCH_ACTION]=value}this.actions=value.toLowerCase().trim()};_proto.update=function update(){this.set(this.manager.options.touchAction)};_proto.compute=function compute(){var actions=[];each(this.manager.recognizers,function(recognizer){if(boolOrFn(recognizer.options.enable,[recognizer])){actions=actions.concat(recognizer.getTouchAction())}});return cleanTouchActions(actions.join(" "))};_proto.preventDefaults=function preventDefaults(input){var srcEvent=input.srcEvent;var direction=input.offsetDirection;if(this.manager.session.prevented){srcEvent.preventDefault();return}var actions=this.actions;var hasNone=inStr(actions,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(hasNone){var isTapPointer=input.pointers.length===1;var isTapMovement=input.distance<2;var isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime){return}}if(hasPanX&&hasPanY){return}if(hasNone||hasPanY&&direction&DIRECTION_HORIZONTAL||hasPanX&&direction&DIRECTION_VERTICAL){return this.preventSrc(srcEvent)}};_proto.preventSrc=function preventSrc(srcEvent){this.manager.session.prevented=true;srcEvent.preventDefault()};return TouchAction2})();function hasParent(node2,parent2){while(node2){if(node2===parent2){return true}node2=node2.parentNode}return false}function getCenter(pointers){var pointersLength=pointers.length;if(pointersLength===1){return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)}}var x=0;var y=0;var i2=0;while(i2<pointersLength){x+=pointers[i2].clientX;y+=pointers[i2].clientY;i2++}return{x:round(x/pointersLength),y:round(y/pointersLength)}}function simpleCloneInputData(input){var pointers=[];var i2=0;while(i2<input.pointers.length){pointers[i2]={clientX:round(input.pointers[i2].clientX),clientY:round(input.pointers[i2].clientY)};i2++}return{timeStamp:now(),pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getDistance(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]];var y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]];var y=p2[props[1]]-p1[props[1]];return Math.atan2(y,x)*180/Math.PI}function getDirection(x,y){if(x===y){return DIRECTION_NONE}if(abs(x)>=abs(y)){return x<0?DIRECTION_LEFT:DIRECTION_RIGHT}return y<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(session,input){var center=input.center;var offset=session.offsetDelta||{};var prevDelta=session.prevDelta||{};var prevInput=session.prevInput||{};if(input.eventType===INPUT_START||prevInput.eventType===INPUT_END){prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0};offset=session.offsetDelta={x:center.x,y:center.y}}input.deltaX=prevDelta.x+(center.x-offset.x);input.deltaY=prevDelta.y+(center.y-offset.y)}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function computeIntervalInputData(session,input){var last=session.lastInterval||input;var deltaTime=input.timeStamp-last.timeStamp;var velocity;var velocityX;var velocityY;var direction;if(input.eventType!==INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===void 0)){var deltaX=input.deltaX-last.deltaX;var deltaY=input.deltaY-last.deltaY;var v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x;velocityY=v.y;velocity=abs(v.x)>abs(v.y)?v.x:v.y;direction=getDirection(deltaX,deltaY);session.lastInterval=input}else{velocity=last.velocity;velocityX=last.velocityX;velocityY=last.velocityY;direction=last.direction}input.velocity=velocity;input.velocityX=velocityX;input.velocityY=velocityY;input.direction=direction}function computeInputData(manager,input){var session=manager.session;var pointers=input.pointers;var pointersLength=pointers.length;if(!session.firstInput){session.firstInput=simpleCloneInputData(input)}if(pointersLength>1&&!session.firstMultiple){session.firstMultiple=simpleCloneInputData(input)}else if(pointersLength===1){session.firstMultiple=false}var firstInput=session.firstInput,firstMultiple=session.firstMultiple;var offsetCenter=firstMultiple?firstMultiple.center:firstInput.center;var center=input.center=getCenter(pointers);input.timeStamp=now();input.deltaTime=input.timeStamp-firstInput.timeStamp;input.angle=getAngle(offsetCenter,center);input.distance=getDistance(offsetCenter,center);computeDeltaXY(session,input);input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x;input.overallVelocityY=overallVelocity.y;input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y;input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1;input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0;input.maxPointers=!session.prevInput?input.pointers.length:input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers;computeIntervalInputData(session,input);var target=manager.element;var srcEvent=input.srcEvent;var srcEventTarget;if(srcEvent.composedPath){srcEventTarget=srcEvent.composedPath()[0]}else if(srcEvent.path){srcEventTarget=srcEvent.path[0]}else{srcEventTarget=srcEvent.target}if(hasParent(srcEventTarget,target)){target=srcEventTarget}input.target=target}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length;var changedPointersLen=input.changedPointers.length;var isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen===0;var isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen===0;input.isFirst=!!isFirst;input.isFinal=!!isFinal;if(isFirst){manager.session={}}input.eventType=eventType;computeInputData(manager,input);manager.emit("hammer.input",input);manager.recognize(input);manager.session.prevInput=input}function splitStr(str){return str.trim().split(/\s+/g)}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,false)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,false)})}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var Input=(function(){function Input2(manager,callback){var self2=this;this.manager=manager;this.callback=callback;this.element=manager.element;this.target=manager.options.inputTarget;this.domHandler=function(ev){if(boolOrFn(manager.options.enable,[manager])){self2.handler(ev)}};this.init()}var _proto=Input2.prototype;_proto.handler=function handler(){};_proto.init=function init(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)};_proto.destroy=function destroy(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)};return Input2})();function inArray(src,find,findByKey){if(src.indexOf&&!findByKey){return src.indexOf(find)}else{var i2=0;while(i2<src.length){if(findByKey&&src[i2][findByKey]==find||!findByKey&&src[i2]===find){return i2}i2++}return-1}}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL};var IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT};var POINTER_ELEMENT_EVENTS="pointerdown";var POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";if(win.MSPointerEvent&&!win.PointerEvent){POINTER_ELEMENT_EVENTS="MSPointerDown";POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"}var PointerEventInput=(function(_Input){_inheritsLoose(PointerEventInput2,_Input);function PointerEventInput2(){var _this;var proto=PointerEventInput2.prototype;proto.evEl=POINTER_ELEMENT_EVENTS;proto.evWin=POINTER_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.store=_this.manager.session.pointerEvents=[];return _this}var _proto=PointerEventInput2.prototype;_proto.handler=function handler(ev){var store2=this.store;var removePointer=false;var eventTypeNormalized=ev.type.toLowerCase().replace("ms","");var eventType=POINTER_INPUT_MAP[eventTypeNormalized];var pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType;var isTouch=pointerType===INPUT_TYPE_TOUCH;var storeIndex=inArray(store2,ev.pointerId,"pointerId");if(eventType&INPUT_START&&(ev.button===0||isTouch)){if(storeIndex<0){store2.push(ev);storeIndex=store2.length-1}}else if(eventType&(INPUT_END|INPUT_CANCEL)){removePointer=true}if(storeIndex<0){return}store2[storeIndex]=ev;this.callback(this.manager,eventType,{pointers:store2,changedPointers:[ev],pointerType,srcEvent:ev});if(removePointer){store2.splice(storeIndex,1)}};return PointerEventInput2})(Input);function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort2){var results=[];var values2=[];var i2=0;while(i2<src.length){var val=key?src[i2][key]:src[i2];if(inArray(values2,val)<0){results.push(src[i2])}values2[i2]=val;i2++}if(sort2){if(!key){results=results.sort()}else{results=results.sort(function(a,b){return a[key]>b[key]})}}return results}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";var TouchInput=(function(_Input){_inheritsLoose(TouchInput2,_Input);function TouchInput2(){var _this;TouchInput2.prototype.evTarget=TOUCH_TARGET_EVENTS;_this=_Input.apply(this,arguments)||this;_this.targetIds={};return _this}var _proto=TouchInput2.prototype;_proto.handler=function handler(ev){var type=TOUCH_INPUT_MAP[ev.type];var touches=getTouches.call(this,ev,type);if(!touches){return}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})};return TouchInput2})(Input);function getTouches(ev,type){var allTouches=toArray(ev.touches);var targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&allTouches.length===1){targetIds[allTouches[0].identifier]=true;return[allTouches,allTouches]}var i2;var targetTouches;var changedTouches=toArray(ev.changedTouches);var changedTargetTouches=[];var target=this.target;targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)});if(type===INPUT_START){i2=0;while(i2<targetTouches.length){targetIds[targetTouches[i2].identifier]=true;i2++}}i2=0;while(i2<changedTouches.length){if(targetIds[changedTouches[i2].identifier]){changedTargetTouches.push(changedTouches[i2])}if(type&(INPUT_END|INPUT_CANCEL)){delete targetIds[changedTouches[i2].identifier]}i2++}if(!changedTargetTouches.length){return}return[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",true),changedTargetTouches]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};var MOUSE_ELEMENT_EVENTS="mousedown";var MOUSE_WINDOW_EVENTS="mousemove mouseup";var MouseInput=(function(_Input){_inheritsLoose(MouseInput2,_Input);function MouseInput2(){var _this;var proto=MouseInput2.prototype;proto.evEl=MOUSE_ELEMENT_EVENTS;proto.evWin=MOUSE_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.pressed=false;return _this}var _proto=MouseInput2.prototype;_proto.handler=function handler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];if(eventType&INPUT_START&&ev.button===0){this.pressed=true}if(eventType&INPUT_MOVE&&ev.which!==1){eventType=INPUT_END}if(!this.pressed){return}if(eventType&INPUT_END){this.pressed=false}this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev})};return MouseInput2})(Input);var DEDUP_TIMEOUT=2500;var DEDUP_DISTANCE=25;function setLastTouch(eventData){var _eventData$changedPoi=eventData.changedPointers,touch=_eventData$changedPoi[0];if(touch.identifier===this.primaryTouch){var lastTouch={x:touch.clientX,y:touch.clientY};var lts=this.lastTouches;this.lastTouches.push(lastTouch);var removeLastTouch=function removeLastTouch2(){var i2=lts.indexOf(lastTouch);if(i2>-1){lts.splice(i2,1)}};setTimeout(removeLastTouch,DEDUP_TIMEOUT)}}function recordTouches(eventType,eventData){if(eventType&INPUT_START){this.primaryTouch=eventData.changedPointers[0].identifier;setLastTouch.call(this,eventData)}else if(eventType&(INPUT_END|INPUT_CANCEL)){setLastTouch.call(this,eventData)}}function isSyntheticEvent(eventData){var x=eventData.srcEvent.clientX;var y=eventData.srcEvent.clientY;for(var i2=0;i2<this.lastTouches.length;i2++){var t=this.lastTouches[i2];var dx=Math.abs(x-t.x);var dy=Math.abs(y-t.y);if(dx<=DEDUP_DISTANCE&&dy<=DEDUP_DISTANCE){return true}}return false}var TouchMouseInput=(function(){var TouchMouseInput2=(function(_Input){_inheritsLoose(TouchMouseInput3,_Input);function TouchMouseInput3(_manager,callback){var _this;_this=_Input.call(this,_manager,callback)||this;_this.handler=function(manager,inputEvent,inputData){var isTouch=inputData.pointerType===INPUT_TYPE_TOUCH;var isMouse=inputData.pointerType===INPUT_TYPE_MOUSE;if(isMouse&&inputData.sourceCapabilities&&inputData.sourceCapabilities.firesTouchEvents){return}if(isTouch){recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)),inputEvent,inputData)}else if(isMouse&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)),inputData)){return}_this.callback(manager,inputEvent,inputData)};_this.touch=new TouchInput(_this.manager,_this.handler);_this.mouse=new MouseInput(_this.manager,_this.handler);_this.primaryTouch=null;_this.lastTouches=[];return _this}var _proto=TouchMouseInput3.prototype;_proto.destroy=function destroy(){this.touch.destroy();this.mouse.destroy()};return TouchMouseInput3})(Input);return TouchMouseInput2})();function createInputInstance(manager){var Type;var inputClass=manager.options.inputClass;if(inputClass){Type=inputClass}else if(SUPPORT_POINTER_EVENTS){Type=PointerEventInput}else if(SUPPORT_ONLY_TOUCH){Type=TouchInput}else if(!SUPPORT_TOUCH){Type=MouseInput}else{Type=TouchMouseInput}return new Type(manager,inputHandler)}function invokeArrayArg(arg,fn,context){if(Array.isArray(arg)){each(arg,context[fn],context);return true}return false}var STATE_POSSIBLE=1;var STATE_BEGAN=2;var STATE_CHANGED=4;var STATE_ENDED=8;var STATE_RECOGNIZED=STATE_ENDED;var STATE_CANCELLED=16;var STATE_FAILED=32;var _uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;if(manager){return manager.get(otherRecognizer)}return otherRecognizer}function stateStr(state){if(state&STATE_CANCELLED){return"cancel"}else if(state&STATE_ENDED){return"end"}else if(state&STATE_CHANGED){return"move"}else if(state&STATE_BEGAN){return"start"}return""}var Recognizer=(function(){function Recognizer2(options){if(options===void 0){options={}}this.options=_extends({enable:true},options);this.id=uniqueId();this.manager=null;this.state=STATE_POSSIBLE;this.simultaneous={};this.requireFail=[]}var _proto=Recognizer2.prototype;_proto.set=function set2(options){assign$1$1(this.options,options);this.manager&&this.manager.touchAction.update();return this};_proto.recognizeWith=function recognizeWith(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this)){return this}var simultaneous=this.simultaneous;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(!simultaneous[otherRecognizer.id]){simultaneous[otherRecognizer.id]=otherRecognizer;otherRecognizer.recognizeWith(this)}return this};_proto.dropRecognizeWith=function dropRecognizeWith(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);delete this.simultaneous[otherRecognizer.id];return this};_proto.requireFailure=function requireFailure(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this)){return this}var requireFail=this.requireFail;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(inArray(requireFail,otherRecognizer)===-1){requireFail.push(otherRecognizer);otherRecognizer.requireFailure(this)}return this};_proto.dropRequireFailure=function dropRequireFailure(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index2=inArray(this.requireFail,otherRecognizer);if(index2>-1){this.requireFail.splice(index2,1)}return this};_proto.hasRequireFailures=function hasRequireFailures(){return this.requireFail.length>0};_proto.canRecognizeWith=function canRecognizeWith(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]};_proto.emit=function emit(input){var self2=this;var state=this.state;function emit2(event){self2.manager.emit(event,input)}if(state<STATE_ENDED){emit2(self2.options.event+stateStr(state))}emit2(self2.options.event);if(input.additionalEvent){emit2(input.additionalEvent)}if(state>=STATE_ENDED){emit2(self2.options.event+stateStr(state))}};_proto.tryEmit=function tryEmit(input){if(this.canEmit()){return this.emit(input)}this.state=STATE_FAILED};_proto.canEmit=function canEmit(){var i2=0;while(i2<this.requireFail.length){if(!(this.requireFail[i2].state&(STATE_FAILED|STATE_POSSIBLE))){return false}i2++}return true};_proto.recognize=function recognize(inputData){var inputDataClone=assign$1$1({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone])){this.reset();this.state=STATE_FAILED;return}if(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)){this.state=STATE_POSSIBLE}this.state=this.process(inputDataClone);if(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)){this.tryEmit(inputDataClone)}};_proto.process=function process22(inputData){};_proto.getTouchAction=function getTouchAction(){};_proto.reset=function reset(){};return Recognizer2})();var TapRecognizer=(function(_Recognizer){_inheritsLoose(TapRecognizer2,_Recognizer);function TapRecognizer2(options){var _this;if(options===void 0){options={}}_this=_Recognizer.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},options))||this;_this.pTime=false;_this.pCenter=false;_this._timer=null;_this._input=null;_this.count=0;return _this}var _proto=TapRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_MANIPULATION]};_proto.process=function process22(input){var _this2=this;var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTouchTime=input.deltaTime<options.time;this.reset();if(input.eventType&INPUT_START&&this.count===0){return this.failTimeout()}if(validMovement&&validTouchTime&&validPointers){if(input.eventType!==INPUT_END){return this.failTimeout()}var validInterval=this.pTime?input.timeStamp-this.pTime<options.interval:true;var validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp;this.pCenter=input.center;if(!validMultiTap||!validInterval){this.count=1}else{this.count+=1}this._input=input;var tapCount=this.count%options.taps;if(tapCount===0){if(!this.hasRequireFailures()){return STATE_RECOGNIZED}else{this._timer=setTimeout(function(){_this2.state=STATE_RECOGNIZED;_this2.tryEmit()},options.interval);return STATE_BEGAN}}}return STATE_FAILED};_proto.failTimeout=function failTimeout(){var _this3=this;this._timer=setTimeout(function(){_this3.state=STATE_FAILED},this.options.interval);return STATE_FAILED};_proto.reset=function reset(){clearTimeout(this._timer)};_proto.emit=function emit(){if(this.state===STATE_RECOGNIZED){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}};return TapRecognizer2})(Recognizer);var AttrRecognizer=(function(_Recognizer){_inheritsLoose(AttrRecognizer2,_Recognizer);function AttrRecognizer2(options){if(options===void 0){options={}}return _Recognizer.call(this,_extends({pointers:1},options))||this}var _proto=AttrRecognizer2.prototype;_proto.attrTest=function attrTest(input){var optionPointers=this.options.pointers;return optionPointers===0||input.pointers.length===optionPointers};_proto.process=function process22(input){var state=this.state;var eventType=input.eventType;var isRecognized=state&(STATE_BEGAN|STATE_CHANGED);var isValid=this.attrTest(input);if(isRecognized&&(eventType&INPUT_CANCEL||!isValid)){return state|STATE_CANCELLED}else if(isRecognized||isValid){if(eventType&INPUT_END){return state|STATE_ENDED}else if(!(state&STATE_BEGAN)){return STATE_BEGAN}return state|STATE_CHANGED}return STATE_FAILED};return AttrRecognizer2})(Recognizer);function directionStr(direction){if(direction===DIRECTION_DOWN){return"down"}else if(direction===DIRECTION_UP){return"up"}else if(direction===DIRECTION_LEFT){return"left"}else if(direction===DIRECTION_RIGHT){return"right"}return""}var PanRecognizer=(function(_AttrRecognizer){_inheritsLoose(PanRecognizer2,_AttrRecognizer);function PanRecognizer2(options){var _this;if(options===void 0){options={}}_this=_AttrRecognizer.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},options))||this;_this.pX=null;_this.pY=null;return _this}var _proto=PanRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){var direction=this.options.direction;var actions=[];if(direction&DIRECTION_HORIZONTAL){actions.push(TOUCH_ACTION_PAN_Y)}if(direction&DIRECTION_VERTICAL){actions.push(TOUCH_ACTION_PAN_X)}return actions};_proto.directionTest=function directionTest(input){var options=this.options;var hasMoved=true;var distance=input.distance;var direction=input.direction;var x=input.deltaX;var y=input.deltaY;if(!(direction&options.direction)){if(options.direction&DIRECTION_HORIZONTAL){direction=x===0?DIRECTION_NONE:x<0?DIRECTION_LEFT:DIRECTION_RIGHT;hasMoved=x!==this.pX;distance=Math.abs(input.deltaX)}else{direction=y===0?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN;hasMoved=y!==this.pY;distance=Math.abs(input.deltaY)}}input.direction=direction;return hasMoved&&distance>options.threshold&&direction&options.direction};_proto.attrTest=function attrTest(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))};_proto.emit=function emit(input){this.pX=input.deltaX;this.pY=input.deltaY;var direction=directionStr(input.direction);if(direction){input.additionalEvent=this.options.event+direction}_AttrRecognizer.prototype.emit.call(this,input)};return PanRecognizer2})(AttrRecognizer);var SwipeRecognizer=(function(_AttrRecognizer){_inheritsLoose(SwipeRecognizer2,_AttrRecognizer);function SwipeRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},options))||this}var _proto=SwipeRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return PanRecognizer.prototype.getTouchAction.call(this)};_proto.attrTest=function attrTest(input){var direction=this.options.direction;var velocity;if(direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)){velocity=input.overallVelocity}else if(direction&DIRECTION_HORIZONTAL){velocity=input.overallVelocityX}else if(direction&DIRECTION_VERTICAL){velocity=input.overallVelocityY}return _AttrRecognizer.prototype.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers===this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END};_proto.emit=function emit(input){var direction=directionStr(input.offsetDirection);if(direction){this.manager.emit(this.options.event+direction,input)}this.manager.emit(this.options.event,input)};return SwipeRecognizer2})(AttrRecognizer);var PinchRecognizer=(function(_AttrRecognizer){_inheritsLoose(PinchRecognizer2,_AttrRecognizer);function PinchRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"pinch",threshold:0,pointers:2},options))||this}var _proto=PinchRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_NONE]};_proto.attrTest=function attrTest(input){return _AttrRecognizer.prototype.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)};_proto.emit=function emit(input){if(input.scale!==1){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}_AttrRecognizer.prototype.emit.call(this,input)};return PinchRecognizer2})(AttrRecognizer);var RotateRecognizer=(function(_AttrRecognizer){_inheritsLoose(RotateRecognizer2,_AttrRecognizer);function RotateRecognizer2(options){if(options===void 0){options={}}return _AttrRecognizer.call(this,_extends({event:"rotate",threshold:0,pointers:2},options))||this}var _proto=RotateRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_NONE]};_proto.attrTest=function attrTest(input){return _AttrRecognizer.prototype.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)};return RotateRecognizer2})(AttrRecognizer);var PressRecognizer=(function(_Recognizer){_inheritsLoose(PressRecognizer2,_Recognizer);function PressRecognizer2(options){var _this;if(options===void 0){options={}}_this=_Recognizer.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},options))||this;_this._timer=null;_this._input=null;return _this}var _proto=PressRecognizer2.prototype;_proto.getTouchAction=function getTouchAction(){return[TOUCH_ACTION_AUTO]};_proto.process=function process22(input){var _this2=this;var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTime=input.deltaTime>options.time;this._input=input;if(!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime){this.reset()}else if(input.eventType&INPUT_START){this.reset();this._timer=setTimeout(function(){_this2.state=STATE_RECOGNIZED;_this2.tryEmit()},options.time)}else if(input.eventType&INPUT_END){return STATE_RECOGNIZED}return STATE_FAILED};_proto.reset=function reset(){clearTimeout(this._timer)};_proto.emit=function emit(input){if(this.state!==STATE_RECOGNIZED){return}if(input&&input.eventType&INPUT_END){this.manager.emit(this.options.event+"up",input)}else{this._input.timeStamp=now();this.manager.emit(this.options.event,this._input)}};return PressRecognizer2})(Recognizer);var defaults={domEvents:false,touchAction:TOUCH_ACTION_COMPUTE,enable:true,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var preset=[[RotateRecognizer,{enable:false}],[PinchRecognizer,{enable:false},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]];var STOP=1;var FORCED_STOP=2;function toggleCssProps(manager,add){var element=manager.element;if(!element.style){return}var prop;each(manager.options.cssProps,function(value,name){prop=prefixed(element.style,name);if(add){manager.oldCssProps[prop]=element.style[prop];element.style[prop]=value}else{element.style[prop]=manager.oldCssProps[prop]||""}});if(!add){manager.oldCssProps={}}}function triggerDomEvent(event,data2){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,true,true);gestureEvent.gesture=data2;data2.target.dispatchEvent(gestureEvent)}var Manager=(function(){function Manager2(element,options){var _this=this;this.options=assign$1$1({},defaults,options||{});this.options.inputTarget=this.options.inputTarget||element;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=element;this.input=createInputInstance(this);this.touchAction=new TouchAction(this,this.options.touchAction);toggleCssProps(this,true);each(this.options.recognizers,function(item){var recognizer=_this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]);item[3]&&recognizer.requireFailure(item[3])},this)}var _proto=Manager2.prototype;_proto.set=function set2(options){assign$1$1(this.options,options);if(options.touchAction){this.touchAction.update()}if(options.inputTarget){this.input.destroy();this.input.target=options.inputTarget;this.input.init()}return this};_proto.stop=function stop(force){this.session.stopped=force?FORCED_STOP:STOP};_proto.recognize=function recognize(inputData){var session=this.session;if(session.stopped){return}this.touchAction.preventDefaults(inputData);var recognizer;var recognizers=this.recognizers;var curRecognizer=session.curRecognizer;if(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED){session.curRecognizer=null;curRecognizer=null}var i2=0;while(i2<recognizers.length){recognizer=recognizers[i2];if(session.stopped!==FORCED_STOP&&(!curRecognizer||recognizer===curRecognizer||recognizer.canRecognizeWith(curRecognizer))){recognizer.recognize(inputData)}else{recognizer.reset()}if(!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)){session.curRecognizer=recognizer;curRecognizer=recognizer}i2++}};_proto.get=function get2(recognizer){if(recognizer instanceof Recognizer){return recognizer}var recognizers=this.recognizers;for(var i2=0;i2<recognizers.length;i2++){if(recognizers[i2].options.event===recognizer){return recognizers[i2]}}return null};_proto.add=function add(recognizer){if(invokeArrayArg(recognizer,"add",this)){return this}var existing=this.get(recognizer.options.event);if(existing){this.remove(existing)}this.recognizers.push(recognizer);recognizer.manager=this;this.touchAction.update();return recognizer};_proto.remove=function remove(recognizer){if(invokeArrayArg(recognizer,"remove",this)){return this}var targetRecognizer=this.get(recognizer);if(recognizer){var recognizers=this.recognizers;var index2=inArray(recognizers,targetRecognizer);if(index2!==-1){recognizers.splice(index2,1);this.touchAction.update()}}return this};_proto.on=function on(events,handler){if(events===void 0||handler===void 0){return this}var handlers=this.handlers;each(splitStr(events),function(event){handlers[event]=handlers[event]||[];handlers[event].push(handler)});return this};_proto.off=function off(events,handler){if(events===void 0){return this}var handlers=this.handlers;each(splitStr(events),function(event){if(!handler){delete handlers[event]}else{handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1)}});return this};_proto.emit=function emit(event,data2){if(this.options.domEvents){triggerDomEvent(event,data2)}var handlers=this.handlers[event]&&this.handlers[event].slice();if(!handlers||!handlers.length){return}data2.type=event;data2.preventDefault=function(){data2.srcEvent.preventDefault()};var i2=0;while(i2<handlers.length){handlers[i2](data2);i2++}};_proto.destroy=function destroy(){this.element&&toggleCssProps(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null};return Manager2})();var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var SINGLE_TOUCH_TARGET_EVENTS="touchstart";var SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";var SingleTouchInput=(function(_Input){_inheritsLoose(SingleTouchInput2,_Input);function SingleTouchInput2(){var _this;var proto=SingleTouchInput2.prototype;proto.evTarget=SINGLE_TOUCH_TARGET_EVENTS;proto.evWin=SINGLE_TOUCH_WINDOW_EVENTS;_this=_Input.apply(this,arguments)||this;_this.started=false;return _this}var _proto=SingleTouchInput2.prototype;_proto.handler=function handler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START){this.started=true}if(!this.started){return}var touches=normalizeSingleTouches.call(this,ev,type);if(type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0){this.started=false}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})};return SingleTouchInput2})(Input);function normalizeSingleTouches(ev,type){var all=toArray(ev.touches);var changed=toArray(ev.changedTouches);if(type&(INPUT_END|INPUT_CANCEL)){all=uniqueArray(all.concat(changed),"identifier",true)}return[all,changed]}function deprecate(method2,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace");var stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var log=window.console&&(window.console.warn||window.console.log);if(log){log.call(window.console,deprecationMessage,stack)}return method2.apply(this,arguments)}}var extend=deprecate(function(dest,src,merge2){var keys2=Object.keys(src);var i2=0;while(i2<keys2.length){if(!merge2||merge2&&dest[keys2[i2]]===void 0){dest[keys2[i2]]=src[keys2[i2]]}i2++}return dest},"extend","Use `assign`.");var merge$1=deprecate(function(dest,src){return extend(dest,src,true)},"merge","Use `assign`.");function inherit(child,base,properties){var baseP=base.prototype;var childP;childP=child.prototype=Object.create(baseP);childP.constructor=child;childP._super=baseP;if(properties){assign$1$1(childP,properties)}}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}var Hammer=(function(){var Hammer2=(function Hammer3(element,options){if(options===void 0){options={}}return new Manager(element,_extends({recognizers:preset.concat()},options))});Hammer2.VERSION="2.0.17-rc";Hammer2.DIRECTION_ALL=DIRECTION_ALL;Hammer2.DIRECTION_DOWN=DIRECTION_DOWN;Hammer2.DIRECTION_LEFT=DIRECTION_LEFT;Hammer2.DIRECTION_RIGHT=DIRECTION_RIGHT;Hammer2.DIRECTION_UP=DIRECTION_UP;Hammer2.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL;Hammer2.DIRECTION_VERTICAL=DIRECTION_VERTICAL;Hammer2.DIRECTION_NONE=DIRECTION_NONE;Hammer2.DIRECTION_DOWN=DIRECTION_DOWN;Hammer2.INPUT_START=INPUT_START;Hammer2.INPUT_MOVE=INPUT_MOVE;Hammer2.INPUT_END=INPUT_END;Hammer2.INPUT_CANCEL=INPUT_CANCEL;Hammer2.STATE_POSSIBLE=STATE_POSSIBLE;Hammer2.STATE_BEGAN=STATE_BEGAN;Hammer2.STATE_CHANGED=STATE_CHANGED;Hammer2.STATE_ENDED=STATE_ENDED;Hammer2.STATE_RECOGNIZED=STATE_RECOGNIZED;Hammer2.STATE_CANCELLED=STATE_CANCELLED;Hammer2.STATE_FAILED=STATE_FAILED;Hammer2.Manager=Manager;Hammer2.Input=Input;Hammer2.TouchAction=TouchAction;Hammer2.TouchInput=TouchInput;Hammer2.MouseInput=MouseInput;Hammer2.PointerEventInput=PointerEventInput;Hammer2.TouchMouseInput=TouchMouseInput;Hammer2.SingleTouchInput=SingleTouchInput;Hammer2.Recognizer=Recognizer;Hammer2.AttrRecognizer=AttrRecognizer;Hammer2.Tap=TapRecognizer;Hammer2.Pan=PanRecognizer;Hammer2.Swipe=SwipeRecognizer;Hammer2.Pinch=PinchRecognizer;Hammer2.Rotate=RotateRecognizer;Hammer2.Press=PressRecognizer;Hammer2.on=addEventListeners;Hammer2.off=removeEventListeners;Hammer2.each=each;Hammer2.merge=merge$1;Hammer2.extend=extend;Hammer2.bindFn=bindFn;Hammer2.assign=assign$1$1;Hammer2.inherit=inherit;Hammer2.bindFn=bindFn;Hammer2.prefixed=prefixed;Hammer2.toArray=toArray;Hammer2.inArray=inArray;Hammer2.uniqueArray=uniqueArray;Hammer2.splitStr=splitStr;Hammer2.boolOrFn=boolOrFn;Hammer2.hasParent=hasParent;Hammer2.addEventListeners=addEventListeners;Hammer2.removeEventListeners=removeEventListeners;Hammer2.defaults=assign$1$1({},defaults,{preset});return Hammer2})();var RealHammer=Hammer;const DELETE=Symbol("DELETE");function pureDeepObjectAssign(base,...updates){return deepObjectAssign({},base,...updates)}function deepObjectAssign(...values2){const merged=deepObjectAssignNonentry(...values2);stripDelete(merged);return merged}function deepObjectAssignNonentry(...values2){if(values2.length<2){return values2[0]}else if(values2.length>2){return deepObjectAssignNonentry(deepObjectAssign(values2[0],values2[1]),...values2.slice(2))}const a=values2[0];const b=values2[1];if(a instanceof Date&&b instanceof Date){a.setTime(b.getTime());return a}for(const prop of Reflect.ownKeys(b)){if(!Object.prototype.propertyIsEnumerable.call(b,prop));else if(b[prop]===DELETE){delete a[prop]}else if(a[prop]!==null&&b[prop]!==null&&typeof a[prop]==="object"&&typeof b[prop]==="object"&&!Array.isArray(a[prop])&&!Array.isArray(b[prop])){a[prop]=deepObjectAssignNonentry(a[prop],b[prop])}else{a[prop]=clone(b[prop])}}return a}function clone(a){if(Array.isArray(a)){return a.map(value=>clone(value))}else if(typeof a==="object"&&a!==null){if(a instanceof Date){return new Date(a.getTime())}return deepObjectAssignNonentry({},a)}else{return a}}function stripDelete(a){for(const prop of Object.keys(a)){if(a[prop]===DELETE){delete a[prop]}else if(typeof a[prop]==="object"&&a[prop]!==null){stripDelete(a[prop])}}}function hammerMock(){const noop2=()=>{};return{on:noop2,off:noop2,destroy:noop2,emit:noop2,get(){return{set:noop2}}}}const Hammer$1=typeof window!=="undefined"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator$1(container){this._cleanupQueue=[];this.active=false;this._dom={container,overlay:document.createElement("div")};this._dom.overlay.classList.add("vis-overlay");this._dom.container.appendChild(this._dom.overlay);this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const hammer=Hammer$1(this._dom.overlay);hammer.on("tap",this._onTapOverlay.bind(this));this._cleanupQueue.push(()=>{hammer.destroy()});const events=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];events.forEach(event=>{hammer.on(event,event2=>{event2.srcEvent.stopPropagation()})});if(document&&document.body){this._onClick=event=>{if(!_hasParent(event.target,container)){this.deactivate()}};document.body.addEventListener("click",this._onClick);this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})}this._escListener=event=>{if("key"in event?event.key==="Escape":event.keyCode===27){this.deactivate()}}}Emitter(Activator$1.prototype);Activator$1.current=null;Activator$1.prototype.destroy=function(){this.deactivate();for(const callback of this._cleanupQueue.splice(0).reverse()){callback()}};Activator$1.prototype.activate=function(){if(Activator$1.current){Activator$1.current.deactivate()}Activator$1.current=this;this.active=true;this._dom.overlay.style.display="none";this._dom.container.classList.add("vis-active");this.emit("change");this.emit("activate");document.body.addEventListener("keydown",this._escListener)};Activator$1.prototype.deactivate=function(){this.active=false;this._dom.overlay.style.display="block";this._dom.container.classList.remove("vis-active");document.body.removeEventListener("keydown",this._escListener);this.emit("change");this.emit("deactivate")};Activator$1.prototype._onTapOverlay=function(event){this.activate();event.srcEvent.stopPropagation()};function _hasParent(element,parent2){while(element){if(element===parent2){return true}element=element.parentNode}return false}var isConstructor$2=isConstructor$4;var tryToString$3=tryToString$6;var $TypeError$7=TypeError;var aConstructor$2=function(argument){if(isConstructor$2(argument))return argument;throw new $TypeError$7(tryToString$3(argument)+" is not a constructor")};var $$y=_export;var getBuiltIn$5=getBuiltIn$f;var apply$3=functionApply;var bind$9=functionBind;var aConstructor$1=aConstructor$2;var anObject$7=anObject$d;var isObject$7=isObject$h;var create$9=objectCreate;var fails$d=fails$u;var nativeConstruct=getBuiltIn$5("Reflect","construct");var ObjectPrototype=Object.prototype;var push$8=[].push;var NEW_TARGET_BUG=fails$d(function(){function F(){}return!(nativeConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!fails$d(function(){nativeConstruct(function(){})});var FORCED$3=NEW_TARGET_BUG||ARGS_BUG;$$y({target:"Reflect",stat:true,forced:FORCED$3,sham:FORCED$3},{construct:function construct2(Target,args2){aConstructor$1(Target);anObject$7(args2);var newTarget=arguments.length<3?Target:aConstructor$1(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args2,newTarget);if(Target===newTarget){switch(args2.length){case 0:return new Target;case 1:return new Target(args2[0]);case 2:return new Target(args2[0],args2[1]);case 3:return new Target(args2[0],args2[1],args2[2]);case 4:return new Target(args2[0],args2[1],args2[2],args2[3])}var $args=[null];apply$3(push$8,$args,args2);return new(apply$3(bind$9,Target,$args))}var proto=newTarget.prototype;var instance=create$9(isObject$7(proto)?proto:ObjectPrototype);var result=apply$3(Target,instance,args2);return isObject$7(result)?result:instance}});var path$h=path$o;var construct$2=path$h.Reflect.construct;var parent$T=construct$2;var construct$1=parent$T;var construct=construct$1;var _Reflect$construct=getDefaultExportFromCjs(construct);var $$x=_export;var isArray$9=isArray$e;var isConstructor$1=isConstructor$4;var isObject$6=isObject$h;var toAbsoluteIndex$1=toAbsoluteIndex$4;var lengthOfArrayLike$5=lengthOfArrayLike$d;var toIndexedObject$2=toIndexedObject$a;var createProperty$3=createProperty$6;var wellKnownSymbol$7=wellKnownSymbol$n;var arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5;var nativeSlice=arraySlice$5;var HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("slice");var SPECIES$3=wellKnownSymbol$7("species");var $Array$1=Array;var max$1=Math.max;$$x({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT$1},{slice:function slice2(start,end){var O=toIndexedObject$2(this);var length2=lengthOfArrayLike$5(O);var k=toAbsoluteIndex$1(start,length2);var fin=toAbsoluteIndex$1(end===void 0?length2:end,length2);var Constructor,result,n;if(isArray$9(O)){Constructor=O.constructor;if(isConstructor$1(Constructor)&&(Constructor===$Array$1||isArray$9(Constructor.prototype))){Constructor=void 0}else if(isObject$6(Constructor)){Constructor=Constructor[SPECIES$3];if(Constructor===null)Constructor=void 0}if(Constructor===$Array$1||Constructor===void 0){return nativeSlice(O,k,fin)}}result=new(Constructor===void 0?$Array$1:Constructor)(max$1(fin-k,0));for(n=0;k<fin;k++,n++)if(k in O)createProperty$3(result,n,O[k]);result.length=n;return result}});var getBuiltInPrototypeMethod$a=getBuiltInPrototypeMethod$g;var slice$6=getBuiltInPrototypeMethod$a("Array","slice");var isPrototypeOf$d=objectIsPrototypeOf;var method$a=slice$6;var ArrayPrototype$b=Array.prototype;var slice$5=function(it){var own=it.slice;return it===ArrayPrototype$b||isPrototypeOf$d(ArrayPrototype$b,it)&&own===ArrayPrototype$b.slice?method$a:own};var parent$S=slice$5;var slice$4=parent$S;var slice$3=slice$4;var _sliceInstanceProperty$1=getDefaultExportFromCjs(slice$3);var call$a=functionCall;var anObject$6=anObject$d;var getMethod$1=getMethod$3;var iteratorClose$2=function(iterator2,kind,value){var innerResult,innerError;anObject$6(iterator2);try{innerResult=getMethod$1(iterator2,"return");if(!innerResult){if(kind==="throw")throw value;return value}innerResult=call$a(innerResult,iterator2)}catch(error){innerError=true;innerResult=error}if(kind==="throw")throw value;if(innerError)throw innerResult;anObject$6(innerResult);return value};var anObject$5=anObject$d;var iteratorClose$1=iteratorClose$2;var callWithSafeIterationClosing$1=function(iterator2,fn,value,ENTRIES2){try{return ENTRIES2?fn(anObject$5(value)[0],value[1]):fn(value)}catch(error){iteratorClose$1(iterator2,"throw",error)}};var wellKnownSymbol$6=wellKnownSymbol$n;var Iterators$1=iterators;var ITERATOR$2=wellKnownSymbol$6("iterator");var ArrayPrototype$a=Array.prototype;var isArrayIteratorMethod$2=function(it){return it!==void 0&&(Iterators$1.Array===it||ArrayPrototype$a[ITERATOR$2]===it)};var classof$5=classof$d;var getMethod=getMethod$3;var isNullOrUndefined$3=isNullOrUndefined$6;var Iterators=iterators;var wellKnownSymbol$5=wellKnownSymbol$n;var ITERATOR$1=wellKnownSymbol$5("iterator");var getIteratorMethod$9=function(it){if(!isNullOrUndefined$3(it))return getMethod(it,ITERATOR$1)||getMethod(it,"@@iterator")||Iterators[classof$5(it)]};var call$9=functionCall;var aCallable$7=aCallable$e;var anObject$4=anObject$d;var tryToString$2=tryToString$6;var getIteratorMethod$8=getIteratorMethod$9;var $TypeError$6=TypeError;var getIterator$8=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod$8(argument):usingIterator;if(aCallable$7(iteratorMethod))return anObject$4(call$9(iteratorMethod,argument));throw new $TypeError$6(tryToString$2(argument)+" is not iterable")};var bind$8=functionBindContext;var call$8=functionCall;var toObject$6=toObject$e;var callWithSafeIterationClosing=callWithSafeIterationClosing$1;var isArrayIteratorMethod$1=isArrayIteratorMethod$2;var isConstructor=isConstructor$4;var lengthOfArrayLike$4=lengthOfArrayLike$d;var createProperty$2=createProperty$6;var getIterator$7=getIterator$8;var getIteratorMethod$7=getIteratorMethod$9;var $Array=Array;var arrayFrom=function from2(arrayLike){var O=toObject$6(arrayLike);var IS_CONSTRUCTOR=isConstructor(this);var argumentsLength=arguments.length;var mapfn=argumentsLength>1?arguments[1]:void 0;var mapping=mapfn!==void 0;if(mapping)mapfn=bind$8(mapfn,argumentsLength>2?arguments[2]:void 0);var iteratorMethod=getIteratorMethod$7(O);var index2=0;var length2,result,step,iterator2,next,value;if(iteratorMethod&&!(this===$Array&&isArrayIteratorMethod$1(iteratorMethod))){iterator2=getIterator$7(O,iteratorMethod);next=iterator2.next;result=IS_CONSTRUCTOR?new this:[];for(;!(step=call$8(next,iterator2)).done;index2++){value=mapping?callWithSafeIterationClosing(iterator2,mapfn,[step.value,index2],true):step.value;createProperty$2(result,index2,value)}}else{length2=lengthOfArrayLike$4(O);result=IS_CONSTRUCTOR?new this(length2):$Array(length2);for(;length2>index2;index2++){value=mapping?mapfn(O[index2],index2):O[index2];createProperty$2(result,index2,value)}}result.length=index2;return result};var wellKnownSymbol$4=wellKnownSymbol$n;var ITERATOR=wellKnownSymbol$4("iterator");var SAFE_CLOSING=false;try{var called=0;var iteratorWithReturn={next:function(){return{done:!!called++}},"return":function(){SAFE_CLOSING=true}};iteratorWithReturn[ITERATOR]=function(){return this};Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}var checkCorrectnessOfIteration$2=function(exec2,SKIP_CLOSING){try{if(!SKIP_CLOSING&&!SAFE_CLOSING)return false}catch(error){return false}var ITERATION_SUPPORT=false;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=true}}}};exec2(object)}catch(error){}return ITERATION_SUPPORT};var $$w=_export;var from$6=arrayFrom;var checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$2;var INCORRECT_ITERATION=!checkCorrectnessOfIteration$1(function(iterable){Array.from(iterable)});$$w({target:"Array",stat:true,forced:INCORRECT_ITERATION},{from:from$6});var path$g=path$o;var from$5=path$g.Array.from;var parent$R=from$5;var from$4=parent$R;var from$3=from$4;var _Array$from$1=getDefaultExportFromCjs(from$3);var symbol=symbol$4;var _Symbol=getDefaultExportFromCjs(symbol);var getIteratorMethod$6=getIteratorMethod$9;var getIteratorMethod_1=getIteratorMethod$6;var parent$Q=getIteratorMethod_1;var getIteratorMethod$5=parent$Q;var parent$P=getIteratorMethod$5;var getIteratorMethod$4=parent$P;var parent$O=getIteratorMethod$4;var getIteratorMethod$3=parent$O;var getIteratorMethod$2=getIteratorMethod$3;var _getIteratorMethod$1=getDefaultExportFromCjs(getIteratorMethod$2);var getIteratorMethod$1=getIteratorMethod$2;var _getIteratorMethod=getDefaultExportFromCjs(getIteratorMethod$1);var path$f=path$o;var getOwnPropertySymbols$2=path$f.Object.getOwnPropertySymbols;var parent$N=getOwnPropertySymbols$2;var getOwnPropertySymbols$1=parent$N;var getOwnPropertySymbols=getOwnPropertySymbols$1;var _Object$getOwnPropertySymbols=getDefaultExportFromCjs(getOwnPropertySymbols);var getOwnPropertyDescriptor$5={exports:{}};var $$v=_export;var fails$c=fails$u;var toIndexedObject$1=toIndexedObject$a;var nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f;var DESCRIPTORS$8=descriptors;var FORCED$2=!DESCRIPTORS$8||fails$c(function(){nativeGetOwnPropertyDescriptor(1)});$$v({target:"Object",stat:true,forced:FORCED$2,sham:!DESCRIPTORS$8},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor2(it,key){return nativeGetOwnPropertyDescriptor(toIndexedObject$1(it),key)}});var path$e=path$o;var Object$3=path$e.Object;var getOwnPropertyDescriptor$4=getOwnPropertyDescriptor$5.exports=function getOwnPropertyDescriptor2(it,key){return Object$3.getOwnPropertyDescriptor(it,key)};if(Object$3.getOwnPropertyDescriptor.sham)getOwnPropertyDescriptor$4.sham=true;var getOwnPropertyDescriptorExports=getOwnPropertyDescriptor$5.exports;var parent$M=getOwnPropertyDescriptorExports;var getOwnPropertyDescriptor$3=parent$M;var getOwnPropertyDescriptor$2=getOwnPropertyDescriptor$3;var _Object$getOwnPropertyDescriptor=getDefaultExportFromCjs(getOwnPropertyDescriptor$2);var $forEach=arrayIteration.forEach;var arrayMethodIsStrict$2=arrayMethodIsStrict$4;var STRICT_METHOD$2=arrayMethodIsStrict$2("forEach");var arrayForEach=!STRICT_METHOD$2?function forEach2(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}:[].forEach;var $$u=_export;var forEach$8=arrayForEach;$$u({target:"Array",proto:true,forced:[].forEach!==forEach$8},{forEach:forEach$8});var getBuiltInPrototypeMethod$9=getBuiltInPrototypeMethod$g;var forEach$7=getBuiltInPrototypeMethod$9("Array","forEach");var parent$L=forEach$7;var forEach$6=parent$L;var classof$4=classof$d;var hasOwn$6=hasOwnProperty_1;var isPrototypeOf$c=objectIsPrototypeOf;var method$9=forEach$6;var ArrayPrototype$9=Array.prototype;var DOMIterables$3={DOMTokenList:true,NodeList:true};var forEach$5=function(it){var own=it.forEach;return it===ArrayPrototype$9||isPrototypeOf$c(ArrayPrototype$9,it)&&own===ArrayPrototype$9.forEach||hasOwn$6(DOMIterables$3,classof$4(it))?method$9:own};var forEach$4=forEach$5;var _forEachInstanceProperty=getDefaultExportFromCjs(forEach$4);var getBuiltIn$4=getBuiltIn$f;var uncurryThis$5=functionUncurryThis;var getOwnPropertyNamesModule$1=objectGetOwnPropertyNames;var getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols;var anObject$3=anObject$d;var concat$5=uncurryThis$5([].concat);var ownKeys$7=getBuiltIn$4("Reflect","ownKeys")||function ownKeys2(it){var keys2=getOwnPropertyNamesModule$1.f(anObject$3(it));var getOwnPropertySymbols2=getOwnPropertySymbolsModule$1.f;return getOwnPropertySymbols2?concat$5(keys2,getOwnPropertySymbols2(it)):keys2};var $$t=_export;var DESCRIPTORS$7=descriptors;var ownKeys$6=ownKeys$7;var toIndexedObject=toIndexedObject$a;var getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor;var createProperty$1=createProperty$6;$$t({target:"Object",stat:true,sham:!DESCRIPTORS$7},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors2(object){var O=toIndexedObject(object);var getOwnPropertyDescriptor2=getOwnPropertyDescriptorModule$1.f;var keys2=ownKeys$6(O);var result={};var index2=0;var key,descriptor;while(keys2.length>index2){descriptor=getOwnPropertyDescriptor2(O,key=keys2[index2++]);if(descriptor!==void 0)createProperty$1(result,key,descriptor)}return result}});var path$d=path$o;var getOwnPropertyDescriptors$2=path$d.Object.getOwnPropertyDescriptors;var parent$K=getOwnPropertyDescriptors$2;var getOwnPropertyDescriptors$1=parent$K;var getOwnPropertyDescriptors=getOwnPropertyDescriptors$1;var _Object$getOwnPropertyDescriptors=getDefaultExportFromCjs(getOwnPropertyDescriptors);var defineProperties$4={exports:{}};var $$s=_export;var DESCRIPTORS$6=descriptors;var defineProperties$3=objectDefineProperties.f;$$s({target:"Object",stat:true,forced:Object.defineProperties!==defineProperties$3,sham:!DESCRIPTORS$6},{defineProperties:defineProperties$3});var path$c=path$o;var Object$2=path$c.Object;var defineProperties$2=defineProperties$4.exports=function defineProperties2(T,D){return Object$2.defineProperties(T,D)};if(Object$2.defineProperties.sham)defineProperties$2.sham=true;var definePropertiesExports=defineProperties$4.exports;var parent$J=definePropertiesExports;var defineProperties$1=parent$J;var defineProperties=defineProperties$1;var _Object$defineProperties=getDefaultExportFromCjs(defineProperties);var defineProperty$3=defineProperty$b;var _Object$defineProperty=getDefaultExportFromCjs(defineProperty$3);var $$r=_export;var isArray$8=isArray$e;$$r({target:"Array",stat:true},{isArray:isArray$8});var path$b=path$o;var isArray$7=path$b.Array.isArray;var parent$I=isArray$7;var isArray$6=parent$I;var parent$H=isArray$6;var isArray$5=parent$H;var parent$G=isArray$5;var isArray$4=parent$G;var isArray$3=isArray$4;var _Array$isArray$1=getDefaultExportFromCjs(isArray$3);function _arrayLikeToArray$3(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _arrayWithoutHoles(arr){if(_Array$isArray$1(arr))return _arrayLikeToArray$3(arr)}var parent$F=from$4;var from$2=parent$F;var parent$E=from$2;var from$1=parent$E;var from=from$1;var _Array$from=getDefaultExportFromCjs(from);function _iterableToArray(iter){if(typeof _Symbol$1!=="undefined"&&_getIteratorMethod$1(iter)!=null||iter["@@iterator"]!=null)return _Array$from(iter)}var parent$D=slice$4;var slice$2=parent$D;var parent$C=slice$2;var slice$1=parent$C;var slice=slice$1;var _sliceInstanceProperty=getDefaultExportFromCjs(slice);function _unsupportedIterableToArray$3(o,minLen){var _context;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$3(o,minLen);var n=_sliceInstanceProperty(_context=Object.prototype.toString.call(o)).call(_context,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(o,minLen)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray$3(arr)||_nonIterableSpread()}function _assertThisInitialized(self2){if(self2===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self2}var $$q=_export;var DESCRIPTORS$5=descriptors;var create$8=objectCreate;$$q({target:"Object",stat:true,sham:!DESCRIPTORS$5},{create:create$8});var path$a=path$o;var Object$1=path$a.Object;var create$7=function create2(P,D){return Object$1.create(P,D)};var parent$B=create$7;var create$6=parent$B;var parent$A=create$6;var create$5=parent$A;var parent$z=create$5;var create$4=parent$z;var create$3=create$4;var _Object$create$1=getDefaultExportFromCjs(create$3);var $$p=_export;var setPrototypeOf$6=objectSetPrototypeOf;$$p({target:"Object",stat:true},{setPrototypeOf:setPrototypeOf$6});var path$9=path$o;var setPrototypeOf$5=path$9.Object.setPrototypeOf;var parent$y=setPrototypeOf$5;var setPrototypeOf$4=parent$y;var parent$x=setPrototypeOf$4;var setPrototypeOf$3=parent$x;var parent$w=setPrototypeOf$3;var setPrototypeOf$2=parent$w;var setPrototypeOf$1=setPrototypeOf$2;var _Object$setPrototypeOf=getDefaultExportFromCjs(setPrototypeOf$1);var parent$v=bind$c;var bind$7=parent$v;var parent$u=bind$7;var bind$6=parent$u;var bind$5=bind$6;var _bindInstanceProperty=getDefaultExportFromCjs(bind$5);function _setPrototypeOf(o,p){var _context;_setPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(_context=_Object$setPrototypeOf).call(_context):function _setPrototypeOf2(o2,p2){o2.__proto__=p2;return o2};return _setPrototypeOf(o,p)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=_Object$create$1(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});_Object$defineProperty$1(subClass,"prototype",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass)}function _possibleConstructorReturn(self2,call2){if(call2&&(_typeof$1(call2)==="object"||typeof call2==="function")){return call2}else if(call2!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _assertThisInitialized(self2)}var $$o=_export;var fails$b=fails$u;var toObject$5=toObject$e;var nativeGetPrototypeOf=objectGetPrototypeOf;var CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter;var FAILS_ON_PRIMITIVES$2=fails$b(function(){nativeGetPrototypeOf(1)});$$o({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES$2,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf2(it){return nativeGetPrototypeOf(toObject$5(it))}});var path$8=path$o;var getPrototypeOf$5=path$8.Object.getPrototypeOf;var parent$t=getPrototypeOf$5;var getPrototypeOf$4=parent$t;var parent$s=getPrototypeOf$4;var getPrototypeOf$3=parent$s;var parent$r=getPrototypeOf$3;var getPrototypeOf$2=parent$r;var getPrototypeOf$1=getPrototypeOf$2;var _Object$getPrototypeOf=getDefaultExportFromCjs(getPrototypeOf$1);function _getPrototypeOf(o){var _context;_getPrototypeOf=_Object$setPrototypeOf?_bindInstanceProperty(_context=_Object$getPrototypeOf).call(_context):function _getPrototypeOf2(o2){return o2.__proto__||_Object$getPrototypeOf(o2)};return _getPrototypeOf(o)}var regeneratorRuntime$1={exports:{}};var _typeof={exports:{}};(function(module2){var _Symbol2=symbol$1;var _Symbol$iterator2=iterator$1;function _typeof2(o){"@babel/helpers - typeof";return module2.exports=_typeof2="function"==typeof _Symbol2&&"symbol"==typeof _Symbol$iterator2?function(o2){return typeof o2}:function(o2){return o2&&"function"==typeof _Symbol2&&o2.constructor===_Symbol2&&o2!==_Symbol2.prototype?"symbol":typeof o2},module2.exports.__esModule=true,module2.exports["default"]=module2.exports,_typeof2(o)}module2.exports=_typeof2,module2.exports.__esModule=true,module2.exports["default"]=module2.exports})(_typeof);var _typeofExports=_typeof.exports;var parent$q=forEach$5;var forEach$3=parent$q;var parent$p=forEach$3;var forEach$2=parent$p;var forEach$1=forEach$2;var DESCRIPTORS$4=descriptors;var isArray$2=isArray$e;var $TypeError$5=TypeError;var getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;var SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$4&&!(function(){if(this!==void 0)return true;try{Object.defineProperty([],"length",{writable:false}).length=1}catch(error){return error instanceof TypeError}})();var arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(O,length2){if(isArray$2(O)&&!getOwnPropertyDescriptor$1(O,"length").writable){throw new $TypeError$5("Cannot set read only .length")}return O.length=length2}:function(O,length2){return O.length=length2};var $$n=_export;var toObject$4=toObject$e;var lengthOfArrayLike$3=lengthOfArrayLike$d;var setArrayLength$1=arraySetLength;var doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$4;var fails$a=fails$u;var INCORRECT_TO_LENGTH=fails$a(function(){return[].push.call({length:4294967296},1)!==4294967297});var properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:false}).push()}catch(error){return error instanceof TypeError}};var FORCED$1=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$n({target:"Array",proto:true,forced:FORCED$1},{push:function push2(item){var O=toObject$4(this);var len=lengthOfArrayLike$3(O);var argCount=arguments.length;doesNotExceedSafeInteger$1(len+argCount);for(var i2=0;i2<argCount;i2++){O[len]=arguments[i2];len++}setArrayLength$1(O,len);return len}});var getBuiltInPrototypeMethod$8=getBuiltInPrototypeMethod$g;var push$7=getBuiltInPrototypeMethod$8("Array","push");var isPrototypeOf$b=objectIsPrototypeOf;var method$8=push$7;var ArrayPrototype$8=Array.prototype;var push$6=function(it){var own=it.push;return it===ArrayPrototype$8||isPrototypeOf$b(ArrayPrototype$8,it)&&own===ArrayPrototype$8.push?method$8:own};var parent$o=push$6;var push$5=parent$o;var parent$n=push$5;var push$4=parent$n;var parent$m=push$4;var push$3=parent$m;var push$2=push$3;var _pushInstanceProperty=getDefaultExportFromCjs(push$2);var hasOwn$5=hasOwnProperty_1;var ownKeys$5=ownKeys$7;var getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor;var definePropertyModule=objectDefineProperty;var copyConstructorProperties$1=function(target,source,exceptions){var keys2=ownKeys$5(source);var defineProperty2=definePropertyModule.f;var getOwnPropertyDescriptor2=getOwnPropertyDescriptorModule.f;for(var i2=0;i2<keys2.length;i2++){var key=keys2[i2];if(!hasOwn$5(target,key)&&!(exceptions&&hasOwn$5(exceptions,key))){defineProperty2(target,key,getOwnPropertyDescriptor2(source,key))}}};var isObject$5=isObject$h;var createNonEnumerableProperty$3=createNonEnumerableProperty$9;var installErrorCause$1=function(O,options){if(isObject$5(options)&&"cause"in options){createNonEnumerableProperty$3(O,"cause",options.cause)}};var uncurryThis$4=functionUncurryThis;var $Error$1=Error;var replace=uncurryThis$4("".replace);var TEST=(function(arg){return String(new $Error$1(arg).stack)})("zxcasd");var V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/;var IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST);var errorStackClear=function(stack,dropEntries){if(IS_V8_OR_CHAKRA_STACK&&typeof stack=="string"&&!$Error$1.prepareStackTrace){while(dropEntries--)stack=replace(stack,V8_OR_CHAKRA_STACK_ENTRY,"")}return stack};var fails$9=fails$u;var createPropertyDescriptor$1=createPropertyDescriptor$7;var errorStackInstallable=!fails$9(function(){var error=new Error("a");if(!("stack"in error))return true;Object.defineProperty(error,"stack",createPropertyDescriptor$1(1,7));return error.stack!==7});var createNonEnumerableProperty$2=createNonEnumerableProperty$9;var clearErrorStack=errorStackClear;var ERROR_STACK_INSTALLABLE=errorStackInstallable;var captureStackTrace=Error.captureStackTrace;var errorStackInstall=function(error,C,stack,dropEntries){if(ERROR_STACK_INSTALLABLE){if(captureStackTrace)captureStackTrace(error,C);else createNonEnumerableProperty$2(error,"stack",clearErrorStack(stack,dropEntries))}};var bind$4=functionBindContext;var call$7=functionCall;var anObject$2=anObject$d;var tryToString$1=tryToString$6;var isArrayIteratorMethod=isArrayIteratorMethod$2;var lengthOfArrayLike$2=lengthOfArrayLike$d;var isPrototypeOf$a=objectIsPrototypeOf;var getIterator$6=getIterator$8;var getIteratorMethod=getIteratorMethod$9;var iteratorClose=iteratorClose$2;var $TypeError$4=TypeError;var Result=function(stopped,result){this.stopped=stopped;this.result=result};var ResultPrototype=Result.prototype;var iterate$7=function(iterable,unboundFunction,options){var that=options&&options.that;var AS_ENTRIES=!!(options&&options.AS_ENTRIES);var IS_RECORD=!!(options&&options.IS_RECORD);var IS_ITERATOR=!!(options&&options.IS_ITERATOR);var INTERRUPTED=!!(options&&options.INTERRUPTED);var fn=bind$4(unboundFunction,that);var iterator2,iterFn,index2,length2,result,next,step;var stop=function(condition){if(iterator2)iteratorClose(iterator2,"normal",condition);return new Result(true,condition)};var callFn=function(value){if(AS_ENTRIES){anObject$2(value);return INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])}return INTERRUPTED?fn(value,stop):fn(value)};if(IS_RECORD){iterator2=iterable.iterator}else if(IS_ITERATOR){iterator2=iterable}else{iterFn=getIteratorMethod(iterable);if(!iterFn)throw new $TypeError$4(tryToString$1(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index2=0,length2=lengthOfArrayLike$2(iterable);length2>index2;index2++){result=callFn(iterable[index2]);if(result&&isPrototypeOf$a(ResultPrototype,result))return result}return new Result(false)}iterator2=getIterator$6(iterable,iterFn)}next=IS_RECORD?iterable.next:iterator2.next;while(!(step=call$7(next,iterator2)).done){try{result=callFn(step.value)}catch(error){iteratorClose(iterator2,"throw",error)}if(typeof result=="object"&&result&&isPrototypeOf$a(ResultPrototype,result))return result}return new Result(false)};var toString$1=toString$7;var normalizeStringArgument$1=function(argument,$default){return argument===void 0?arguments.length<2?"":$default:toString$1(argument)};var $$m=_export;var isPrototypeOf$9=objectIsPrototypeOf;var getPrototypeOf=objectGetPrototypeOf;var setPrototypeOf=objectSetPrototypeOf;var copyConstructorProperties=copyConstructorProperties$1;var create$2=objectCreate;var createNonEnumerableProperty$1=createNonEnumerableProperty$9;var createPropertyDescriptor=createPropertyDescriptor$7;var installErrorCause=installErrorCause$1;var installErrorStack=errorStackInstall;var iterate$6=iterate$7;var normalizeStringArgument=normalizeStringArgument$1;var wellKnownSymbol$3=wellKnownSymbol$n;var TO_STRING_TAG=wellKnownSymbol$3("toStringTag");var $Error=Error;var push$1=[].push;var $AggregateError=function AggregateError(errors,message){var isInstance=isPrototypeOf$9(AggregateErrorPrototype,this);var that;if(setPrototypeOf){that=setPrototypeOf(new $Error,isInstance?getPrototypeOf(this):AggregateErrorPrototype)}else{that=isInstance?this:create$2(AggregateErrorPrototype);createNonEnumerableProperty$1(that,TO_STRING_TAG,"Error")}if(message!==void 0)createNonEnumerableProperty$1(that,"message",normalizeStringArgument(message));installErrorStack(that,$AggregateError,that.stack,1);if(arguments.length>2)installErrorCause(that,arguments[2]);var errorsArray=[];iterate$6(errors,push$1,{that:errorsArray});createNonEnumerableProperty$1(that,"errors",errorsArray);return that};if(setPrototypeOf)setPrototypeOf($AggregateError,$Error);else copyConstructorProperties($AggregateError,$Error,{name:true});var AggregateErrorPrototype=$AggregateError.prototype=create$2($Error.prototype,{constructor:createPropertyDescriptor(1,$AggregateError),message:createPropertyDescriptor(1,""),name:createPropertyDescriptor(1,"AggregateError")});$$m({global:true},{AggregateError:$AggregateError});var getBuiltIn$3=getBuiltIn$f;var defineBuiltInAccessor$1=defineBuiltInAccessor$3;var wellKnownSymbol$2=wellKnownSymbol$n;var DESCRIPTORS$3=descriptors;var SPECIES$2=wellKnownSymbol$2("species");var setSpecies$2=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn$3(CONSTRUCTOR_NAME);if(DESCRIPTORS$3&&Constructor&&!Constructor[SPECIES$2]){defineBuiltInAccessor$1(Constructor,SPECIES$2,{configurable:true,get:function(){return this}})}};var isPrototypeOf$8=objectIsPrototypeOf;var $TypeError$3=TypeError;var anInstance$3=function(it,Prototype){if(isPrototypeOf$8(Prototype,it))return it;throw new $TypeError$3("Incorrect invocation")};var anObject$1=anObject$d;var aConstructor=aConstructor$2;var isNullOrUndefined$2=isNullOrUndefined$6;var wellKnownSymbol$1=wellKnownSymbol$n;var SPECIES$1=wellKnownSymbol$1("species");var speciesConstructor$2=function(O,defaultConstructor){var C=anObject$1(O).constructor;var S;return C===void 0||isNullOrUndefined$2(S=anObject$1(C)[SPECIES$1])?defaultConstructor:aConstructor(S)};var $TypeError$2=TypeError;var validateArgumentsLength$2=function(passed,required){if(passed<required)throw new $TypeError$2("Not enough arguments");return passed};var userAgent$4=engineUserAgent;var engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4);var global$9=global$p;var apply$2=functionApply;var bind$3=functionBindContext;var isCallable$5=isCallable$m;var hasOwn$4=hasOwnProperty_1;var fails$8=fails$u;var html=html$2;var arraySlice$2=arraySlice$5;var createElement=documentCreateElement$1;var validateArgumentsLength$1=validateArgumentsLength$2;var IS_IOS$1=engineIsIos;var IS_NODE$3=engineIsNode;var set$3=global$9.setImmediate;var clear=global$9.clearImmediate;var process$2=global$9.process;var Dispatch=global$9.Dispatch;var Function$2=global$9.Function;var MessageChannel2=global$9.MessageChannel;var String$1=global$9.String;var counter=0;var queue$2={};var ONREADYSTATECHANGE="onreadystatechange";var $location,defer,channel,port;fails$8(function(){$location=global$9.location});var run=function(id2){if(hasOwn$4(queue$2,id2)){var fn=queue$2[id2];delete queue$2[id2];fn()}};var runner=function(id2){return function(){run(id2)}};var eventListener=function(event){run(event.data)};var globalPostMessageDefer=function(id2){global$9.postMessage(String$1(id2),$location.protocol+"//"+$location.host)};if(!set$3||!clear){set$3=function setImmediate2(handler){validateArgumentsLength$1(arguments.length,1);var fn=isCallable$5(handler)?handler:Function$2(handler);var args2=arraySlice$2(arguments,1);queue$2[++counter]=function(){apply$2(fn,void 0,args2)};defer(counter);return counter};clear=function clearImmediate(id2){delete queue$2[id2]};if(IS_NODE$3){defer=function(id2){process$2.nextTick(runner(id2))}}else if(Dispatch&&Dispatch.now){defer=function(id2){Dispatch.now(runner(id2))}}else if(MessageChannel2&&!IS_IOS$1){channel=new MessageChannel2;port=channel.port2;channel.port1.onmessage=eventListener;defer=bind$3(port.postMessage,port)}else if(global$9.addEventListener&&isCallable$5(global$9.postMessage)&&!global$9.importScripts&&$location&&$location.protocol!=="file:"&&!fails$8(globalPostMessageDefer)){defer=globalPostMessageDefer;global$9.addEventListener("message",eventListener,false)}else if(ONREADYSTATECHANGE in createElement("script")){defer=function(id2){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run(id2)}}}else{defer=function(id2){setTimeout(runner(id2),0)}}}var task$1={set:set$3};var Queue$3=function(){this.head=null;this.tail=null};Queue$3.prototype={add:function(item){var entry={item,next:null};var tail=this.tail;if(tail)tail.next=entry;else this.head=entry;this.tail=entry},get:function(){var entry=this.head;if(entry){var next=this.head=entry.next;if(next===null)this.tail=null;return entry.item}}};var queue$1=Queue$3;var userAgent$3=engineUserAgent;var engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$3)&&typeof Pebble!="undefined";var userAgent$2=engineUserAgent;var engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$2);var global$8=global$p;var bind$2=functionBindContext;var getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f;var macrotask=task$1.set;var Queue$2=queue$1;var IS_IOS=engineIsIos;var IS_IOS_PEBBLE=engineIsIosPebble;var IS_WEBOS_WEBKIT=engineIsWebosWebkit;var IS_NODE$2=engineIsNode;var MutationObserver2=global$8.MutationObserver||global$8.WebKitMutationObserver;var document$2=global$8.document;var process$1=global$8.process;var Promise$1=global$8.Promise;var queueMicrotaskDescriptor=getOwnPropertyDescriptor(global$8,"queueMicrotask");var microtask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;var notify$1,toggle,node,promise$5,then;if(!microtask$1){var queue=new Queue$2;var flush=function(){var parent2,fn;if(IS_NODE$2&&(parent2=process$1.domain))parent2.exit();while(fn=queue.get())try{fn()}catch(error){if(queue.head)notify$1();throw error}if(parent2)parent2.enter()};if(!IS_IOS&&!IS_NODE$2&&!IS_WEBOS_WEBKIT&&MutationObserver2&&document$2){toggle=true;node=document$2.createTextNode("");new MutationObserver2(flush).observe(node,{characterData:true});notify$1=function(){node.data=toggle=!toggle}}else if(!IS_IOS_PEBBLE&&Promise$1&&Promise$1.resolve){promise$5=Promise$1.resolve(void 0);promise$5.constructor=Promise$1;then=bind$2(promise$5.then,promise$5);notify$1=function(){then(flush)}}else if(IS_NODE$2){notify$1=function(){process$1.nextTick(flush)}}else{macrotask=bind$2(macrotask,global$8);notify$1=function(){macrotask(flush)}}microtask$1=function(fn){if(!queue.head)notify$1();queue.add(fn)}}var microtask_1=microtask$1;var hostReportErrors$1=function(a,b){try{arguments.length===1?console.error(a):console.error(a,b)}catch(error){}};var perform$6=function(exec2){try{return{error:false,value:exec2()}}catch(error){return{error:true,value:error}}};var global$7=global$p;var promiseNativeConstructor=global$7.Promise;var engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object";var IS_DENO$1=engineIsDeno;var IS_NODE$1=engineIsNode;var engineIsBrowser=!IS_DENO$1&&!IS_NODE$1&&typeof window=="object"&&typeof document=="object";var global$6=global$p;var NativePromiseConstructor$5=promiseNativeConstructor;var isCallable$4=isCallable$m;var isForced=isForced_1;var inspectSource=inspectSource$2;var wellKnownSymbol=wellKnownSymbol$n;var IS_BROWSER=engineIsBrowser;var IS_DENO=engineIsDeno;var V8_VERSION=engineV8Version;var NativePromisePrototype$2=NativePromiseConstructor$5&&NativePromiseConstructor$5.prototype;var SPECIES=wellKnownSymbol("species");var SUBCLASSING=false;var NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$4(global$6.PromiseRejectionEvent);var FORCED_PROMISE_CONSTRUCTOR$5=isForced("Promise",function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource(NativePromiseConstructor$5);var GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(NativePromiseConstructor$5);if(!GLOBAL_CORE_JS_PROMISE&&V8_VERSION===66)return true;if(!(NativePromisePrototype$2["catch"]&&NativePromisePrototype$2["finally"]))return true;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)){var promise2=new NativePromiseConstructor$5(function(resolve){resolve(1)});var FakePromise=function(exec2){exec2(function(){},function(){})};var constructor=promise2.constructor={};constructor[SPECIES]=FakePromise;SUBCLASSING=promise2.then(function(){})instanceof FakePromise;if(!SUBCLASSING)return true}return!GLOBAL_CORE_JS_PROMISE&&(IS_BROWSER||IS_DENO)&&!NATIVE_PROMISE_REJECTION_EVENT$1});var promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1};var newPromiseCapability$2={};var aCallable$6=aCallable$e;var $TypeError$1=TypeError;var PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==void 0||reject!==void 0)throw new $TypeError$1("Bad Promise constructor");resolve=$$resolve;reject=$$reject});this.resolve=aCallable$6(resolve);this.reject=aCallable$6(reject)};newPromiseCapability$2.f=function(C){return new PromiseCapability(C)};var $$l=_export;var IS_NODE=engineIsNode;var global$5=global$p;var call$6=functionCall;var defineBuiltIn$1=defineBuiltIn$6;var setToStringTag$1=setToStringTag$7;var setSpecies$1=setSpecies$2;var aCallable$5=aCallable$e;var isCallable$3=isCallable$m;var isObject$4=isObject$h;var anInstance$2=anInstance$3;var speciesConstructor$1=speciesConstructor$2;var task=task$1.set;var microtask=microtask_1;var hostReportErrors=hostReportErrors$1;var perform$5=perform$6;var Queue$1=queue$1;var InternalStateModule$2=internalState;var NativePromiseConstructor$4=promiseNativeConstructor;var PromiseConstructorDetection=promiseConstructorDetection;var newPromiseCapabilityModule$7=newPromiseCapability$2;var PROMISE="Promise";var FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR;var NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT;var getInternalPromiseState=InternalStateModule$2.getterFor(PROMISE);var setInternalState$2=InternalStateModule$2.set;var NativePromisePrototype$1=NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;var PromiseConstructor=NativePromiseConstructor$4;var PromisePrototype=NativePromisePrototype$1;var TypeError$1=global$5.TypeError;var document$1=global$5.document;var process2=global$5.process;var newPromiseCapability$1=newPromiseCapabilityModule$7.f;var newGenericPromiseCapability=newPromiseCapability$1;var DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$5.dispatchEvent);var UNHANDLED_REJECTION="unhandledrejection";var REJECTION_HANDLED="rejectionhandled";var PENDING=0;var FULFILLED=1;var REJECTED=2;var HANDLED=1;var UNHANDLED=2;var Internal,OwnPromiseCapability,PromiseWrapper;var isThenable=function(it){var then2;return isObject$4(it)&&isCallable$3(then2=it.then)?then2:false};var callReaction=function(reaction,state){var value=state.value;var ok=state.state===FULFILLED;var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then2,exited;try{if(handler){if(!ok){if(state.rejection===UNHANDLED)onHandleUnhandled(state);state.rejection=HANDLED}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain){domain.exit();exited=true}}if(result===reaction.promise){reject(new TypeError$1("Promise-chain cycle"))}else if(then2=isThenable(result)){call$6(then2,result,resolve,reject)}else resolve(result)}else reject(value)}catch(error){if(domain&&!exited)domain.exit();reject(error)}};var notify=function(state,isReject){if(state.notified)return;state.notified=true;microtask(function(){var reactions=state.reactions;var reaction;while(reaction=reactions.get()){callReaction(reaction,state)}state.notified=false;if(isReject&&!state.rejection)onUnhandled(state)})};var dispatchEvent=function(name,promise2,reason){var event,handler;if(DISPATCH_EVENT){event=document$1.createEvent("Event");event.promise=promise2;event.reason=reason;event.initEvent(name,false,true);global$5.dispatchEvent(event)}else event={promise:promise2,reason};if(!NATIVE_PROMISE_REJECTION_EVENT&&(handler=global$5["on"+name]))handler(event);else if(name===UNHANDLED_REJECTION)hostReportErrors("Unhandled promise rejection",reason)};var onUnhandled=function(state){call$6(task,global$5,function(){var promise2=state.facade;var value=state.value;var IS_UNHANDLED=isUnhandled(state);var result;if(IS_UNHANDLED){result=perform$5(function(){if(IS_NODE){process2.emit("unhandledRejection",value,promise2)}else dispatchEvent(UNHANDLED_REJECTION,promise2,value)});state.rejection=IS_NODE||isUnhandled(state)?UNHANDLED:HANDLED;if(result.error)throw result.value}})};var isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent};var onHandleUnhandled=function(state){call$6(task,global$5,function(){var promise2=state.facade;if(IS_NODE){process2.emit("rejectionHandled",promise2)}else dispatchEvent(REJECTION_HANDLED,promise2,state.value)})};var bind$1=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}};var internalReject=function(state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;state.value=value;state.state=REJECTED;notify(state,true)};var internalResolve=function(state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;try{if(state.facade===value)throw new TypeError$1("Promise can't be resolved itself");var then2=isThenable(value);if(then2){microtask(function(){var wrapper={done:false};try{call$6(then2,value,bind$1(internalResolve,wrapper,state),bind$1(internalReject,wrapper,state))}catch(error){internalReject(wrapper,error,state)}})}else{state.value=value;state.state=FULFILLED;notify(state,false)}}catch(error){internalReject({done:false},error,state)}};if(FORCED_PROMISE_CONSTRUCTOR$4){PromiseConstructor=function Promise2(executor){anInstance$2(this,PromisePrototype);aCallable$5(executor);call$6(Internal,this);var state=getInternalPromiseState(this);try{executor(bind$1(internalResolve,state),bind$1(internalReject,state))}catch(error){internalReject(state,error)}};PromisePrototype=PromiseConstructor.prototype;Internal=function Promise2(executor){setInternalState$2(this,{type:PROMISE,done:false,notified:false,parent:false,reactions:new Queue$1,rejection:false,state:PENDING,value:void 0})};Internal.prototype=defineBuiltIn$1(PromisePrototype,"then",function then2(onFulfilled,onRejected){var state=getInternalPromiseState(this);var reaction=newPromiseCapability$1(speciesConstructor$1(this,PromiseConstructor));state.parent=true;reaction.ok=isCallable$3(onFulfilled)?onFulfilled:true;reaction.fail=isCallable$3(onRejected)&&onRejected;reaction.domain=IS_NODE?process2.domain:void 0;if(state.state===PENDING)state.reactions.add(reaction);else microtask(function(){callReaction(reaction,state)});return reaction.promise});OwnPromiseCapability=function(){var promise2=new Internal;var state=getInternalPromiseState(promise2);this.promise=promise2;this.resolve=bind$1(internalResolve,state);this.reject=bind$1(internalReject,state)};newPromiseCapabilityModule$7.f=newPromiseCapability$1=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}}$$l({global:true,wrap:true,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor});setToStringTag$1(PromiseConstructor,PROMISE,false,true);setSpecies$1(PROMISE);var NativePromiseConstructor$3=promiseNativeConstructor;var checkCorrectnessOfIteration=checkCorrectnessOfIteration$2;var FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR;var promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration(function(iterable){NativePromiseConstructor$3.all(iterable).then(void 0,function(){})});var $$k=_export;var call$5=functionCall;var aCallable$4=aCallable$e;var newPromiseCapabilityModule$6=newPromiseCapability$2;var perform$4=perform$6;var iterate$5=iterate$7;var PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration;$$k({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{all:function all(iterable){var C=this;var capability=newPromiseCapabilityModule$6.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$4(function(){var $promiseResolve=aCallable$4(C.resolve);var values2=[];var counter2=0;var remaining=1;iterate$5(iterable,function(promise2){var index2=counter2++;var alreadyCalled=false;remaining++;call$5($promiseResolve,C,promise2).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values2[index2]=value;--remaining||resolve(values2)},reject)});--remaining||resolve(values2)});if(result.error)reject(result.value);return capability.promise}});var $$j=_export;var FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR;var NativePromiseConstructor$2=promiseNativeConstructor;NativePromiseConstructor$2&&NativePromiseConstructor$2.prototype;$$j({target:"Promise",proto:true,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:true},{"catch":function(onRejected){return this.then(void 0,onRejected)}});var $$i=_export;var call$4=functionCall;var aCallable$3=aCallable$e;var newPromiseCapabilityModule$5=newPromiseCapability$2;var perform$3=perform$6;var iterate$4=iterate$7;var PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration;$$i({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function race(iterable){var C=this;var capability=newPromiseCapabilityModule$5.f(C);var reject=capability.reject;var result=perform$3(function(){var $promiseResolve=aCallable$3(C.resolve);iterate$4(iterable,function(promise2){call$4($promiseResolve,C,promise2).then(capability.resolve,reject)})});if(result.error)reject(result.value);return capability.promise}});var $$h=_export;var call$3=functionCall;var newPromiseCapabilityModule$4=newPromiseCapability$2;var FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$h({target:"Promise",stat:true,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function reject(r){var capability=newPromiseCapabilityModule$4.f(this);call$3(capability.reject,void 0,r);return capability.promise}});var anObject=anObject$d;var isObject$3=isObject$h;var newPromiseCapability=newPromiseCapability$2;var promiseResolve$2=function(C,x){anObject(C);if(isObject$3(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise};var $$g=_export;var getBuiltIn$2=getBuiltIn$f;var IS_PURE=isPure;var NativePromiseConstructor$1=promiseNativeConstructor;var FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR;var promiseResolve$1=promiseResolve$2;var PromiseConstructorWrapper=getBuiltIn$2("Promise");var CHECK_WRAPPER=!FORCED_PROMISE_CONSTRUCTOR;$$g({target:"Promise",stat:true,forced:IS_PURE},{resolve:function resolve(x){return promiseResolve$1(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor$1:this,x)}});var $$f=_export;var call$2=functionCall;var aCallable$2=aCallable$e;var newPromiseCapabilityModule$3=newPromiseCapability$2;var perform$2=perform$6;var iterate$3=iterate$7;var PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$f({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{allSettled:function allSettled(iterable){var C=this;var capability=newPromiseCapabilityModule$3.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$2(function(){var promiseResolve2=aCallable$2(C.resolve);var values2=[];var counter2=0;var remaining=1;iterate$3(iterable,function(promise2){var index2=counter2++;var alreadyCalled=false;remaining++;call$2(promiseResolve2,C,promise2).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values2[index2]={status:"fulfilled",value};--remaining||resolve(values2)},function(error){if(alreadyCalled)return;alreadyCalled=true;values2[index2]={status:"rejected",reason:error};--remaining||resolve(values2)})});--remaining||resolve(values2)});if(result.error)reject(result.value);return capability.promise}});var $$e=_export;var call$1=functionCall;var aCallable$1=aCallable$e;var getBuiltIn$1=getBuiltIn$f;var newPromiseCapabilityModule$2=newPromiseCapability$2;var perform$1=perform$6;var iterate$2=iterate$7;var PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration;var PROMISE_ANY_ERROR="No one promise resolved";$$e({target:"Promise",stat:true,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function any(iterable){var C=this;var AggregateError=getBuiltIn$1("AggregateError");var capability=newPromiseCapabilityModule$2.f(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform$1(function(){var promiseResolve2=aCallable$1(C.resolve);var errors=[];var counter2=0;var remaining=1;var alreadyResolved=false;iterate$2(iterable,function(promise2){var index2=counter2++;var alreadyRejected=false;remaining++;call$1(promiseResolve2,C,promise2).then(function(value){if(alreadyRejected||alreadyResolved)return;alreadyResolved=true;resolve(value)},function(error){if(alreadyRejected||alreadyResolved)return;alreadyRejected=true;errors[index2]=error;--remaining||reject(new AggregateError(errors,PROMISE_ANY_ERROR))})});--remaining||reject(new AggregateError(errors,PROMISE_ANY_ERROR))});if(result.error)reject(result.value);return capability.promise}});var $$d=_export;var NativePromiseConstructor=promiseNativeConstructor;var fails$7=fails$u;var getBuiltIn=getBuiltIn$f;var isCallable$2=isCallable$m;var speciesConstructor=speciesConstructor$2;var promiseResolve=promiseResolve$2;var NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;var NON_GENERIC=!!NativePromiseConstructor&&fails$7(function(){NativePromisePrototype["finally"].call({then:function(){}},function(){})});$$d({target:"Promise",proto:true,real:true,forced:NON_GENERIC},{"finally":function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise"));var isFunction=isCallable$2(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}});var path$7=path$o;var promise$4=path$7.Promise;var parent$l=promise$4;var promise$3=parent$l;var $$c=_export;var newPromiseCapabilityModule$1=newPromiseCapability$2;$$c({target:"Promise",stat:true},{withResolvers:function withResolvers(){var promiseCapability=newPromiseCapabilityModule$1.f(this);return{promise:promiseCapability.promise,resolve:promiseCapability.resolve,reject:promiseCapability.reject}}});var parent$k=promise$3;var promise$2=parent$k;var $$b=_export;var newPromiseCapabilityModule=newPromiseCapability$2;var perform=perform$6;$$b({target:"Promise",stat:true,forced:true},{"try":function(callbackfn){var promiseCapability=newPromiseCapabilityModule.f(this);var result=perform(callbackfn);(result.error?promiseCapability.reject:promiseCapability.resolve)(result.value);return promiseCapability.promise}});var parent$j=promise$2;var promise$1=parent$j;var promise=promise$1;var $$a=_export;var uncurryThis$3=functionUncurryThis;var isArray$1=isArray$e;var nativeReverse=uncurryThis$3([].reverse);var test$1=[1,2];$$a({target:"Array",proto:true,forced:String(test$1)===String(test$1.reverse())},{reverse:function reverse2(){if(isArray$1(this))this.length=this.length;return nativeReverse(this)}});var getBuiltInPrototypeMethod$7=getBuiltInPrototypeMethod$g;var reverse$5=getBuiltInPrototypeMethod$7("Array","reverse");var isPrototypeOf$7=objectIsPrototypeOf;var method$7=reverse$5;var ArrayPrototype$7=Array.prototype;var reverse$4=function(it){var own=it.reverse;return it===ArrayPrototype$7||isPrototypeOf$7(ArrayPrototype$7,it)&&own===ArrayPrototype$7.reverse?method$7:own};var parent$i=reverse$4;var reverse$3=parent$i;var parent$h=reverse$3;var reverse$2=parent$h;var parent$g=reverse$2;var reverse$1=parent$g;var reverse=reverse$1;(function(module2){var _typeof2=_typeofExports["default"];var _Object$defineProperty2=defineProperty$8;var _Symbol2=symbol$1;var _Object$create2=create$3;var _Object$getPrototypeOf2=getPrototypeOf$1;var _forEachInstanceProperty2=forEach$1;var _pushInstanceProperty2=push$2;var _Object$setPrototypeOf2=setPrototypeOf$1;var _Promise=promise;var _reverseInstanceProperty=reverse;var _sliceInstanceProperty2=slice;function _regeneratorRuntime2(){module2.exports=_regeneratorRuntime2=function _regeneratorRuntime3(){return e},module2.exports.__esModule=true,module2.exports["default"]=module2.exports;var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=_Object$defineProperty2||function(t2,e2,r2){t2[e2]=r2.value},i2="function"==typeof _Symbol2?_Symbol2:{},a=i2.iterator||"@@iterator",c=i2.asyncIterator||"@@asyncIterator",u=i2.toStringTag||"@@toStringTag";function define2(t2,e2,r2){return _Object$defineProperty2(t2,e2,{value:r2,enumerable:true,configurable:true,writable:true}),t2[e2]}try{define2({},"")}catch(t2){define2=function define3(t3,e2,r2){return t3[e2]=r2}}function wrap2(t2,e2,r2,n2){var i3=e2&&e2.prototype instanceof Generator?e2:Generator,a2=_Object$create2(i3.prototype),c2=new Context(n2||[]);return o(a2,"_invoke",{value:makeInvokeMethod(t2,r2,c2)}),a2}function tryCatch(t2,e2,r2){try{return{type:"normal",arg:t2.call(e2,r2)}}catch(t3){return{type:"throw",arg:t3}}}e.wrap=wrap2;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define2(p,a,function(){return this});var d=_Object$getPrototypeOf2,v=d&&d(d(values2([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=_Object$create2(p);function defineIteratorMethods(t2){var _context;_forEachInstanceProperty2(_context=["next","throw","return"]).call(_context,function(e2){define2(t2,e2,function(t3){return this._invoke(e2,t3)})})}function AsyncIterator(t2,e2){function invoke(r3,o2,i3,a2){var c2=tryCatch(t2[r3],t2,o2);if("throw"!==c2.type){var u2=c2.arg,h2=u2.value;return h2&&"object"==_typeof2(h2)&&n.call(h2,"__await")?e2.resolve(h2.__await).then(function(t3){invoke("next",t3,i3,a2)},function(t3){invoke("throw",t3,i3,a2)}):e2.resolve(h2).then(function(t3){u2.value=t3,i3(u2)},function(t3){return invoke("throw",t3,i3,a2)})}a2(c2.arg)}var r2;o(this,"_invoke",{value:function value(t3,n2){function callInvokeWithMethodAndArg(){return new e2(function(e3,r3){invoke(t3,n2,e3,r3)})}return r2=r2?r2.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e2,r2,n2){var o2=h;return function(i3,a2){if(o2===f)throw new Error("Generator is already running");if(o2===s){if("throw"===i3)throw a2;return{value:t,done:true}}for(n2.method=i3,n2.arg=a2;;){var c2=n2.delegate;if(c2){var u2=maybeInvokeDelegate(c2,n2);if(u2){if(u2===y)continue;return u2}}if("next"===n2.method)n2.sent=n2._sent=n2.arg;else if("throw"===n2.method){if(o2===h)throw o2=s,n2.arg;n2.dispatchException(n2.arg)}else"return"===n2.method&&n2.abrupt("return",n2.arg);o2=f;var p2=tryCatch(e2,r2,n2);if("normal"===p2.type){if(o2=n2.done?s:l,p2.arg===y)continue;return{value:p2.arg,done:n2.done}}"throw"===p2.type&&(o2=s,n2.method="throw",n2.arg=p2.arg)}}}function maybeInvokeDelegate(e2,r2){var n2=r2.method,o2=e2.iterator[n2];if(o2===t)return r2.delegate=null,"throw"===n2&&e2.iterator["return"]&&(r2.method="return",r2.arg=t,maybeInvokeDelegate(e2,r2),"throw"===r2.method)||"return"!==n2&&(r2.method="throw",r2.arg=new TypeError("The iterator does not provide a '"+n2+"' method")),y;var i3=tryCatch(o2,e2.iterator,r2.arg);if("throw"===i3.type)return r2.method="throw",r2.arg=i3.arg,r2.delegate=null,y;var a2=i3.arg;return a2?a2.done?(r2[e2.resultName]=a2.value,r2.next=e2.nextLoc,"return"!==r2.method&&(r2.method="next",r2.arg=t),r2.delegate=null,y):a2:(r2.method="throw",r2.arg=new TypeError("iterator result is not an object"),r2.delegate=null,y)}function pushTryEntry(t2){var _context2;var e2={tryLoc:t2[0]};1 in t2&&(e2.catchLoc=t2[1]),2 in t2&&(e2.finallyLoc=t2[2],e2.afterLoc=t2[3]),_pushInstanceProperty2(_context2=this.tryEntries).call(_context2,e2)}function resetTryEntry(t2){var e2=t2.completion||{};e2.type="normal",delete e2.arg,t2.completion=e2}function Context(t2){this.tryEntries=[{tryLoc:"root"}],_forEachInstanceProperty2(t2).call(t2,pushTryEntry,this),this.reset(true)}function values2(e2){if(e2||""===e2){var r2=e2[a];if(r2)return r2.call(e2);if("function"==typeof e2.next)return e2;if(!isNaN(e2.length)){var o2=-1,i3=function next(){for(;++o2<e2.length;)if(n.call(e2,o2))return next.value=e2[o2],next.done=false,next;return next.value=t,next.done=true,next};return i3.next=i3}}throw new TypeError(_typeof2(e2)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:true}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:true}),GeneratorFunction.displayName=define2(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t2){var e2="function"==typeof t2&&t2.constructor;return!!e2&&(e2===GeneratorFunction||"GeneratorFunction"===(e2.displayName||e2.name))},e.mark=function(t2){return _Object$setPrototypeOf2?_Object$setPrototypeOf2(t2,GeneratorFunctionPrototype):(t2.__proto__=GeneratorFunctionPrototype,define2(t2,u,"GeneratorFunction")),t2.prototype=_Object$create2(g),t2},e.awrap=function(t2){return{__await:t2}},defineIteratorMethods(AsyncIterator.prototype),define2(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t2,r2,n2,o2,i3){void 0===i3&&(i3=_Promise);var a2=new AsyncIterator(wrap2(t2,r2,n2,o2),i3);return e.isGeneratorFunction(r2)?a2:a2.next().then(function(t3){return t3.done?t3.value:a2.next()})},defineIteratorMethods(g),define2(g,u,"Generator"),define2(g,a,function(){return this}),define2(g,"toString",function(){return"[object Generator]"}),e.keys=function(t2){var e2=Object(t2),r2=[];for(var n2 in e2)_pushInstanceProperty2(r2).call(r2,n2);return _reverseInstanceProperty(r2).call(r2),function next(){for(;r2.length;){var t3=r2.pop();if(t3 in e2)return next.value=t3,next.done=false,next}return next.done=true,next}},e.values=values2,Context.prototype={constructor:Context,reset:function reset(e2){var _context3;if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=false,this.delegate=null,this.method="next",this.arg=t,_forEachInstanceProperty2(_context3=this.tryEntries).call(_context3,resetTryEntry),!e2)for(var r2 in this)"t"===r2.charAt(0)&&n.call(this,r2)&&!isNaN(+_sliceInstanceProperty2(r2).call(r2,1))&&(this[r2]=t)},stop:function stop(){this.done=true;var t2=this.tryEntries[0].completion;if("throw"===t2.type)throw t2.arg;return this.rval},dispatchException:function dispatchException(e2){if(this.done)throw e2;var r2=this;function handle(n2,o3){return a2.type="throw",a2.arg=e2,r2.next=n2,o3&&(r2.method="next",r2.arg=t),!!o3}for(var o2=this.tryEntries.length-1;o2>=0;--o2){var i3=this.tryEntries[o2],a2=i3.completion;if("root"===i3.tryLoc)return handle("end");if(i3.tryLoc<=this.prev){var c2=n.call(i3,"catchLoc"),u2=n.call(i3,"finallyLoc");if(c2&&u2){if(this.prev<i3.catchLoc)return handle(i3.catchLoc,true);if(this.prev<i3.finallyLoc)return handle(i3.finallyLoc)}else if(c2){if(this.prev<i3.catchLoc)return handle(i3.catchLoc,true)}else{if(!u2)throw new Error("try statement without catch or finally");if(this.prev<i3.finallyLoc)return handle(i3.finallyLoc)}}}},abrupt:function abrupt(t2,e2){for(var r2=this.tryEntries.length-1;r2>=0;--r2){var o2=this.tryEntries[r2];if(o2.tryLoc<=this.prev&&n.call(o2,"finallyLoc")&&this.prev<o2.finallyLoc){var i3=o2;break}}i3&&("break"===t2||"continue"===t2)&&i3.tryLoc<=e2&&e2<=i3.finallyLoc&&(i3=null);var a2=i3?i3.completion:{};return a2.type=t2,a2.arg=e2,i3?(this.method="next",this.next=i3.finallyLoc,y):this.complete(a2)},complete:function complete(t2,e2){if("throw"===t2.type)throw t2.arg;return"break"===t2.type||"continue"===t2.type?this.next=t2.arg:"return"===t2.type?(this.rval=this.arg=t2.arg,this.method="return",this.next="end"):"normal"===t2.type&&e2&&(this.next=e2),y},finish:function finish(t2){for(var e2=this.tryEntries.length-1;e2>=0;--e2){var r2=this.tryEntries[e2];if(r2.finallyLoc===t2)return this.complete(r2.completion,r2.afterLoc),resetTryEntry(r2),y}},"catch":function _catch(t2){for(var e2=this.tryEntries.length-1;e2>=0;--e2){var r2=this.tryEntries[e2];if(r2.tryLoc===t2){var n2=r2.completion;if("throw"===n2.type){var o2=n2.arg;resetTryEntry(r2)}return o2}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e2,r2,n2){return this.delegate={iterator:values2(e2),resultName:r2,nextLoc:n2},"next"===this.method&&(this.arg=t),y}},e}module2.exports=_regeneratorRuntime2,module2.exports.__esModule=true,module2.exports["default"]=module2.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports;var runtime=regeneratorRuntimeExports();var regenerator=runtime;try{regeneratorRuntime=runtime}catch(accidentalStrictMode){if(typeof window==="object"){window.regeneratorRuntime=runtime}else{Function("r","regeneratorRuntime = r")(runtime)}}var _regeneratorRuntime=getDefaultExportFromCjs(regenerator);var isArray=isArray$6;var _Array$isArray=getDefaultExportFromCjs(isArray);var internalMetadata={exports:{}};var fails$6=fails$u;var arrayBufferNonExtensible=fails$6(function(){if(typeof ArrayBuffer=="function"){var buffer=new ArrayBuffer(8);if(Object.isExtensible(buffer))Object.defineProperty(buffer,"a",{value:8})}});var fails$5=fails$u;var isObject$2=isObject$h;var classof$3=classofRaw$2;var ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible;var $isExtensible=Object.isExtensible;var FAILS_ON_PRIMITIVES$1=fails$5(function(){$isExtensible(1)});var objectIsExtensible=FAILS_ON_PRIMITIVES$1||ARRAY_BUFFER_NON_EXTENSIBLE?function isExtensible2(it){if(!isObject$2(it))return false;if(ARRAY_BUFFER_NON_EXTENSIBLE&&classof$3(it)==="ArrayBuffer")return false;return $isExtensible?$isExtensible(it):true}:$isExtensible;var fails$4=fails$u;var freezing=!fails$4(function(){return Object.isExtensible(Object.preventExtensions({}))});var $$9=_export;var uncurryThis$2=functionUncurryThis;var hiddenKeys=hiddenKeys$6;var isObject$1=isObject$h;var hasOwn$3=hasOwnProperty_1;var defineProperty$2=objectDefineProperty.f;var getOwnPropertyNamesModule=objectGetOwnPropertyNames;var getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal;var isExtensible=objectIsExtensible;var uid=uid$4;var FREEZING=freezing;var REQUIRED=false;var METADATA=uid("meta");var id=0;var setMetadata=function(it){defineProperty$2(it,METADATA,{value:{objectID:"O"+id++,weakData:{}}})};var fastKey$1=function(it,create2){if(!isObject$1(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!hasOwn$3(it,METADATA)){if(!isExtensible(it))return"F";if(!create2)return"E";setMetadata(it)}return it[METADATA].objectID};var getWeakData=function(it,create2){if(!hasOwn$3(it,METADATA)){if(!isExtensible(it))return true;if(!create2)return false;setMetadata(it)}return it[METADATA].weakData};var onFreeze=function(it){if(FREEZING&&REQUIRED&&isExtensible(it)&&!hasOwn$3(it,METADATA))setMetadata(it);return it};var enable=function(){meta.enable=function(){};REQUIRED=true;var getOwnPropertyNames2=getOwnPropertyNamesModule.f;var splice2=uncurryThis$2([].splice);var test2={};test2[METADATA]=1;if(getOwnPropertyNames2(test2).length){getOwnPropertyNamesModule.f=function(it){var result=getOwnPropertyNames2(it);for(var i2=0,length2=result.length;i2<length2;i2++){if(result[i2]===METADATA){splice2(result,i2,1);break}}return result};$$9({target:"Object",stat:true,forced:true},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f})}};var meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData,onFreeze};hiddenKeys[METADATA]=true;var internalMetadataExports=internalMetadata.exports;var $$8=_export;var global$4=global$p;var InternalMetadataModule=internalMetadataExports;var fails$3=fails$u;var createNonEnumerableProperty=createNonEnumerableProperty$9;var iterate$1=iterate$7;var anInstance$1=anInstance$3;var isCallable$1=isCallable$m;var isObject=isObject$h;var isNullOrUndefined$1=isNullOrUndefined$6;var setToStringTag=setToStringTag$7;var defineProperty$1=objectDefineProperty.f;var forEach=arrayIteration.forEach;var DESCRIPTORS$2=descriptors;var InternalStateModule$1=internalState;var setInternalState$1=InternalStateModule$1.set;var internalStateGetterFor$1=InternalStateModule$1.getterFor;var collection$2=function(CONSTRUCTOR_NAME,wrapper,common){var IS_MAP=CONSTRUCTOR_NAME.indexOf("Map")!==-1;var IS_WEAK=CONSTRUCTOR_NAME.indexOf("Weak")!==-1;var ADDER=IS_MAP?"set":"add";var NativeConstructor=global$4[CONSTRUCTOR_NAME];var NativePrototype=NativeConstructor&&NativeConstructor.prototype;var exported={};var Constructor;if(!DESCRIPTORS$2||!isCallable$1(NativeConstructor)||!(IS_WEAK||NativePrototype.forEach&&!fails$3(function(){new NativeConstructor().entries().next()}))){Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER);InternalMetadataModule.enable()}else{Constructor=wrapper(function(target,iterable){setInternalState$1(anInstance$1(target,Prototype),{type:CONSTRUCTOR_NAME,collection:new NativeConstructor});if(!isNullOrUndefined$1(iterable))iterate$1(iterable,target[ADDER],{that:target,AS_ENTRIES:IS_MAP})});var Prototype=Constructor.prototype;var getInternalState2=internalStateGetterFor$1(CONSTRUCTOR_NAME);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(KEY){var IS_ADDER=KEY==="add"||KEY==="set";if(KEY in NativePrototype&&!(IS_WEAK&&KEY==="clear")){createNonEnumerableProperty(Prototype,KEY,function(a,b){var collection2=getInternalState2(this).collection;if(!IS_ADDER&&IS_WEAK&&!isObject(a))return KEY==="get"?void 0:false;var result=collection2[KEY](a===0?0:a,b);return IS_ADDER?this:result})}});IS_WEAK||defineProperty$1(Prototype,"size",{configurable:true,get:function(){return getInternalState2(this).collection.size}})}setToStringTag(Constructor,CONSTRUCTOR_NAME,false,true);exported[CONSTRUCTOR_NAME]=Constructor;$$8({global:true,forced:true},exported);if(!IS_WEAK)common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP);return Constructor};var defineBuiltIn=defineBuiltIn$6;var defineBuiltIns$1=function(target,src,options){for(var key in src){if(options&&options.unsafe&&target[key])target[key]=src[key];else defineBuiltIn(target,key,src[key],options)}return target};var create$1=objectCreate;var defineBuiltInAccessor=defineBuiltInAccessor$3;var defineBuiltIns=defineBuiltIns$1;var bind=functionBindContext;var anInstance=anInstance$3;var isNullOrUndefined=isNullOrUndefined$6;var iterate=iterate$7;var defineIterator=iteratorDefine;var createIterResultObject=createIterResultObject$3;var setSpecies=setSpecies$2;var DESCRIPTORS$1=descriptors;var fastKey=internalMetadataExports.fastKey;var InternalStateModule=internalState;var setInternalState=InternalStateModule.set;var internalStateGetterFor=InternalStateModule.getterFor;var collectionStrong$2={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper(function(that,iterable){anInstance(that,Prototype);setInternalState(that,{type:CONSTRUCTOR_NAME,index:create$1(null),first:void 0,last:void 0,size:0});if(!DESCRIPTORS$1)that.size=0;if(!isNullOrUndefined(iterable))iterate(iterable,that[ADDER],{that,AS_ENTRIES:IS_MAP})});var Prototype=Constructor.prototype;var getInternalState2=internalStateGetterFor(CONSTRUCTOR_NAME);var define2=function(that,key,value){var state=getInternalState2(that);var entry=getEntry(that,key);var previous,index2;if(entry){entry.value=value}else{state.last=entry={index:index2=fastKey(key,true),key,value,previous:previous=state.last,next:void 0,removed:false};if(!state.first)state.first=entry;if(previous)previous.next=entry;if(DESCRIPTORS$1)state.size++;else that.size++;if(index2!=="F")state.index[index2]=entry}return that};var getEntry=function(that,key){var state=getInternalState2(that);var index2=fastKey(key);var entry;if(index2!=="F")return state.index[index2];for(entry=state.first;entry;entry=entry.next){if(entry.key===key)return entry}};defineBuiltIns(Prototype,{clear:function clear2(){var that=this;var state=getInternalState2(that);var data2=state.index;var entry=state.first;while(entry){entry.removed=true;if(entry.previous)entry.previous=entry.previous.next=void 0;delete data2[entry.index];entry=entry.next}state.first=state.last=void 0;if(DESCRIPTORS$1)state.size=0;else that.size=0},"delete":function(key){var that=this;var state=getInternalState2(that);var entry=getEntry(that,key);if(entry){var next=entry.next;var prev=entry.previous;delete state.index[entry.index];entry.removed=true;if(prev)prev.next=next;if(next)next.previous=prev;if(state.first===entry)state.first=next;if(state.last===entry)state.last=prev;if(DESCRIPTORS$1)state.size--;else that.size--}return!!entry},forEach:function forEach2(callbackfn){var state=getInternalState2(this);var boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);var entry;while(entry=entry?entry.next:state.first){boundFunction(entry.value,entry.key,this);while(entry&&entry.removed)entry=entry.previous}},has:function has2(key){return!!getEntry(this,key)}});defineBuiltIns(Prototype,IS_MAP?{get:function get2(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set2(key,value){return define2(this,key===0?0:key,value)}}:{add:function add(value){return define2(this,value=value===0?0:value,value)}});if(DESCRIPTORS$1)defineBuiltInAccessor(Prototype,"size",{configurable:true,get:function(){return getInternalState2(this).size}});return Constructor},setStrong:function(Constructor,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator";var getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME);var getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(Constructor,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind,last:void 0})},function(){var state=getInternalIteratorState(this);var kind=state.kind;var entry=state.last;while(entry&&entry.removed)entry=entry.previous;if(!state.target||!(state.last=entry=entry?entry.next:state.state.first)){state.target=void 0;return createIterResultObject(void 0,true)}if(kind==="keys")return createIterResultObject(entry.key,false);if(kind==="values")return createIterResultObject(entry.value,false);return createIterResultObject([entry.key,entry.value],false)},IS_MAP?"entries":"values",!IS_MAP,true);setSpecies(CONSTRUCTOR_NAME)}};var collection$1=collection$2;var collectionStrong$1=collectionStrong$2;collection$1("Map",function(init){return function Map2(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$6=path$o;var map$2=path$6.Map;var parent$f=map$2;var map$1=parent$f;var map=map$1;var _Map=getDefaultExportFromCjs(map);var $$7=_export;var $some=arrayIteration.some;var arrayMethodIsStrict$1=arrayMethodIsStrict$4;var STRICT_METHOD$1=arrayMethodIsStrict$1("some");$$7({target:"Array",proto:true,forced:!STRICT_METHOD$1},{some:function some2(callbackfn){return $some(this,callbackfn,arguments.length>1?arguments[1]:void 0)}});var getBuiltInPrototypeMethod$6=getBuiltInPrototypeMethod$g;var some$3=getBuiltInPrototypeMethod$6("Array","some");var isPrototypeOf$6=objectIsPrototypeOf;var method$6=some$3;var ArrayPrototype$6=Array.prototype;var some$2=function(it){var own=it.some;return it===ArrayPrototype$6||isPrototypeOf$6(ArrayPrototype$6,it)&&own===ArrayPrototype$6.some?method$6:own};var parent$e=some$2;var some$1=parent$e;var some=some$1;var _someInstanceProperty=getDefaultExportFromCjs(some);var DESCRIPTORS=descriptors;var uncurryThis$1=functionUncurryThis;var call=functionCall;var fails$2=fails$u;var objectKeys=objectKeys$3;var getOwnPropertySymbolsModule=objectGetOwnPropertySymbols;var propertyIsEnumerableModule=objectPropertyIsEnumerable;var toObject$3=toObject$e;var IndexedObject=indexedObject;var $assign=Object.assign;var defineProperty=Object.defineProperty;var concat$4=uncurryThis$1([].concat);var objectAssign=!$assign||fails$2(function(){if(DESCRIPTORS&&$assign({b:1},$assign(defineProperty({},"a",{enumerable:true,get:function(){defineProperty(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var A={};var B={};var symbol2=Symbol("assign detection");var alphabet="abcdefghijklmnopqrst";A[symbol2]=7;alphabet.split("").forEach(function(chr){B[chr]=chr});return $assign({},A)[symbol2]!==7||objectKeys($assign({},B)).join("")!==alphabet})?function assign2(target,source){var T=toObject$3(target);var argumentsLength=arguments.length;var index2=1;var getOwnPropertySymbols2=getOwnPropertySymbolsModule.f;var propertyIsEnumerable=propertyIsEnumerableModule.f;while(argumentsLength>index2){var S=IndexedObject(arguments[index2++]);var keys2=getOwnPropertySymbols2?concat$4(objectKeys(S),getOwnPropertySymbols2(S)):objectKeys(S);var length2=keys2.length;var j=0;var key;while(length2>j){key=keys2[j++];if(!DESCRIPTORS||call(propertyIsEnumerable,S,key))T[key]=S[key]}}return T}:$assign;var $$6=_export;var assign$3=objectAssign;$$6({target:"Object",stat:true,forced:Object.assign!==assign$3},{assign:assign$3});var path$5=path$o;var assign$2=path$5.Object.assign;var parent$d=assign$2;var assign$1=parent$d;var assign=assign$1;var _Object$assign=getDefaultExportFromCjs(assign);var getBuiltInPrototypeMethod$5=getBuiltInPrototypeMethod$g;var concat$3=getBuiltInPrototypeMethod$5("Array","concat");var isPrototypeOf$5=objectIsPrototypeOf;var method$5=concat$3;var ArrayPrototype$5=Array.prototype;var concat$2=function(it){var own=it.concat;return it===ArrayPrototype$5||isPrototypeOf$5(ArrayPrototype$5,it)&&own===ArrayPrototype$5.concat?method$5:own};var parent$c=concat$2;var concat$1=parent$c;var concat=concat$1;var _concatInstanceProperty=getDefaultExportFromCjs(concat);var getBuiltInPrototypeMethod$4=getBuiltInPrototypeMethod$g;var keys$6=getBuiltInPrototypeMethod$4("Array","keys");var parent$b=keys$6;var keys$5=parent$b;var classof$2=classof$d;var hasOwn$2=hasOwnProperty_1;var isPrototypeOf$4=objectIsPrototypeOf;var method$4=keys$5;var ArrayPrototype$4=Array.prototype;var DOMIterables$2={DOMTokenList:true,NodeList:true};var keys$4=function(it){var own=it.keys;return it===ArrayPrototype$4||isPrototypeOf$4(ArrayPrototype$4,it)&&own===ArrayPrototype$4.keys||hasOwn$2(DOMIterables$2,classof$2(it))?method$4:own};var keys$3=keys$4;var _keysInstanceProperty=getDefaultExportFromCjs(keys$3);var $$5=_export;var toObject$2=toObject$e;var nativeKeys=objectKeys$3;var fails$1=fails$u;var FAILS_ON_PRIMITIVES=fails$1(function(){nativeKeys(1)});$$5({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES},{keys:function keys2(it){return nativeKeys(toObject$2(it))}});var path$4=path$o;var keys$2=path$4.Object.keys;var parent$a=keys$2;var keys$1=parent$a;var keys=keys$1;var _Object$keys=getDefaultExportFromCjs(keys);var tryToString=tryToString$6;var $TypeError=TypeError;var deletePropertyOrThrow$2=function(O,P){if(!delete O[P])throw new $TypeError("Cannot delete property "+tryToString(P)+" of "+tryToString(O))};var arraySlice$1=arraySliceSimple;var floor=Math.floor;var mergeSort=function(array,comparefn){var length2=array.length;var middle=floor(length2/2);return length2<8?insertionSort(array,comparefn):merge(array,mergeSort(arraySlice$1(array,0,middle),comparefn),mergeSort(arraySlice$1(array,middle),comparefn),comparefn)};var insertionSort=function(array,comparefn){var length2=array.length;var i2=1;var element,j;while(i2<length2){j=i2;element=array[i2];while(j&&comparefn(array[j-1],element)>0){array[j]=array[--j]}if(j!==i2++)array[j]=element}return array};var merge=function(array,left,right,comparefn){var llength=left.length;var rlength=right.length;var lindex=0;var rindex=0;while(lindex<llength||rindex<rlength){array[lindex+rindex]=lindex<llength&&rindex<rlength?comparefn(left[lindex],right[rindex])<=0?left[lindex++]:right[rindex++]:lindex<llength?left[lindex++]:right[rindex++]}return array};var arraySort=mergeSort;var userAgent$1=engineUserAgent;var firefox=userAgent$1.match(/firefox\/(\d+)/i);var engineFfVersion=!!firefox&&+firefox[1];var UA=engineUserAgent;var engineIsIeOrEdge=/MSIE|Trident/.test(UA);var userAgent=engineUserAgent;var webkit=userAgent.match(/AppleWebKit\/(\d+)\./);var engineWebkitVersion=!!webkit&&+webkit[1];var $$4=_export;var uncurryThis=functionUncurryThis;var aCallable=aCallable$e;var toObject$1=toObject$e;var lengthOfArrayLike$1=lengthOfArrayLike$d;var deletePropertyOrThrow$1=deletePropertyOrThrow$2;var toString=toString$7;var fails=fails$u;var internalSort=arraySort;var arrayMethodIsStrict=arrayMethodIsStrict$4;var FF=engineFfVersion;var IE_OR_EDGE=engineIsIeOrEdge;var V8=engineV8Version;var WEBKIT=engineWebkitVersion;var test=[];var nativeSort=uncurryThis(test.sort);var push=uncurryThis(test.push);var FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)});var FAILS_ON_NULL=fails(function(){test.sort(null)});var STRICT_METHOD=arrayMethodIsStrict("sort");var STABLE_SORT=!fails(function(){if(V8)return V8<70;if(FF&&FF>3)return;if(IE_OR_EDGE)return true;if(WEBKIT)return WEBKIT<603;var result="";var code,chr,value,index2;for(code=65;code<76;code++){chr=String.fromCharCode(code);switch(code){case 66:case 69:case 70:case 72:value=3;break;case 68:case 71:value=4;break;default:value=2}for(index2=0;index2<47;index2++){test.push({k:chr+index2,v:value})}}test.sort(function(a,b){return b.v-a.v});for(index2=0;index2<test.length;index2++){chr=test[index2].k.charAt(0);if(result.charAt(result.length-1)!==chr)result+=chr}return result!=="DGBEFHACIJK"});var FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT;var getSortCompare=function(comparefn){return function(x,y){if(y===void 0)return-1;if(x===void 0)return 1;if(comparefn!==void 0)return+comparefn(x,y)||0;return toString(x)>toString(y)?1:-1}};$$4({target:"Array",proto:true,forced:FORCED},{sort:function sort2(comparefn){if(comparefn!==void 0)aCallable(comparefn);var array=toObject$1(this);if(STABLE_SORT)return comparefn===void 0?nativeSort(array):nativeSort(array,comparefn);var items=[];var arrayLength=lengthOfArrayLike$1(array);var itemsLength,index2;for(index2=0;index2<arrayLength;index2++){if(index2 in array)push(items,array[index2])}internalSort(items,getSortCompare(comparefn));itemsLength=lengthOfArrayLike$1(items);index2=0;while(index2<itemsLength)array[index2]=items[index2++];while(index2<arrayLength)deletePropertyOrThrow$1(array,index2++);return array}});var getBuiltInPrototypeMethod$3=getBuiltInPrototypeMethod$g;var sort$3=getBuiltInPrototypeMethod$3("Array","sort");var isPrototypeOf$3=objectIsPrototypeOf;var method$3=sort$3;var ArrayPrototype$3=Array.prototype;var sort$2=function(it){var own=it.sort;return it===ArrayPrototype$3||isPrototypeOf$3(ArrayPrototype$3,it)&&own===ArrayPrototype$3.sort?method$3:own};var parent$9=sort$2;var sort$1=parent$9;var sort=sort$1;var _sortInstanceProperty=getDefaultExportFromCjs(sort);var getBuiltInPrototypeMethod$2=getBuiltInPrototypeMethod$g;var values$3=getBuiltInPrototypeMethod$2("Array","values");var parent$8=values$3;var values$2=parent$8;var classof$1=classof$d;var hasOwn$1=hasOwnProperty_1;var isPrototypeOf$2=objectIsPrototypeOf;var method$2=values$2;var ArrayPrototype$2=Array.prototype;var DOMIterables$1={DOMTokenList:true,NodeList:true};var values$1=function(it){var own=it.values;return it===ArrayPrototype$2||isPrototypeOf$2(ArrayPrototype$2,it)&&own===ArrayPrototype$2.values||hasOwn$1(DOMIterables$1,classof$1(it))?method$2:own};var values=values$1;var _valuesInstanceProperty=getDefaultExportFromCjs(values);var path$3=path$o;var apply$1=functionApply;if(!path$3.JSON)path$3.JSON={stringify:JSON.stringify};var stringify$2=function stringify2(it,replacer,space){return apply$1(path$3.JSON.stringify,null,arguments)};var parent$7=stringify$2;var stringify$1=parent$7;var stringify=stringify$1;var _JSON$stringify=getDefaultExportFromCjs(stringify);var iterator=iterator$4;var _Symbol$iterator=getDefaultExportFromCjs(iterator);var getBuiltInPrototypeMethod$1=getBuiltInPrototypeMethod$g;var entries$3=getBuiltInPrototypeMethod$1("Array","entries");var parent$6=entries$3;var entries$2=parent$6;var classof=classof$d;var hasOwn=hasOwnProperty_1;var isPrototypeOf$1=objectIsPrototypeOf;var method$1=entries$2;var ArrayPrototype$1=Array.prototype;var DOMIterables={DOMTokenList:true,NodeList:true};var entries$1=function(it){var own=it.entries;return it===ArrayPrototype$1||isPrototypeOf$1(ArrayPrototype$1,it)&&own===ArrayPrototype$1.entries||hasOwn(DOMIterables,classof(it))?method$1:own};var entries=entries$1;var _entriesInstanceProperty=getDefaultExportFromCjs(entries);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto);if(!getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return getRandomValues(rnds8)}const byteToHex=[];for(let i2=0;i2<256;++i2){byteToHex.push((i2+256).toString(16).slice(1))}function unsafeStringify(arr,offset=0){return byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]}const randomUUID=typeof crypto!=="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(options,buf,offset){if(native.randomUUID&&true&&!options){return native.randomUUID()}options=options||{};const rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;return unsafeStringify(rnds)}function isId(value){return typeof value==="string"||typeof value==="number"}var engineIsBun=typeof Bun=="function"&&Bun&&typeof Bun.version=="string";var global$3=global$p;var apply=functionApply;var isCallable=isCallable$m;var ENGINE_IS_BUN=engineIsBun;var USER_AGENT=engineUserAgent;var arraySlice=arraySlice$5;var validateArgumentsLength=validateArgumentsLength$2;var Function$1=global$3.Function;var WRAP=/MSIE .\./.test(USER_AGENT)||ENGINE_IS_BUN&&(function(){var version2=global$3.Bun.version.split(".");return version2.length<3||version2[0]==="0"&&(version2[1]<3||version2[1]==="3"&&version2[2]==="0")})();var schedulersFix$2=function(scheduler2,hasTimeArg){var firstParamIndex=hasTimeArg?2:1;return WRAP?function(handler,timeout){var boundArgs=validateArgumentsLength(arguments.length,1)>firstParamIndex;var fn=isCallable(handler)?handler:Function$1(handler);var params=boundArgs?arraySlice(arguments,firstParamIndex):[];var callback=boundArgs?function(){apply(fn,this,params)}:fn;return hasTimeArg?scheduler2(callback,timeout):scheduler2(callback)}:scheduler2};var $$3=_export;var global$2=global$p;var schedulersFix$1=schedulersFix$2;var setInterval2=schedulersFix$1(global$2.setInterval,true);$$3({global:true,bind:true,forced:global$2.setInterval!==setInterval2},{setInterval:setInterval2});var $$2=_export;var global$1=global$p;var schedulersFix=schedulersFix$2;var setTimeout$3=schedulersFix(global$1.setTimeout,true);$$2({global:true,bind:true,forced:global$1.setTimeout!==setTimeout$3},{setTimeout:setTimeout$3});var path$2=path$o;var setTimeout$2=path$2.setTimeout;var setTimeout$1=setTimeout$2;var _setTimeout=getDefaultExportFromCjs(setTimeout$1);var $$1=_export;var toObject=toObject$e;var toAbsoluteIndex=toAbsoluteIndex$4;var toIntegerOrInfinity=toIntegerOrInfinity$4;var lengthOfArrayLike=lengthOfArrayLike$d;var setArrayLength=arraySetLength;var doesNotExceedSafeInteger=doesNotExceedSafeInteger$4;var arraySpeciesCreate=arraySpeciesCreate$4;var createProperty=createProperty$6;var deletePropertyOrThrow=deletePropertyOrThrow$2;var arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5;var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice");var max=Math.max;var min=Math.min;$$1({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT},{splice:function splice2(start,deleteCount){var O=toObject(this);var len=lengthOfArrayLike(O);var actualStart=toAbsoluteIndex(start,len);var argumentsLength=arguments.length;var insertCount,actualDeleteCount,A,k,from2,to;if(argumentsLength===0){insertCount=actualDeleteCount=0}else if(argumentsLength===1){insertCount=0;actualDeleteCount=len-actualStart}else{insertCount=argumentsLength-2;actualDeleteCount=min(max(toIntegerOrInfinity(deleteCount),0),len-actualStart)}doesNotExceedSafeInteger(len+insertCount-actualDeleteCount);A=arraySpeciesCreate(O,actualDeleteCount);for(k=0;k<actualDeleteCount;k++){from2=actualStart+k;if(from2 in O)createProperty(A,k,O[from2])}A.length=actualDeleteCount;if(insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++){from2=k+actualDeleteCount;to=k+insertCount;if(from2 in O)O[to]=O[from2];else deletePropertyOrThrow(O,to)}for(k=len;k>len-actualDeleteCount+insertCount;k--)deletePropertyOrThrow(O,k-1)}else if(insertCount>actualDeleteCount){for(k=len-actualDeleteCount;k>actualStart;k--){from2=k+actualDeleteCount-1;to=k+insertCount-1;if(from2 in O)O[to]=O[from2];else deletePropertyOrThrow(O,to)}}for(k=0;k<insertCount;k++){O[k+actualStart]=arguments[k+2]}setArrayLength(O,len-actualDeleteCount+insertCount);return A}});var getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$g;var splice$3=getBuiltInPrototypeMethod("Array","splice");var isPrototypeOf=objectIsPrototypeOf;var method=splice$3;var ArrayPrototype=Array.prototype;var splice$2=function(it){var own=it.splice;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.splice?method:own};var parent$5=splice$2;var splice$1=parent$5;var splice=splice$1;var _spliceInstanceProperty=getDefaultExportFromCjs(splice);var Queue=(function(){function Queue2(options){_classCallCheck(this,Queue2);_defineProperty(this,"_queue",[]);_defineProperty(this,"_timeout",null);_defineProperty(this,"_extended",null);this.delay=null;this.max=Infinity;this.setOptions(options)}_createClass(Queue2,[{key:"setOptions",value:function setOptions(options){if(options&&typeof options.delay!=="undefined"){this.delay=options.delay}if(options&&typeof options.max!=="undefined"){this.max=options.max}this._flushIfNeeded()}},{key:"destroy",value:(function destroy(){this.flush();if(this._extended){var object=this._extended.object;var methods=this._extended.methods;for(var i2=0;i2<methods.length;i2++){var method2=methods[i2];if(method2.original){object[method2.name]=method2.original}else{delete object[method2.name]}}this._extended=null}})},{key:"replace",value:function replace2(object,method2){var me=this;var original=object[method2];if(!original){throw new Error("Method "+method2+" undefined")}object[method2]=function(){for(var _len=arguments.length,args2=new Array(_len),_key=0;_key<_len;_key++){args2[_key]=arguments[_key]}me.queue({args:args2,fn:original,context:this})}}},{key:"queue",value:function queue2(entry){if(typeof entry==="function"){this._queue.push({fn:entry})}else{this._queue.push(entry)}this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function _flushIfNeeded(){var _this=this;if(this._queue.length>this.max){this.flush()}if(this._timeout!=null){clearTimeout(this._timeout);this._timeout=null}if(this.queue.length>0&&typeof this.delay==="number"){this._timeout=_setTimeout(function(){_this.flush()},this.delay)}}},{key:"flush",value:function flush2(){var _context,_context2;_forEachInstanceProperty(_context=_spliceInstanceProperty(_context2=this._queue).call(_context2,0)).call(_context,function(entry){entry.fn.apply(entry.context||entry.fn,entry.args||[])})}}],[{key:"extend",value:function extend2(object,options){var queue2=new Queue2(options);if(object.flush!==void 0){throw new Error("Target object already has a property flush")}object.flush=function(){queue2.flush()};var methods=[{name:"flush",original:void 0}];if(options&&options.replace){for(var i2=0;i2<options.replace.length;i2++){var name=options.replace[i2];methods.push({name,original:object[name]});queue2.replace(object,name)}}queue2._extended={object,methods};return queue2}}]);return Queue2})();var DataSetPart=(function(){function DataSetPart2(){_classCallCheck(this,DataSetPart2);_defineProperty(this,"_subscribers",{"*":[],add:[],remove:[],update:[]});_defineProperty(this,"subscribe",DataSetPart2.prototype.on);_defineProperty(this,"unsubscribe",DataSetPart2.prototype.off)}_createClass(DataSetPart2,[{key:"_trigger",value:(function _trigger(event,payload,senderId){var _context,_context2;if(event==="*"){throw new Error("Cannot trigger event *")}_forEachInstanceProperty(_context=_concatInstanceProperty(_context2=[]).call(_context2,_toConsumableArray(this._subscribers[event]),_toConsumableArray(this._subscribers["*"]))).call(_context,function(subscriber){subscriber(event,payload,senderId!=null?senderId:null)})})},{key:"on",value:function on(event,callback){if(typeof callback==="function"){this._subscribers[event].push(callback)}}},{key:"off",value:function off(event,callback){var _context3;this._subscribers[event]=_filterInstanceProperty(_context3=this._subscribers[event]).call(_context3,function(subscriber){return subscriber!==callback})}},{key:"testLeakSubscribers",get:(function get2(){return this._subscribers})}]);return DataSetPart2})();function _arrayWithHoles(arr){if(_Array$isArray$1(arr))return arr}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof _Symbol$1&&_getIteratorMethod$1(r)||r["@@iterator"];if(null!=t){var e,n,i2,u,a=[],f=true,o=false;try{if(i2=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=false}else for(;!(f=(e=i2.call(t)).done)&&(_pushInstanceProperty(a).call(a,e.value),a.length!==l);f=true);}catch(r2){o=true,n=r2}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(arr,i2){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i2)||_unsupportedIterableToArray$3(arr,i2)||_nonIterableRest()}var create=create$6;var _Object$create=getDefaultExportFromCjs(create);var collection=collection$2;var collectionStrong=collectionStrong$2;collection("Set",function(init){return function Set2(){return init(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$1=path$o;var set$2=path$1.Set;var parent$4=set$2;var set$1=parent$4;var set=set$1;var _Set=getDefaultExportFromCjs(set);var getIterator$5=getIterator$8;var getIterator_1=getIterator$5;var parent$3=getIterator_1;var getIterator$4=parent$3;var parent$2=getIterator$4;var getIterator$3=parent$2;var parent$1=getIterator$3;var getIterator$2=parent$1;var getIterator$1=getIterator$2;var getIterator=getIterator$1;var _getIterator=getDefaultExportFromCjs(getIterator);function _createForOfIteratorHelper$2(o,allowArrayLike){var it=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it){if(_Array$isArray(o)||(it=_unsupportedIterableToArray$2(o))||allowArrayLike){if(it)o=it;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$2(o,minLen){var _context10;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$2(o,minLen);var n=_sliceInstanceProperty$1(_context10=Object.prototype.toString.call(o)).call(_context10,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(o,minLen)}function _arrayLikeToArray$2(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var DataStream=(function(_Symbol$iterator$12){function DataStream2(pairs){_classCallCheck(this,DataStream2);this._pairs=pairs}_createClass(DataStream2,[{key:_Symbol$iterator$12,value:_regeneratorRuntime.mark(function value(){var _iterator,_step,_step$value,id2,item;return _regeneratorRuntime.wrap(function value$(_context){while(1)switch(_context.prev=_context.next){case 0:_iterator=_createForOfIteratorHelper$2(this._pairs);_context.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context.next=9;break}_step$value=_slicedToArray(_step.value,2),id2=_step$value[0],item=_step$value[1];_context.next=7;return[id2,item];case 7:_context.next=3;break;case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);_iterator.e(_context.t0);case 14:_context.prev=14;_iterator.f();return _context.finish(14);case 17:case"end":return _context.stop()}},value,this,[[1,11,14,17]])})},{key:"entries",value:_regeneratorRuntime.mark(function entries2(){var _iterator2,_step2,_step2$value,id2,item;return _regeneratorRuntime.wrap(function entries$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_iterator2=_createForOfIteratorHelper$2(this._pairs);_context2.prev=1;_iterator2.s();case 3:if((_step2=_iterator2.n()).done){_context2.next=9;break}_step2$value=_slicedToArray(_step2.value,2),id2=_step2$value[0],item=_step2$value[1];_context2.next=7;return[id2,item];case 7:_context2.next=3;break;case 9:_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](1);_iterator2.e(_context2.t0);case 14:_context2.prev=14;_iterator2.f();return _context2.finish(14);case 17:case"end":return _context2.stop()}},entries2,this,[[1,11,14,17]])})},{key:"keys",value:_regeneratorRuntime.mark(function keys2(){var _iterator3,_step3,_step3$value,id2;return _regeneratorRuntime.wrap(function keys$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_iterator3=_createForOfIteratorHelper$2(this._pairs);_context3.prev=1;_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context3.next=9;break}_step3$value=_slicedToArray(_step3.value,1),id2=_step3$value[0];_context3.next=7;return id2;case 7:_context3.next=3;break;case 9:_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3["catch"](1);_iterator3.e(_context3.t0);case 14:_context3.prev=14;_iterator3.f();return _context3.finish(14);case 17:case"end":return _context3.stop()}},keys2,this,[[1,11,14,17]])})},{key:"values",value:_regeneratorRuntime.mark(function values2(){var _iterator4,_step4,_step4$value,item;return _regeneratorRuntime.wrap(function values$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_iterator4=_createForOfIteratorHelper$2(this._pairs);_context4.prev=1;_iterator4.s();case 3:if((_step4=_iterator4.n()).done){_context4.next=9;break}_step4$value=_slicedToArray(_step4.value,2),item=_step4$value[1];_context4.next=7;return item;case 7:_context4.next=3;break;case 9:_context4.next=14;break;case 11:_context4.prev=11;_context4.t0=_context4["catch"](1);_iterator4.e(_context4.t0);case 14:_context4.prev=14;_iterator4.f();return _context4.finish(14);case 17:case"end":return _context4.stop()}},values2,this,[[1,11,14,17]])})},{key:"toIdArray",value:function toIdArray(){var _context5;return _mapInstanceProperty(_context5=_toConsumableArray(this._pairs)).call(_context5,function(pair){return pair[0]})}},{key:"toItemArray",value:function toItemArray(){var _context6;return _mapInstanceProperty(_context6=_toConsumableArray(this._pairs)).call(_context6,function(pair){return pair[1]})}},{key:"toEntryArray",value:function toEntryArray(){return _toConsumableArray(this._pairs)}},{key:"toObjectMap",value:function toObjectMap(){var map2=_Object$create(null);var _iterator5=_createForOfIteratorHelper$2(this._pairs),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),id2=_step5$value[0],item=_step5$value[1];map2[id2]=item}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return map2}},{key:"toMap",value:function toMap(){return new _Map(this._pairs)}},{key:"toIdSet",value:function toIdSet(){return new _Set(this.toIdArray())}},{key:"toItemSet",value:function toItemSet(){return new _Set(this.toItemArray())}},{key:"cache",value:function cache(){return new DataStream2(_toConsumableArray(this._pairs))}},{key:"distinct",value:function distinct(callback){var set2=new _Set;var _iterator6=_createForOfIteratorHelper$2(this._pairs),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _step6$value=_slicedToArray(_step6.value,2),id2=_step6$value[0],item=_step6$value[1];set2.add(callback(item,id2))}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return set2}},{key:"filter",value:function filter2(callback){var pairs=this._pairs;return new DataStream2({[_Symbol$iterator](){return _regeneratorRuntime.mark(function _callee(){var _iterator7,_step7,_step7$value,id2,item;return _regeneratorRuntime.wrap(function _callee$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_iterator7=_createForOfIteratorHelper$2(pairs);_context7.prev=1;_iterator7.s();case 3:if((_step7=_iterator7.n()).done){_context7.next=10;break}_step7$value=_slicedToArray(_step7.value,2),id2=_step7$value[0],item=_step7$value[1];if(!callback(item,id2)){_context7.next=8;break}_context7.next=8;return[id2,item];case 8:_context7.next=3;break;case 10:_context7.next=15;break;case 12:_context7.prev=12;_context7.t0=_context7["catch"](1);_iterator7.e(_context7.t0);case 15:_context7.prev=15;_iterator7.f();return _context7.finish(15);case 18:case"end":return _context7.stop()}},_callee,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function forEach2(callback){var _iterator8=_createForOfIteratorHelper$2(this._pairs),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _step8$value=_slicedToArray(_step8.value,2),id2=_step8$value[0],item=_step8$value[1];callback(item,id2)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}},{key:"map",value:function map2(callback){var pairs=this._pairs;return new DataStream2({[_Symbol$iterator](){return _regeneratorRuntime.mark(function _callee2(){var _iterator9,_step9,_step9$value,id2,item;return _regeneratorRuntime.wrap(function _callee2$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_iterator9=_createForOfIteratorHelper$2(pairs);_context8.prev=1;_iterator9.s();case 3:if((_step9=_iterator9.n()).done){_context8.next=9;break}_step9$value=_slicedToArray(_step9.value,2),id2=_step9$value[0],item=_step9$value[1];_context8.next=7;return[id2,callback(item,id2)];case 7:_context8.next=3;break;case 9:_context8.next=14;break;case 11:_context8.prev=11;_context8.t0=_context8["catch"](1);_iterator9.e(_context8.t0);case 14:_context8.prev=14;_iterator9.f();return _context8.finish(14);case 17:case"end":return _context8.stop()}},_callee2,null,[[1,11,14,17]])})()}})}},{key:"max",value:function max2(callback){var iter=_getIterator(this._pairs);var curr=iter.next();if(curr.done){return null}var maxItem=curr.value[1];var maxValue=callback(curr.value[1],curr.value[0]);while(!(curr=iter.next()).done){var _curr$value=_slicedToArray(curr.value,2),id2=_curr$value[0],item=_curr$value[1];var _value=callback(item,id2);if(_value>maxValue){maxValue=_value;maxItem=item}}return maxItem}},{key:"min",value:function min2(callback){var iter=_getIterator(this._pairs);var curr=iter.next();if(curr.done){return null}var minItem=curr.value[1];var minValue=callback(curr.value[1],curr.value[0]);while(!(curr=iter.next()).done){var _curr$value2=_slicedToArray(curr.value,2),id2=_curr$value2[0],item=_curr$value2[1];var _value2=callback(item,id2);if(_value2<minValue){minValue=_value2;minItem=item}}return minItem}},{key:"reduce",value:function reduce2(callback,accumulator){var _iterator10=_createForOfIteratorHelper$2(this._pairs),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _step10$value=_slicedToArray(_step10.value,2),id2=_step10$value[0],item=_step10$value[1];accumulator=callback(accumulator,item,id2)}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}return accumulator}},{key:"sort",value:function sort2(callback){var _this=this;return new DataStream2({[_Symbol$iterator]:function(){var _context9;return _getIterator(_sortInstanceProperty(_context9=_toConsumableArray(_this._pairs)).call(_context9,function(_ref,_ref2){var _ref3=_slicedToArray(_ref,2),idA=_ref3[0],itemA=_ref3[1];var _ref4=_slicedToArray(_ref2,2),idB=_ref4[0],itemB=_ref4[1];return callback(itemA,itemB,idA,idB)}))}})}}]);return DataStream2})(_Symbol$iterator);function ownKeys$4(e,r){var t=_Object$keys(e);if(_Object$getOwnPropertySymbols){var o=_Object$getOwnPropertySymbols(e);r&&(o=_filterInstanceProperty(o).call(o,function(r2){return _Object$getOwnPropertyDescriptor(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var _context10,_context11;var t=null!=arguments[r]?arguments[r]:{};r%2?_forEachInstanceProperty(_context10=ownKeys$4(Object(t),true)).call(_context10,function(r2){_defineProperty(e,r2,t[r2])}):_Object$getOwnPropertyDescriptors?_Object$defineProperties(e,_Object$getOwnPropertyDescriptors(t)):_forEachInstanceProperty(_context11=ownKeys$4(Object(t))).call(_context11,function(r2){_Object$defineProperty(e,r2,_Object$getOwnPropertyDescriptor(t,r2))})}return e}function _createForOfIteratorHelper$1(o,allowArrayLike){var it=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it){if(_Array$isArray(o)||(it=_unsupportedIterableToArray$1(o))||allowArrayLike){if(it)o=it;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray$1(o,minLen){var _context9;if(!o)return;if(typeof o==="string")return _arrayLikeToArray$1(o,minLen);var n=_sliceInstanceProperty$1(_context9=Object.prototype.toString.call(o)).call(_context9,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(o,minLen)}function _arrayLikeToArray$1(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _createSuper$1(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct$1();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct$1(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}function ensureFullItem(item,idProp){if(item[idProp]==null){item[idProp]=v4()}return item}var DataSet=(function(_DataSetPart){_inherits(DataSet2,_DataSetPart);var _super=_createSuper$1(DataSet2);function DataSet2(data2,options){var _this;_classCallCheck(this,DataSet2);_this=_super.call(this);_defineProperty(_assertThisInitialized(_this),"_queue",null);if(data2&&!_Array$isArray(data2)){options=data2;data2=[]}_this._options=options||{};_this._data=new _Map;_this.length=0;_this._idProp=_this._options.fieldId||"id";if(data2&&data2.length){_this.add(data2)}_this.setOptions(options);return _this}_createClass(DataSet2,[{key:"idProp",get:(function get2(){return this._idProp})},{key:"setOptions",value:function setOptions(options){if(options&&options.queue!==void 0){if(options.queue===false){if(this._queue){this._queue.destroy();this._queue=null}}else{if(!this._queue){this._queue=Queue.extend(this,{replace:["add","update","remove"]})}if(options.queue&&typeof options.queue==="object"){this._queue.setOptions(options.queue)}}}}},{key:"add",value:function add(data2,senderId){var _this2=this;var addedIds=[];var id2;if(_Array$isArray(data2)){var idsToAdd=_mapInstanceProperty(data2).call(data2,function(d){return d[_this2._idProp]});if(_someInstanceProperty(idsToAdd).call(idsToAdd,function(id3){return _this2._data.has(id3)})){throw new Error("A duplicate id was found in the parameter array.")}for(var i2=0,len=data2.length;i2<len;i2++){id2=this._addItem(data2[i2]);addedIds.push(id2)}}else if(data2&&typeof data2==="object"){id2=this._addItem(data2);addedIds.push(id2)}else{throw new Error("Unknown dataType")}if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}return addedIds}},{key:"update",value:function update(data2,senderId){var _this3=this;var addedIds=[];var updatedIds=[];var oldData=[];var updatedData=[];var idProp=this._idProp;var addOrUpdate=function addOrUpdate2(item){var origId=item[idProp];if(origId!=null&&_this3._data.has(origId)){var fullItem=item;var oldItem=_Object$assign({},_this3._data.get(origId));var id2=_this3._updateItem(fullItem);updatedIds.push(id2);updatedData.push(fullItem);oldData.push(oldItem)}else{var _id=_this3._addItem(item);addedIds.push(_id)}};if(_Array$isArray(data2)){for(var i2=0,len=data2.length;i2<len;i2++){if(data2[i2]&&typeof data2[i2]==="object"){addOrUpdate(data2[i2])}else{console.warn("Ignoring input item, which is not an object at index "+i2)}}}else if(data2&&typeof data2==="object"){addOrUpdate(data2)}else{throw new Error("Unknown dataType")}if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}if(updatedIds.length){var props={items:updatedIds,oldData,data:updatedData};this._trigger("update",props,senderId)}return _concatInstanceProperty(addedIds).call(addedIds,updatedIds)}},{key:"updateOnly",value:function updateOnly(data2,senderId){var _context,_this4=this;if(!_Array$isArray(data2)){data2=[data2]}var updateEventData=_mapInstanceProperty(_context=_mapInstanceProperty(data2).call(data2,function(update){var oldData=_this4._data.get(update[_this4._idProp]);if(oldData==null){throw new Error("Updating non-existent items is not allowed.")}return{oldData,update}})).call(_context,function(_ref){var oldData=_ref.oldData,update=_ref.update;var id2=oldData[_this4._idProp];var updatedData=pureDeepObjectAssign(oldData,update);_this4._data.set(id2,updatedData);return{id:id2,oldData,updatedData}});if(updateEventData.length){var props={items:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.id}),oldData:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.oldData}),data:_mapInstanceProperty(updateEventData).call(updateEventData,function(value){return value.updatedData})};this._trigger("update",props,senderId);return props.items}else{return[]}}},{key:"get",value:function get2(first,second){var id2=void 0;var ids=void 0;var options=void 0;if(isId(first)){id2=first;options=second}else if(_Array$isArray(first)){ids=first;options=second}else{options=first}var returnType=options&&options.returnType==="Object"?"Object":"Array";var filter2=options&&_filterInstanceProperty(options);var items=[];var item=void 0;var itemIds=void 0;var itemId=void 0;if(id2!=null){item=this._data.get(id2);if(item&&filter2&&!filter2(item)){item=void 0}}else if(ids!=null){for(var i2=0,len=ids.length;i2<len;i2++){item=this._data.get(ids[i2]);if(item!=null&&(!filter2||filter2(item))){items.push(item)}}}else{var _context2;itemIds=_toConsumableArray(_keysInstanceProperty(_context2=this._data).call(_context2));for(var _i=0,_len=itemIds.length;_i<_len;_i++){itemId=itemIds[_i];item=this._data.get(itemId);if(item!=null&&(!filter2||filter2(item))){items.push(item)}}}if(options&&options.order&&id2==void 0){this._sort(items,options.order)}if(options&&options.fields){var fields=options.fields;if(id2!=void 0&&item!=null){item=this._filterFields(item,fields)}else{for(var _i2=0,_len2=items.length;_i2<_len2;_i2++){items[_i2]=this._filterFields(items[_i2],fields)}}}if(returnType=="Object"){var result={};for(var _i3=0,_len3=items.length;_i3<_len3;_i3++){var resultant=items[_i3];var _id2=resultant[this._idProp];result[_id2]=resultant}return result}else{if(id2!=null){var _item;return(_item=item)!==null&&_item!==void 0?_item:null}else{return items}}}},{key:"getIds",value:function getIds(options){var data2=this._data;var filter2=options&&_filterInstanceProperty(options);var order=options&&options.order;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));var ids=[];if(filter2){if(order){var items=[];for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=this._data.get(id2);if(item!=null&&filter2(item)){items.push(item)}}this._sort(items,order);for(var _i4=0,_len4=items.length;_i4<_len4;_i4++){ids.push(items[_i4][this._idProp])}}else{for(var _i5=0,_len5=itemIds.length;_i5<_len5;_i5++){var _id3=itemIds[_i5];var _item2=this._data.get(_id3);if(_item2!=null&&filter2(_item2)){ids.push(_item2[this._idProp])}}}}else{if(order){var _items=[];for(var _i6=0,_len6=itemIds.length;_i6<_len6;_i6++){var _id4=itemIds[_i6];_items.push(data2.get(_id4))}this._sort(_items,order);for(var _i7=0,_len7=_items.length;_i7<_len7;_i7++){ids.push(_items[_i7][this._idProp])}}else{for(var _i8=0,_len8=itemIds.length;_i8<_len8;_i8++){var _id5=itemIds[_i8];var _item3=data2.get(_id5);if(_item3!=null){ids.push(_item3[this._idProp])}}}}return ids}},{key:"getDataSet",value:function getDataSet(){return this}},{key:"forEach",value:function forEach2(callback,options){var filter2=options&&_filterInstanceProperty(options);var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));if(options&&options.order){var items=this.get(options);for(var i2=0,len=items.length;i2<len;i2++){var item=items[i2];var id2=item[this._idProp];callback(item,id2)}}else{for(var _i9=0,_len9=itemIds.length;_i9<_len9;_i9++){var _id6=itemIds[_i9];var _item4=this._data.get(_id6);if(_item4!=null&&(!filter2||filter2(_item4))){callback(_item4,_id6)}}}}},{key:"map",value:function map2(callback,options){var filter2=options&&_filterInstanceProperty(options);var mappedItems=[];var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=this._data.get(id2);if(item!=null&&(!filter2||filter2(item))){mappedItems.push(callback(item,id2))}}if(options&&options.order){this._sort(mappedItems,options.order)}return mappedItems}},{key:"_filterFields",value:function _filterFields(item,fields){var _context3;if(!item){return item}return _reduceInstanceProperty(_context3=_Array$isArray(fields)?fields:_Object$keys(fields)).call(_context3,function(filteredItem,field){filteredItem[field]=item[field];return filteredItem},{})}},{key:"_sort",value:function _sort(items,order){if(typeof order==="string"){var name=order;_sortInstanceProperty(items).call(items,function(a,b){var av=a[name];var bv=b[name];return av>bv?1:av<bv?-1:0})}else if(typeof order==="function"){_sortInstanceProperty(items).call(items,order)}else{throw new TypeError("Order must be a function or a string")}}},{key:"remove",value:function remove(id2,senderId){var removedIds=[];var removedItems=[];var ids=_Array$isArray(id2)?id2:[id2];for(var i2=0,len=ids.length;i2<len;i2++){var item=this._remove(ids[i2]);if(item){var itemId=item[this._idProp];if(itemId!=null){removedIds.push(itemId);removedItems.push(item)}}}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems},senderId)}return removedIds}},{key:"_remove",value:function _remove(id2){var ident;if(isId(id2)){ident=id2}else if(id2&&typeof id2==="object"){ident=id2[this._idProp]}if(ident!=null&&this._data.has(ident)){var item=this._data.get(ident)||null;this._data.delete(ident);--this.length;return item}return null}},{key:"clear",value:function clear2(senderId){var _context4;var ids=_toConsumableArray(_keysInstanceProperty(_context4=this._data).call(_context4));var items=[];for(var i2=0,len=ids.length;i2<len;i2++){items.push(this._data.get(ids[i2]))}this._data.clear();this.length=0;this._trigger("remove",{items:ids,oldData:items},senderId);return ids}},{key:"max",value:function max2(field){var _context5;var max3=null;var maxField=null;var _iterator=_createForOfIteratorHelper$1(_valuesInstanceProperty(_context5=this._data).call(_context5)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;var itemField=item[field];if(typeof itemField==="number"&&(maxField==null||itemField>maxField)){max3=item;maxField=itemField}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return max3||null}},{key:"min",value:function min2(field){var _context6;var min3=null;var minField=null;var _iterator2=_createForOfIteratorHelper$1(_valuesInstanceProperty(_context6=this._data).call(_context6)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var item=_step2.value;var itemField=item[field];if(typeof itemField==="number"&&(minField==null||itemField<minField)){min3=item;minField=itemField}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return min3||null}},{key:"distinct",value:function distinct(prop){var data2=this._data;var itemIds=_toConsumableArray(_keysInstanceProperty(data2).call(data2));var values2=[];var count=0;for(var i2=0,len=itemIds.length;i2<len;i2++){var id2=itemIds[i2];var item=data2.get(id2);var value=item[prop];var exists=false;for(var j=0;j<count;j++){if(values2[j]==value){exists=true;break}}if(!exists&&value!==void 0){values2[count]=value;count++}}return values2}},{key:"_addItem",value:function _addItem(item){var fullItem=ensureFullItem(item,this._idProp);var id2=fullItem[this._idProp];if(this._data.has(id2)){throw new Error("Cannot add item: item with id "+id2+" already exists")}this._data.set(id2,fullItem);++this.length;return id2}},{key:"_updateItem",value:function _updateItem(update){var id2=update[this._idProp];if(id2==null){throw new Error("Cannot update item: item has no id (item: "+_JSON$stringify(update)+")")}var item=this._data.get(id2);if(!item){throw new Error("Cannot update item: no item with id "+id2+" found")}this._data.set(id2,_objectSpread(_objectSpread({},item),update));return id2}},{key:"stream",value:function stream(ids){if(ids){var data2=this._data;return new DataStream({[_Symbol$iterator](){return _regeneratorRuntime.mark(function _callee(){var _iterator3,_step3,id2,item;return _regeneratorRuntime.wrap(function _callee$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_iterator3=_createForOfIteratorHelper$1(ids);_context7.prev=1;_iterator3.s();case 3:if((_step3=_iterator3.n()).done){_context7.next=11;break}id2=_step3.value;item=data2.get(id2);if(!(item!=null)){_context7.next=9;break}_context7.next=9;return[id2,item];case 9:_context7.next=3;break;case 11:_context7.next=16;break;case 13:_context7.prev=13;_context7.t0=_context7["catch"](1);_iterator3.e(_context7.t0);case 16:_context7.prev=16;_iterator3.f();return _context7.finish(16);case 19:case"end":return _context7.stop()}},_callee,null,[[1,13,16,19]])})()}})}else{var _context8;return new DataStream({[_Symbol$iterator]:_bindInstanceProperty$1(_context8=_entriesInstanceProperty(this._data)).call(_context8,this._data)})}}},{key:"testLeakData",get:function get2(){return this._data}},{key:"testLeakIdProp",get:function get2(){return this._idProp}},{key:"testLeakOptions",get:function get2(){return this._options}},{key:"testLeakQueue",get:function get2(){return this._queue},set:function set2(v){this._queue=v}}]);return DataSet2})(DataSetPart);var $=_export;var ownKeys$3=ownKeys$7;$({target:"Reflect",stat:true},{ownKeys:ownKeys$3});var path=path$o;var ownKeys$2=path.Reflect.ownKeys;var parent=ownKeys$2;var ownKeys$1=parent;var ownKeys=ownKeys$1;var _Reflect$ownKeys=getDefaultExportFromCjs(ownKeys);function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof _Symbol!=="undefined"&&_getIteratorMethod(o)||o["@@iterator"];if(!it){if(_Array$isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike){if(it)o=it;var i2=0;var F=function F2(){};return{s:F,n:function n(){if(i2>=o.length)return{done:true};return{done:false,value:o[i2++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){var _context5;if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=_sliceInstanceProperty$1(_context5=Object.prototype.toString.call(o)).call(_context5,8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return _Array$from$1(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=_Reflect$construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!_Reflect$construct)return false;if(_Reflect$construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){}));return true}catch(e){return false}}var DataView=(function(_DataSetPart){_inherits(DataView2,_DataSetPart);var _super=_createSuper(DataView2);function DataView2(data2,options){var _context;var _this;_classCallCheck(this,DataView2);_this=_super.call(this);_defineProperty(_assertThisInitialized(_this),"length",0);_defineProperty(_assertThisInitialized(_this),"_ids",new _Set);_this._options=options||{};_this._listener=_bindInstanceProperty$1(_context=_this._onEvent).call(_context,_assertThisInitialized(_this));_this.setData(data2);return _this}_createClass(DataView2,[{key:"idProp",get:(function get2(){return this.getDataSet().idProp})},{key:"setData",value:function setData(data2){if(this._data){if(this._data.off){this._data.off("*",this._listener)}var ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});var items=this._data.get(ids);this._ids.clear();this.length=0;this._trigger("remove",{items:ids,oldData:items})}if(data2!=null){this._data=data2;var _ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});for(var i2=0,len=_ids.length;i2<len;i2++){var id2=_ids[i2];this._ids.add(id2)}this.length=_ids.length;this._trigger("add",{items:_ids})}else{this._data=new DataSet}if(this._data.on){this._data.on("*",this._listener)}}},{key:"refresh",value:function refresh(){var ids=this._data.getIds({filter:_filterInstanceProperty(this._options)});var oldIds=_toConsumableArray(this._ids);var newIds={};var addedIds=[];var removedIds=[];var removedItems=[];for(var i2=0,len=ids.length;i2<len;i2++){var id2=ids[i2];newIds[id2]=true;if(!this._ids.has(id2)){addedIds.push(id2);this._ids.add(id2)}}for(var _i=0,_len=oldIds.length;_i<_len;_i++){var _id=oldIds[_i];var item=this._data.get(_id);if(item==null){console.error("If you see this, report it please.")}else if(!newIds[_id]){removedIds.push(_id);removedItems.push(item);this._ids.delete(_id)}}this.length+=addedIds.length-removedIds.length;if(addedIds.length){this._trigger("add",{items:addedIds})}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems})}}},{key:"get",value:function get2(first,second){if(this._data==null){return null}var ids=null;var options;if(isId(first)||_Array$isArray(first)){ids=first;options=second}else{options=first}var viewOptions=_Object$assign({},this._options,options);var thisFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);if(thisFilter&&optionsFilter){viewOptions.filter=function(item){return thisFilter(item)&&optionsFilter(item)}}if(ids==null){return this._data.get(viewOptions)}else{return this._data.get(ids,viewOptions)}}},{key:"getIds",value:function getIds(options){if(this._data.length){var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options!=null?_filterInstanceProperty(options):null;var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}return this._data.getIds({filter:filter2,order:options&&options.order})}else{return[]}}},{key:"forEach",value:function forEach2(callback,options){if(this._data){var _context2;var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}_forEachInstanceProperty(_context2=this._data).call(_context2,callback,{filter:filter2,order:options&&options.order})}}},{key:"map",value:function map2(callback,options){if(this._data){var _context3;var defaultFilter=_filterInstanceProperty(this._options);var optionsFilter=options&&_filterInstanceProperty(options);var filter2;if(optionsFilter){if(defaultFilter){filter2=function filter3(item){return defaultFilter(item)&&optionsFilter(item)}}else{filter2=optionsFilter}}else{filter2=defaultFilter}return _mapInstanceProperty(_context3=this._data).call(_context3,callback,{filter:filter2,order:options&&options.order})}else{return[]}}},{key:"getDataSet",value:function getDataSet(){return this._data.getDataSet()}},{key:"stream",value:function stream(ids){var _context4;return this._data.stream(ids||{[_Symbol$iterator]:_bindInstanceProperty$1(_context4=_keysInstanceProperty(this._ids)).call(_context4,this._ids)})}},{key:"dispose",value:function dispose(){var _this$_data;if((_this$_data=this._data)!==null&&_this$_data!==void 0&&_this$_data.off){this._data.off("*",this._listener)}var message="This data view has already been disposed of.";var replacement2={get:function get2(){throw new Error(message)},set:function set2(){throw new Error(message)},configurable:false};var _iterator=_createForOfIteratorHelper(_Reflect$ownKeys(DataView2.prototype)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var key=_step.value;_Object$defineProperty(this,key,replacement2)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"_onEvent",value:function _onEvent(event,params,senderId){if(!params||!params.items||!this._data){return}var ids=params.items;var addedIds=[];var updatedIds=[];var removedIds=[];var oldItems=[];var updatedItems=[];var removedItems=[];switch(event){case"add":for(var i2=0,len=ids.length;i2<len;i2++){var id2=ids[i2];var item=this.get(id2);if(item){this._ids.add(id2);addedIds.push(id2)}}break;case"update":for(var _i2=0,_len2=ids.length;_i2<_len2;_i2++){var _id2=ids[_i2];var _item=this.get(_id2);if(_item){if(this._ids.has(_id2)){updatedIds.push(_id2);updatedItems.push(params.data[_i2]);oldItems.push(params.oldData[_i2])}else{this._ids.add(_id2);addedIds.push(_id2)}}else{if(this._ids.has(_id2)){this._ids.delete(_id2);removedIds.push(_id2);removedItems.push(params.oldData[_i2])}}}break;case"remove":for(var _i3=0,_len3=ids.length;_i3<_len3;_i3++){var _id3=ids[_i3];if(this._ids.has(_id3)){this._ids.delete(_id3);removedIds.push(_id3);removedItems.push(params.oldData[_i3])}}break}this.length+=addedIds.length-removedIds.length;if(addedIds.length){this._trigger("add",{items:addedIds},senderId)}if(updatedIds.length){this._trigger("update",{items:updatedIds,oldData:oldItems,data:updatedItems},senderId)}if(removedIds.length){this._trigger("remove",{items:removedIds,oldData:removedItems},senderId)}}}]);return DataView2})(DataSetPart);function isDataSetLike(idProp,v){return typeof v==="object"&&v!==null&&idProp===v.idProp&&typeof v.add==="function"&&typeof v.clear==="function"&&typeof v.distinct==="function"&&typeof _forEachInstanceProperty(v)==="function"&&typeof v.get==="function"&&typeof v.getDataSet==="function"&&typeof v.getIds==="function"&&typeof v.length==="number"&&typeof _mapInstanceProperty(v)==="function"&&typeof v.max==="function"&&typeof v.min==="function"&&typeof v.off==="function"&&typeof v.on==="function"&&typeof v.remove==="function"&&typeof v.setOptions==="function"&&typeof v.stream==="function"&&typeof v.update==="function"&&typeof v.updateOnly==="function"}function isDataViewLike(idProp,v){return typeof v==="object"&&v!==null&&idProp===v.idProp&&typeof _forEachInstanceProperty(v)==="function"&&typeof v.get==="function"&&typeof v.getDataSet==="function"&&typeof v.getIds==="function"&&typeof v.length==="number"&&typeof _mapInstanceProperty(v)==="function"&&typeof v.off==="function"&&typeof v.on==="function"&&typeof v.stream==="function"&&isDataSetLike(idProp,v.getDataSet())}console.warn("You're running a development build.");var index={DataSet,DataView,Queue};exports2.DELETE=DELETE;exports2.DataSet=DataSet;exports2.DataStream=DataStream;exports2.DataView=DataView;exports2.Queue=Queue;exports2.createNewDataPipeFrom=createNewDataPipeFrom;exports2.default=index;exports2.isDataSetLike=isDataSetLike;exports2.isDataViewLike=isDataViewLike;Object.defineProperty(exports2,"__esModule",{value:true})}))})(umd$1,umd$1.exports);return umd$1.exports}var umdExports=requireUmd();var __async$1=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function initTheNetwork(args2){return __async$1(this,null,function*(){var _a;const options=(_a=args2.cleanedConfig)!=null?_a:{autoResize:true,height:"100%",width:"100%"};sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_edges2=new umdExports.DataSet;sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_nodes2=new umdExports.DataSet;if(args2.defaultData){yield sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_edges2.add(args2.defaultData.edges);yield sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_nodes2.add(args2.defaultData.nodes)}else{yield sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_edges2.add([{id:0,from:1,to:3}]);yield sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_nodes2.add([{id:1,label:"welcome",shape:"dot",icon:{face:"MaterialCommunityIcons",size:void 0,weight:void 0,code:String.fromCodePoint(983497)}},{id:3,label:"back :)"}])}sharedVars_sharedBetweenWebAndWebview.visNet=new visNetworkExports.Network(sharedVars_sharedBetweenWebAndWebview.visContainer.current,{edges:sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_edges2,nodes:sharedVars_sharedBetweenWebAndWebview.mems_visNetworkGraph_nodes2},options);if(window==null?void 0:window.Cypress){window["visNet"]=sharedVars_sharedBetweenWebAndWebview.visNet}})}var __async=(__this,__arguments,generator)=>{return new Promise((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}};var rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}};var step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())})};function defineBridgeAndEventHandler(){window["NativeBridge"]={postMessage:function(message){try{if(window["ReactNativeWebView"]&&window["ReactNativeWebView"].postMessage){window["ReactNativeWebView"].postMessage(message);return}}catch(e){console.log("ReactNativeWebView failed:",e)}}};window.addEventListener("native-message",function(event){return __async(this,null,function*(){const msg=event["detail"];if(msg==='"ping"'){window["NativeBridge"].postMessage("pong")}else{handleMessage_fromRn(JSON.parse(msg))}})})}defineBridgeAndEventHandler();function VisCOntainer(){sharedVars_sharedBetweenWebAndWebview.visContainer=reactExports.useRef(null);reactExports.useEffect(()=>{initTheNetwork({}).then(e=>__async(null,null,function*(){yield configVisEventsWebview();yield postMessageAndWait_toRn({action:"onWwIsFullyReadyAndYouCanStartTheRnInit",params:null})}))},[sharedVars_sharedBetweenWebAndWebview.visContainer.current]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{ref:sharedVars_sharedBetweenWebAndWebview.visContainer,style:{position:"fixed",left:0,top:0,right:0,bottom:0,width:"100%",height:"100%",background:" rgba(0, 0, 0, 0.7)",fontFamily:"MaterialCommunityIcons"}})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",position:"fixed",left:0,top:0},children:jsxRuntimeExports.jsx(VisCOntainer,{})}));
